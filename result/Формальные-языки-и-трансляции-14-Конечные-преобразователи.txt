Всем доброго дня! Мы снова вернулись, и сегодня у нас будет интересная тема.
Только мне надо сделать fullscreen. Наша тема сегодняшняя – это конечные преобразователи.
Это последний официальный блок, который мы с вами должны будем закрыть.
Давайте познакомимся с тем, какие конструкции у нас до этого были в нашем курсе.
Связанные не с регулярными выражениями и не с свободными громадчиками.
Какие конструкции мы с вами проходили, которые что-то распознавали?
Конечный автомат 1 и 2.
МП-автоматы. Давайте попробуем задаться таким интересным вопросом.
Мы умеем с вами распознавать слова, но можем ли мы их как-то трансформировать?
Получить на вход какое-то слово и получить на выходе какое-то измененное слово.
Давайте нарисуем такую табличку. Те, кто был на моем семинаре, ее уже видел.
Мы с вами сделаем следующие четыре столбца. Первый столбец – это тип.
Второе, что эта табличка получает на вход.
Третье, какую дополнительную структуру мы храним для того, чтобы обрабатывать наши слова.
И четвертый столбец – это выход. Что же мы на выход пишем?
Давайте поймем, что у нас с вами будет для конечного автомата.
Что оно на вход принимает конечный автомат?
Конечно, слово. Структура какая-нибудь есть дополнительная?
Нету. А на выход что она выдает?
Да или нет?
Вот такая у нас структура получается.
Дальше. МП-автомат. Что она на вход принимает?
Слово. Структура какая дополнительная?
Стэк. На выход что выдает?
Так, угадайте следующий строку.
Да, преобразователь. Давайте подумаем, что оно на вход будет принимать?
Слово.
Так, будет ли какая-нибудь дополнительная структура или нет?
Нет, мы не будем давать никакую дополнительную структуру.
Давайте сначала с простым объектом разберемся.
А на выход что будем выдавать?
Слово.
Смотрите, сразу скажу, что конечный преобразователь мы будем сокращать как каптель.
Я понимаю, что вы можете начать рофлить, но для того, чтобы сокращать наши записи,
не писать нигде конечного преобразователя.
И давайте мы как раз попробуем дать определение конечного преобразователя.
Опять же, давайте я параллельно буду писать на доске.
Один раз я напишу, что это такое.
Значит, смотрите, что это такое.
Это у нас кортеж из множества состояний.
Вот это у нас входной алфавит.
Это у нас выходной алфавит.
Множество переходов.
Q0.
И множество завершающих состояний.
Значит, давайте я вот здесь выпишу только то, что изменяется в нашем определении
по сравнению с классическим автоматом.
На слайде будет полное определение.
Значит, у нас появляется гамма.
Гамма – это у нас будет называться выходной алфавит.
И у нас изменится множество дельта.
Это множество будет куна сигма со звездой,
дикартово перемноженные на куна гамма со звездой.
То есть вот это то, что мы читаем со входа,
а вот это то, что мы пишем на выход.
Это переходы.
В остальном у нас определение с вами не меняется.
Множество состояний у нас конечное.
Входной алфавит конечный, выходной алфавит конечный.
Множество переходов конечное или бесконечное, как вы думаете?
Конечно же конечное.
Ку-ноль – это стартовое состояние.
Ку-ноль лежит в множестве ку-большое.
И множество завершающих состояний – это множество f множество q.
Поэтому у определения есть вопрос?
Или нормально?
Все, переходы будем писать таким образом.
Q1u переходит в Q2v.
А писать переходы будем рисовать следующим образом.
Их можно двумя разными способами обозначать.
Вот это у нас путь в состояние Q1.
Вот это у нас путь в состоянии Q2.
Вот это у нас путь в состоянии Q3.
Вот это у нас путь в состоянии Q4.
Вот это у нас состояние Q2.
Мы на входе читаем слово u, на выход пишем слово v.
Возможно, сразу скажу, что может быть альтернативная определение,
альтернативная запись, чтобы вход и выход различать.
То есть на входе мы пишем слово u, на выход пишем слово v.
Можно пользоваться одним из двух обозначений.
Вот, это просто картинка.
Ну, вот замечательный пример конечного преобразователя.
Давайте подумаем. Есть идея, что он делает со словами?
Видно то, что на слайде?
Да, давайте попробуем. А где свет вырубается?
Так пойдет?
Да, преобразователь удаляет последнюю букву a, если у нас буква a.
Последнюю букву a, если у нас слово заканчивается на a.
А как мы это поняли? Давайте подумаем.
В общем, надо посмотреть на пути от стартового в состоянии до завершающего,
посмотреть, что мы написали на входе,
посмотреть, что мы записали на выходе.
И тогда мы с вами получим ответ.
Вот вопрос. А как мы с вами это понимаем?
Как это формально-математически записать?
Поскольку мы с вами уже прошли целый курс,
наверное, мы с вами можем догадаться, как это записать.
Отношение задать. Нам нужно задать отношение в вводимости
и задать, что же такое конфигурация.
Я возьму сухую тряпку, чтобы было видно на доске.
Значит, смотрите. Давайте мы зададим конфигурация.
Где у нас q, а v принадлежит множеству гамма со звездой?
Значит, смысл физический. Мы находимся в состоянии.
Тут важно, что осталось прочесть.
Вот здесь.
Тут важно, что осталось прочесть.
А здесь важно, что мы уже записали.
Вот так вот зададим наш конфигурация.
Кстати, вопрос. По этой части доски лучше видно,
что написано, чем по верхней половине?
Все, давайте я тогда сделаю некоторый припроцессинг доски нашей.
Давайте теперь попытаемся задать отношение в вводимости
в нашем конечном преобразователе.
Скажите, пожалуйста, это должно быть отношение над чем?
А?
Над конфигурациями, конечно же.
Какие свойства оно должно выполнять?
Да, да, да, наименьшее. Дальше чего?
РТ, да, рефлексивные и транзитивные.
Такое что?
А теперь я запишу следующее.
Преднадлежащим дельтам
до любого входного слова
у нас дельта, ой, конфигурация Q1.
Значит, смотрите, вот это слово у нас остается прочитанным из входа,
поэтому U на V in.
Здесь у нас слово V out.
Будет выдавать, выводить следующую конфигурацию.
Q2, значит, слово U мы съедаем,
по переходу, а справа мы пишем на выход слово V.
Ага, то есть пишем справа, потому что мы пишем слева направо,
а букву мы считываем слева частью.
Понятно, что если бы мы с вами жили, допустим, в арабской стране,
у нас определение бы немножко поменялось.
Понятная причина, потому что там пишут справа налево, а не слева направо.
А теперь вопрос.
Дальше мы с вами всегда определяли выводимость слова в языке.
Здесь мы с вами будем определять немножко другой объект.
И этот объект называется конечным преобразованием.
И вот как раз с объектами типа конечного преобразования,
с теоретической точки зрения,
они и будут интересовать вот эти именно объекты.
Давайте назовем,
вот эти объекты,
вот эти объекты,
вот эти объекты,
вот эти объекты,
вот эти именно объекты.
Давайте назовем конечным преобразованием,
которое задается некоторым конечным преобразователем N.
Следующего по факту соответствия
из получается сигма со звездой в гаммы со звездой.
То есть мы можем представить себе,
что это некоторая функция,
точнее не функция,
некоторое соответствие, важно, что это соответствие
из сигмы со звездой в гаммы со звездой.
Как оно будет определяться?
Это у нас будет множество пар УВ,
таких, что существует такое завершающее состояние, такое, что...
Давайте подумаем,
вставим пропущенные места.
Так, смотрите, стартовое состояние.
На входе что у нас?
Да, на входе У.
Эпсилон.
У нас существует у завершающих.
Вот такое вот определение.
Понятно, почему это не обязательно отображение.
Да, ну мы просто можем там,
грубо говоря,
взять, не знаю,
сделать следующее.
А на выход В написать,
и здесь А на выход другое.
Другую букву С написать.
Получается уже неоднозначный выход.
Либо можем вообще какое-то слово не прочитать,
точнее,
для какого-то входа не дойти до завершающего состояния,
но, собственно, не распознать это слово.
Вот это еще раз.
Вот этот вот слайд.
Пока вопросов это...
Нормально идем?
Все, давайте дальше.
Опять же, у нас есть конечное преобразование,
можно поставить соответствие.
Понятно, что если для любого слова
у нас размер образа равен 1,
то эта штука является отображением.
Ну и опять же, тут есть
некоторый пример выводимости.
Как, допустим, прочитать слово АБА?
Ну, собственно, мы идем
из Q0 в Q1.
Да, ничего не делаем.
Потом, значит, считываем букву А
на выход, пишем букву А.
Дальше считываем букву B.
Да, пишем на выход букву B.
Переходим в состояние Q3.
Считываем букву А на выход, пишем эксилон.
Получаем вот такой вот...
Вот такой вот результат.
Ну, соответственно, у нас
по входу АБА получается выход АБ.
И можно сказать, что АБ
принадлежит множеству фи от АБА.
Теперь будет несколько примеров
того, какие конечные преобразования
можно задавать.
Identity как задать?
Да, да, да, да.
Да, да, да, да.
Угу.
Да.
Вот, мы букву Х
и имеем на букву Х.
На входе одно слово, на выходе
будет то же самое.
Хорошо.
Второе.
Второй пример.
Это у нас
ψ.
Некоторое R регулярное.
Угу.
Да.
Угу.
Так, ну, берем наш автомат
M
и на каждом ребре
по любой букве пишем на выход Эпсила.
Угу.
Так.
Вопрос.
А теперь вопрос. На сколько хорошо вы знаете курс ТП?
И знания Баша.
Как это можно задать?
Так.
Поехали. Cut File.
Дальше что?
Как вот вход сделать?
Так, чтобы вход у нас был регулярный.
С гриппом знакомы?
Да.
Да?
А?
Греб?
Да.
Он фильтрует именно по регулярному выражению внезапно.
Да.
Так.
И куда это все перенаправить надо?
Вдевнул.
Вдевнул, конечно же.
Нет.
Катдевнул нельзя сделать.
Ну, типа вот это вот
это у нас input нашего.
Как бы Cut File
Греб вот эта штука, это наш вход.
А это выход.
Если мы сделали просто
Cut File вдевнул,
то это было бы немножечко другое.
Нет, вот если бы
брать вот это и вот это,
это будет у нас
у Эпсилон, где у принадлежит
Сигма со звездой.
Вот, поэтому нам нужно фильтровать
это все на регулярные выражения.
Ага.
А?
Ну, да.
Ага.
Ага.
Ага.
Ага.
Ну, да.
Да, просто у нас
в стд ауте ничего не появится.
То есть это такой
поглощающий файловый дискриптер,
в который все пишут, а он ничего
не выдает. Черная дыра
такая.
Так.
Собственно, да.
Аналогично строится альтернативный
пример.
То есть на входе пустое слово,
а оно порождает регулярку.
Надо просто
сделать обратную
конструкцию.
Вот, это обратная
конструкция.
Конкатонация.
Как
кондонация делать?
А?
Ну, входов
и выходов.
Да.
Да.
Ну, да.
Ну, да.
Традиционная картинка.
Эпсилон-эпсилон-переход.
И второй конечный преобразователь.
Тоже есть
такой пример.
Так.
Ну, собственно, да.
Та же самая картинка.
Четвертый пример.
Приписывать
произвольное слово
не с регулярного выражения.
Сначала
в первом завершении делантику,
который просто, ну, эхо цикл, короче,
вывести,
а потом переходим в автомат, который
управляет... Да.
Да, а знаете, чем математика от физика
отличается?
Математика от физика отличается тем,
что это на самом деле не что иное,
конкат, ID и...
то, что
математика
сводит задачу к предыдущей.
Ну, вот это мы научились
на прошлом шаге делать,
на второй стадии.
Вот это мы умеем конкатинацию
из этой штуки,
а ID мы научились делать в первом шаге.
Ну, а Эпсилон-В мы тоже сказали,
надо просто
на нашем регулярном выражении написать выхода.
Так.
Объединение.
Ну, я думаю,
все понимают, как делать объединение.
Да?
Параллельное соединение.
Гаммоморфизмы.
Все знают, что такое гаммоморфизм?
Ну да,
это, собственно,
вот такая вот история.
Гаммоморфизм делать.
Ну конечно.
Так, примеры гаммоморфизмов.
Давайте сходу,
который...
Рот 13.
Рот 13?
А, ну да, это шифр Цезаря
даже еще называется.
Так, когда мы любую букву циклический сдвигаем.
Ну,
удвоение букв.
То есть у нас каждая буква на входе удваивается.
Да, у нас образ каждой буквы
удвоенная буква.
Так, я не знаю, в детстве
может быть я уже настолько старый.
Вот, ну не знаю.
Играли ли вы в такое понятие,
как кирпичный или солнечный язык?
Ну это когда после любого гласного
вставляется буква С
и дальше вставляется та же самая буква.
Да, у нас
это кирпичный язык называется.
То есть, допустим, привет, это
привет.
Вот, ну опять же
фиат согласный,
допустим, П
это П,
а фиат А это
АСА.
Да, ну вот такой язык
тоже...
В детстве могли встречать его.
Дети, конечно, образователи.
А?
Дети, конечно, образователи.
Да, к сожалению, дети еще
умеют еще в одну задачу
решать это всякие
развороты слов.
Типа, привет, это те...
Теври. Да, но, конечно, прямо знаете,
такого делать не умеют, и мы с вами это покажем.
Вот.
Так, вот этот пример, по идее, должны были разбирать на семинаре.
Да.
Что сложить?
Состояние это бит переноса.
А, ну...
А кто семинарист?
А, ну я, кажется, догадываюсь, кто.
Значит, смотрите.
Идея в чем?
Мы берем числа, читаем в обратном порядке.
То есть, от наименьшего бита к большему.
И числа у нас по битовой идут.
То есть, сначала наименьшие биты первого числа,
потом следующие за ними, и так далее.
И наше состояние хранится
бит переносом. Собственно, если у нас
появляется перенос, мы переходим в состояние, связанном
с переносом. Вот. Если
нам необходимо...
Как только перенос пропадает, мы переходим
в обратное состояние. Завершаем
в том месте, где у нас бит переноса нет.
Ну, давайте пример как раз.
У нас 13,6, да?
Кто-нибудь может...
Так.
Что это там у нас?
Ага.
А?
Да, да, да.
Сейчас.
Да.
То есть, смотрите. Во-первых,
это все переписывается в обратном порядке.
То есть, добавляются нули.
Ноль.
А дальше входы идут так.
Один ноль.
То есть, я показываю порядок.
Вот такой вот он.
То есть, один ноль.
Ноль один, один один,
один ноль ноль ноль.
Вот, в таком порядке
дается вход.
Вот.
Все, примеры закончились. Давайте заниматься серьезной работой.
А значит, первая теорема,
которая у нас есть,
первое утверждение, что для любого
конечного преобразователя существует преобразователь,
в котором либо мы на входе пишем ровно одну букву,
либо на выходе пишем ровно одну букву.
Давайте так. Пока я это
пишу, вы придумайте доказательства.
Формулировку.
Формулировка.
Формулировка.
И
для любого
конечного преобразования
у нас есть
формулировка.
Вот в этом
esperименте.
Во-первых,
Additionally
переходом делаем. Да. Разбиваем его на такие переходов.
Так. Ну, доказательства опять же. Если мы хотим доказать, что наши два языка задают один
должен переход, то если мы проходим по такому переходу, то в новом автомате мы строим путь
по такому переходу, а если мы прошли по вот этому переходу, показали в каком-то из таком
состоянии, то целый путь восстанавливается. Где? Да, запускаем алгоритм удаления
Он ровно такой же как в конечных автоматах. Да, давайте вспомним, в чем суть его стоит.
Да, то есть мы строим вот такое вот рандитивное замыкание. Да, и дальше все вершины, по которым мы
можем по Эпсилон-переходам дойти до конца, мы делаем завершающими. Так, хорошо, мы с вами
идем быстро. Так, давайте тогда следующий факт, который у нас с вами будет, это тоже интересный.
Интересный достаточно математический факт. Собственно, наша цель сегодня понятие, куда мы
можем выйти и как мы можем превратить наши конечные регулярные языки. Что мы можем сказать
про регулярные языки? Значит, теорема о связи конечных преобразований и регулярных языков.
Первый факт, область определения конечного преобразования – это регулярный язык.
Второй, область значения конечного преобразования – это регулярный язык. А третье – то, что
ограничение нашего конечного преобразования на регулярный язык является конечным преобразованием.
Так, то есть, как область определения обозначается?
ДОВ по-моему.
ДОМ.
ДОМ?
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
А.
У нас psi это на самом деле конечное преобразование,
у него существует конечный преобразователь, так ведь?
Ага, что нужно у конечного преобразователя оставить,
для того чтобы у него была только область определения?
Угу, смотрите, то есть мы делаем следующее, мы берем,
допустим у нас на переходе было написано альфа, у вводит в,
для каждого такого перехода мы оставляем только у,
оставляем только входа.
Да, и получаем сразу, что у нас это автомат для области определения.
Так, второй факт, область значений.
Что мы здесь делаем?
А вот третий факт, давайте у нас есть время небольшое до перерыва,
мы с вами сделаем следующую вещь.
Допустим, у нас с вами есть psi от m при этом с однобуквенными переходами,
и пусть у нас с вами есть, давайте я обозначу mp равно dk для нашего регулярного выражения.
То есть у нас есть конечный преобразователь с одним ходом и одним выходом,
то есть у него либо вход, либо выход обладает одной буквой.
И есть конечный преобразователь, ой, есть dk для нашего регулярного языка.
Тогда смотрите, у нас с вами есть переход a эпсилон,
то есть пусть это у нас переход q1 q2,
и в нашем конечном автомате есть переход sp1 p2 по букле a.
Тогда из него мы построим следующий переход, из q1 p1 в q2 p2 мы сделаем переход по a,
который со входа берет a на выход пештепсилон, то есть объединим эти два входа.
А если у нас с вами переход будет другой q1 q2 на входе эпсилон, а на выходе пишем букву a,
есть произвольная вершина p, то мы из них сделаем следующий переход.
Мы просто проигнорием и по факту перейдем только в первом автомате.
То есть как бы продвинемся только в первом автомате,
во втором автомате мы с вами не будем двигаться.
Здесь нет, это для произвольной вершины автомата.
Получается, если мы на выход пишем слово, то мы читаем его только в первом автомате,
а если на входе, то нам нужно как бы сагрегировать входы из одного и другого автомата.
Ага, доказывать это будем после перерыва.
Все, давайте отдыхать.
Давайте потихоньку продолжать.
На самом деле я просто переписал формально то, что я рассказал на прошлой доске.
То есть смотрите, мы строим множество декартовое произведение на множеством состояний.
Декартовое произведение над завершающими состояниями.
И переходы сделаю из одного пара состояний в другую пару состояний.
Если мы читаем букву одновременно и в ДК, и в конечном преобразователе.
А здесь мы говорим следующее, что если мы пишем на вход букву в конечном преобразователе,
то мы не меняем состояние в нашем конечном автомате.
Да? Совпадает с тем, что на той доске было написано.
Все, хорошо, теперь нам надо доказать следующий факт, следующую лему.
Извините, но тут, как обычно, нам нужен наш любимый этот.
Инвариантный нам доказывать.
То есть идея такая, что если у нас есть какая-то конфигурация,
она достижима тогда и только тогда, когда мы одновременно,
и в нашем конечном преобразователе, и в нашем автомате,
прочитали со входа букву у, а написали букву в.
Так.
Один.
Нашим.
Тогда и только тогда.
У нас есть выводимость в конечном преобразователе.
Есть выводимость.
Есть выводимость.
Так, ну, как вы думаете, как мы это будем доказывать?
Люкции по построению, ну не по построению, а?
Да, по количеству шагов.
Слева направо или справа налево?
Выбираем.
Слева направо.
Хорошо, это более простой случай, естественно.
Итак, базов.
Давайте обозначим к.
Ладно, блин, хотел спросить, за сколько шагов будет вывод,
уже написал.
За ноль шагов. Тогда что у нас получается с вами?
Ну, смотрите, q1 равно q2, b1 равно p2,
u равно епсилон, v равно епсилон.
Ну и тогда понятно, что здесь у нас получается q1,
у, епсилон выводится за ноль шагов q2, епсилон, v.
Ну, потому что вот эти штуки равны,
и вот эта штука равна епсилону, эта штука равна епсилону.
Так, ну и p1.
Получается, что у нас u,
епсилон тоже за ноль шагов, потому что u равно епсилона,
p1 равно p2.
Угу.
Слушайте, а может это и более сложный переход?
Я подумаю.
Так, давайте переход.
Значит, давайте отцепим первый переход.
Так, ну что, давайте смотреть.
У нас может быть два случая.
Первый переход либо первого типа, либо второго типа.
Первый случай.
Значит, у нас q1, p1.
Получается, у нас существует какое-то a у штрих.
За один шаг мы выводим с вами, получается,
мы переходим в какое-то q3, p3, u штрих,
епсилон,
и дальше за какое-то количество шагов мы с вами приходим в q2,
p2,
епсилон w.
Ну тогда давайте делать некоторые выводы.
Из вот этой вот штуки у нас получается следующее,
что q1,
a,
епсилон выводит q2,
епсилон, епсилон.
Потому что у нас есть такой переход.
С другой стороны, ой, только q3,
епсилон, епсилон.
А с другой стороны, здесь получается следующее, q3,
p1, a выводит p2,
епсилон.
Опять же из определения.
А здесь из предположения индукции,
у нас получается следующее, что у нас q3, u штрих,
епсилон выводит q2,
епсилон v,
а здесь у нас получается, что p3,
u штрих выводит p2,
p2, епсилон.
Напоминаю, конфигурация в конечном автомате у нас
состояет из состояния и перехода по слову.
То есть какое слово нам осталось прочитать.
Но осталось на самом деле написать следующее, что q1,
а u штрих, епсилон выводит q3.
Добавляем слово u штрих, мы можем добавлять его
из определения конфигурации.
Ну и это выводит нас q2, епсилон v.
И здесь мы тоже добавляем...
О, стоп.
Я покоричился.
Вот так.
То есть никакой магии здесь нет,
просто надо аккуратненько расписать определение.
Понятно кейс?
Второй кейс.
У нас переход может быть...
в следующем.
Мы выводим с вами q3, p1, u.
При этом у нас здесь какое-то слово b.
Ну и тогда получается за какое-то количеством шагов
мы с вами выводим что q2, p2
п1, q2, q1, q1, q2.
АП2. Эпсилон. БВ штрих. БВ штрих это наше слово В.
Где?
Ага.
Так, а это?
Что здесь?
А, точно.
Согласен. Спасибо.
Так, ну что, давайте смотреть.
Ну здесь на самом деле,
по предположению индукции,
отсюда вылетает,
что Q3 у. Эпсилон выводит Q2. Эпсилон. В штрих.
Ну а отсюда P1.
Да, тут состояние не меняется,
потому что в том переходе состояние у нас не менялось.
Получается,
у выводило P2. Эпсилон.
А из-за этого состояния у нас,
смотрите, что получается.
Q1 у. Эпсилон выводило Q3. Эпсилон. В.
Да?
А, да.
Да, Q1. Эпсилон. Эпсилон.
Я просто хотел сказать,
что давайте сразу букву У добавим.
Получаем Q3. У. Б.
Ну и соответственно,
из этого получаем Q2. Эпсилон. В.
Так.
Словом мы пишем.
В. В. Штрих.
А это как раз сразу из того,
что мы хотим с вами доказать в этом инварианте.
Вот он инвариант тут.
А вот это то, что мы хотели доказать в инварианте сверху.
Получается вот такое вот
интересное соотношение.
Угу.
Что, в обратную сторону едем?
Давайте в обратную сторону.
Индукция по какому количеству параметров будет?
А?
Да, ну тут по двум, либо по сумме двух параметров.
Дайте я подгляну.
А, тут сразу доказывалось доказательство теоремы.
Давайте ее пропустим.
Так, это мы с вами рассмотрели.
По сумме длинн вывода.
Так, инвариант давайте я оставлю.
Так, блин.
Вы не против, если я вот эту часть доски буду использовать?
Просто хочется увидеть все эти параметры.
Так.
Вы не против, если я вот эту часть доски буду использовать?
Просто хочется увидеть все эти инварианты.
Так, база.
k равно 0. Ну, из этого и получается, что у нас из того факта, что у нас это все вывод за t шагов,
в t ноль шагов у нас получается, что u равно epsilon, v равно epsilon, q1 равно q2. И из вывода в
автомате m мы получаем, что p1 равно p2. Ну, а собственно, тогда у нас получается, что q1,
p1, u, epsilon выводят q2, p2, epsilon, w, ровно по той причине, что epsilon равняется v,
u равняется epsilon, q1 равняется q2, и p1 равняется p2. Никакой тут магии нет. А вот с переходом
интереснее. Давайте посмотрим, какой у нас первый переход был в автомате q1.
Ой, да, картопад сегодня у нас. Давайте рассмотрим первый переход в коде,
ну, в нашем преобразователе. Значит, тут может быть два случая. Первый случай, какой? Мы читаем
пустое слово, на выход пишем какую-то букву b. Тогда у нас получается q1, u, epsilon, за один шаг мы
переходим в некоторое состояние q3, а здесь на выходе пишем, получается, ничего не читаем,
на выходе пишем букву b. И тогда у нас за остальное количество шагов мы доходим до состояния q2,
на выходе пишем epsilon, а здесь у нас b, в штрих, который в нашем случае равняется v.
Так, ну давайте смотреть, что у нас получается. У нас на самом деле из этого автоматом вылетает,
что у нас q3, u, epsilon выводит q2, epsilon, v-штрих. Да, мы можем стирать любую букву с вами. Здесь у
нас получается какой-то переход, но параллельно, смотрите, у нас есть что? У нас есть p1, u выводит в
нашем автомате p2, epsilon. Как там пишут в матлоге, имея вот это и вот это выражение, так называем
modus ponens, мы получаем с вами следующее. По предположению нукци, поскольку мы сделали один шаг в нашем
автомате, то мы получаем следующее, что у нас для пары q3, p1, здесь у нас получается на входе u,
epsilon, мы на выходе в нашем преобразователе tm имеем следующее. Пару q2, p2, epsilon, v-штрих. Это мы
взяли и предположение индукции применили к этим новым фактам. У нас входы совпали, ну и отлично. А
теперь смотрите, что мы с вами делаем. Мы с вами пишем q1, p1, u, epsilon. За один шаг, поскольку у нас мы
здесь пишем именно букву b, то в нашем автомате, вот здесь вот, пишется буква b, значит у нас с вами
есть переход для произвольного состояния, в том числе и для состояния p1. Поэтому мы получаем q3, p1,
u, b. И дальше из вот этой штуки в автомате tm мы получаем следующий переход. q2, p2, epsilon, b, v-штрих.
Ага, все, сошлось, это v-штрих. Это наше слово w. То есть видите, как красиво. Теперь вопрос. Так,
с этим случаем разобраюсь. Второй кейс. Хотите интересный факт? Вопрос, почему нам не надо
перебирать первый переход в автомате m? Кто скажет, что это красавец? Ну или красавица.
Что мы про m знаем? Он такая. Это значит, что мы при любом переходе всегда будем снимать букву.
Второй случай. Значит у нас получается с вами q1, а u-штрих, которое u, epsilon переходит,
значит получается в некоторое промежуточное состояние q3, u-штрих, epsilon. И здесь у нас
выводится за меньшее число шагов q2, epsilon, v. Но так как m у нас dk, то будет существовать такое p3,
что у нас получается с вами sp1 u, а u-штрих. За один шаг мы точно перейдем в состояние p3,
некоторое. И потом за какое-то количество шагов мы с вами дойдем до состояния p2 и снимем наше
слово u. Ну а теперь смотрите, по предположению индукция, давайте сразу напишем, чтобы было
понятно. Значит смотрите q1, p1, а u-штрих, epsilon. За один шаг в нашем автомате, поскольку у нас
есть и такой переход, и такой переход, мы можем снять букву а и перейти в состояние q3, p3. А из
предположений индукции, смотрите, у нас входы совпадают, значит мы можем сделать переход.
То есть это pi, а это переход. Переход в tm. Все. Так, осталось нам доказать теперь,
что из этого инварианта следует наш факт. Ну да, ну все равно, давайте проговорим.
Значит у нас пара u и v принадлежит нашему psi от r, тогда и только тогда. Ну нам надо доказать,
значит что это означает, что если у нас существует qp, принадлежащий декартовому произведению конечного
fm. Такое, что выводит q.
У принадлежит регулярному языку. Ну и соответственно получается, что это именно ограничение на регулярный
язык. Усе. Так, понятно ли доказательства теоремы? Да, ну нам просто сейчас понадобится. Это такой
кирпич. А теперь вопрос, который я хочу вам задать. Хорошо вы знаете курс линейной алгебры?
Ну да, там есть один факт, который нам нужен с вами. Но давайте следующий факт тоже начнем
рассказывать. Тогда это было забегание чуть наперед. Докажем следующий факт, что, это страшная
история, теорема у нас будет стоять в том, что композиция двух конечных преобразований конечное
преобразование. То есть вы можете применить одно преобразование, второе преобразование, это окажется
конечным преобразованием. Давайте сначала идею, поскольку без идеи это будет сложно воспринять.
Идея. У меня тут нет идеи. Короче смотрите, представим себе, что у нас в конечном преобразовании
А есть переход из А по Эпсилам. То есть у нас есть Пси1, есть Пси2. У нас переходы в каждом конечном
преобразовании могут быть двух типов. Либо мы букву съедаем, либо мы букву не съедаем. Либо букву
пишем. Вот смотрите, если мы букву с вами съедаем, то игнорием ее. То есть во втором автомате не будем
двигаться. А если мы с вами, у нас есть с вами переход из первого преобразователя, а во втором
преобразователе мы эту букву съедаем, то мы говорим, что опять же будем строить дикартовое
произведение. Мы из этой пары перейдем в эту пару по Эпсилам-Эпсилам переходу. То есть букву
съели, букву сразу, то есть букву на выход выклюнули, сразу ее съели. Так, вопрос, какая конструкция это
нам помогает сделать в классическом программировании? В рубрике «Вспоминаем Башу» у нас сегодня.
Пайп. Собственно, ровно так пайп и работает. То есть мы с вами изобретаем пайп. Итак, теорема.
Значит, гамма со звездой это конечное преобразование.
Конечное преобразование тогда. Так, сначала мы применяем C1, потом мы применяем C2.
Конечное преобразование. Опять же пишем. Опять же говорим, что у нас для всех фактов
модулю плюс модуль выровняется единицу. Пользуемся. А дальше мы строим страшное конечное преобразование
ψ, которое будет Декартового произведения двух состоя... Опять же, давайте я два. То есть у нас пусть
ψ1. ψ1 это будет ψ от m1 и будет представляться, как кортеж Q sigma гамма дельта Q...
Так, ладно, дельта m1, Q0, F, m1. А ψ2, это ψ от m2,
P, гамма, P, m2, P0, F, m2. Вы понимаете, зачем я разные буквы использую для обозначения состояния в
автомате? Ну, чтоб не перепутать порядок. Потому что индексы писать это... Тогда смотрите, что мы
делаем. Мы говорим, что это у нас будет Декартовое произведение Q на P, входной алфавит гамма. Здесь
входной алфавит P будет. Здесь у нас будет множество переходов. Сейчас мы определим. Пара Q0, P0. И здесь у
нас получается Декартово Fm1 на Fm2. И теперь давайте определять наше множество переходов. В первом
случае у нас может быть переход Q1, P1, A. В переходе, значит, у нас получается в пару Q2, P. Давайте вот
тут уберем. Эпсилон, при условии того, что у нас переход есть Q1, а Эпсилон выводит... Сейчас, секунду. Я,
кажется, буквок надо начать много писать. Вот так вот. То есть, если мы со входа считываем букву,
то мы ее игнорием. Потом в обратную сторону QP1, а Эпсилон P2B. Если у нас есть переход,
который пишет на букву B во втором преобразователе. И последний переход заключается в следующем,
что мы из Q1, P1, по Эпсилону переходим в пару Q2, P2, Эпсилон. При условии того, что у нас
существует такое B, что Q1, Эпсилон, Q2B, а в P1 мы съедаем эту букву B. То есть, смотрите, из Q1 мы
получаем на выход букву B, а дальше ее букву эту B съедаем. Вот такая вот конструкция. Соответственно,
нам надо теперь показать опять же инвариант, который будет заключаться в следующем.
Черт. А что, конец семестра мела не осталось?
Тогда и только тогда, когда существует слово В-штрих такое, что Q1, то есть здесь мы получаем,
съедаем букву В, съедаем слово У, получаем на выход слово В, а здесь мы получается съедаем это
слово В, а на выход выплевываем слово В обратно. Какой факт докажем? Значит, смотрите,
туда три случая, обратно три случая. Давайте сложный случай сначала. Какой сложный случай?
Слева направо или справа налево? Справа налево. Индукция по длине, по сумме.
База. Тогда что мы можем сказать, если у нас база за ноль шагов? Что мы можем сказать про слово W?
Отсюда до сюда зашли за ноль шагов. У равняется тоже будет
Эпсилон, В равняется Эпсилон, P1 равно P2 и Q1 равно Q2. Следовательно, получается за ноль шагов у нас выводит пару,
потому что здесь Q равны Q, а Q и W равны Q. Переход. На самом деле, внимательные слушатели могут понять,
что доказательство вот этого факта практически такое же, как предыдущего факта, только по модулю
одного усложнения. Переход. Надо рассмотреть первые переходы. Есть первые случаи.
Мы читаем из эстедоина в M1. Второй случай мы пишем в эстедаут M2. То есть либо мы читаем из входа первого автомата, либо мы пишем выход второго автомата.
А третий случай это комбинация этих двух фактов. Но противоположно. Мы сделаем эстедаут M1 плюс эстедоин M2.
Давайте поймем, почему именно делается так. Смотрите, если мы из эстедоина читаем M1, мы просто берем и игнорируем этот переход.
Переходим получается по одному автомату, не меняя состояние в втором автомате. Опять же, переход получается ровно таким же.
Если мы пишем эстедаут во втором автомате, то в первом состоянии не меняется и все хорошо. Ровно те же выкладки, которые у нас были в предыдущем доказательстве.
А теперь смотрите, что происходит, если мы пишем с вами в первом автомате на выход сначала, а потом на выход второго автомата считываем это слово.
Видите? Причем, почему у нас идет совпадение? Равно потому, что у нас слово здесь одинаковое.
Здесь на выход слово одно, на вход здесь слово то же самое.
Давайте поэтому рассмотрим третий случай.
Остальные два разбираются ровно так же, как в предыдущей теории. Вы не против?
Все такие, опустите по зязи.
Так, ну поехали. Значит, смотрите, мы читаем эстедаутом.
Значит, получается у нас, во-первых, существует тогда С, равное...
Существует разложение слова B на C в штрих.
И тогда у нас получается, что из Q1 уэпсилон у нас выводится, значит, за один шаг некоторое состояние Q3.
Эпсилон получается...
А, нет, подождите, мы из эстедау с первым соотношением, то есть пишем C, а здесь уже пишем Q2.
Эпсилон С в штрих.
А во втором автомате у нас получается обратная картинка, что мы из C в штрих, эпсилон,
преобразователи только, переходим в состояние Q3, пишем на выход слово P штрих, пишем эпсилон.
И дальше у нас идет переход в P2, эпсилон В.
Теперь, смотрите, я сейчас буду пояснять, давайте построим путь в нашем автомате.
Значит, смотрите, вот из вот этого перехода...
Сейчас, секунду...
И вот этого перехода.
Здесь у нас получается Q1, эпсилон выводит Q3С, а из вот этого перехода P1С выводит Q3, эпсилон.
И получается, что из вот этих вот двух переходов...
Ой, да.
Получается, что у нас есть переход в нашем автомате, Q1P1, эпсилон,
переходят в Q3P3, эпсилон.
Это по определению нашего автомата.
Вот оно.
Вот оно.
Читали букву E, пишем на выход букву E.
Ну и тогда, где бы нам это написать, давайте на правой доске напишу.
Получаем следующее соотношение.
Мы можем за один шаг перейти в Q3P3, у, эпсилон.
А тут смотрите, в чем прикол.
Вот у нас здесь есть ограничение на слово V'.
Тут BATS V', съели сюда.
Тут BATS C' игнорирован, есть переход на C'.
Поэтому у нас с вами мы можем применить предположение индукция к этому факту.
Эпсилон.
Что там?
V.
Понятно, откуда предположение индукции берется?
Давайте покажу.
Вот у нас есть переход, мы мысленные.
Зачеркиваем.
Получаем Q3U, эпсилон, выводит Q2, эпсилон V'.
P3V', эпсилон, выводит P2, эпсилон V'.
Значит, мы можем Декартово отсюда перейти вот сюда.
Остальные два случая аналогично разбираются.
А в обратную сторону...
Индукция по длине вывода.
Опять же надо рассмотреть первый переход в нашем автомате.
Вот. И самый интересный случай, опять же, у нас получается вот этот вот.
То есть у нас получается Q1, P1, U, эпсилон.
Дальше у нас за один шаг мы с вами переходим в некоторое состояние Q3, P3, U, U, эпсилон.
И здесь за какое-то количество шагов мы переходим в Q2, P2, эпсилон V'.
И здесь за какое-то количество шагов мы переходим в Q2, P2, эпсилон V'.
Но тогда у нас, смотрите, здесь существует такое C,
что Q1, U, эпсилон, мы выводим Q3.
Что мы выводим Q3?
Эпсилон, эпсилон, эпсилон C.
А здесь P3, получается, тут эпсилон, эпсилон.
Здесь у нас получается P1, эпсилон, C.
Так, я что-то намудрил.
А, здесь вот этот U получается у нас с вами.
Вот, а из вот этой штуки у нас будет выводиться следующее.
Что из Q3, U, C.
Значит, здесь у нас получается, будет существовать некоторое V'.
Что вот здесь эта цепочка продлится как Q2, эпсилон, C, V'.
А вот к этой цепочке, если мы с вами напишем C, V',
P3, ой-ой-ой, товарищи, здесь наоборот.
Мы же C со входа читаем.
V', эпсилон, мы получаем с вами в переход P3, V', эпсилон.
И здесь по предположению индукции, у нас есть существование V',
мы с вами переходим в P2, эпсилон, V'.
То есть вариант у нас тут доказывается,
а дальше соответствие композиции у нас получается ровно так же, как и есть.
То есть у нас что такое композиция?
Давайте закончим.
Что значит, что у нас пара U, V принадлежит композиции
двух этих штук?
Получается U, V.
А это что такое?
Существует Q, принадлежащее F такое, что из Q0, U, эпсилон выводится Q, эпсилон, V.
А здесь у нас получается, что существует P из эпсилон,
P из F такое, что P0, V, эпсилон выводит P, эпсилон, V.
Мы получаем, что это эквалентно тому,
что Q0, P0, U, эпсилон выводит Q.
П, эпсилон, V.
А это эквалентно тому, что
пара U, V принадлежит нашему построенному конечному преобразователю.
Опять смотрите, приношу извинения,
что не получилось именно доказательства до конца расписать.
Я обозначил такие самые тонкие моменты в этом доказательстве,
где он с буквы стык в стык должен сойтись.
А остальные все случаи разбираются проще.
Давайте про суммируем.
Сегодня мы познакомились с конечными преобразователями,
мы поняли, какие свойства они простейше задают,
и доказали, что конечные преобразователи замкнуты относительно композиции,
поняли, что гомоморфизм является конечным преобразователем,
поняли, что ограничение на регулярный язык является конечным преобразователем,
есть замечательное утверждение, которым мы будем доказывать в следующий раз,
что любое конечное преобразование
можно представить в виде композиции достаточно простых шагов.
Значит, если кому-то знакома понятие как сингулярное разложение матриц,
вы, наверное, поймете, что же это такое.
Все, всем спасибо, и жду в следующий раз.
