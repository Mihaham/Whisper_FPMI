Веса тэмплейта я бы рекомендовал сделать немножко другое.
Виртуальные классы.
Виртуальный... так.
Да, давайте.
Давайте сейчас вот мещерину теперь это принскринда.
Что такое виртуальные классы?
Да?
Да?
Нет, не совсем.
Понимаете?
Значит, тэмплейт это означает, что вы там будете на этапе
компиляции понимать, что, оказывается, код от вас
в этом месте что-то хотел.
А виртуальный класс, это по сути прописанный интерфейс,
в котором вы заранее прописали, что вы хотите.
Если вы у него наследуетесь, то, собственно, все хорошо.
То есть я бы рекомендовал, конечно, именно виртуальные
классы со всеми там.
А если мы напишем так, то можно не копипасить 5 раз одно
и то же в каждую посылку?
Нет.
Ну, не совсем.
Смотрите, нет.
Ну, я так скажу, нет.
Давайте для удобства проверки и надежности давайте...
То есть тут я все-таки попрошу, чтобы...
А в чем сложность?
Да.
Что?
Ты, кажется, напишешь задачу раз в стол больше, чем...
Ты придумал.
На копипасе четыре раза.
И мне кажется, что это не суперденькая задача.
Смотри, давай так, пока он тебя тестирует за твою посылку,
ты успеешь четыре раза копипасить.
И потом четыре раза.
Потом смотришь и вертик два один.
Ну да.
И еще четыре такие же.
Ну так, не, но на тему идеянности тут тоже.
Значит, честно скажу, на самом деле, да.
То есть дедлайн поставлен.
Значит, еще тут скажу, через.
Получается больше, чем через месяц.
Но тем не менее, на самом деле,
учитывая тему, честно скажу,
на самом деле не такой большой срок, как кажется.
То есть сами понимаете, за последнюю ночь это не делается.
И даже за последние две ночи.
Даже если между ними вы еще и день используете.
Вот.
То есть поэтому, да.
То есть здесь рекомендуется, конечно, сами по себе задачи
решить как можно раньше.
То есть там любым доступным вам деревом это уже там не принципиально.
То есть я поэтому, собственно, дикартовый дерево в принципе оставил.
То есть для того, чтобы вам там.
То есть вы могли там, собственно, решить задачу.
Убедиться, да.
Чтобы вы понимаете, как в принципе решать задачу
с помощью длительного дерева поиска.
А потом уже спокойно занимались программированием
там, собственно, оставшихся деревьев.
А?
Есть еще.
Там вот есть пункт, что можно задать каждую задачу.
Вообще без дела.
Польска задолбала.
Правильно.
Ну, некоторые задачи.
Там типа Memory Manager.
Действительно.
Там или даже те же того же самого количества инверсий.
Да.
Прекрасно можно знать.
На самом деле без.
Вопрос.
То есть не все задачи.
Ну, без.
Ну, как двести деревьев.
Ладно.
С оговоркой.
Лучше считается за дерево поиска?
Нет.
Там вопрос.
Вот в чем.
Там действительно не очень понятно, что значит, что
если используем деревья поиска, нельзя использовать
ложки и вот это все.
Имеется в виду, что в этом решении нельзя.
И тогда суммарно можно шестью способами каждую задачу
задать.
Или вообще в этой задаче нельзя?
Сейчас.
Нет.
Умейте в виду, что.
Но обычно вот в способах, когда вы сдаете какими-нибудь
там декортящим и прочим, там запрещается пользоваться
всякими там ДОшками, фенвиками и самое главное СТЛ.
Ну, там просто вот это облегчение.
Оно как работает?
Это просто шестой способ сдать задачу?
Да.
Или это альтернатива всем остальным пяти?
Ну, в смысле?
Шестой?
Да.
Это шестой альтернатив.
Это вообще вещи?
Или можно параллельно?
Задача просто.
Нет.
Это параллельно.
В некоторых задачах есть способ, да, попробуйте
обойтись без, внимание, тут подчеркиваю, самописных
деревьев.
Почему самописных?
Потому что в этих решениях как бы разрешает сетом пользоваться
разрешается.
Ордер сетом?
Ордер сетом разрешается.
То есть не самописная.
Она, конечно, не СТЛ.
А знаете, пойдет.
Что?
Нет.
Знаете?
Ну так и быть.
Знаете?
Хорошо.
Ордер сет.
Будем его записывать, собственно, в кого-кто этого шестого
решения.
Знаете?
Пожалуй, да.
Это хорошая идея.
Ну вот мы на контестах прям применяли ордер сет.
Ну вот и молодцы.
И более того, хотелось бы, чтобы...
Так, все понимают, о чем мы вообще говорим?
Нет.
Нет?
Значит, смотрите.
Внимание.
Значит, штука, которая периодически облегчает жить.
Значит, смотрите.
Да.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Ордер сет.
Н квадрат делить на лог квадрат, и то в предположении.
Ну, на самом деле достаточно сейчас общее предположение,
для этого давайте вспомним, на чем мы в прошлый раз с
этой задачей остановились.
Потому что остановились мы на том, что обнаружили,
что в некоторых предположениях решать задачу о наибольшей
то есть быстрее, чем за н квадрат невозможно в принципе.
Помните, да?
Но это прям в жестких предположениях, когда у вас там есть только
абстрактные кавишки, которые вы знаете только, умеете
только брать два кавишки и сравнивать, равны они
или нет.
Да, тут без вариантов.
Вот, ну тут возникает такой интересный действительно
следующий вопрос.
Ну вот, ну у нас в Азии квадройменишек чаще всего элементы
между собой сравнивать все-таки можно.
Но если предположить, то сделать такое естественное
предположение, что там, допустим, у них есть линейный, что
их можно сравнивать, они образуют линейное упорядоченное
множество, то тогда оказывается, что в принципе координаты
всегда можно сжать и без ограничений общества считать,
что все элементы в строчках, там последовательности
этих числа, допустим, от 1 до n, ну или от 0 до n-1, это
уже как вам удобно.
Вот, ну а значит давайте вспомним.
Да, начали мы, конечно, в прошлый раз, правда, с того,
что предположили, что алфавит у нас вообще конечный, бывает
такое, да, и что все числа на самом деле у нас от 1
до a.
И оказалось, что в этом предположении искать
nоп за n квадрат поделить налог квадрат m, в общем-то,
не сильно сложно.
Вот, ну давайте вспомним, как на этой технологии мы
сегодня будем базироваться.
Вот, значит, как это работает?
Ну, мы помним, да, что если у нас есть, допустим, строки
s и t условно, то есть, по идее, стандартный алгоритм
подразумевает, что вы тут просто досчитаете динамику.
Какую динамику?
Ну, там в каждой клепочке у вас тут будет помечена
там наибольшая длина, наибольшей общей последовательности
для там префикса строки s и префикса строки t.
Ну, в этом стандартный алгоритм заключается.
Пока логично, да?
Логично?
Вот.
Ну, вот.
Ну, теперь у нас есть такая идея, то есть, оптимизация
у нас будет заключаться в том, что мы попытаемся
не вычислять прям полностью всю эту таблицу.
Вместо этого мы говорим, что мы делим, что мы тут
делим плоскость, ну там делим каждую строчку на кусочки
длины k, вот и пытаться насчитывать только значения на границе
вот этих вот клеточек.
То есть, нас интересуют только вот такие вот значения.
Вот как-то так это примерно будет работать.
Вот так вот, раз, два, три, вот так.
Ну и тут тоже раз, два, три, вот так, раз, два, три, ну
и так далее.
Вот.
То есть, значение, ну вот, то есть, если у нас длина
такого квадратика окажется k, ну, как мы говорим, в ведом
четыре хрустер, зафиксируем k, которое подгоним позже.
Вот.
И получается, что тогда значение динамики, которое
мы будем вычислять, их всего что-то типа n квадрат
делить на k квадрат.
Да, вот у нас мечта, чтобы к было порядка логарифма.
Вот.
Понятно?
Пока все логично.
Вот.
Ну вот.
Ну а давайте подумаем, ну вот, что для этого нам
надо?
Если у нас все элементы это числа от 1 до а, ну теперь
тогда давайте подумаем, что нам нужно?
Ну вот, то есть, в чем тут говорит метод четырех
русских?
Метод четырех русских говорит, что на самом деле
каждую клеточку, да, ну в каждой клеточке мы хотим
знать вот эти значения динамики, вот это значение
динамики и, собственно, буковки соответствующих
построчек.
И, соответственно, идея в том, что хочется в каждой
клеточке пересчитывать вот эти значения после
этого за от единицы.
За счет чего?
Ну, во-первых, за счет того, что значение вот этих вот
клеточек можно ужать за от единицы с помощью достаточно
простого приема, но, точнее, серей замечания о том, что,
как бы, да, здесь последовательность каких-то чисел, но каждое
следующее, оно как бы либо равно предыдущему, либо
больше ровно на один.
И поэтому, в принципе, если вы знаете вот эту, то есть
вам достаточно, чтобы закодировать эту последовательность,
то вам нужно знать только первое число и масочку.
Ну, вы можете прям масочкой закодировать, кто тут равен,
а кто не равен.
Пока вроде понятно, да?
Пока вроде понятно, пока вроде хорошо.
Но при этом заметим, что, да, на самом деле, то есть
на самом деле нам вот это само значение не принципиально,
то есть у нас будет задача по сути по масочке и масочке
и строчкам построить тоже масочку и масочку.
Ну а теперь основной вопрос, а сколько всего различных
клеточек с точностью вот этого вот сдвига у нас вообще
есть?
Ну-ка напомните мне, сколько клеточек есть.
Так, 2k в степени 2k, ой, так вот, напоминаю, пока у нас,
так, ну да, но заметим, да, действительно, что строчек
у нас тут, что у нас тут есть, ну, во-первых, так, да, есть
символы, каждый символ, это a вариантов и символов
у нас тут тут k и тут k, это вот 2a, поэтому пишется
a в степени 2k на, ну масочек тоже, две масочки, значит,
длины k, это тоже 2 в степени 2k, поэтому получается 2a
в степени 2k, вот.
Ну и, соответственно, ну вот, ну и теперь надо еще
там потратить какое-то минимальное время, то есть какое-то время
для того, чтобы значение, там, перебрать все клеточки
и для каждой клеточки предпочитать ответ.
Это мы умеем делать, ну, там, ну, за k квадрат уж как-нибудь
сумеем.
Да, ну тут, на самом деле, любое, как и да, как вы уже
радуете, с любой полином более-менее подойдет.
Вот, и того вот получается асимптотика у нас, какая-то
вот такая, остается только подогнать k так, чтобы это
вот было, там, как-то приемлемо.
А в степени 2k, ну, в смысле, вот отсюда.
Ну, для каждой клеточки нам недостаточно знать только
масочек, нам нужно знать еще, собственно, строчки,
по которым будем пересчитывать, ведь, если вы будете тут
пересчитывать динамику, вам же нужно знать не
только значение, но еще и знать, какие символы
каким равны, правда?
Поэтому вот, поэтому и так.
Да, именно так, именно так.
Вот.
Так, ну, теперь возникает вопрос, как бы нам k подогнать,
чтобы это было как можно меньше?
Ну, а, первых, заметим, что оптимальная k, конечно
же, меньше либо равно логарифма.
Почему?
Ну, просто потому что, как бы, тогда у вас уже из этого
множителя вылезет n квадрат, правда?
То есть, что будет дальше, тут уже дальше не имеет значения,
потому что это будет все равно не меньше, чем n квадрат.
Вот.
Значит, получается, асимптотика n квадрат делить на лог квадрат
это как бы идеал того, что мы можем из этой асимптотики
выжать.
Логично, да?
Ну, теперь выскакивает вопрос, можем ли мы выжать
асимптотику n квадрат делить на лог квадрат?
Оказывается, можем.
Но, правда, тот k, конечно, будет тоже логарифм.
Но, во-первых, логарифм давайте по основанию 2a и поделить,
ну, допустим, на 4.
Зачем?
Ну, потому что если я 2a возведу вот в эту степень,
то что у меня получится?
Точнее, вот в эту степень умножить на 2, что у меня
получится?
Корень из n?
Совершенно верно, да.
Ну, потому что 2 в степени лог 2n и все эти поделить
на 4, значит, получится n в степени, там одна черта.
Ну, тут еще в квадрат, поэтому получается, да, если подставить,
тут получается корень из n умножить на какой-то там
лог квадрат.
Ну, тут даже не важно, что на 16, плюс там n квадрат
делить на лог квадрат по основанию 2n и умножить
тоже на 16.
Ну, в общем, короче говоря, 7.n квадрат делить на лог
квадрат n достигнута.
Ну вот, так, ну вот, освежили немножко, да?
Так вот, свяжитесь с аналогией.
Но теперь давайте вспоминать, да, на чем мы в прошлый раз
зависли.
Зависли мы на том, что мы сказали, что здесь мы жестко
воспользовались тем, что a это константа, правда?
Ну, потому что если бы a было порядка n, то обратите
внимание, как бы тут у нас от n квадрата бы мы никуда
не делись.
Хотя, в принципе, да, логарифм n по основанию там реального
размера алфавита, в общем-то, нам бы мог не помешать.
По сути, логарифм, ну это же логарифм n делить на
логарифм.
Ну да, ну там типа того, да.
Так, ну давайте смотреть, поэтому теперь, значит,
вот это, значит, мы запомнили, положили в карман, и теперь
что у нас происходит?
Теперь давайте предполагать, что у нас алфавит бывает
теперь порядка n.
Ну, на самом деле, то есть, как мы уже говорили, что
любое линейное порядочное множество, если там является
у вас алфавитом, то вы можете сжать координаты и предположить,
что там все кисло от одного дает.
Вот.
Но тогда какие проблемы?
Ну, вот какие тогда тут, что тогда можно сделать?
Ну, можно было бы сразу сказать, что количество,
то есть, если делать тупую, то количество клеток у
вас получается теперь каким?
То есть, общее количество клеток у вас получается
что-то типа am в степени 2k, умножить на 2 в степени
2k, умножить на bla-bla-bla, но уже даже не интересно,
что там bla-bla-bla, потому что n в степени 2k позволяет
вам делать k не более чем 1 и то не интересно.
интересно вот вот ну а значит какие но вот но вот но как бы сюда но вот но тут
в эти кайда такой вопрос действительно какие какие варианты у нас тут могут
быть то есть хочется конечно чтобы в клетчиках алфавит был поменьше и вообще
действительно если мы возьмем там как какой маленькая там то на самом деле
можем заметить что внутри каждой клеточки теоретически можно перенумировать
все элементы таким образом чтобы они были все-таки там от одного до к ну или
там от одного до течения от одного до двух как правда как же но вот но
проблема в том что вам какой но вот то есть теоретически можно было бы
действительно это сделать и тогда у вас что-то симптомичка могла бы
получаться там вот не n в степени 2к а вот именно допустим 2к в степени 2к
нет амнот но пока у нас в каждой клеточке как бы алфавит получается типа 2к
алфавит это а и у нас работает за 2к ну 2к и вот еще те самые два это от маски
нет там 2а возникало именно оттуда нет там была а в степени 2к из алфавита а
в степени 2к из алфавита 2 в степени касте там 2 в степени 2к из-за масок и
получается да вот ну вот и тут какой-то там что-то там еще полином какой-то отка но
основная проблема тут везде который не дает нам дозик лог квадрата возникает в том что как
бы непонятно как в любой клеточке вообще за от единицы получить вот эти вот там делать вот
это сжатие координат то есть тупой метод который мы до которым мы закончили в прошлый раз говорил о
том что давайте в каждой клеточке зара на самом деле потратим колок ко времени а на самом деле
если вдуматься то там можно это за у отка сделать то есть потратим вот времени отка но вот ну и
в результате у нас там получалось что там получается этот квадрат поделить на там дай бог что поделить
налог она самом деле помнится у нас там получился надо поделить налог еще умножить на лог лог помнится
но не будет повторяться вот так что вот такая вот маленькая но вот такая вот у нас
получается маленькая техническая проблема вот ну как же и но вот спрашивается как же
не решать вот действительно в чем проблема то есть проблема в том что да действительно у нас
оказывается сжатие до сжатия координат у нас оказывается тут не такое д 얼마 потому что
у нас, оказывается, тут не такое тривиальное, как хотелось бы, вот, но вот, действительно,
как бы это сжатие координат попытаться сократить, вот, но на самом деле идея, оказывается, не такой
сложной, то есть, вот, да, идея, то есть, идея, но это, то есть, действительно, идея заключается в том,
что, на самом деле, можно же делать сжатие координат не там, в каждой хлеточке отдельно,
а как-то постепенно, что я имею в виду, вот, но я имею в виду, вот, например, вот, здесь я вот
приведу такой пример, вот, предположим, давайте, вот, откатимся в назад, и вот, предположим,
что у нас, мы бы рассматривали изначальную идею, вот, n в степени 2k, там, на 2 степени 2k,
на вот и так далее, да, вот, ну и мечта там потом какая-нибудь, на как квадрат, вот,
спрашивается, можно ли это, тут себе как-то жизнь улучшить, на самом деле, потратив там не сильно
много времени, ну, там, заведомо меньше, чем n квадрат делить на любую степень логарифма,
там, жизнь себе обличить можно, а именно, давайте, то есть, ну, вот, то есть, идея может быть такая,
то есть, давайте поделим строчки на блоки по корень, значит, поделим на, соответственно, блоки по корень,
и для, ну, вот, и для каждого корня сделаем какое-то свое сжатие,
тогда, ну, вот, ну, то есть, это нам как бы обличить жизнь тем, что тут как бы будет не n в степени 2k,
а уже корень из n степени 2k, что? Нет, k мы оставляем, но делить, но нет, это не в смысле k корень,
там другое деление. Нет, вы же обнаружили, что в этой асимптотике тогда тут надо на какие-то k еще нажать,
а мы, да, мы не хотим это делать, да, наша цель, так или иначе, от этого избавиться или делать это
сжатие каким-то более умным методом, если быть точнее. А вот за n, ну, за n в степени 2k,
вот за такую симптотику делаем, ну, делаем, как делали раньше, то есть, мы перебираем все, там,
строчки, пары строчек размера k, каждая числа от 1 до n, все вот масочки, то есть, этим вот
создаем клеточку и по клеточке, там, собственно, честно вычисляем, вот тут многоточие, это там
какое-то еще там время типа, а, ну, что тут уже писать, k в квадрате, господи. Ну да, это мы дадаем,
то есть, отдельная песня, как его кодировать одним числом, собственно, на самом деле, да, по факту
придаем, там, скорее всего, это невозможно, там, если k хоть насколько-то не тривиально, вот,
но теперь, ну, какая идея, действительно, аккуратного сжатия может быть, но, на самом деле,
идея может заключаться в том, что давайте сделаем так, то есть, мы, то есть, вот, смотрите,
я вот сейчас вот такую более высокую порядку картинку нарисую, вот, значит, смотрите,
какая тут идея возникает, значит, вот у нас есть, да, вот эти DP, которые мы хотим посчитать,
ну и в идеале у нас все та же цель посчитать на вот таких клетках, то есть, у нас разбить на вот
такие какие-то, это макро, такие микроклеточки, да, видите, ну я тут, помпом-помпом-помпом-помпом,
вот, и на границах этих клеточек, собственно, там все аккуратненько посчитать, вот, ну и,
соответственно, вот тут длина какая-то вот будет К, вот, а можно попробовать, ну вот,
но, на самом деле, чтобы, вместо того, чтобы делать сжатие координат отдельно в каждой
клеточке, можно попробовать делать вот так, можно попробовать еще предварительно делить
таблицу на такие макро, на такие макроклеточки, все-все уже умерли, да,
у нас будет восстановных деревьев там.
Ну да, конечно, да, если пальцы вставлять куда не надо, это, конечно, может осложнить жизнь,
да, нет, ну и это тоже, но, как бы, как бы, нам сейчас не нужен томный вечер, и даже дело не в том,
что сейчас утро, вот, значит, соответственно, и так, если у нас есть вот такие макроклеточки,
и, ну вот, то, в принципе, можно попытаться, вот, допустим, длина каждой клеточки примерно
корень и зену. Что? Что не так? Что не так вы, это, табличку на кусочки по корень и зену не делили
никогда, что ли, или что? Нет, ну а внутри потом будем уже делить на вот это вот ка. Ну, я так,
просто корень и зену я пока в качестве примера рассматриваю. Просто теперь заметим следующее,
что теперь, на самом деле, если внутри, то есть идея будет в том, что сжимать координаты будем
внутри только макроклеточки, а потом внутри микроклеточки мы будем пользоваться сжатым
алфавитом макроклеточки. В результате вместо красных n в степени 2k у нас получается зеленый
корень и зен. Ну, по сути, да. Нет, ну, сейчас давайте посмотрим. Нет, ну, это уже, конечно,
хоть чуть-чуть до облегчения, ка уже можно увеличить хотя бы в два раза. Да,
глобально не поможет, но просто тут хочется в качестве примера. Но теперь давайте вот еще что
заметим. То есть еще заметим, что нам еще придется потратить время на сжатие координат в каждой
клеточке. Ну вот, у нас их получается, я так напишу, n делить на корень и зен в квадрате у нас
клеточек и в каждой клеточке мы будем тратить корень и зен времени на сжатие. Вот, но заметим,
что это ничего страшного не дает, потому что если внимательно обстоят это, у нас получается
n координат и зен, это заведомо меньше, чем там n квадрат поделить на там, что угодно, что мы тут
можем сделать. Вот, то есть уже, в принципе, неплохо. Мы перебрали все возможные такие клетки,
и в каждой сжали координаты, а потом сжали еще раз. Нет, смотрите, мы говорим так. Во-первых,
мы перебрали все миг, значит мы сделали 4 русских в предположении, что там в каждой микроклетке у нас
алфавит там до корня и зен. Вот. А, да, у нас... А, ну ладно, после сжатия координат там, правда,
скорее два корня и зен клеток, конечно. Да, на этот раз все-таки два, но неважно. Особо. Вот. То есть это
мы вот такое перебрали. Ну, теперь надо... Вот. После этого мы разбили табличку на макроклеточки
размера по корню и зен, и вот за это время в каждой клеточке... Вот, и там в каждой клеточке теперь
решаем задачу так. То есть, во-первых, делаем сжатие координат, тратя вот корень и зен времени,
а после этого... Ну вот. Ну а после этого подразбиваем макроклеточку уже на микроклеточки,
и там, соответственно, там уже аккуратненько все тут прописываем, прописываем, прописываем.
Кажется, пора вводить новые бубни. Но я вот не знаю. В принципе, можно. На самом деле, да,
можно вводить бубен, можно на самом деле не вводить. Ну ладно, давайте введем. Хорошо. Вместо
этого бубна мы скажем, что там было к, а тут станет к умножить на л. Ну чтоб там... Я, конечно,
бог там царь бубен и бубен штрих, конечно, но... Но я так сделаю. К умножить на л. И тогда давайте
внимательно смотреть. То есть как-то, ну вот. То есть тогда, значит, эти корни у меня превращаются
в примерно следующее. Так, значит, тут у меня получается... Так, 2kl в степени 2k получается,
и тут получается... Ну вот. А тут у нас получается что? Так. Так, что получается? Где получается? Так.
Ну здесь получается, да. Тут получается kl, и тут получается kl. Вот так.
Вот. Ну или в принципе, что равно, на самом деле, n квадрат поделить на kl, в принципе. Вот,
понятно, да? Вот. Так. Вот. Ну теперь, собственно, теперь давайте думать, значит, насколько нам
вообще этот kl может действительно помочь. Так, ну а первый дан. Ну мы уже замечали, что, в общем-то,
мечтать об симптотике... Ну здесь может так. Мечтать об симптотике быстрее, чем n квадрат поделить на
лог квадрат, мы, по крайней мере, этим методом не можем. Логично, да? Ну потому что как минимум 2 в степени 2k.
Ну да. То есть как минимум у нас 2 в степени 2k. То есть явно, да, то есть, наверное, то есть,
как всегда, у нас k явно не превосходит там, действительно, этого логарифма. Так, ну если мы мечтаем об
симптотике n квадрат делить на лог квадрат, то тогда заметим, да, что... Ну вот. То есть тут надо
так действительно подумать. Потому что казалось бы, да, что в этом смысле может быть там... То есть
насколько большим тут l на самом деле может быть? Ну здесь он, конечно, в этой симптотике он будет,
конечно, чем больше, тем лучше, но с другой стороны, у нас здесь l в степени, поэтому l, наверное,
хочется сделать поменьше. Правда? Но для того, чтобы вот это не вылезло за пределы лог квадрата,
мы вынуждены будем заключить, что, наверное, l тоже должно быть порядка логарифма. Правда? Ну
вот. Ну и давайте попробуем. То есть, действительно, давайте предполог... Ну вот. То есть давайте так,
раз они примерно одинаковые, давайте скажем, что просто k равно l на самом деле. Облегчи в себе
жизнь. Вот. Если сказать, что k равно l, то тогда это всё превращается примерно в следующее. То есть
это превращается в вот там n квадрат делить на k квадрат, плюс, и вот здесь вот начинается
интересное. Здесь получается 2k квадрат в степени 2k на 2 в степени 2k на k квадрат. И плюс, и в чём,
да, и ещё плюс n квадрат. Ну понятно, что тут n квадрат делить на k квадрат, n квадрат делить на
k квадрат и кайфец. Да? Так. Ну а теперь смотрим. Заметим, что вот эта штука, это у нас что такое?
Это на самом деле... То есть на самом деле это k в степени 4k умножить на 4 в степени 2k. А лучше
просто, да, 2k в степени 4k. Но не в любой. Нет, слушайте, лог в степени лог это, к сожалению,
много. Да. Это больше. Смотрите, запомните очень просто. 2 в степени лог n это n, а лог... Да,
вот тут конечно вот... Да, ну вот. Вот. Так что да. Вот. Так что да, совсем уж так это... Действительно,
лог... Ну вот, то есть там допустим, лог это да. А вот да. А вот лог пополам в степени лог пополам.
Посмотрите, да. Да. Да. Вот, давайте продумываю. Да. Так, сейчас, смотрите, магия. Сейчас. Нет,
смотрите, давайте так. Давайте. Значит, смотрите. Значит, лог 2n в степени лог 2n. Да, это что такое?
Это равно 2 в степени лог 2n там лог 2 лог 2n. Или что то же самое n в степени лог 2 лог 2n.
Вот. Вот. Да. Вот. Да, казалось бы. А теперь давайте посмотрим,
чему будет равно лог 2n пополам в степени, что самое важное, лог 2n пополам. Что это такое?
Это 2 в степени лог 2n пополам, лог 2 лог 2n пополам. Что? Ну, что?
Да. Ну, на самом деле, действительно, да. Да. Да. Ну, скажем так, да. То есть, на самом деле,
да. Кажется, что это уже не n, а, соответственно, корень из n. То есть, это, конечно, уже корень из n,
но все еще в степени. То есть, на самом деле, n в степени, да. То же самое, но одна вторая.
Так. Проблемка. Так. Ну, давайте так. Так. Ну, да. Поэтому, да. Поэтому, да. Если мы тут хотим
как-то как-то выкручивать, хотя эта идея уже лучше. Нет, совсем. В прошлый раз мы как бы не делали
макоклеточек. Вот давайте так скажем. Да. Оказывается, что действительно, если все-таки
k взять лог 2n поделить на лог 2 лог 2n, да, то тогда здесь у нас какая-то радость оказывается,
потому что, потому что вот эта штука, потому что там, допустим, вот эти лог 2n поделить на лог 2 лог 2n в
степени лог 2n поделить на лог 2 лог 2n. Вот. То есть, здесь уже оказывается что-то по нетривяйне,
потому что оказывается, что это 2 в степени лог 2n делить на лог 2 лог 2n умножить на логарифом от
всего вот этого вот. То есть, вот так вот. То есть, лог 2 лог 2n минус лог 2 лог 2 лог 2n. Вот. Но это
можно сверху оценить n. Логично, да? То есть, вот так вот. Это как бы меньше либо равно n. Вот. А если
я k еще и там на пополам поделю, так это вот там совсем корень будет. А то и меньше. То есть,
вот. То есть, тогда получается, что если мы возьмем такое k, то в принципе это все, как вы понимаете,
слопывается. Вот. Понимаете, да? Слопывается? Да. То есть, это вот действительно у нас великолепно
слопывается. Тут получается что-то типа вот, ну там, если там правильно еще поделить на какую-то
константу там, я не знаю, давайте вот, чтоб совсем надежно было, давайте еще и на 8 это все поделим.
Ну, чтоб вот тут пополам был, да? То, оказывается, что здесь получается что-то типа там n умножить на
там, вот, какую-то логарифмическую гадость. Ну вот. А здесь получается n квадрат поделить на вот там.
Как квадрат, правда, уже, то есть, делить не на лог квадрат, делить на лог квадрат, то да множе. То
есть, в результате получается, что мы уже смогли достичь ассимтотики. Это тоже уже прогресс,
на самом деле. То есть, значит, n квадрат на там лог лог n в квадрате поделить на лог n в квадрате.
Ну, в смысле? Ну, тут не понял. Берем и склеиваем.
Так тоже, ну, как я не понял, так то же самое еще. Мы продолжаем все еще.
ДП мы считаем как бы в тех же местах, что и раньше, на микроклеточках, на границах микроклеточек.
То есть, как бы, смысл был в том, что мы просто теперь, как бы, делаем такое сжатие координат,
вот еще на макроклеточках, и мы хотели, чтобы вот у нас, собственно, сжатие, мы хотели,
чтобы сжатие координат, собственно, ни на что не влияло. Вот. Так что получается вот такая вот красота.
Ну, нам надо было взять ка такое, чтобы вот это вот оказалось там заведомо меньше, чем n квадрат.
Ну, там желательно меньше, чем даже n в степени 1.9, вот это все. То есть, мы брали как? Потому что мы
там пытались исследовать, возникла эта статика k в степени k. Ну, там, да, на какие-то вот эти
штуки, но по сути k в степени k, да? И мы думали, что k должно быть порядка логарифма, но log n в
степени log n это больше, чем n в степени. В общем, даже если мы log n поделим там на 8, это не поможет.
Вот. Но оказывается, что если мы его поделим на log log n, то есть, если k вот оказывается поделим
на log log n, то у нас тут оказывалось, что k в степени k, и тогда o от n. Вот. И тогда получалось, что у нас
вот здесь остается там o от n умножить на какой-то там полилог. Но не полилог, а там что-то
ограниченное полилогом. В результате получается, что n квадрат делить на k квадрат продолжает
доминировать. Но, правда, единственная проблема, что как бы у нас тут идеала нашего n квадрат
делить на log квадрат мы не достигли. Нам придется его, пришлось его домножить на log log в квадрате.
Вот. Так что, на текущий момент идея такая. А теперь вот, внимание, вопрос. А нельзя ли это
теперь еще поупихивать? А вот нельзя ли все-таки от этого log log все-таки каким-то образом избавиться?
Да, осталось только придумать как. Давайте сделаем огромные блоги из вот этих больших блогов.
Огромные, да. Прям совсем огромные блоки.
Ну да, ну тут, ну да. Ну да. Дед увидел, что агент отчасти, мы видим, что проблема у нас не
совсем сжатие координата. Проблема в том, что у нас есть вот, извините, k в степени k. Вот. То есть,
как а в степени k, там даже на какие константы тут домножить, это даже неважно. Потому что
заметим, что на какие микроклеточки бы мы не разбивали, а если k у нас отличается на константу,
то то есть какая-то неконстанта, то и, значит, как бы мы тут не сжимали координаты, то есть
можешь там попытаться внутри там еще какой-нибудь дополнительный какой-то там, допустим, метод четырех
русских еще набить. Вот. И на самом деле, и сделать так, чтоб тут там и получать там,
собственно, микроклеточку уже напрямую вот из этого сжатия. То есть, там можно было. То есть,
чтоб там не два как квадрат было в степени, а всего лишь k в степени. Но на самом деле там,
как видите, глобально, в общем-то, то есть на что это может глобально повлиять непонятно.
Ну вот. Да, ну вот. Ну да и непонятно, в общем-то. Соответственно. Вот.
Ну правда, тем не менее странно. Что-то у меня вот почему-то у меня было ощущение,
что тем не менее от лог-лога можно каким-то мистическим образом избавиться. Вот нет.
Вот. Ну ладно. Надо быть таянор. Чего? Чего? Чего? Идеи какие-то есть? Ну,
в общем, ладно, надо писать. Может, может на самом деле и нет, и таянор. Так. Ну да, потому что,
да, что-то как-то тут еще действительно можно. Сейчас чего? Не слышал? А потому,
нет, в смысле, проблема в том, что у нас в самом конце потом будет вот этот n квадрат делить так
а квадрат, чтоб подразбиваться. То есть, в этом смысле, чем меньше клеточка, тем больше тут
будет асимпточка. И тогда плагина, то есть, заметим, что у нас сейчас вообще при текущем
ка, кстати, доминирующим, является вот эта слагаемая. Поэтому, в общем, если мы уменьшим ка,
то только асимпточку себе ухудшим от этого. Вот. Ну, все-таки нет. А что? Ну, вот. То есть,
к сожалению, да, у нас вот проблема, что вот, да, локом, да. То есть, да, проблема в том, что,
да, локом, возводить лок, да, вот, конечно, возводить лок в степени локом нам, к сожалению,
больно. Вот корень, у нас могла быть мечта, конечно, такая, что, действительно, если бы у нас,
ой, нет, ну, на самом деле лок там в степени бла-бла-бла, то есть, на самом деле, да, можно,
на самом деле, еще было в какую-нибудь сторону делать, то есть, на самом деле, можно было бы
делать без лог-логн, а там n квадрат поделить до лог-н, но в степени не 2, в степени какой-нибудь
там 1,9, например. Да, но как бы все равно, лучшая асимпточка все равно оказывается вот это. Ну,
ладно, давайте не будем тогда, ладно, если оно так не водится, значит, ладно, не будем сейчас на
это тратить время, то есть, я может вспомнить, потому что, если я там пересмотрю, если у нас в прошлые
разы нам, если в предыдущих поколениях нам это как-то удавалось выкрутить, то окей, хотя один из
вариантов, что на самом деле не удавалось и человечество тоже не умеет, на самом деле, то есть,
то есть, да, вот, ну, в конце концов, ладно, вот у нас есть метод, и мы этим методом вот тут вот
максимум выжили, вот, насколько могли. Вот, да, ну, да, главное, да, не подозреваем, что лог-лог-ла.
Вот, ладно, поэтому мы тогда на этом остановимся, и так, ну, что? Так, ну, что, мы перерыв хотим?
Хотим. Ну, давайте, ладно, тем более, что дальше у нас будет несвязанная смерть,
то есть, с медным четырех русских мы закончили, я думаю. Ну, значит, ну, сначала мы для разминок
обсудим, значит, как фамилия Хиршберга, короче, ну, короче, это восстановление ответа ВНОП за
линейную память, а потом перейдем к той достаточно эпической задачи. Четверть финала, да, да, но это
доступно. Ну, давайте так, разомнемся, так, немножко на классике. Итак, была задача, найдите наибольшую
общую последовательность. Бывает такая задача. Вот, но маленькая проблема, вот мы еще не говорили
так в домашних заданиях, что часто в домашних, там, в задачах вида, там, найдите минимальное или
максимальное что-нибудь, требуется не только найти длину, но еще и желательно восстановить,
собственно, сам ответ. Ну, часто, когда выясните наибольшую общую последовательность, наверное,
сама постановка задачи говорит о том, что как бы там найдите наибольшую общую последовательность,
ответ 42. То есть, есть подозрение, что что-то не то. Ну, вот, то есть, как-то нет, то есть, как бы,
называется все, там написано, найти надо общую последовательность, а не какое-то там число. Это
называется длина, ага, ну да. Ну, вот, то есть, знаете, там кто-то так ограниченно скажет, давайте,
а может, вы нам еще и хэш от нее выдадите, а? Там, я не знаю. Ну, вот, поэтому, конечно же,
хочется и саму подпоследовательность вывести тоже. Нет, ну, здесь, конечно, там разные варианты,
но здесь вы, там, понятно, конечно, вы без сомнения знаете, как там, скажем, в наибольшей
возрастающей подпоследовательности восстанавливать ответ. Ну, там, я думаю, технологию, там, того,
что там для каждого элемента мы храним предыдущее, а потом прогуливаемся вайликом, я думаю, там,
не проблема, да? Или проблема? Не, я вот о всяких случаях просто спрашиваю, потому что, и кажется,
это очевидно, а потом человек спрашивает, а потом он там начинает, действительно, он там насчитает
ДП, а дальше будем идти какой-то жадностью там в духе, там будем идти справа налево, там, например,
найдем максимальное число, зафиксируем его, потом будем идти налево и найдем максимальное число,
найдем число, у которого тут ДП, там, там, анс-1, а число меньше и так далее. Вот, оказывается,
там начинаем таким же жадностями восстанавливать ответ это конечно это конечно экономит память на
пр но вот но как бы эта технология применима только в конкретной задаче в общем случае не очень
вот ну теперь вот это вопрос как же найти наибольшую общую подпоследствию смысле восстановить ее
вот но классический метод конечно говорит нам о том что если у нас есть там dp и tgt который у
нас берет префикс первой соответствии префикс второй находит у них подпоследовательность вот то
что здесь можно сделать можно сделать такую же порыжку можно правда и не делать а можно скриппастить
код что имеется в виду но имеется в виду что ну давайте вспомним что дп от и житая равно там
понятно dp от допустим и минус 1 g минус 1 плюс 1 если с и т равно т житому да и собственно там
максимум из dp там и g минус 1 и там dp и и минус 1 g иначе вот вот ну классическая динамика да
ну вот или вы как-то по-другому пишете нет хотя саму динамику
да на этот раз да у нас презентация прошлый раз была
это вот вот это вот с экраном вот на слайдах вот вот вот это вот вот не но общего алгоритма
динамики у нас не было да не существует алгоритм там алгоритм сия динамического
программирования даня такого нет но что такое динамическое программируем мы обсудили значит
что такое про но классический способ восстановления ответа требует может потребовать того что давайте
в пр и житая мы просто запишем какой из этих трех случаев реализовался ну типа вот этот вот
этот или вот это типа куда ходить да но на самом деле конкретно в данной задаче он конечно не
особо нужен потому что на самом деле без того чтобы идти тупорешку можно там в каждой и житой
просто честно перебзал от единицы там проверить запустить те же ифы и этот случай перевычислить
вот но тем не менее как легко убедиться стандартное восстановление ответа от вас
потребует чтобы вся вот эта дп шка была вычислена правда то есть чем проблема что если у вас была
задача просто написать потом ответ 42 до то заметим что на самом деле всю динамику одновременно
хранить не надо потому что достаточно хранить в каждый момент времени там и минус первую строчку
и соответственно и ту строчку все вот потому что на самом деле чтобы вычислить эту строчку вам
вот этой вот с запасом хватит правда вот понимаете да вот то есть но соответственно подобные
технологии используются естественные задачи о рюкзаке но там много там всяких там приколюх
но там пожалуй лучше там как говорите когда будет случаем и лучше уже там собственно на олимпиадных
занятиях конкретно будем заниматься думаю сейчас это не так принципиально вот там это подобные
совсем мелочи то есть получается что интересный парадокс то есть само по себе оказывается
значение наибольшую то есть длину наибольшей паспорт если можно вычислить за линию памяти
вот но вот но вот восстановить вот по камере на халяву не получается потому что чтобы в
тупую прогуляться по всей этой дп шке что нам придется делать да придется хранить всю эту
динамику целиком и по этой таблице прям вот аккуратно вот так вот пройтись понимаете да что
что такое корень нет в принципе да ну можно было да ускорил ну да там разное можно делать
можно там было в дп и житое хранить собственно какие последние символы с каждой подстроке надо
брать на самом деле можно так было отлично можно так можно эдак там но это в общем не оптимизация
то есть суть в том что памяти все равно потребуется там n квадрат ну или там соответственно nm а мы
пойдем но но но то есть редкий случай когда оказывается на восстановление то есть восстановление
за адекватную память оказывается требует не тривиального алгоритма но алгоритм не самый
сложный это да называется алгоритм хирюшберга да вот фамилия да фамилия вот такая да
значит он сейчас будет пользоваться тем что но п то есть длину но п любых двух
строчек можно найти за произведение тексты длин строчек и за линию памяти
делать он но делать он это будет естественно мистическим методом разделять и властвовать
если идея будет такая смотрите вот по идее да вот у нас была мечта вот эту дп шка вот
посчитать на такой табличке да вот у нас строка s вот строка t да так вот идея такая разделим
строку с пополам ну типа вот тут и пополам тут и и идея такая значит так сказать верхней
части мы насчитаем такое классическое dp и tgt то есть это но п будет у нас от значит
с от один пум-пум и и т от один пум-пум же да ну давайте на строчки будут в один индексации
то есть абсолютно классическая динамика то есть считаем такую динамику но за линию
но за линию памяти то есть на самом деле по факту нас интересует только dp от n пополам и
тут вот от одного до м вот понятно да это вот как бы сверху то есть шли вот так сверху сверху
вниз и слева направо а теперь мы пойдем к этой же линии с другой стороны то есть мы пойдем
сверху вниз и справа налево то есть мы введем понятие dp штрих от и g здесь у нас и от одного
до n пополам здесь у нас и будет от n пополам плюс один до n соответственно то есть dp и tgt это
тоже nop но от s и n и tgt то есть уже на суффиксах вот и как бы опять же мы будем делать за линию
памяти потому что интересовать нас будет dp штрих от значит n пополам плюс один до m
то есть 1 пум пум м вот какая скала где скалы так не привет давайте если вы хотите там обсуждать
скалу это в другом месте делается то есть мы считаем то же самое с конца да совершенно верно
вот то есть такой вот значит то есть они не встретились даже не столько разделяй и властвуй
сколько такое это сколько скорее там такая митен зе мидл даже такой встречи в середине получается
вот но теперь я утверждаю что пока имя на nop в смысле длины по вот этим двум массивам вы
без труда найдете ну то есть мистическое утверждение да что nop как длина от с и t она
равна максимуму по всем тем и допустим от нуля до ну там условно от нуля до м там соответственно
dp и т там n попал ладно же давайте лучше n пополам gt плюс dp штрих от n пополам плюс один g плюс
первая но если там же куда-то там не туда выходит то соответственно пишем там нолик условно но там
есть какая-то какая какая-то там какой-то префикс или суфик строки т оказаться кажется пустым
но получается да нет просто идея такая смотрите то есть что такое значит вот s это
у нас вот какая-то строка t это у нас какая-то строка под последовательностью вообще выглядит
вот примерно вот таким вот образом да но вот но идея соответственно такая что если вот разделяем
с пополам то есть это оптимальная подстрока то есть под последовательсть она тут где-то есть
где-то здесь вот на каком-то префексе строки т и оставшиеся является под последовательством
каким-то суфиксом то есть получается т можно тоже разбить где-то на две части так чтобы брать
но п тут и тут и прибавляйте на п тут и тут да вопрос то какая-то картинка обманывает немножко
потому что где это разделение проходит мы не знаем то есть не обязательно посередине это правда то
есть может это под следствием прижата к префиксу или к суфиксу или там как угодно поэтому вот мы
собственно и говорить что ноп и у нас это вот то есть мы просто перебираем все возможные варианты
ну вот допустим мы нашли но вот и назовем это вот анс то есть есть у нас анс есть еще
жи анс это вот равно ну естественно argmax да вот давайте уже будем будем привыкать к обозначению
чем argmax от максимума отличается да совершенно верно это вот то есть аргумент максимума то
есть нас интересует не какой из этих чисел больше всех а при каком же оно достигается нет
ну просто привыкайте просто оно и следующим семестром нам понадобится и в мостатах там
оно будет вылезать там ну в принципе стандартное математическое обозначение так что будьте
готовы вот значит же анс так вот так вот если мы значит мы нашли длину ответа и мы нашли где
тут и подразделять так вот после этого возникает маленькая простая идея запускаемся рекурсивно
да и рекурсивно от значит от соответственно от с значит ищем эту подпоследовательность
от s значит n пополам и t от одного вот этого жианца то есть мы как бы вот этот то есть вот это
вот nоп длину который мы нашли мы теперь ищем рекурсивно это во-первых но и во-вторых также
рекурсивно ищемся и на сушимся вот вот и весь алгоритм получили от квадрата что
вот хороший вопрос нет я бы скажу так я бы я никоим образом не подразумеваю что это очевидно
сейчас так сейчас мы к этому перейдем правильно именно поэтому мы говорим но мы нашли что но мы
нашли что для того чтобы найти но пресс это надо найти но вот как бы если написать что это вот
та самая жижка вот это же анс да то оказывается оптимальная ноп складывается из но пешек вот
этих двух строчек но пешки вот этих двух строчек то есть по сути мы запускаемся рекурсивно отсюда
рекурсивно отсюда результат конкретинирует нет как бы когда я говорю фу запускаемся рекурсивно
функция возвращает но п в смысле последовательности то есть еще раз давайте еще раз проговорим алгоритма то
есть функция то есть там допустим функция значит fine dance от ст звучит так да то есть мы как бы
честно вычисляем эти дочитываем дпшки находим же анс после этого значит запускаемся рекурсивно
запускаем fine dance от этих строчек от этих строчек и потом устанавливаем ответ ну желательно конечно
да чтобы у вас память оставалось отн конечно же крайне желательно чтобы не то есть крайне желательно
чтобы вы конечно эти строчки не копировали да но ну точнее так ну ладно оговорка если длина одной
строки вас 1 то вы тот вы тогда но вы тогда должны пробежаться и и выяснить у вас ответ пустой или
не пустой пробежаться по другой строке вы должны да но в них-то надеются все одно из пр 오� negotiable
на один то у другой тр вашения может быть какая угодно то есть обратите внимание да у нас
здесь нигде не подразумевается, что у нас длинный строк из СТ равны. И это важно.
Таким образом мы храним наночистные динамики. Когда мы спускаемся в левую предку, она может хранить существенную динамику для правого сына, чтобы ее пересчитывать.
Для какого права?
Когда мы спускаемся, например, после первой операции, там спустимся в левого сына, у нас теперь динамика, которая там будет правой, она будет зависеть от того, что у нас был нырку.
Во-первых, динамику в этих строчках мы будем пересчитывать абсолютно заново.
Обратите внимание, мы насчитали вот эту ДП за линию памяти. Вычислили жеанс, возможно, вычислили длинный, хотя не важно.
На самом деле вычислили жеанс, все, массивы ДП зачистили. Это прям важно.
Все, что вам надо, это будет восстанавливать ДП, но на самом деле правильнее будет даже так, что каждый ответ, который вы найдете, то есть каждый символ, надо просто пушбекать в какой-нибудь заранее записанный глобальный вектор.
По большому счету это будет автоматически.
Здесь тогда аккуратно, потому что, смотрите, у вас может быть большой соблазн на самом деле, если бы вы в какой-нибудь момент поднатарили, когда понимаете, что сложный код надо писать с помощью ООП, у вас возникнет соблазн писать код так, что передавать в каждую функцию строки рекурсивно, прямо по строчке скопировать.
Ну, даже не по ссылке, а просто скопировать и передать.
Как вы передаете под строку по ссылке?
Нет, передать под строку по ссылке.
Индекс ЛР.
На оставшихся под деревьях все сделать рекурсивно.
Просто я, как бы честный ООП-шник, сделал все это буквально.
А именно, я буквально пробежался по каждому из этих деревьев, по каждому из них создал новое и кинул его в рекурсию.
Вот.
Нет, это вполне себе зашло за очень маленькое время.
Ну, правда, с договоркой, что, судя по всему, авторы такого решения не подразумевали, но хотя могли подразумевать, не знаю.
Вот.
Но там оказалось удобно.
А, во, вспомнил.
А, вот.
Ой, вам же еще это нацентроидную декомпозицию надо.
Ой.
А, тем более, что у вас еще и на Хэви-Лайт заданий не было.
Ну ладно.
Нет, нет, нет, нет.
Центроид по-любому нужен, тем более, что, понятия, на деревьях тоже, на самом деле, есть такая некоторая теория на тему центроидов и диаметров, которые тоже знать надо.
То есть, она простая, но, как бы, простая, но знать надо.
Ой, в общем, вот так мы до АТОМИКСИПА и не доживем, да?
Господи.
Ой.
Хотя.
Забьем на ДФС и вместо него...
Ну, по этим, в ДФС, я говорю, там же ДФС не сам по себе, если бы, если бы еще пошла просто ДФС, пожалуйста.
А так, у нас там дерево доминаторов-то никто не отменял.
Вот.
Нет, и это уже реально святое тут уже.
Ну, хотя нет, дерево доминаторов, это хорошо, тут как раз расстраиваться не надо.
Так, ладно.
Не будем тратить время.
И так много тратим.
Значит, смотрите.
Смотрите.
Значит, что у нас теперь?
То есть, как мы замечаем, что если мы передаем по строке как действительно пары индексов, то легко убедиться, что у нас памяти действительно расходуются у АТОМ, правда?
Есть такое ощущение?
Потому что заметим, что вычисление ДП-шки там в каждом под прямоугольнике, оно делается независимо от остальных.
То есть, получается, можно считать, что когда мы насчитываем ДП в каком-то окошечке, в остальных местах у нас память не юзается.
Ну, точнее, юзается только то, что вот из-за рекурсии.
То есть, помните, что если у вас там есть цепочка рекурсивных вызовов или некурсии, там функции вызвали одна-другую, то как бы на каждый аргумент память тратится, помните, да?
Ну так, даже, кстати, если вы объект передаете по ссылке, то как бы лишние 4 байта вы там все равно тратите.
Ну верится.
Ну или 8, да.
Ну, хорошо, да-да-да, это, как говорится, длительность вашего компилятора, окей, допустим.
Ладно, я еще помню стародаврые времена, поэтому да.
Хорошо.
Да, если что.
Да, спасибо, давайте еще раз.
Спасибо, что не префокарты, да-да-да.
Но это нам не глобально, потому что, заметим, глубина рекурсии у нас вообще не больше логориф, обратите внимание.
Но, в принципе, это даже не важно, потому что хоть бы она даже была зеленейная, если у нас в каждом рекурсивном вызове там 4 аргумента и каждый int, но это вот индексы под строк, то проблем нет.
То есть что память у нас отn.
Высекает вопрос, действительно, а за какое симптотика это вообще работает.
Вот.
Ну, на самом деле, ну есть, по идее, у нас же есть вообще стандартный метод, правда?
Стандартный метод называется там t от nm, да, равно чему?
Равен teta от nm, плюс t от n пополам какой-то там жианс, плюс t от n пополам m минус жианс.
Вот, можно такую рекурренту написать, правда?
Почему n log n?
Нет, почему, где n log n?
Почему n log n?
Уметь возвращать dp отn пополам, на верхний слой.
Нет, ну вернуть-то, нет, зачем нам возвращать, возвращать само вот это dp нам не надо.
В смысле, суммарно, мы намойдем n квадрат состояние, понятно.
Откуда, откуда сделать?
Ну, не знаю, ну, как сказать.
Какие состояния?
Ну, мы как бы потратим n квадрат только, как минимум, только на то, чтобы уже посчитать dp, собственно, на первом уровне рекурсии.
Да, мы посчитаем на первом уровне рекурсии dp.
А потом что мы делаем?
Ну, потом мы находим вот какое-то g и запускаемся рекурсивно отсюда, рекурсивно отсюда.
И заново находим там dp, поднимаемся, и снова жианс еще.
Нет, нет, нет, нет, жианс мы однажды нашли, после этого мы запускаемся рекурсивно один раз, запускаемся рекурсивно второй, результаты конкретинируем и выводим, все.
Жианс мы нашли для первого слоя.
Нет, внутри, когда мы будем искать n op вот эту, мы тоже там, внутри нее найдем уже свой жианс.
И там еще рекурсивно запустимся.
Для того, чтобы найти жанса, нужно посчитать полностью dp на слоях.
Ну да.
То есть, каждый раз, когда мы запускаем fine dance, мы первое, что делаем, это как бы полностью считаем динамику.
То есть, мы сильно посчитали динамику для первого слоя за n квадрат?
Да, но не для всего.
Когда вы запустились рекурсивно, вы насчитали динамику не для всего первого слоя, а только вот до сюда.
Ну до куда?
Ну до сюда, до жианса.
Мы еще не знаем жианс, пока...
Нет, смотри, перед рекурсией, да, вы посчитали прям все.
На это потратили те самые tt, ttm времени.
После этого вы нашли этот жианс и потратили вот столько времени и вот столько времени.
Да.
А когда мы вселись на второй слой, мы опять можем просто найти жанс, потому что мы уже посчитали все только f.
Нет, там мы уже свой жанс ищем.
Как мы его ищем?
Ну абсолютно так же.
Насчитываем полную динамику.
Все, все, все, это же уменьшает, мы каждый раз смещаемся.
Нет, то смотрите.
Значит, смотрите, можно теперь аккуратно доказать, но я утверждаю, что ttm меньше либо равно, чем cnm.
Ну потому что, почему?
Потому что у нас получается надо, потому что ttm это равно, чем у нас там.
Это меньше либо, чем anm отсюда, да, плюс там cn½ жианс, плюс cn½ из этой tth.
Вот.
Значит, жианс.
Так, это у нас равно, чему?
cnm, плюс cn½.
Я честно сложил.
Ну это, естественно, меньше либо равно cm при, там, естественно, c, там, больше либо равно, ну я не знаю, там, a2.
Вот, ну в общем, суть понятна.
Вот.
Ну да.
Ну, конечно, ответ получился из разряда, да, очевидно, что число фибоначи, это такое 1, плюс кориес-ветиполов, cpnm.
Очевидно, ну, конечно, очевидно, вот по индукции доказать.
Но на самом деле, это достаточно легко увидеть и так.
Потому что для этого мы просто изобразим вот такую диаграмму.
Значит, смотрите.
Ну каждый раз, видимо, как минимум.
Ну, значит, прелюстрируем.
За какую площадь, какую площадь мы должны замостить, чтобы на каждом шаге искать динамику.
Значит, давайте, ладно, я сейчас буду.
Значит, на первом уровне рекурсии мы замостим все.
На втором уровне рекурсии мы, значит, делим на пополам вот эту строчку.
И делим на какие-то две части эту строчку.
Но неважно, на какую.
Но после этого мы замощаем только вот это и вот это.
То есть, обратите внимание, в два раза меньше, правда?
Вот.
На следующем шаге, значит, у нас тут тоже получается тут.
Значит, раздел, допустим, вот тут и раздел вот тут.
И замощаете вы вот это, вот это, вот это, вот это.
Получается ровно в 4 раза меньше.
Ну и так далее.
Ну там даже неважно, у нас там будет логарифум, глубина рекурсии логарифум, соответственно.
Но это даже неважно.
Потому что если тут Nm, тут Nm пополам, тут Nm в 4 и так далее, то есть, по сути, асимтотика все еще от Nm.
Даже не просто от Nm, а, в общем-то, в 2 Nm мы прекрасно уложились.
То есть, вот таким вот образом мы, чтобы не хранить лишние Nm памяти, сделали, по сути, лишнее Nm времени.
Вот.
Так что вот такая классическая технология Хиршпурка.
Ну, как я уже отметил, да, что если вы помните, что вот задача о рюкзаке,
то там восстановление ответа в рюкзаке, в общем-то, можно забабахать вот примерно таким же методом.
Кстати, по-моему, на четвертьфинале, по-моему, там больше о задаче о рюкзаке даже, по-моему, не шла.
Нет?
Там памяти нельзя было, да?
Ну да.
Я не помню там задачу.
Я помню, что там неожиданно…
То есть, динамика вроде простая, но вам ушали эмэль.
То есть, видимо, там почему-то авторы контеста решили там проверить ваше познание вот в этой области.
Вот.
Ну, собственно, знание не туда.
Ну, собственно, вот.
Так что, соответственно, оказывается, даже в олимпиадах такое нужно.
Хотя, как бы, я думаю, практическая польза от этого алгоритма, думаю, тут сомнений не вызывает.
Вот.
Так, ну что, есть ли тут какие-то вопросы?
Нет?
Нет?
Точно?
Нет.
Нет, подожди, х плюс х пополам, плюс х на 4, плюс х на 8, плюс х на 16 – это не более чем 2х.
А!
Ну, dp, n пополам, g для каждого g, да.
Ну, если мы вот возвращаем эту штуку наверх.
А!
Ну, нет, нет, вот.
Как мы это делаем?
Нам для первого пресса все хорошо посчитано, для…
Как мы это делаем для следующего?
Что ли там тоже?
Я не очень понимаю.
Сейчас, ну, я, видимо, я, возможно, не понимаю, что имеется в виду.
Потому что, ну, как бы, какая, смотри, вот…
Хорошо, нам нужно еще раз.
Ну, для того, чтобы получить ответ в динамике…
Да.
…нужно иметь ответ для dp, n пополам, g для каждого g.
Так.
Если мы его имеем, мы все пересчитаем.
Ну, не совсем.
Нам вот эта dp-шка нужна и аналогичная на супиксах.
Да.
Вот.
Ну, ответ…
Ну, как сказать?
Ответ будет как-то получить понятно.
Но если это мы делаем не на последнем слое динамики, а на каком-то более глубоком,
нам каким-то образом нужно пересчитать dp одну, посчитать dp одну.
Нет, не надо, смотри.
Ну, я не знаю, видимо, так.
Тут мне сложно понять, в каком месте у тебя понимание алгоритма разошлось с моим.
Ну, можно посчитать dp одну пополам?
Нет, смотри.
Нет, само по себе это dp как чиселки.
Тут речь идет о чиселках, да?
Их посчитать очень тупо.
То есть мы считаем это, честно, все dp-шки.
То есть для всех и от одного dn пополам, и для всех g.
Прям честно вычисляем вот по этой формуле.
Да.
Но при этом с оговоркой, что мы одновременно их не храним.
То есть для того, чтобы посчитать все dp до фиксированного i, мы храним все dp для фиксированного i-1.
Да, конечно.
Да, ровно за счет этого мы добиваемся того, что как бы мы не даем памяти жрем на эту dp-шку, а...
Вот, так вот.
Это вычислили, это вычислили.
А, или все, вопросов уже нет.
А, все, окей.
Так, что еще вопросы?
А то мы сейчас к другой задаче пойдем.
Как вы догадываетесь, она будет более сложной.
Да, буквально чуть-чуть очень сильно.
Знаешь, смотрите.
Так, ну отлично.
Так, у вас еще и компьютеры с собой, да?
Очень смешно.
Так что сейчас вы даже чуть-чуть покойдете для разминочки.
Да, в этом месте я всегда прошу покойдеть.
Потому что, значит, смотрите.
Значит, смотрите.
Задачка!
Значит, сейчас будет просто вот сейчас мистическая задача, которую мы с вами решать.
Возможно, я даже захочу, чтобы вы ее сегодня даже закончили там полностью.
Поэтому, может быть, я даже вас...
Поэтому, может быть, там, если нас будут выгонять, я даже...
Может, даже я предложу вам все-таки переместиться в другую аудиторию.
Вот.
Нет, интерактива не будет.
Так.
Ой, Михаил.
Может быть, как Шэнов.
Да нет, у нас боевик, не комедия.
Так.
Значит, смотрите.
Теперь мистическая задача.
Сейчас мы не будем восстанавливать ответ.
Сейчас мы будем искать только чиселки.
Значит так, задача.
Желала была строчка...
Значит, жили-были снова две строчки СТ.
Длина N, длина M.
Тоже в один индексации.
Вот.
Значит, я очень хочу...
Ой, так.
Так, я хочу...
А, ну да, именно это я и хочу.
Я хочу найти...
Значит, для...
Значит, хочу найти NOP.
Между строкой С.
И под строкой ТС и по G.
Для всех.
Собственно, один меньше либо равно И, там меньше либо равно G, меньше либо равно M.
За спальню.
Хочу за круто.
За ком?
Нет, ну я как бы...
Ну давайте так.
Я предлагаю это сделать...
Вот хочу...
Ну вот лучше этой сим-точки, по-моему, практически невозможно.
Ну, например, в идеальной модели уже меньше, чем за NM.
Вы даже одну чиселку не собабахаете.
А суммарная длина не меньше, чем M.
Может быть M квадрат.
Чего?
Нет, ну просто тут размер ответа тут M квадрат.
Поэтому как бы и да.
Вот.
Значит, наша цель будет решить задачи вот за такую сим-точку.
Так вот.
Как говорится, у вас есть 15 минут.
Значит, вам нужно открыть сейчас компьютеры и написать код, решающий эту задачу.
За эту сим-точку?
Нет.
Нет.
Значит, вам потребуется это сделать за любую сим-точку.
Что дальше?
Значит, почему?
Потому что мы сейчас применим еще один любимый олимпиагиками метод.
Любимый олимпиагиками метод – это напиши хоть какой-нибудь код, запусти на ком-тесте,
посмотри и попытайся найти закономерность.
Нет, любимый метод – это короче идти до 1000, а потом брейк.
Отсечения поставить низкой.
Но тут не получится, очевидно.
Так что вот.
Так что для того, чтобы все поняли вообще о чем задача.
Значит, так что попрошу вас сейчас уже открыть компьютеры.
У нас конец пары.
Хорош.
Так, у нас конец пары, когда скажу я.
В этом смысле все просто.
Вот.
Нет, я же говорю.
Я считаю, что для того, чтобы написать эту задачу за любую сим-точку, вам, наверное, минут 15 должно хватить.
Да.
То есть я вас попрошу запустить на каком-то тесте, но тест будет там небольшой, порядка 15 символов.
Так что можете писать за куб, можете писать за четвертую степень на ваше усмотрение.
То есть нужно сумму найти NOP?
Нет.
Надо не сумму.
Надо именно табличку NOP.
Табличку с прочкой или табличку длинной?
Табличку длинной, конечно.
Как будет NOP?
LCS.
Longest Common Subsequence.
То есть написать просто NOP за квадрат и квадрат раз его сделать нормально?
Да.
Ну и в красивую табличку это оформить.
Сейчас я пока вы пишите это, я вам сейчас покажу, в каком формате желательно увидеть ответ.
Табличку с прочкой или длинной?
Что?
Именно длинной.
Да, когда я говорю NOP, я имею в виду длинной.
Нет, конечно, сами строчки нам тут не нужны, конечно.
Но тогда можно не M квадрат.
А, нет, тогда нужно.
Нет, но размер ответа все равно M квадрат.
Я про то, что был бы размер это M кубра ответов.
А, ну так-то да.
А так квадрат, да.
Вот, ну-ка давайте-ка, быстренько, быстренько, ну как-то спросим.
Что Code of Forces?
Потому что у нас из дома ушел Open Trains, ну очевидно.
Так.
Да.
Как это говорят?
Да, мы все мы из Ростова-на-Дону, поэтому мы хотим...
Поэтому мы хотим закончить песней про наш родной Ростов-на-Дону.
Эта песня про Ростов-на-Дону.
Э-рон-дон-дон.
Э-рон-дон-дон.
Да.
Ой, хотя ладно, там про...
Э-рон-дон-дон.
Э-рон-дон-дон.
Ну, так это она имелась в виду.
Да, то видимо, если бы она реально вспылилась.
Ну а что, да.
Там вообще батарейны, наверное, сквозь стены ездили.
Ой, да все шумно.
Правильно.
Спасибо, Миш.
Ну да.
Э-рон-дон-дон.
Пум-пум-пум.
Пум-пум.
Ой, а поменя.
Что я честно тебе сделаю?
Когда я за любую?
Зачем буду?
Значит, за 20 минут.
Нет, значит, пишем, вызовем 48 минут, и все.
Нет, подожди.
Тебе нужно в каком-то нетривиальном тесте это запустить.
А ты знаете, ходит легенда, на самом деле, о том, что, как бы,
скажем так, существует алгоритм, который решает любую задачу по геометрии.
Ну, по крайней мере, в школе.
Ну, по крайней мере, ЕГЭ точно покроет.
ЕГЭ?
Перебрать все точки в точку.
Ну, я не знаю, как она работает, но проблема в том, что она работает вот-да.
То есть ответ она выдаст очень-очень-очень-очень сильно когда-нибудь.
Я не знаю, в следующей сотне жизни.
Ну, как бы.
Нет, ну, вместо того, что я тебе скажу, я не знаю.
Ну, как бы.
Нет, ну, вместо того, что я тебе скажу, я не знаю.
Нет, нет, на самом деле, заметьте в следующее, да, что, помните, что,
как это, да, в чем суть спортивного программирования?
Чтобы научиться решать любую, там, чтобы писать программу, решающую любую задачу?
Нет, это неинтересно, на самом деле.
Потому что, помните, да, олимпиадное программирование делает именно правила Т.Л.
Ну, потому что, как бы, я думаю, если у вас была бы задача,
напишите программу, которая решает задачу за любую асимптотику,
то там практически все задачи превратились бы в технические.
Но там, я думаю, ну, не все, конечно, но там 90-95% точно.
Может, там рандомный brute force можно написать практически всегда.
И даже не рандомный.
Тест.
Какой тест?
Вот сейчас, я его открыл.
Ну, не помешает.
Самый наоборот.
Ну, accusative.
Ну, Wouldn't That Живой merci.
Наmanship.
И вы Lab.
Мativa
Huh.
Ну а неDon't able?
Нет, нет, нет, нет.
Ну, честно скажу, скажем так, я вас попрошу, чтобы это была верхнетреугольная ватрица.
Она, что?
Она, нет, нижнетреугольная.
Верхняя.
Ну потому что там, типа.
Ну потому что типа и вот так же и вот так.
По-моему, сделать правильный формат вывода будет самым нетреагентным заданием.
Так поэтому 15 минут, а не 5.
5.
Ой, так это Яндекс упал или интернет в целом?
А, нет, все еще проще.
Черт.
Просто да, я наступил этот единственный день в году, когда у меня.
Ага, да.
Когда у меня надо снова оплачивать йоту.
Так.
Нет, ну это не глобально.
Тут, конечно, за углом вон йота арена есть.
Так что вообще кайф.
Так, ладно.
Нет.
Нет.
Табами, табами, табами, табами.
Табами.
Ну это да.
Ну это так.
Это называется.
Как это?
Говорит ли вам что-нибудь в словосочетании Александр Буйнов?
Ну и правильно так.
Поздравляем монастыр.
Так.
Пожалуйста.
Пожалуйста, дай мне скотч.
Здесь скотч.
Какого-то у меня нет.
А, а зачем?
Ну, Миша, пожалуйста, покажи.
Ну где-то я сегодня не встал.
У меня может быть.
represents
Абыцаба абыцаб.
Абыцаба абыц.
Абыцаба абыц.
Абыцаба абыц.
Абыцаба shoes
лерc
оба цапа
ты чё, дупой? это Белгород
а я люблю Белгород
окей, пресим хис
дэм
ты хочешь, наверное, не в конце оба цапа, а в конце оба цапа
так вот в конце оба цапа подставить цепь?
вот так хочешь?
да, чтобы
почему-то так
в начале оба цапа?
в начале оба цапа?
да
даже лучше
ой-ой-ой, ещё и ДП на...
ещё и ДП попросили
так, ну ладно, зато...
ладно, констатируем
в позапрошлом году
НОП без лог-лог-квадратов делать не умели
так...
по-моему, я где-то на боках
м-м-м-м
м-м-м-м
м-м-м-м
м-м-м-м
м-м-м-м
м-м-м
м-м-м-м
м-м-м-м
м-м-м-м
м-м-м-м
м-м-м
автобусы и самолёты
пароходы
и поезды
сегодня нас видит Камчатка
ахахаха
ахахахаха
ахахах
ахахахаха
я не умею продавать безкум
я напёр, что-то либо...
либо битбрэйсовский
я просто ищу функцию zephyr, которая
дополняет влево как ни странно пробелы
жалко жалко вам не дам крышу сэмпла вот я его и не дам пошел он к сожалению на
но там прятит там ручками ответ после этого можно не восстановить
так но просто но нет вопрос чтобы просто убедиться что это вообще работает как бы нам же
нет так то я вас нет я так так то я вас попрошу
значит смотри
رو軸 ну вот
а
Вот, да, фиксируйте. Вот.
Так, сейчас как мы будем, там zx, да?
Да.
y, x, x, y, z, x, y, z, x, y, x, z, x.
Пять, десять, пятнадцать, пять.
А, так, там zy, zx, да?
А вторая?
Есть сам матрица, на, в общем.
Ну вот, ну матрица там должна быть тринадцать на тринадцать.
Zx, y, z.
У меня микрофон отпадел сейчас.
Боже мой, микрофон.
Есть вот это?
Вот это шоу.
Так, ну-ка. Так, ну как?
Ну-ка, кому, говорите, удалось что-нибудь закодить?
Так, че, какая?
Какая кривая?
Ну-ка, давайте.
Нет, ну лучше сравните, я так с Лётушем вам тоже не скажу.
Так.
Так, давайте, давайте так.
Кому уже удалось получить ответ?
Ну, я не знаю, там, правильно, неправильно я не знаю, но вот.
Какое-то получилось.
Ну-ка, давайте еще, ну-ка, давайте еще пару минут.
Нопэ?
Ну, длина.
Ну, не, ну очевидно восемь, потому что вон тут это, вон тут, почти под строка.
Да, тут это, да, тут не очень, тут на эту тему не очень интересно.
Дип. Как-то дебагать что-ли?
Ой.
О, че, о боже, че.
Че, Катя сейчас с уитомой бумажкой посчитает?
Возможно.
Скажите так, этого я не знаю.
Вот.
По-моему, тебя он не проверяет.
Два, три, два, пять, десять, пятнадцать, двадцать, пять, десять, шесть, пять, да, десять, пятнадцать, двадцать, пять.
Так.
Нет, он, ладно, ну, можете попробовать, да, попробовать сравнить.
Хотя, я тут могу попростить задание, потому что на самом деле я сейчас просто открою слайд и покажу вам правильный ответ.
На самом деле.
а так ну давайте пока так
да кто с кем будешь делать
а теперь гоп стоп мы подошли и за углом
да ну можно кстати да немножко рекламы да собственно это статья но
правда честно скажу правда не знаете бразильцы возможно немножко по другому
мысле но но я вам так скажу на самом деле задача на самом деле взялась из
петрозаводского контеста
в состоянии сутрините контест приложили такую задачу одна команда ее
даже решила нет но две тысячи там были ограничения все вместе такие длины до
двух тысяч одна команда ее даже решила просто действительно вот честно написал
найдя закономерность там утверждается что если найти закономерность то
принципе дальше решение придумывается вот но нет никак
нет кукарек по-другому звучит так вот но начнем вот с этого
не свести а то осторожнее найти в оригинале вообще-то там клюковом зубы в
этом месте выбивают знаете ага нет обзор называть один зуб но зато какой не
там ну там там как бы шел один там как бы либо этот зуб есть либо нет там как
нет нули необязательно не ребят ребят давайте нули необязательно это не очень
интересно но чо получился такой ответ такой точно чего хорошо будет байзис где
это на самом деле ответ также теперь да но мне просто честно хотелось бы чтобы
просто это покой для того чтобы все точно однозначно поняли задачу вообще а то
знаете если там на втором часу исследования выяснится что там часть из
вас просто там решать другую задачу будет грустно значит смотрите а теперь давайте
вошли в задачу а теперь давайте посмотрим на подобного но на такую табличку и
попытаемся найти какие-то закономерности вот смотрите что может вообще какие
закономерности тут вообще можно увидеть до халявы можно и более продвинутой
закономерности увидеть например можно заметить что в каждой строке каждое
следующее число либо равно предыдущему либо на единичку больше так а вот давайте
смотри нет нет вот смотрите действительно вот такая вот музыкать сразу интересная
идея рассмотрим вот какие-нибудь два столбца рассмотрим вот паре чисел которые вот
сохранились правильно сказано вот заметим и как-то вот оказывается интересный факт что
ее сохранились сохранились сохранились потом в какой-то момент перестали сохраняться или вот
например ну вот или там или более лишь нет нет интересно нет интересно другое садрида они
вот до какого-то момента совпадают а потом потом в какой-то момент перестают совпадать
но заметим что перестают совпадать навсегда ну ладно там до ноликов
нет ну я говорю вот эти вот нолики из аутом не учитываем навсегда ну вот или
вообще или например если они вот самого начала не совпадали что-то тут выясняется что они
вообще никогда не совпадают местицию правда более того заметим что на строчках вообще-то
это абсолютно но это звучит абсолютно так же то есть видите тоже видите что если идти справа
налево то не совпадают совпадают не совпадают и не совпадают и уже навсегда или наоборот если
двигаться слева направо то они до какого-то момента не совпадают потом совпадают и уже
совпадают до конца что что с какой прибавится с какой констант нет вот понятно да но иначе
невозможно потому что если тут 65 то тут тут либо 6 либо 7 тут либо 5 либо 6 так что в общем-то и
отличаться они должны при этом на единицу то есть дальше может быть тут написано либо 5 6 либо
67 либо 66 но в принципе после 66 тут какой-нибудь 76 теоретически могло быть написано но почему-то
этого не происходит по крайней мере в этом тесте спрашивается можно ли действительно
придумать действительно пример к этому что не происходит ну не происходит например так что
в одной строте например есть вот два числа равны вот тогда а потом в каком следующем столбце эти
два числа неравны вот такого почему-то не постой и в столбцах тоже обратите внимание не
почему-то не бывает так что вот тут два числа равны а сверху два числа неравны
ну и наоборот если вот там где-то числа неравны значит и везде ниже числа заведомо неравны
да да но это вот сверху вниз когда идут да может быть так что числа совпадают а в
следующей строке не совпадают да но это если мы идем сверху вниз но снизу вверх почему-то
так не бывает не может быть так что вот как бы тут равны а сверху неравны то есть обязательно
если идти снизу вверх то сначала неравны неравны неравны потом равны и дальше уже навсегда вот
такая интересная закономерность а теперь мистический фар оказывается можно показать что так всегда будет
причем весьма неожиданным способ значит смотрите сейчас вам покажу еще одну картинку но я вам ее
уже показывал вот значит ну как ищется наибольшей общей подпоследовательности ну способ всем
известен строится вот такой граф и на этом графе мы ищем длиннейший путь от вот этой
точки до вот этой точки логично ну граф ациклический поэтому можно найти этот путь скажем динамикой
строим мы его очень просто смотрите то есть мы строим вот такую сеточку на каждый символ
да и у каждого вертика вертика горизонтального вертикального ребра вес 0 а также если в клеточка
соответствует двум одинаковым символом то мы строим еще диагональное ребро веса 1 потому что
мы же наибольшего потому что мы же наибольшего мы же плати потому что мы хотим по диагональке
пройти наибольшее число раз наибольший нет да но вес 3 про один а когда мы проходим вот так вес 0
так вот а не но тогда да но тогда длина nlp это будет что-то типа сколько там n плюс m минус вот
этот кратчайший ну давайте скажем так лучше я предлагаю все-таки мысли в терминах длиннейшего
пути все но динамикой ну как бы если вы хотите просто но по найти надо просто найти длиннейший
путь ну скажем динамикой да ну или там любым bfs да ну не любым но просто граф ациклический
поэтому аккуратненько в каждой вершине насчитываем tp исходя из там соседних вершин это что неужели
это так страшно как-то знаете мне на какие-то вот диагонали значит диагональные они появляются
в тех летчиках то есть соответствует одинаковым символом одинаковым сего вот и они веса 1 хочется
конечно по диагональкам пройти как можно больше раз вот но это к чему да то есть на самом деле
как чтобы насчитать само но пэк конечно такой граф строить не обязательно но полезно его себе
воображать потому что смотрите как он нам теперь поможет а давайте теперь как найти теперь nlp
между скажем вот строкой ну строкой s а вот скажем у строки t я выберу какую-нибудь подстроку
например вот эту вот это вот и гкз и гкз что это такое вот в терминах такого графа да то есть
это тоже длиннейший путь но на этот раз от вот этой точки до вот этой точки понимаете да
вот такая вот неожиданная технология вот идейно понятно да ну вот значит а теперь смотрите так
сейчас я буду доставать доску так ну давайте так картинку давайте так вообразили ли вы
себе картинку так вот а ну давайте так картинка понятна а тест у вас на экранах
поэтому я думаю сейчас оптимально будет если я сейчас все это выключу и дальше мы будем рисовать
значит смотреть сейчас будет да сейчас будет немножко мать и да
так вот так смотреть мысль такая значит давайте в уголке жила
вот то есть жила была вот эта вот табличка ответов да по и и у нас есть понятие что понятно
что ansa tg это что такое это просто длина nlp строки s и т и и вот понятно да что мы хотим доказать
значит мы хотим мы хотим по сути попытаться доказать следующее что у нас в этой матрице ans
не бывает такой вот такого окошечка два на два в котором в нижней строчке элементы равны а в
верхней неравны вот мы хотим показать что такого не бывает нет но мы потому что мы вот как бы
посмотрели в тест посмотрели вот по экспериментировали обнаружили что такого почему-то не бывает ну
точнее в наших тестах точно теперь вот мы пытаемся показать что этого реально не бывает
нет смысла ну как бы тут равны тут неравны вот не бывает так что выше неравны они же равны нет
смотри а без разницы смотрите потому что дело в том что давайте подумать предположим тут равны
тут неравны тут x да смотрите тогда заметим что тут либо x либо x плюс один и тут либо
но при этом они неравны и правы мы пытаемся доказать что такого не было ну если тут равны
тут неравны то как бы и клеточка имеет ровно такой вид мы посчитали это очевидным фактом потому что
мало кто знает но если вы ищите но п от двух строчек а потом приписали к одной строчек один
символ то очевидно ответ не уменьшится но и увеличится не более чем на 1 а если еще и слева
отпилить от одной строчек один символ то ответ тоже не увеличится но и не уменьшится больше чем
найти вот мы посчитали что это как бы само очевидно да но это продвинутый поток тут как бы да бывают
такие вещи которые вот такие вещи почему-то считаются вот само очевидными вот все таки вот
значит смотрите теперь давайте дуть почему же что же это вообще такое допустим это все отвечает
за значит происходит в этом ряду из житом столбце ну же там же плюс первым и там и плюс первым понятно
да значит смотрите что это тогда с точки зрения этого великого графа я вот ну вы
образили себе граф я его полностью естественно рисовать не буду значит я нарисую только вот
это у нас тут строка s такая это у нас тут такая строка t
ну допустим вот я пришел 3 4 5 6 7 8 9 ой так теперь главное чтобы мне еще 5 6 7 8 9 10 11 13
ладно раз 2 3 но я так просто 4 ну хорошо хорошо 5 6 7 8 9 ой 10 11 12 13 вот так вот
ну это не принципиально значит теперь смотрите что это такое значит и ж вот когда мы говорим
ищем ноп между строкой с и под строкой и жи то нам нужна вот эта клеточка с номером и минус
один и вот этот клеточек с номером жи и нам нужно найти какой-то мистический путь между
ними то есть но есть какой-то длиннейший путь между ними да да этот пути называется ну понятно
он так и называется анс и житая есть еще вот такой путь вот этот путь называется анс от и
же плюс азин еще есть вот такое она вот но еще есть конечно
вот такой путь которые анс и плюс 1 же ну и вот это тут мы их условно рисую хотя понятно что
они как-то пересекаются и более того скорее всего даже как-то накладываются то есть у них
там скорее всего какие-то общие части естественно
А теперь смотрите.
Мы хотим показать, что не может быть так, что это
равно x, значит, это равно x плюс 1, это равно x и это
равно x.
Вот, на самом деле, просто ключевая идея, для которой
будет дальше базироваться вся технология решения.
Вот как, глядя, есть у нас такие четыре длиннейших
пути.
И надо доказать, что не может быть так, что они равны
вот таким числам.
Вы знаете, будет даже классно, если вы сами сейчас увидите,
почему это невозможно.
Ну, хочется просто построить, исходя из того, что у нас
есть предыдущий большой путь.
Хочется из этого построить новый.
Ну, такой же.
Ну, вот так.
Кажется, что хочется построить путь для этой нижней клетки,
зная пути.
Вот у нас есть путь.
У нас сверху i-1 и i, да?
i-1 у нас нет.
А, это i-1, а это i.
Просто в таблике у нас i и i.
Ну, для того, чтобы найти ответ для подстроки ежи,
нам нужно тут стартовать с точки номера минус 1.
Вот вопрос.
Если мы стартуем из i-1 и сделаем первый шаг в i,
разве мы не получим второй шаг?
Ну, может получим.
Нет, не понятно.
Может быть, что оптимальный путь отсюда-сюда именно такой?
А может и нет, мы не знаем.
А не важно ли, что у нас...
Что у нас давайте поставим...
У тебя вышли, кто у нас был прощеленный?
И мы скажем, что мы хотим для этой клетки посчитать.
Получается, вы сколько раз шли-шли вверх,
возможно, один раз по диагонали,
либо один раз излево вышли, и все.
И что?
Реально вышли один раз излево.
Это, кажется, то же самое, что мы просто вышли вверх.
Нет, ну это нет.
Может быть, это тема того,
как конкретно эти пути накладываются друг на друга?
Но нет.
Кажется, нам нужно просто рассмотреть диагональные переходы
вот сюда двух столцах,
между i-1 и i,
и j и j-1.
И что?
Да, это единственное, что мы сможем.
Потому что мы точно знаем все путь.
Ой, да боже.
Слишком сложно.
И показать, что...
Можете обозначить точку пересечения.
Так, да.
Ну, чем с того, что я максимально попытался избегать пересечений,
но вынужден заключить, что вот этот путь и этот путь заведомо пересекутся.
Ну, у нас граф устроен так,
что ребра не могут пересекся и при этом не попасть в общую вершину.
Так.
Давайте тогда рассмотрим.
Можете просто обозначить эту точку?
Ну, допустим.
Ну, могу точку?
Чем-нибудь обозначить.
Ну, давайте точку о и шо.
Ну, и тогда хочется что-то сказать про путь и о, о, j и j.
Ну, я даже...
Тогда надо не точку обозначать.
Я скажу так.
Это а, это будет там b1, b2,
это будет c1, c2,
и это будет d.
И записать неравенство треугольника.
Да.
Заметим, что в этом месте можно писать неравенство треугольника.
Ну, потому что, смотрите,
дело в том, что a это длина длиннейшего пути между вот этой точкой и этой точкой, да?
Длиннейшего.
А b1 плюс c2 это длина какого-то пути от этой точки до этой.
Поэтому отсюда мы просто автоматически вынуждены заключить, что a больше либо равно b1 плюс c2.
Да, точку перечей здесь я просто взял какую-то общую вершину у вот этих двух путей.
b и c, соответственно.
Почему они уприскаются?
Ну, тут точки так устроены.
Смотрите, этот путь стартует правее, а заканчивается левее.
b2 больше либо равно c2.
То есть там аограф устроен так, что не существует двух ребер, которые просто мимо друг друга проходят.
b2 больше либо равно, чем c2.
Почему же?
Потому что у нас длиннейший путь из-за минус 1 в g плюс 1 может проходить через b1 и c2.
Ну, можно заметить, что b2 больше либо равно, чем c2, но это неважно.
Потому что мы ищем длиннейшие пути, а не кратчайшие.
А, да.
Нет, тут все еще теперь проще.
Смотрите.
Дело в том, что над это я могу то же самое написать.
Просто вот ровно те же причины.
Ну вот c1 плюс b2, видите, да?
Но тогда, если я сейчас просуммирую эти неравенства, то я получу следующее, что a плюс d должно быть больше либо равно, чем b плюс c.
То есть это означает, что...
То есть принцип очень простой.
Крест не может быть больше полоз möchte.
Вот я это так называю.
То есть вот крест не может быть больше полозе, вот собственно доказательство.
То есть я просто просуммировал два неравенства треугольника.
только не равен что треугольник, а тут как бы больше либо равно
кто, кому чего больше либо равен?
почему а больше либо равен, чем c1-22, а еще что меньше либо равен, чем b1-22, нет?
у нас тут один треугольник, в котором сторона гарантирована больше
а это количество обройденных региональных фермеров
ну да, ну это длиннейший путь от этой вершины до этой
а мы говорим, что а больше либо равно, чем b1-22, почему мы говорим да?
ну потому что по факту b1-22 образуют тоже путь от этой вершины до этой
и получается просто длиннейший путь, он наверное больше либо равен, чем длина
чем какой-то путь
вот собственно и все
из этого мы выяснили, что даже неважно, я могу сейчас вот это стереть
и просто сказать, что если у меня есть какие-то подобного рода 4 точки
и я могу провести между ними такие 4 пути, то сумма путей на полозьях будет больше либо равна, чем сумма Христа
просто этот принцип мы сейчас будем просто в хвост и в гриву использовать
вот
но в данном случае, то есть он нам помогает вот чем
дело в том, что
ну потому что для i-1, ij, ij-1 эти ABCD на самом деле выглядят очень простым образом
вот давайте просто вот сейчас в этом увидим, что это такое
то есть полозья это у нас a и d
то есть a и d это a и d
ну вот, ну и что-то там у нас b и c
то есть мы знаем, что в любой четверке вот это плюс это должно быть больше либо равно, чем вот это плюс вот это получается
но это частный случай вот этого принципа
вот понятно, да?
и следует, ну вот, но заметим, что наличие вот это клеточка этому откровенно противоречит, правда?
все?
доказательство кончено, закономерность, миф подтвержден
вот
соответственно
вот
значит миф подтвержден
но в принципе это на самом деле означает, что мы чем-то можем
то есть мы можем сейчас попытаться воспользоваться
а именно
как этим воспользоваться?
у нас вот есть этот ответ
то смотрите, у нас, да, этого, как мы уже поняли, еще раз зачеркиваем, не бывает
но что бывает?
но заметим, что бывает такая обратная ситуация
вот в каждом ряду может возникнуть вот такая ситуация, правда?
ну и в каждом, а может не возникнуть
значит мы такое будем называть критическая точка
вот
ну заметим, что в каждом ряду, ну и собственно в каждом столбце у нас не более чем одна такая ситуация, правда?
а теперь мистическое утверждение
если откуда-то с небес по факсу нам пришлют все такие точки
то я утверждаю, что мы тогда за о от м квадрат ответ легко восстановим
ну тут понятно, естественно будут тут всякие оговорки, что вот эта подстрока может быть пустой
но важно, что вот там скажем, допустим, может быть так, что и равно
ну там так вот, может быть так, что и равно j
тогда здесь вот будет типа нолик, а это типа пустая подстрока, понимаете, да?
но тем не менее, ну вот, и это тоже рассматривается как критическая точка тогда будет
ну там если тут будете прям 0, 1, 1, то понятно, что тут везде будет прям равенство, равенство, равенство
вот, так, ну что, понятно ли, как по наличию критических точек действительно восстанавливать ответ?
ну верхнюю строчку получите потом
ну там, смотрите, какая есть, ну, например, да, можно так
ну во-первых, нет, верхнюю строчку вы просто так не получите, конечно
нет, там не обязательно верхнюю строчку, знаете, в этом ответе легче всего получить диагональ
почему диагональ? ну потому что диагональ, то есть каждая строчка соответствует там одному символу строки t
и вам нужно просто написать нолик или единичку в зависимости от
строчки t
что?
это просто префикс
да, ну в принципе, да, ну тут по-разному можно, можно эту, но на самом деле можно без этого даже обойтись
а можно сказать так, смотрите, то есть по диагонали посчитали, тут еще ниже их везде нолики вот нарисовали
а по диагонали нолики или единички?
ну можете считать, можно, конечно, там просто сказать, что есть какого-то символа, какой-то символ есть только в одной строке
то давайте его вытянем и там соответствующий столбец потом скопируем, да?
но лучше не заморачиваться
так вот, напишем тут тоже нолики и единички
ну правда, заметим, что если тут будет ноль-ноль, то, в общем-то, выше тут тоже будет боевая ничья заведомо, потому что это символ ни на что не влияет
вот, а дальше идея очень простая
мы теперь просто восстанавливать ответ будем, вот скажем, сначала восстановим вот эти клеточки, там потом вот эти клеточки и так далее
в чём каждую клеточку будем восстанавливать поМ простому принципу
принципу, то есть по простому принципу, что если тут была
боевая ничья, то и тут боевая ничья, логично, да?
А если тут не боевая ничья, то надо проверить, не является
ли вот это вот клеточка 2 на 2 критической точкой.
Что значит боевая ничья?
Ну верно ли, что если вот это равно вот этому?
Если вот это равно этому, то и вот это равно этому,
то есть мы вот сюда записываем просто вот это значение.
В каком мы его считали на диагональ выше, чем в главной диагонали?
Да так же.
То есть вот эти вот мы будем считать просто по вот этим
значениям.
Ну, то есть каждый раз мы, то есть по трём вот таким
значениям, четвёртый считаем так, что значит если тут
это равно этому, то значит тогда и это равно этому,
просто копируем.
Да.
Если это не равно этому, то у нас тогда две варианты.
Либо это критическая точка, и тогда это всё равно этому.
Либо это не критическая точка, то значит тогда это не равно
этому, значит это равно этому плюс 1.
Да, если оно не равно этому, то оно равно этому плюс 1 и
тут всё просто.
У нас вообще могут быть варианты по 2х32х2, то есть три варианта по 2х32х2.
Ну...
Так, нет, ну можно...
Сейчас, ну давай, можно попробовать перебрать.
Но получается, какие у нас бывают варианты?
Ну, варианты у нас в принципе могут быть, получается, какие?
xxx, естественно.
Что там еще может быть?
Ну вот, если x, значит, x...
Если тут xx плюс 1, то что тут может быть?
Ну, тут тогда получается либо x и тут без вариантов x plus 1,
либо тут x plus 1, тут x plus 1,
и тут тогда еще два варианта x plus 1 и x plus 2.
Ну и там симметричные варианты еще на тему там xx и тут x plus 1.
Что?
Здесь может быть x plus 1, а может быть x plus 2.
Какой не нравится?
Не, в эту сторону выполнится, там все нормально.
Вот.
Так что получается...
Так что если критические точки вам откуда-то заданы,
то эту таблицу вы легко восстанавливаете.
Ну, там за m квадратик.
Скажите, что она, по-моему, больше, чем одна в каждом столбе?
Конечно.
Ну, потому что такая критическая точка в столбце,
это тот момент, когда два соседних элемента перестают быть неровны
и начинают быть равны.
И выше они тоже будут равны, равны, равны.
То-то там выше они не могут стать неровны,
вот как доказали, что этого не бывает.
Вот этого не бывает, значит они до какого-то момента неровны,
потом если они стали равны, то досвидания до конца.
Красота? Красота.
Чего?
Да.
Можно сказать так, или когда они последний раз были неравными.
Ну тут, смотря откуда вы смотрите, если сверху вниз, то наоборот, когда они становятся неравными, ну не важно.
В общем, теперь задача. В общем, короче, у нас теперь задача, сводится к простой задаче.
Найти критические точки. Понятно, да? Всё, то есть задача.
То есть такая вот задачка. Найдите критические точки.
Ну как это сделать?
Ну давайте так, перерывчик нужен.
А это долго делать?
Это, ну не, ну так. Ну, скажем так, это, может быть, относительно больно понимается.
Не сложно делается. Ну то есть так, не сложно делается. То есть, на самом деле, если вы там, в какой-то момент, я надеюсь, вы будете писать код.
Вот. Ну как бы да. Ну как всегда, да. Можете не писать, но как бы, если вы его напишете, то как бы к экзамену вам придётся готовить на один билет на отел меньше.
Это на отел?
Нет, ну обычно да.
Ну вот, но там просто так вот. Код, на самом деле, вы удивитесь, насколько простой.
Нет.
Нет, ну там вот, ну то есть там, вот код будет, нет, ну вы же не знаете, как эти критические точки искать.
Ну вот.
Нет, ну вот.
Так что ладно. Так что давайте пока действительно сделаем перерывчик, прежде чем вот набросится на эту задачу прямо.
Так, давайте всё, финалочка.
Я думаю, да, да, сейчас будет, возможно, немножко прям взрыв мозга такой.
Мозг взрыва.
Вот. Мозг взрыва.
Но, соответственно, я думаю, да, если мы это поймём, то там, я думаю, удастся вас даже и отпустить пораньше.
Нет, ну я не знаю, ну посмотрим, если там останется 40 минут, то, конечно, видимо придётся что-нибудь ещё простое рассказать.
Очевидный алгоритм, я всё понял.
Да, чтоб не цереть.
Но я подозреваю, что совсем халявы тут не будет.
Значит, смотрите, как мы это будем интерпретировать?
Значит, что такое критическая точка?
Критическая точка.
Значит, ещё раз, критическая точка.
Да.
Ну куда ты убегаешь всё время?
Или там вошёл критическая точка, ушёл.
Так.
Так, значит.
Вот.
Значит, смотрите.
То есть, что такое критическая точка?
Это когда у вас в столбце, вот давайте я вот для столбца буду рисовать.
Буду на это опираться.
g, g плюс 1.
Раз, два, три, четыре.
Даже не важно, что там три, четыре.
В общем, какие-то ишечки.
И мы видим, что тут у нас где-то чиселки неровные, неровные, неровные, неровные.
А потом бах, ровные, ровные, ровные, ровные.
Понимаете, да?
А теперь давайте посмотрим.
А что это вообще за неравенство в терминах вот этой нашей штуки?
Вот в терминах нашего графа.
Сейчас я вот это...
Значит, сейчас я это всё сотру.
Вот.
То есть мы опять имеем, да, имеем в виду этот вот мистический граф.
Значит, это я убираю.
Значит, теперь возникает вопрос.
Что это такое?
Если это вот там допустим один,
то есть если это там вот прям начиная с какой-то там единицы,
а, ну ладно, не с единицы, наверное.
Ж, ж плюс один, да.
А нет, с единицы не начинается.
Единицы тут.
Один, два, витёт сверху вниз.
И вот где-то мы здесь доходим до чиселки там просто какой?
До ж плюс один.
Ну здесь точно можно сказать неравенство,
потому что здесь...
А, может и равенство, кстати.
Хотя нет.
Да, потому что здесь у нас что-то от нуля до единицы.
А, ну да, а здесь как бы заведомо ноль.
Ну не важно.
Вот.
Хотя...
Ну да, давайте лучше вот...
А, давайте так, лучше давайте даже плюс два дойдём.
Вот, потому что здесь будет длина заведомо ноль.
А вот здесь она будет, удобно её будет считать,
минус бесконечности.
Значит, смотрите, почему это так удобно?
А вот почему.
Ну, потому что как бы, смотрите, здесь как бы
под строка получается такая пустая,
то есть если бы были полуинтервалом,
она была бы классическая пустая строка.
А тут прям какая-то строка вообще какая-то супер вырежетенная.
Но на самом деле в терминах путей
это как бы перестаёт быть даже рукомаханием.
Потому что я не знаю,
потому что если, смотрите,
если я тут беру какую-то строку,
строку номер и,
то ей соответствуют какие пути.
Вот такой путь,
и вот такой путь, правда?
И если я буду парой путей
сверху вниз считать,
то на самом деле пути будут выглядеть вот таким образом.
Вот один путь,
вот второй путь, там как-то они там пересекаются,
неважно, там третий,
четвёртый и так далее.
И мы замечаем, что если так идти,
то получается, что некоторое время
они как бы получаются кому-то равны,
равны, равны, а потом наступает критическая точка.
Ну там, допустим, вот тут есть,
и они равны, а вы плюс один неравны.
Кстати, давайте неравенство всегда
можно знаком меньше писать, правда?
Ну не может же быть так,
что вот это больше этого,
и получается,
что тут получается знак
меньше иначе, ну вот.
И как бы доказали,
начиная с этого момента,
тут всегда будут знаки меньше.
Вот можно, в принципе, сделать так,
смотрите, то есть я так могу
для каждой пары делать,
то есть вот так, вот так, вот так,
тут меньше, там, допустим, тут меньше.
Вот, но заметим следующее,
если я вот для этой точки нарисую,
вот эта граничная, вот соответствующая g плюс два,
то даже не g плюс два,
это вот g плюс один.
Повторить, пожалуйста, вот...
Ну я рисую
вот эти пары путей
и неравенство между ними.
Что не видно?
Ну что, один, два,
там столбец,
знаки равенства.
Это из ans, да.
А, ну это табличка из ans,
ага, вот.
Так, сейчас давайте я тут по...
вот так нарисую.
Ну вообще заметим, да, что здесь путь равен нулю,
а здесь, а этого пути
какой максимальной,
какой длины у нас есть максимальный путь из этой вершины
в эту вершину?
Ноль.
Да.
Ну мы только вниз снимаем.
Да, нет, вот между вот этой вершины
этой, то есть g плюс один, g плюс один, да,
существует только один вертикальный путь длины ноль,
поэтому максимальный путь длины ноль.
А вот из этой вершины вот,
вот в эту вершину g,
да, минус бесконечность.
Как знак того, что там нет
таких путей.
Ну как бы максимум пустого множества это минус бесконечность,
правда? Поэтому мы здесь пишем,
что тут g или за бетона
будет минус, то есть меньше.
Вот, понятно, да?
То есть в принципе,
то есть смотрите,
то есть на самом деле, если переформулировать
утверждение про столбцы,
да, вот что про столбцы,
то получается следующее, что
начиная, то есть как бы до какого-то момента
идут равенства, а потом
начиная с какого-то момента идут знаки меньше.
В чем знак меньше обязательно где-то будет.
Ну вот, не факт.
На самом деле допустимая ситуация,
когда тут все знаки меньше.
И в некоторых столбцах такое бывает.
Бывает же так, что вот здесь вот это число
не равно вот этому, правда?
Но тогда получается, что оно тут не равно,
а то получается там не равно уже до упора.
Чего?
Чего два не равно?
Чего два не равных символа?
Чтобы получить
гарантированно равно.
Ну да, но у нас все символы начинаются
в один индексация, если что.
Число надо добавить
ну его символ перед всеми,
чтобы попробовать достичь,
чтобы всегда было равно сверху.
Можно, но не очень-то и нужно.
То есть на самом деле нас интересует вот что.
Для каждого вот такого ребра,
ну на самом деле так,
давайте для начала поймем.
То есть утверждается такое,
что для каждого горизонтального ребра
я могу вот такое ввести
такое понятие,
такое мистическое число, как h.
Я его буду называть h от n, j.
Ну потому что вот это вот,
знаете, тут сверху 0, 1, 2 и так далее.
Ну и что? Ну 1, 2,
и что? Ну там понятно,
что еще ниже есть, я просто не дорисовал.
Ну потому что вот мне
удобно было написать пути,
клетки, которые как бы соответствуют
вот этому вот.
Имеется в виду, что типа вот
подстрока с j плюс 2
по j плюс 1, это пустая подстрока?
Да. А подстрока с j плюс 2 по j
это какая-то еще более пустая.
Да. Ну там просто,
смотрите, получается так,
что такое подстрока с l по rt символ?
Вот подстрока с l по rt символ.
Это означает,
что вот у нас есть подстрока t
и вот есть lt символ.
Вот строка начинается как бы
перед ним, то есть граница такая
перед этим символом идет, да?
И заканчивается после r этого
символа.
Поэтому в этом смысле
оказывается, что если l равно r
плюс 1, то как бы начало и конец
строки совпадают и получается, что это
корректная пустая строка.
А вот если l
это r плюс 2, то начинается
неадекватность. И эта неадекватность
хорошо иллюстрируется вот
этой вот минус бесконечностью.
Вот, понятно?
Ну можно там на самом деле более аккуратно
ввести это понятие так, чтобы это
было минус 1, конечно, но
хотя да, для нас строки
минус 1 это, конечно, шедевр, да.
Не, ну мало ничего, строки
длины минус 1. Ну, то есть на кто-то
мнимую единицу уже ввел
и оказалось, что она
ничего такая.
Какая же там
будет 0 или минус 1?
Чего 0
не...
Ну,
а там будет другое понятие.
Там будет другое понятие
символов. Ну, знаете,
когда некоторые собеседования
приходите, единственное не понял, скажите,
а чем занимается ваша компания?
Мы не ограничиваем себя какими-то рамками.
Мы работаем как с B2B,
так и B2C.
Ну, вот. Ну, там
отдельная песня там, конечно, да.
Там что-то такое, да. Мы
на нашей цели действительно решать задачи
в кратчайшие сроки, да.
Так, а чем конкретно вы занимаетесь?
Ну, вот. Так, давайте я позову
лучше еще одного сотрудника, да.
Вот.
Ну, там, да. А, ну ладно, может, ладно,
в конце останется время, я даже покажу и замечаю
это на самом деле.
Вот. Значит, смотрите.
А, что, видели? А, видели, да?
Не надо показать.
Ну, ладно.
Ладно, значит, покажу, это забавно.
Вот. Так что, значит, надо...
Ну, вот, значит, смотрите.
Так. Ну, вот, значит,
значит, смотрите. Теперь мы введем такое понятие
h от nj.
То есть, что... Ну, я тут вот пока,
по каким-то пока техническим причинам, я введу,
что h как будто функция двух параметров,
только первый параметр всегда n.
А второй вот меняется.
Что это такое? То есть, я говорю так.
Для каждого же я беру точку вот
это nj и точку nj плюс 1.
И пытаюсь
рассматривать пару путей, значит,
от точки 0 и
значит, точки вот
это вот nj и nj плюс 1.
Я утверждаю, что
существует такой первый момент,
когда она станет... Когда тут будет
между ними по результату сравнения знак меньше,
и он будет навсегда.
И мне жутко интересно, когда он наступит.
Вот это и есть h от nj.
Да, вот мне интересно.
Ну, мне это интересно как минимум
потому, что h от nj по факту
и дает вам координату критической точки
в житом столбце.
Как-то... Ну, я могу вот повторить
то, что я сказал 30 секунд назад.
Смотрите. То есть, еще раз.
Я беру... Значит, я перебираю...
Смотрите, для каждой точки 0
и я могу рассмотреть кратчайшие пути
вот досюда и вот досюда.
Эти пути либо равны,
либо левые меньше правого.
Так вот, я рассматриваю
такие пару путей для всех i
и записываю ваш от nj первые i,
для которого вот этот путь строго
меньше этого. Он заведомо найдется.
Ну, ж плюс 1 точно подойдет.
Но он может быть и нулем.
То есть, первый момент, когда тут знак меньше.
Ну, на самом деле,
по-хорошему, чтобы совсем красиво было,
надо доказать коррект.
То есть, надо доказать, что действительно
если где-то встретился знак меньше,
то и дальше пойдет знак меньше.
Да.
Но давайте в этих терминах
это тоже увидим.
Ну, по факту это мы тоже доказали.
Но мы сейчас сделаем
это по-другому.
То есть, я утверждаю, что если мы рассмотрим
такую последовательность для такого ребра,
то действительно сначала будут идти
может быть будут идти знаки равенства,
потом мы первый раз увидим знак меньше,
и после этого будут только знаки меньше.
Или что то же самое,
то есть, доказать тут надо следующее.
Никогда не будет так, что вот допустим,
у нас тут идет
знак меньше,
а потом бабах и справа
оказался знак равно.
Вот такого не бывает.
Почему не бывает?
Ну, просто опять же получается, что крест больше полози фейл.
Вот, видно, да?
Ну, просто опять покажется,
что вот это плюс это окажется больше,
чем вот это плюс это, а такого не бывает.
Совершенно верно.
Абсолютно так.
Но просто я хотел это сделать немножко по-другому,
потому что, смотрите, дело в том,
что, то есть, мы это переформулировали
в таких терминах, вот в терминах такого ребра.
Но теперь заметим вот что.
Почему я тут
двух параметров ввел? Потому что заметим,
что у меня тут вообще-то и другие горизонтальные
ребра в графе существуют, правда?
Да, но на самом деле
я утверждаю, что теперь можно ввести
просто понятие h
просто h
от ij, прям для любого i вообще.
То есть теперь я просто могу теперь написать
формальное определение.
Так, ладно, давайте так.
Прежде чем я это сотру, согласны ли вы с тем,
что если я насчитаю h
от nj, вот это вот, да?
В таком виде, то критические
точки я восстановлю, а вместе с этим
решу задачу.
Вроде это они и есть просто. Но это, по сути, да.
Ну там плюс точность,
плюс-минус единички.
h от nj это что?
Типа h от j и j plus 1, да?
Ну да.
Ну то есть нет, это вот
первая j, при которой вот этот путь
меньше вот этого, да.
То есть по сути это будет означать, что
первая горизонталь, в которой вот эта
клеточка меньше этой.
Почему это параметр n, если
да, хочешь параметр j и j plus 1?
Нет, почему j plus 1? Нет,
потому что у меня из этой вершины горизонтальное
ребро из вершины nj
ведет только в клеточку nj plus 1.
У меня, в общем-то, из вершины ребер
кто-то тут небогато ведет.
А вот за что.
Ну вот, в данном случае пока
просто технически. Я мог бы тут просто h от j
написать.
Но я напишу h от nj. Почему?
Потому что я для любого горизонтального
ребра, в принципе, могу такую же величину
рассмотреть.
Ровно с тем же доказательством.
То есть я поэтому и хочу
вот это вот убрать.
И прямо
ввести
мистическое определение.
Определение такое.
Смотрите, h от ij
где у меня соответственно
0 меньше
либо равно i меньше
там меньше либо равно n.
Значит, 0 меньше
либо равно j меньше m.
Это
значит
минимальное
такое
ну я не знаю.
Допустим.
Нет, давайте тут все-таки x допишем.
Ну раз
и и j вот так вот гуляют
то давайте у нас тут все-таки вот
все-таки x будет.
Ну просто логично.
То есть x у меня вот по n
и j у меня m. Значит это
минимальное такое и
что?
Расстояние
от клеточки
значит
соответственно
0 и
в
клеточку xj
строго меньше
чем расстояние
от той же самой клеточки
до xj плюс 1
то есть вот этого вот соседа.
Вот формальное определение звучит так.
Ну дист естественно в максимальном смысле.
То есть мы еще максимальное расстояние не минимальное.
То есть максимальный путь.
Ну просто смотрите
не только
по нижней лиге.
Да я абсолютно для любого
горизонтального ребра на самом деле
могу находить те же самые
пары и с теми же самыми
свойствами. Правда? Правда не факт,
что это уже будет корректно определено.
Почему? Может быть всегда равно
начинать с этого момента. Нет.
Ну почему? Не-не-не, подождите.
И не превосходит g плюс 1.
Потому что из точки 0g плюс 1
вы в клеточку xj придете
только за минус бесконечности.
Ну я про то, что если мы возьмем x
с которого все равенства идут
у нас может быть такое?
Нет, в смысле все равенства. У вас идут сначала
все равенства, потом все неравенства.
То есть может быть так, что в принципе все неравенства,
но тогда это вот h равно
просто 0.
То есть для этого вот это и вводили,
что как бы минус бесконечность 0 наступит всегда.
Вот в этой вот ситуации
вот минус бесконечность 0
и знак меньше наступит всегда.
Было ли, успело ли наступить,
было успело ли пожить равенство,
вот это вопрос.
А вот неравенство будет жить,
неравенство где-нибудь возникнет всегда.
Вот нам это очень удобно.
Ну вот. Ну да.
А хилософский вопрос, что там дальше?
Ну там начинаются эти все минус первые символы
и прочая радость.
Вот. Так вот.
Так вот?
0g.
Диск от 0g.
Диск от 0g
от 0i
до xg.
И тут диск от 0i
до xg плюс 1.
Ну чтобы вот горизонтальное ребро,
вот типа это xg,
а это
xg плюс 1.
Вот.
Понятно?
То есть вот такая h определена.
То есть я для всех горизонтальных ребер
определил такую h.
Но моя цель в общем забирать перед
будет вычислить эту h.
Понятно?
Вот.
Топереча.
Топереча.
Значит технология такая.
Да, на самом деле не сложная, но как всегда.
Тут как с декартовыми деревьями.
Знаете, надо в это один раз въехать.
Это может быть больно.
Но зато если въехали, то там уже все понятно.
Вот.
Дело в том, что рядом с h
от xg
мне очень хочется ввести
еще такую же штуку посчитать
для вертикальных ребер.
В от xg.
Но что это
для вертикальных xg?
А вот что.
Смотрите.
Вот у нас
только с оговоркой.
Что значит то же самое?
Вертикальные ребра приехали.
Нет.
Как это?
Почему?
Не понял.
Критические точки
завязаны на то, что это значение
функции h
в нижнем ряду.
Да.
А еще
координаты критической точки
берутся из нижнего ряда
этой таблички h.
Это другая табличка.
Там критическая точка
бралась из таблички ансов.
Но оказалось,
что мы можем ввести
на каждом горизонтальном ребре
такую функцию h.
И окажется, что
для этих ребер
у нас тут много.
Я тут не нарисовал, но на самом деле
вот тут ребра, вот тут ребра.
Так вот, если брать h для нижнего ряда,
то наши, они на самом деле соответствуют
критическим точкам в таблице ансов.
Но нет, мы уже давно поняли,
мы и так там поняли, что из определений
критической точки следует, что их там
в каждом столбце не больше 1.
И координата ее
в принципе задается
вот этим h.
Ну или если она 0,
это значит, если h равно 0, значит критической
точки нету.
Но по сути даже не критическая точка еще удобнее.
Это в каждом столбце у вас написано,
что начиная с этого момента и ниже,
каждое следующее это как предыдущее
плюс 1, а выше этого момента
то значит
то же, что было и раньше.
То есть получается, можно там
табличку слева направо замощать.
Так что это еще круче.
Так что даже
при наличии a в терминах h
можно вообще отказаться от понятия критическая точка.
Нет, ну в смысле,
ну у тебя просто
что такое h от ng?
Это номер строчки, начиная
с которой у тебя там
то есть начиная с которой у тебя вот справа
будет больше, чем слева.
Поэтому идея такая,
если у тебя есть вот этот столбец, и ты знаешь
житый столбец, и ты знаешь h от ng,
то как бы следующий ты просто до этого момента
копируешь, а после этого копируешь плюс 1.
Все.
Нет, там
кроме критических точек
может быть только один случай.
Это если, и он тут учитывается,
если h от ng равно 0,
это означает, что ты просто весь столбец
копируешь плюс 1.
То есть это значит, что тут
с плюс 1 и значит везде дальше будет
плюс 1.
Да.
Да.
На критической точку
можно
не просто
однозначно восстановить,
а просто заполнить прежними значениями.
Какими прежними?
Ну,
однозначно восстановить в таблицу ans, да.
Однозначно я понимаю, но
не то, что это прямо скопировать
все значения типа.
Ну где-то скопировать, где-то скопировать плюс 1.
Да, да, но это все однозначно.
Ну как бы по критической точке
восстанавливать однозначно, где скопировать
и где скопировать плюс 1.
Но скопировать плюс 1
это не значит, что это критическая точка.
Там есть случаи, когда скопировать плюс 1
это не критическая точка.
Нет, всего не так.
Есть только один случай. Есть случаи,
когда критической точки в этом столбце нет вообще.
Тогда надо весь столбец скопировать
плюс 1.
Ниже критической точки всегда
плюс 1, выше всегда равно.
Ну, кроме там ноль-ноль.
Ну вот. Нет, ну там просто можно...
Ладно.
Ну вот. Ну лучше
отдельно развиваться, потому что если вы поймете вот правильное то,
что такое h в те... Что такое вот это
h от ng в термина ханса, то в общем-то там
ответ уже без труда восстанавливается.
То есть можно даже не записывать прям
критическую точку, а прям по h. Ну не важно.
Так вот.
Значит, ашечка.
Что такое v-шечка?
Что такое vxj? Это означает следующее.
Что я возьму тут где-нибудь вот x, я пониже возьму.
Пу-пу-пу-пу-пум.
И вот у меня тут вот такое ребро.
Это точка xj.
Это точка
xj плюс 1.
Видите, да?
Так вот. Что я делал?
Ну я тоже возьму от таких
напарников.
То есть вот такую пару, вот такую
пару, вот такую пару,
вот такую пару,
вот такую пару,
вот такую... О, Господи,
что я пою? Я еще и пою, да?
Ну ладно. Так.
Что там еще? Вот такую.
Ну и так. В общем, принцип вы поняли, да?
Вот так вот.
Ну...
А, ой-ой-ой.
Ой-ой-ой.
Вот. Все. Вот так вот.
Вот так. Да, я вертикальный ребер.
Мы же вертикальный ребер берем. Вот.
Так вот, смотрите.
Теперь фишка такая.
Какие тут знаки неравенства
вообще могут быть?
Но заметим, что тут вот такого
знака не может быть в принципе, правда?
Вы...
Нижний путь меньше, чем верхний?
Да, такого... Да, я вот вижу, что такого не бывает.
Но как минимум потому, что мы в эту точку
можем попасть как минимум по этому пути
плюс ноль.
Поэтому да. Значит, речь идет
о знаках там
больше и о знаках равно в каком-то
рандомном порядке.
Или нерандомном.
Да.
Но мы легко, опять же,
по мистическому принципу вида крест
не может быть больше полозиев,
выясняем, что не может быть так,
что тут идет равно, а потом идет
больше.
Следовательно, у нас
идет больше, больше, больше, больше,
а потом с какого-то момента равно и до конца.
Причем рано или поздно момент равно
наступит, потому что вот из этой точки
путь сюда и сюда по любому ноль-ноль.
Но там
других путей нет.
Поэтому получается, что
v от g, я могу теперь тоже ввести это
определение, v от g
это тоже равно
минимальное такое
x и
что dist от
значит
0 и
x
g
оказывается равен
dist
от 0 и
и x плюс 1 g.
Оп, оп, оп.
Красота, красота.
Вот.
Так что вот такая вот красота
у меня получается.
Вот.
Ну и идея у меня теперь
заключается в том, что у меня есть h
и у меня есть v.
Я хочу просто, да, для
того, ну как всегда, чтобы посчитать нижний ряд
h, я себе облегчу задание
и посчитаю h для всех
реизотальных рядов.
А чтобы посчитать все h, я себе тоже
облегчу задание и посчитаю еще и v
для всех вертикальных рядов.
Ну, типичная динамика, правда?
То есть чтобы посчитать
одну величину сложно,
а посчитать там nm однотипных
да запросто.
Ну, давайте
разбираться.
Ну, во-первых, значит,
как же нам это сделать?
Ну, во-первых, заметим, что для
вот этих, для вот этих ребер
и вот этих ребер посчитать h и v
достаточно просто, правда?
Вот, например,
для вот ребра
вот этого вот,
и и плюс один, как вы думаете,
какое здесь значение h?
h
не a, а h,
h.
То есть h здесь как бы не в
суфферсе.
Значит, h, значит, посчитать
вот эту вот штуку. Вот h
здесь равно для этого ребра.
Мимо.
Потому что путь отсюда-сюда
равен пути отсюда-досюда.
Так, чему?
А надо меньше?
Откуда?
Ну, да, да, и плюс один.
Потому что путь отсюда-сюда
минус бесконечности, а путь отсюда-сюда
ноль.
Поэтому и плюс один.
Еще раз.
Ну, и здесь, соответственно,
один, два там и так далее,
тут и плюс один, и плюс два там
и так далее.
Это я посчитал h для
вот конкретно этих ребер.
Ребер верхнего ряда.
Нет, h от...
Нет, h от даже
ноль, даже ноль и я бы сказал.
Сейчас, и почему это именно
плюс один?
Так там же просто ноль будет. Нет.
Нет, ноль это расстояние.
Смотрите, просто до этой точки
расстояние, то есть
длина расстояния от всех
этих точек до сюда равен ноль,
но расстояние отсюда-сюда равно
минут бесконечности.
Поэтому получается, что это начинается
первый момент, когда расстояние отсюда-сюда
меньше, чем расстояние отсюда-сюда.
Поэтому пишем и плюс один.
Вот получается такая красота.
А чему равны
v для вертикальных ребер
самого левого ряда?
Для нулевого столбца.
А если подумать?
Да.
Например.
Чего еще раз?
Это было h от и в ноль.
То есть я пока
хочу...
Да, утверждение.
Для любого и
h от и ноль
равно и плюс один.
Ладно, ладно.
Да, да, да.
Извините, извините.
Смотришь лигу,
видишь португальского футболиста.
Боже, кто-то его помнит,
как приятно.
Господи, хотя он, по-моему,
закончил карьеру, возможно, еще до вашего
рождения.
Ну ладно, где можно
закончить карьеру? У нас было там
ванжи, но нет, ванжи он все-таки
не играл, да. Ладно.
Нет, ну да, там играли, да.
Да, да, да.
Но фигу там не играл,
словом, да.
Хотя знаете, где топовые
португальцы могут закончить карьеру,
как выясняется, да?
Нет, ну может это еще не конец,
мало ли.
Его же могут в Китай куда-нибудь
еще позвать.
Ладно, так, если мы сейчас еще и про футбол
говорить будем, так.
Ладно, теперь.
Значит, самое интересное для нас,
для любого жи,
там в,
ладно, для любого икса, вот так,
в от икс ноль
равно, вот им три,
чьи будут?
Мимо.
Ну, возможно, дело
в аднексации.
Не-не-не-не.
Но внимательно посмотрите
на определение.
Напоминаю, у нас тут все с нуля
нумируется, да, то есть видите, строки нумируются
с нуля, столбцы тоже так с нуля нумируются.
Граничная церковь, да?
Нет.
А куда икс плюс один?
А почему?
А я не знаю, почему
вы на столько времени называете все, что
одно, кроме нуля. Конечно, ноль, вы что?
Где ноль?
Ну, потому что,
смотрите, нам нужен первый столбец,
когда, то есть первая точка,
чтобы путь до сюда был равен
пути до сюда. Так, смотрим,
вот у нас ребро, так, путь из
нуля равен, да.
Потому что у нас сначала знаки больше,
а потом знаки равно, и нам нужен первый знак,
когда равно. И вот путь до сюда
равен пути до сюда, все, ноль.
Нет, путь от единички,
мы рассматриваем ребро вот на этом столбце,
а путь от единички это путь отсюда.
Так что тут будут две минус бесконечности.
Нуля же, путь её нет.
Да, но путь есть
и он ноль. Поэтому здесь ноль,
здесь ноль, поэтому получается, это
тоже подходит.
Видите В, это тут равенство стоит,
то есть как бы,
тут переходный момент, когда начинается равенство,
тут приходный момент, когда равенство заканчивается.
То есть, видите,
на горизонтальных ребрах сначала равенство,
потом не равенство, потом наоборот. Сначала
не равенство, потом равенство.
Ну, по x0 равенство 0, до x равенство есть, оно всё равно 0.
А у нас пути равны? Сейчас, сейчас.
Нет, почему? До какого x?
x тут значение меньше, x это как бы высота.
Да, да, но x плюс 1 это даёт нам бесконечность.
Не даёт. Нет, смотрите.
Ну, я не знаю, видимо у вас тут, да, видимо какой-то сбой в индексации, но вообще вот эта точка x0 у нас, а эта точка x плюс 1 0.
Да.
Ну вот.
x плюс 1 и x0?
Так нам, нет, нам не надо доходить, только нам и не надо доходить отсюда-сюда.
Нам надо из этой, из каждой из этих точек доходить сюда и сюда.
И замечательно, что из этой точки мы и сюда, и сюда дойти прекрасно можем.
А отсюда, кстати, не можем, но одновременно.
Ну что, Николай?
А у меня...
Вот.
Значит, вот такая красота получается, красивая.
Значит, хорошо.
Так сказать, базу динамики посчитали легко.
Да, то есть, знаете, как часто в динамике нетривиально понять решение, но зато тривиально его закудить.
Вот.
А теперь самое интересное.
Теперь надо пересчитать клеточка.
То есть, смотрите, клеточка.
Итак, значит, жил-был клеточка.
Вот он.
Значит, это клеточка х и, х и плюс один.
Тут точечки.
Ну, клеточка это четыре точечки.
Так, х плюс один и, х плюс один и плюс один.
Вот.
То есть, вот у меня есть вот такой клеточка.
Да, еще в нем может быть вот это ребро.
А может и не быть.
Ну, как повезет, правда?
Вот.
Так вот.
Ну, или, знаете, можно считать, что вес этого ребра, это на самом деле такая булевая величина.
Сх равно, равно.
Там т от...
От чего там получается?
Ой, вранье, ой, вранье.
То есть, на самом деле, тут вот эта величина, это называется тут Сх плюс один даже.
Ну, даже в один дексации строки.
Равно т от и плюс один.
Ну, то есть, потому что можно считать, что это ребро есть всегда.
Просто если символы не равны, то тогда вес этого ребра равен нулю.
И это ни на что не влияет, потому что по 00 так сюда можно попасть.
Вот.
Так вот.
Предположим, что мы случайно знаем, что тут h от x равно h, а v от x и равно v, соответственно.
Да.
Так вот.
Я очень хочу найти величины вот в этом ребре h' и v'.
Вот прям вот очень-очень-очень хочу.
Да, я знаю h от x и я знаю v от x.
Ну и как вы догадываетесь, что здесь не так тривиально?
Потому что, значит, v' у меня по определению будет равно h от x и и плюс один, соответственно.
А вот h', ладно, в, в, конечно, в, в.
А h' это будет по определению равно, значит, h от, соответственно, x плюс один и и.
Только теперь вот возникает вопрос.
h' v' чему они равны?
Вот мне жутко интересно.
Понятно, да?
Ну, v' вожди.
Очевидность и зависимость между зеленым и рюкзам этим игре?
Не факт.
Ну, значит, смотрите.
Ой, Господи.
Да нет, я просто прикидываю.
Нет, за углом доски не стоит второй.
Ну ладно.
Жалко, она просто сейчас так не помешала.
Давайте смотреть.
Ну, давайте так.
Нет, просто.
Нет, просто мне бы одну табличку нарисовать.
Еще.
Ну, давайте попробуем.
Ну ладно, давайте, так, я вот, давайте вот тут все постираю.
Значит, смотрите, просто.
Значит, табличку я мысленно остался.
Значит, смотрите, просто табличку я мысленно хочу
нарисовать примерно такой.
Значит, я хочу, чтобы тут у меня шло, там и, вот это
вот равно, там ноль, там один, два, три, там и так далее
какой-нибудь там, сколько там, м в конце, вот, а здесь
я хочу рисовать, чтобы у меня было, значит, дист,
значит от этой точки ноль и до всех вот этих вот нас
интересующих точек.
Опять, ну опять просто коллизия с буквками.
Давайте тут игрок нарисуем наконец нормально.
Ну как-то давно пора, правда?
Пора, пора, пора, пери, пери, пери, да, да, все в этом
мире пора, кроме того, что не пора, и давайте не будем
с этим спорить, так, так, значит, смотрите, да, причем
главное, я хочу не сами эти дисты написать, а я хочу
написать результаты сравнений, то есть я хочу сравнивать,
вот смотрите, я хочу сравнивать дист, значит, от ноль и х игрока,
я хочу его сравнивать с расстоянием, соответственно,
от ноль и до, значит, соответственно, х игрок плюс один, вот,
я хочу их сравнивать, ну, versus, значит, что значит сравнивать?
Ну, вот, просто когда-то они равны, когда-то здесь
все-таки стоит знак больше, когда, ну, очевидно, что
тут стоит равно, равно, равно, равно, равно, да, равно,
равно, равно, и в какой-то момент наступает момент
h, в котором находится тут меньше, меньше и так далее,
но это просто определение h, правда, понимаете, да?
Аналогичным образом, так, давайте я тут еще напишу,
значит, я могу сравнивать, ну, я, в общем, все эти пары
хочу тут написать, короче, вот, да, тут, да, тут должна
это там что-то балалайкой заиграть, а, как же, а,
гамариху, это две фамилии, да, угадайте, угадайте,
в каком месте разделение, да, совершенно верно, после
горазделения, очевидно, не, не угадал, так, нет, да, блин,
это город такой, да, так, так, значит, так,
так, я себе еще быстрее рисовать умел, но вы там, ладно, на монтаже
там это подкрутите там, да,
так, ну, на самом деле, а что-то подобное, да, да, да, да, как-то, да, как всегда, на самом
деле, да, пока я рисую, у вас есть шанс попытаться угадать, да,
собственно, пробить концовку, да, ну, а что, не так понятно, что происходит, вот, так вот,
значит, смотрите, давайте рисовать, что же тут будет, тут будет равно-равно-равно, давайте,
так, какие бы нам случаи рассмотреть, ну, начнем, знаете, вот, по каким-то причинам,
я начну со случая, когда h меньше, чем v, вот, давайте, вот тут h и вот где-то тут у меня v,
тогда, значит, вот в этом вот, что, ну, не больше, ладно, мы так нарисовали,
что скорее меньше, что меньше, видите, потому что тут как бы x, x плюс 1, да,
поэтому получается меньше-меньше-меньше-меньше-меньше-меньше-меньше, а тут равно-равно-равно,
вот, понятно, да, вот, нет, это мы нарисовали, что происходит вот с этим ребром и с вот этим
ребром, да, h и v, то есть вот это, это типа вот откуда мы взяли h, это типа откуда мы взяли v,
это мы откуда мы взяли h, это мы откуда мы взяли v, точнее, пытаемся взять, то есть вот это,
эти результаты сравнения мы точно знаем по вот этим числам ошибы, а вот h и v нам предстоит найти,
как же мы это сделаем, а давайте вот как, смотрите, что вообще это за числа, да, то есть, напоминаем,
мы, то есть, как бы, если внимательно посмотреть, то по факту у нас есть клеточка, и мы ее подцепляем
троллеем, то есть, четырьмя троллеями, вот, примерно, вот так вот, собственно,
на, собственно, к одной вот этой точке и пытаемся эти пути как-то сравнивать, правда?
Почему у вас v какое-то булевое выражение равно лидисты?
Где я написал, что v равно этому булевому выражению?
Я написал, что вот у меня и ребро, из которого я взял v, а это булевые выражения, то есть,
я тут пробегаюсь по всем и и беру булевые выражения для каждого из этих, ну, булевые выражения,
типа, равны ли там соответствующие пути или там, чему они там, кто там больше, кто там меньше,
то есть, у меня как бы и у меня тут пробегается, и результаты вот этих сравнений, они разные,
вот я их все записываю. Есть тот кто-нибудь? Ну, да, но на самом деле нет. Хотя, вы знаете,
если 0 и вот сейчас повесить, знаете, слушайте, а давайте попробуем, так удобнее будет, действительно.
Вот давайте представим, что у нас 0 и неожиданно вот влезло вот сюда, то есть, это вот такое,
типа, 0 и, там центр, ну, это значит там, не-не-не-не, пока просто трайдер, значит, а это точки,
значит, соответственно, xj, там, соответственно, xj, ладно, xy, xy плюс 1, да что у вас там за скала
такая происходит, да, во, и вот смотрите, вот отсюда я взял h и v, да, ну, тут у меня брались какие-то
h и v, и тут я хочу установить h' и v'. Так вот, вот тут у меня какая-то точка 0 и, да, на самом деле,
ее там надо поднять и аккуратненько отнести вам туда, но как бы вот удобнее так воображать.
Итак, давайте себе представим, что и находится где-то вот в этой зоне, да, ну, и же пробегает у нас
все вот это, да, и теперь пока и меньше, чем h. Если вот действительно, и меньше чем h,
тогда, что у нас получается? Тогда у нас получается, что вот здесь у нас знак равенства,
а здесь у нас знак неравенства, логично, да, ну, то есть, вот этот путь равен вот этому,
но этот путь меньше, чем вот этот. Ровно вот это тут и написано.
Так вот, ну тогда смотрите, тогда тут идея такая, тогда если длина этого пути
х, то тогда вот это х, это, а это х плюс 1, но тогда вот этот путь я утверждаю, что
он определяется абсолютно однозначно, потому что меньше чем х плюс 1 он быть не может,
а больше тоже не может, потому что не может быть что тут х, а тут скакнули и сразу х плюс 2.
Ну я утверждаю, что вот этот путь не может быть длиннее, чем там больше, чем вот этот путь.
Где какая? А, ой господи. Нет, ну да-да-да, согласен. Ладно, вот эта длина,
хорошо, длина этого пути это л, тогда тут л, тут л плюс 1. Ну потому что они не равны.
Да, ну там ладно, на самом деле, конечно, да, то есть можно, конечно, пытаться, то есть как бы верно,
что вот этот путь больше этого, это да, вопрос как бы может ли быть так, что он там л плюс 2,
л плюс 3 или что-то еще в этом роде. Ну вот, но я утверждаю, что на самом деле да.
Ну потому что, смотрите, а по той же причине, потому что с одной стороны,
меньше, чем л плюс 1 здесь быть не может, потому что дошли до сюда и прошли еще так,
но с другой стороны, да, не такая древиальная теория, но тем не менее, что больше, но тогда
больше, чем вот это плюс 1 тоже быть не может, тоже там соседнее ребро. Потому что оно не
может быть больше, чем вот это ребро плюс 1. Ну нет, ну там, ладно, доказательств остаются в
качестве упражнений, это называется. Ну и на экзамен тоже. Нет, ну там на самом деле просто
доказывается абсолютно так же, как доказывается, что в исходной просто таблице динамики не может
быть так, что там рядом с числом стоит число как бы больше предыдущего на 2. Там просто так
получается. Я рассматриваю кратчайшие пути вот до этих вот четырех точек нашей клеточки.
Нет, от точки 0 и где и меньше, чем h. То есть и у меня сейчас пока находится где-то здесь.
Это маленький. Ну у меня больше доски нет. Это посередине. Ну посередине это точка 0 и.
Ну то есть понятно, эта точка должна находиться где-то вот здесь вот конечно,
но так четыре пути просто пересекаться. Ну потому что нет, мы сказали так,
что по сути, вот эти равенства не равенства, а значит, что вот этот путь равен вот этому и этот путь
меньше вот этого. Поэтому я говорю, пусть этот путь равен l, тогда вот этот тоже автоматически
равен l, а этот раз он больше, значит он l Ghana, потому что он vac.
Но он не больше чем вот это plus 1, то есть опять же lFlost. То есть
ну, то есть, однозначно, но тогда, раз тут I,
тогда получается, что и тут неравенство
Тут вот такое, а тут вот такое
То есть, тогда, что получается
На горизонтальных ребрах тоже сохраняется равенство
Вот у нас горизонтальное ребро
и мы支о acrony for hom spin
Это называется равенство, равенство
И тут получается меньшеtown town town
Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше. Больше.
Нет, L не имеет никакого отношения.
L это dist.
Да, dist от 0 и до x.
Ой, Господи.
Господи. Вам еще макроэкономику учить.
Макроэкономика?
Нам кажется...
А у вас не будет макроэкономики?
Макроэкономику у нас на четвертом курсе.
Нет, если у вас будет годовой курс,
то я вам просто открою. Первый семестр будет
микроэкономика, а второй макроэкономика.
Скорее всего микроэкономика будет.
Вcrates часть макроэкономики будет.
Я думаю, как?
Оставить вас только на микроэкономики...
Нет, просто как бы...
Просто как бы микроэкономика
это когда вы фирма, а макроэкономика
то когда вы центробанк.
А мы фирма?
Не, но микроэкономика
это как-то локальная фирма, вы думаете
как устанавливать цену на продукты,
так, чтобы в зависимости от роста было что-то максимально.
Макроэкономика это значит, у вас
печатная машинка которая печатает деньги вот причем более нет она еще не просто умеет
печатать произвольным образом деньги она еще умеет их засосывать обратно вот но там условно вы
ну ладно допустим там она еще и там с устроенным шредером еще допустим да вот и нет и на самом
деле там серьезная наука там потому что как бы чем занимается центробанк он по сути занимается тем
что печатает деньги или наводом вопрос только нет нет как бы вопрос только вопрос только том
что во первых как бы и с какой интенсивностью он это делает и собственно говоря но ты каким
образом и каким образом он еще и там выдают это выдают их людям вот и на самом деле макроэкономик
это наук о том что там потом в мире происходит в зависимости от этого но я думаю там основы хотя
бы на таком уровне будут нет нет на самом деле нет просто шутки шутки но просто это то есть на
реально так работает там дороже а что просто как сделать всем счастья просто запечатать много
денег не работает почему не работает потому что просто все начинают продавать свои товары чуть
дороже даже не что и серия сильно это называется инфляция потому что то есть когда деньги просто
ценится то есть когда деньги это начинают цениться там собственно меньше вот то есть нет это вот то
есть это собственно реальна просто то есть вот т Somewhere CAN If Céisle
То есть это вот действительно такое, что происходит, это вас, соответственно, в любом курсе с особо макроэкономитежом.
Там просто начинается огромное количество переменных, я вот что вспомнил.
Там просто придется все запоминать, что это сальдо положительного баланса, то есть это сальдо баланса, это называется инфляция, это там какие-то цены, и так далее.
В общем, там просто предсказания будете, вбросили 120 тысяч, насколько увеличится безработица или что-то в этом роде.
Вот.
То есть там, ну там, наконец-то, попродвинутая наука, на самом деле, то есть там, на самом деле, у меня осталось ощущение, что нужно обладать все-таки какие-то вот правильно повернутым мозгом, на самом деле, чтобы это в этом ехать.
Вот.
Так что, соответственно.
Вот.
Так вот.
Значит, смотрите, хорошо, тут равно меньше.
Теперь давайте перейдем к ситуации, когда и у меня будет, наоборот, слишком большим.
Ну, где-нибудь вот, где и вот, наоборот, справа.
То есть, когда у нас знак здесь, знак меньше, а тут знак равно.
Ну, в общем-то, глобально ничего не поменяется, просто тут будет L плюс 1, тут L, а тут, соответственно, автоматически тоже L плюс 1, ну, по ассиметричным причинам.
Ну, тут L плюс 1, тут L, а тут L плюс 1.
Потому что это здесь не меньше, чем L плюс 1, но и не больше, чем вот это плюс 1, то есть L плюс 1.
Ну, рассуждение абсолютно то же самое.
И это если и больше, чем V?
Да, это если и больше, чем V даже.
Вот, чтобы знаки были именно такие.
Вот.
Получается, ну, тогда получается, что мы здесь тоже копируем знаки, то есть получается меньше равно, там меньше равно, меньше равно, прям вот, начиная с V, меньше равно.
Вот, а теперь самое интересное.
Между H и V.
Вот, и находится где-то здесь.
Как-то это мы находимся, да, знаете это, вот, как это, волк увидел красную шапочку, улыбнулся и сказал, мы находимся в машиностроительном цеху нашего завода.
Что, почему, да?
Да, нет, нет, там другое, там была, нет, просто, знаете, старый номер Хазанова, там такой, что типа, у меня там что-то такое радио, которое переключает передачи, просто белое.
Без, там, вашего участия.
Ну, и там, там просто уже начало, да, послушай сказку про красную шапочку.
Там испекла как-то бабушка, мама красной шапочки вкусные пирожки, которые выдерживают давление до семьи атмосфер, ими можно забивать свои, проводить горные работы, ну и так далее.
Да, ну ладно, там, да, можно не так резко, но суть примерно та же, да.
Ну ладно, можете обуглануть, там, Хазанов, сломанное радио, там, замечательно.
Вот, так вот, значит, что делать, если тут везде знак меньше?
Вот, мы пришли, когда мы находимся вот в нашем цеху между переменами H и V.
Ну, где-то между, включительно, да, ну и равно, нет, ну и, может быть, где-то между H и V, пока H меньше V, напоминаем.
Тогда, получается, тут знак меньше, тут знак меньше.
Ну, теперь думаем, что может быть здесь?
Ну, казалось бы, да, не менее, чем L плюс один, но, может быть, и L плюс два, на этот раз халявных противоречий таких нет, правда?
Казалось бы.
Ну, теперь давайте вспомним, откуда мы эти расстояния вообще считаем.
Если бы зафиксировали start ноль и расстояние, считали бы расстояние от нули до всех точек,
то мы бы это считали явно DП-шкой, правда?
То есть мы бы считали, что это либо расстояние до сюда, либо расстояние до сюда, либо расстояние от сюда плюс один, если тут подходящее ребро есть, да?
Но заметим, что больше, чем L плюс один, мы всё равно от сюда таким образом не выжмем, правда?
Да, и тут L плюс один, и тут L и тут L плюс один, от сюда, может быть, там, L плюс один и выжмем, да.
Поэтому, получается, здесь тоже l плюс 1, и тут получается равенство.
То есть, получается, тут равно равно равно равно равно равно равно.
Ну и получается, что, соответственно, h штрих у нас получается вот здесь.
То есть, получается, h штрих у нас находится в этом случае здесь, а v штрих получается здесь.
То есть, получается, что если мы пришли к ситуации, когда h равно v, то получается h штрих этого штрих.
Это те же самые h и v, только свапнутые.
Видите, да?
У нас есть время, чтобы заново...
Ну, зависит от того, придет ли следующий преподаватель или нет.
Можно выбирать дверь, чтобы...
Не надо.
Значит, смотрите, тут знак меньше, тут знак меньше, да?
Вот.
Значит, смотрите.
Тут тогда l, l плюс 1, l плюс 1.
А тут я отражаю, что тут l плюс 1.
Потому что расстояние до сюда это либо расстояние до сюда плюс 0, либо расстояние до сюда плюс 0, либоط
либо вот это вот ребро, которое 0, либо 1?
Значит, получается, тут кроме l плюс 1 быть ничего не может.
Значит, получается равно равно равно contempor Mu cévmat.
потому что л плюс один и тут л плюс один не погодите тут сейчас вот самое интересное вот
тут тут тут тут такая красота ты тут и иди какой-то нет пирамида масло это вы вот пойдете и будете
ее там себе намазывать да так значит смотрите а теперь самое интересное что делать если в
равно вот значит но заметим вот то что между ними происходит я менять не буду потому что видеть
то что вот понятно будут в начале зона вот такая зона вот такая его анализ не как не меняется но
если оказалось что все-таки вы меньше аша тогда оказывается что тут равно равно равно und тут
равно равно равно вот аж больше чем бы это она и есть этот случай есть но кстати если они равны
то в общем-то если они равны, то тут в общем-то два коридорчика схлопываются, это неинтересно.
Я про то, что после вот, после последнего у нас что будет?
После кого? Не понял вопроса вообще.
Вот когда у вас была h, v, после v, мы разобрались в случае?
Нет, ну справа от v, да вот это да, вот когда тут было v, мы ж вот это все расписали.
Мы это вроде бля не расписали.
Нет, вот это мы расписали сначала то, что слева, потом то, что справа, потом в конце расписали, что тут меньше-менше,
когда тут меньше-менше, и тут меньше-менше, мы расписали.
А теперь, ну это было если v больше h.
Но если оказалось, что v меньше h, то тут оказалась такая серая зона равенств.
Видите, да?
Но если v равно h, то этой серой зоны нет вообще.
И нам повезло. Но если v меньше h, то вот тут начинается интересность.
Смотрите внимательно.
Потому что тогда, раз тут равенство, то тогда оказывается, что здесь у нас l, и тут тоже равенство, и тут l.
А что тогда здесь?
Да, и на этот раз то, что здесь зависит от того, равны ли соответствующие символы или нет.
То есть тут оказывается еще два подслучия.
Потому что если оказалось, что s от x плюс 1, допустим, равно t от y плюс 1, если так случайно оказалось,
то мы вынуждены заключить, что в этом случае тогда здесь l плюс 1, потому что вот это вот ребро есть.
Но тогда в этом красивом случае, будем его зеленым рисовывать,
в этом красивом случае тогда тут получается неравенство,
и тут получается меньше, меньше, меньше и меньше, меньше, меньше.
И в этом случае оказывается, что... что тут оказывается?
Что h-стрих здесь, ну и v-стрих здесь.
Ну ладно, будем тогда рисовать синим.
Но это если символы случайно оказались равны.
Вот, понятно, да?
Но если оказалось, что символы не равны, то что тогда происходит?
Вот давайте, на этот раз я синим нарисую.
s от x плюс 1 равно t от...
То есть наоборот, не равно y плюс 1.
О!
Тогда мы вынуждены заключить, что тут все еще l.
Но тогда тут равенство и тут равенство.
То есть тогда оказывается, что в этом случае тут равно равно равно и равно равно равно.
И в этом случае, ну тогда получается, что h-трих здесь, а v-трих здесь.
То есть получается, ну отсюда можно вывести, что каждый раз просто эти h и v они практически всегда просто тупо копируются.
Только в одном конкретном там экзотическом случае они не просто копируются, а еще и свапаются.
То есть в коде это вообще прям будет...
То есть 4i, 4g, говорите, что там либо скопировать, и если там что-то произошло, то свапнуть.
Да.
Ну потому что, видите, почти всегда оказывается, что v и v-трих, там h-трих.
Вот в прошлый раз оказалось, что там...
А, ну нет, в прошлый раз надо было их тоже скопировать и свапнуть.
В этот раз в какой-то там, в зависимости, если повезет, надо свапать, если не повезет, не надо.
И видимо еще приравнять.
Ну там просто, ну правда свап, нет, точнее не приравнять, а там свапать или не свапать,
и это зависит от того, равны ли там символы или нет.
Но это логично, как-то странно было бы, чтобы этот код никак не зависел вот от этого.
Не свапать, а видимо...
Ну в данном случае, ну как бы так, вот видите, их надо скопировать, а потом либо свапнуть, а потом эти копии надо либо...
Нет, не символы, а значения v и h.
Ну как бы вот есть h и v. Есть h и v.
Тихо-тихо, я отъезжаю, что их надо h-ку скопировать сюда, v-ку скопировать сюда,
потом эти штуки либо свапать, либо нет.
Вот. И тут вот разбирается случай.
Нет. Нет, наоборот красота на самом деле.
А, если...
То есть мы что-то вообще делаем странное, ну например свап, да?
Ага.
Но только если мы лежим между v и h.
Так, чего свап?
Чего просто копируем?
Чего? Ну вот, ну...
Странное мы делаем только если лежим между v и h, да?
Ну точнее так, нет, наоборот, можно сказать...
Ну странное тут, наоборот, если мы не копируем на самом деле.
Не копируем что-то?
То есть...
Ну да, не копируем, да.
То есть наоборот, точнее наоборот, только копируем, но не свапаем.
Потому что когда h был меньше v, напоминаю, мы свапали всегда.
Ну потому что у нас, видите, тут сохранилось.
Вот тут был h, а h3 оказался здесь.
Вот.
Но если v оказался меньше, чем h, то вы проверяете там условно.
Если соответствующие символы в x игр не равны, то вы не свапаете.
А если равны, то свапаете.
Если мы между лежим.
А, ну да, если не между, то вообще всё равно.
Нет, а если h меньше...
Нет, между это мы проанализируем.
Потому что в итоге же у нас задача посчитать h3 и v3?
Да.
Вот.
Ну нет, если h оказался меньше, чем v, значит вы там копируете, свапаете, всё.
В смысле, если мы лежим где-то...
Например, и v и h справа от нас, да?
Слева от нас.
Так, по-моему, мы на разных языках начинаем говорить.
v и h не могут быть слева от нас, да?
Ну что такое от h?
Нам даны v и h, и мы анализируем, чем равны v' и h'.
Для этого мы пробегаемся и когда мы слева, и когда мы справа, и когда мы между.
Но слева и справа будет проходить всегда одно и то же.
Тут не интересно.
Да, в зависимости от того, кто больше v или h,
будет зависеть от того, что происходит здесь.
А ещё тут выясняется, что есть два случая,
в одном из них два подслучая на тему того, равны ли символы.
И в зависимости от этого вычисляет.
Всё, финалочка.
Всё, сейчас.
Всё, две минуты, сейчас всё будет.
Всё, теперь финалочка.
Просто дело в том, что на эту тему у вас будет две задачи.
Одна простая, другая сложная.
Такой тест на понимание.
Нет, первая задача будет написать и решить ту задачу,
которую я сказал.
Так, тихо, тихо, тихо.
Нет, ребят, погодите, что умеете убираться.
Сейчас важная вещь будет.
Вот.
Значит, смотрите, фишка будет такая.
Потому что на самом деле у этой задачи есть напарник.
И напарник даже понятно откуда берётся.
Потому что всё вот это мы делали, чтобы считать вот эти ашки.
Правда?
Но на самом деле можно подумать.
Мы же параллельно ещё вот эти вэшки насчитаем, правда?
И на самом деле легко заметить, что эти вэшки позволяют решить
просто почти такую же задачу.
А именно.
То есть задача напарник, который вам придётся уже додумывать самостоятельно,
но додумывание прям абсолютно такое же.
Ну, точнее, часть кода прям идентичная.
Нет.
Значит, по S и T вы считаете NOP для всех префиксов.
Для пары, где вот от S мы берём префикс.
А T суффикс.
Вот я утверждаю, что по вэшкам...
Ну, потому что что это такое?
Это как раз путь откуда-то вот такой вот срезающий угол.
Вот.
Поэтому я утверждаю, что там тоже будут аналоги.
То есть эта таблица значит NM.
Я утверждаю, что в этой табличке NM вы найдёте какие-то закономерности.
То есть тоже можно найти аналогичного рода закономерности
и доказать их с использованием вот этой вот вэшки.
То есть и доказать...
Ещё и заодно вот эти критические точки тоже найти.
Вот.
Но в этом-то и сложность будет.
То есть это как бы тест на то, насколько вы в этом всём разобрались.
Да, это конечно...
Да, это тоже вопрос на отел входить будет.
Да, в это...
Нет, я думаю...
Ну и там, и там.
Да, я...
