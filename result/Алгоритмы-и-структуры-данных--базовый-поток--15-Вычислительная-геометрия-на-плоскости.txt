Смотрите, время 35 минут. У вас так много. Я предлагаю, типа, в конце каждой лекции просто
брать... А, допись-то я не начал, еще здесь. Я предлагаю в конце каждой лекции делать небольшое селфи,
отправлять, типа, всем в чатик, вот, чтобы они представляли, кто здесь был. Но если кто-то категорически
не хочет там появляться, ну, отойдите, уйдите, как хотите. Ну, типа, лекция закончится, там все равно
вы все можете быть свободны. Вот. Этот семестер у нас будет посвящен все еще алгоритму. И еще потом
еще один семестер будет алгоритмов. В этом семестре алгоритмы буду все так же читать я, буду вам
рассказывать, что, как, куда, почему, откуда. И некоторые вещи с прошлого семестра мы тоже
повторим по типу амортизационного анализа, потому что пришел фидбэк с вашего экзамена, что
амортизационный анализ вам явно не понравилась тема. Вот. Поэтому мы еще раз остановимся на ней,
уже на других примерах посмотрим, что с ним можно делать и как вообще все это происходит. Но это будет
попозже. С самого начала мы начнем с геометрии. Посмотрим, как вы учили алгем или аналит. Хорошо.
Так лучше? Вот. Я вспоминаю название просто в своей голове, как это все было. Вот. А аналиты,
как вы будете учить линал в этом семестре еще? Получается в такой последовательности у вас,
если я не ошибаюсь. Вот. Поэтому начнем с геометрии. У вас будут различные задачки. На геометрии мы
сегодня будем рассматривать, как с точки зрения программирования вообще можно интерпретировать,
использовать какие-то определенные вещи из геометрии. Потому что, я думаю, все вы знаете,
что в принципе геометрия очень полезна в реальном мире. Потому что вот заходите,
вы в телефон, у вас там почти, наверное, у многих фейс-айди есть. Вот. Но фейс-айди как-то должен
по точечкам что-то определить. Но это одна из задачек будет, какая-нибудь геометрия. Но больше
связано с машинным обучением. Так или иначе, в основе нее лежат простые точки, а дальше уже
рассматривается, что как у кого, у какого человека индивидуально. Вот. Исходя из этого,
мы и будем начинать. Также в этом семестре мы с вами поговорим про хэширование. И самый
большой блок, который будет в этом семестре, это графы. Все, что связано с графами. Большая их часть,
часть может быть, пойдет на следующий семестр. Но большую часть графов мы сегодня, мы в этом
семестре точно рассмотрим. То есть, как находить кратчайшие пути, минимально остованные деревья,
потоки и так далее. Ждет нас много всего интересного. Это будет где-то около середины
семестра. Начнутся графы и все. Ими мы и закончим. Будет много всего более объемного, интересного. И
вы будете применять плюсы все больше и больше. То есть, вы будете уже писать свои классы, а не просто
что-то делать там в мейне или функции выносить. То есть, у вас появятся такие достаточно, могут
объемные задачки появиться. И плюсом это будет такая вот смесь и плюсов, и алгоритмов. Поэтому,
пожалуйста, не пропускайте ни то, и ни другое. Иначе, если вы будете знать хорошо алгоритмы,
типа, на каком-нибудь тевдокоде или представлять, как это выглядит, но не знать, как это написать,
то это будет беда. Не надо так делать. Хорошо? Вот, это такое у меня маленькое предусловие ко всему,
что у нас есть. И мы сегодня говорим про вычислительную геометрию на плоскости.
Рассмотрим какие-то такие достаточно базовые задачи. Все, что у нас там будет,
это задачи связаны с точками, с линиями, с многоугольниками и так далее. То есть,
нужно будет просто посмотреть, что происходит. Следующая же лекция будет посвящена 2D оболочкам.
Мы поговорим с вами, что это такое, на следующей лекции. Поэтому сегодня такая достаточно
лайтовая версия аналита. Ну, мне кажется, тут же есть PMI, правда же? Должны быть. Ну или не сегодня.
Ну ладно. Лайтовая версия, где вы будете просто чиселки складывать, умножать, понимать,
что, почему и как. Вот. И мы будем разбираться с этим. Но перед тем, как начать, нужно понять,
с какими вообще объектами мы будем сегодня работать. Сейчас, момент. Тут, наверное,
лучше. Хотя, ай-ай-ай, неудобно. Вот, отлично. А с какими объектами мы будем работать? Мы
будем с вами работать, по сути, с двумя объектами, которые будут задавать все,
что нам необходимо. Это будут точки и это будут векторы. Структуры вам должны быть знакомы,
если я не ошибаюсь, с прошлого семестра. У вас там и конструкторы уже были? Нет? Да? Да. Отлично.
Вот. Поэтому у вас есть некоторая структура точки. Точка задается двумерной. Друзья,
давайте... Хотите поговорить? Выйдете. Принято? Отлично. А точки на
плоскости задаются двумя координатами x и y. Я думаю, вы это представляете. А вектор представляет
собой какой-то такой направленный отрезок, у которого тоже есть координаты x и y. Это показывает
направление. Это не то, откуда он стартует или что-то. Вектор это просто некоторый направленный
отрезок. Поэтому это будет задаваться либо целочисленными координатами, либо бесчисленными
иногда, но очень редко. Часть всего мы будем работать целочисленными координатами. Почему?
Потому что это просто проще, и у вас не будет никакой потери каких-либо знаков. Окей. Поехали
тогда дальше. Первое и важное еще определение с векторами — это так называемый ориентированный
угол. Было у вас такое? Не было? У вас не было ориентированного угла между векторами? Как
у вас было векторное произведение тогда? Вы чего? Не пугайте меня. Смотрите, ориентированным углом
между двумя векторами называется такая мера угла, которая идет от одного вектора к другому. Если
вы идете против часовой стрелки, то она считается с плюсом. Если по часовой стрелке, то с минусом.
И вы осуществляете этот кратчайший поворот. И смотрите, чему равен этот угол. Грубо говоря,
вот у вас есть вектор A и B, а от вектора A к вектору B у вас положительный угол, и вот эта
phi, которая у вас будет, она будет положительная. Иначе она будет отрицательная, если мы рассмотрим
в обратную сторону, из B в A. То есть просто в против часовой стрелки идете или по часовой. Помните
об этом всегда, потому что это достаточно важная вещь. И с ней мы и будем сегодня тоже работать.
И самая первая задачка такая. У вас есть вектор A, B, C. У вас есть угол от A до B, от B до C. Как найти
угол от A до C? Сложить A, B и B, C. Ну давайте будем существовать в не градусах и радианах,
вот, хотя бы. Но это так. Да, в действительности их достаточно просто сложить, учитывая,
что у нас углы ориентированы, то в этом случае у нас все достаточно просто, потому что если мы
будем складывать их, к примеру, вот как здесь, что у нас C посередине между A и B, то один угол из
одного угла вычется с другой угол. Ну все достаточно просто. Один будет с плюсом, другой с минусом,
поэтому когда мы сложим эти два угла, то в этом случае мы получим необходимые нам ориентированные
углы. Надеюсь, тут нет вопросов. Ура! Я говорю, сегодня будет достаточно лайтовая лекция. Я
надеюсь, что вам будет здесь все понятно. Что еще мы делаем? Смотрите, существует скалярное
произведение. С ним вы тоже знакомы. Я поздравлю еще со школы. Должны были, во всяком случае. Вот,
иначе как бы вы решали задачку в EG, я не знаю. Так вот, у нас есть скалярное произведение. Я думаю,
вы все знаете, что это модуль A на модуль B на косmos phi. Но если мы с вами рассматриваем это с точки
зрения координат, нам не нужно вычислять никакой угол. Просто помните об этом, что нам достаточно
просто сказать, что это AX на BX плюс AY на BY. И в этом случае вы получаете свое скалярное произведение.
Оно никак не зависит от ориентации угла. А фактически, что определяет скалярное произведение?
Оно определяет, лежат ли, грубо говоря, концы векторов одной какой-то полуплоскости, образованы
перпендикуляром к одному из векторов. Давайте порисую. Будет проще.
То есть, если у нас с вами есть некоторые векторы, и вы проведете здесь перпендикуляр к одному из
векторов, вот A, например, то вы смотрите, B находится в том, в той же плоскости или нет.
Если он будет находиться в той же плоскости, то все хорошо. И мы можем сказать, что у нас в этом
плане оно будет положительным. Поэтому всегда об этом помните. Это одно из свойств, которые вы
можете использовать. И главное, что запомните, еще раз это повторюсь, у вас, если координаты
целочисленны, то скалярное произведение целочисленное. Никаких косинусов не используйте. Вот эти
великолепные косинусы и синусы, они всегда у вас будут с какой-то погрешностью, а это будет
для вас потом проблема. Окей, что есть еще? Существует векторное произведение. Его называется
иногда косым произведением. Я больше люблю векторное произведение. Векторное произведение — это
вот некоторое число. Фактически оно показывает перпендикуляр к двум векторам, которые образуют
нашу плоскость. Потому что два вектора всегда образуют какую-то плоскость, по ней можно ее
построить. И не думайте, что это вам не понадобится. В общем-то, векторное произведение — это некоторое число,
которое можно посчитать как АБ на синус с угла между ними. А все ли понимают, откуда появилась вот
эта вторая формука? Всем ясно? Да. Еще раз? Здесь, это правда, то, что ты говоришь, это правда. Есть
единственный момент, что мы будем смотреть на плоскость, и для нас векторное произведение будет
позволять высчитывать площадь. Это будет просто ориентированная площадь некоторая, да. Фактически
это правда вектор, и он всегда существует в трехмерном мире, но мы будем говорить о том,
что мы существуем в 2D, поэтому всего третья координата ноль, именно из-за этого возникает
эта формула. Что это AX на BY минус AY на BX. Понятно? Да. Да. А, хорошо. В действительности можно,
хорошо, если проблемы не в терминологии, хорошо, можно назвать это косым. Окей? В общем-то,
когда мы работаем с векторным произведением, что важно понимать? Важно понимать, что векторное
произведение, его знак, всегда будет совпадать с углом, который у вас есть. То есть, если у вас
угол положительный, то векторное произведение положительное, если угол отрицательный,
у вас векторное произведение отрицательное. Вот. И опять же остановлюсь на том, что векторное
произведение для целочисленных координат тоже целочисленное число. Окей? Окей. В общем-то,
как-то так. Сейчас будет еще часть определения, дальше опять перейдем к каким-нибудь задачкам,
которые у нас будут. Ориентированная площадь — это вещь, очень связанная с векторным произведением.
Если мы возьмем и совместим наши два вектора A и B, и достроим их до некоторого параллелограмма,
будь здоров, достроим их до некоторого параллелограмма, то мы получим нашу площадь.
И вот, в действительности, векторное произведение, оно будет равно вот этому параллелограмму,
который у нас будет, и это тоже великолепный факт, который у нас есть. Но мы иногда можем
получать эту площадь отрицательной, а значит, вводится так называемая ориентированная площадь,
которая может быть положительна, может быть отрицательна в зависимости от того,
как раз-таки какой у вас поворот есть, левый или правый. Но вы можете вычислять
это число. А теперь давайте смотреть на задачу. У нас есть задача следующая. Есть
какой-то многоугольник, состоящий из N точек. Нам необходимо найти площадь этого многоугольника.
Ну вот, не знаю, давайте нарисую какой-нибудь. Давайте еще не выпуклый сделаем.
Отлично. Это правда. Смотрите, идея здесь следующая. Мы просто берем и делаем одну точку и от нее
собираем все вектора, которые у нас есть. И после этого просто подряд по этим векторам ходим и
считаем необходимую нам ориентированную площадь. Мы ее между собой складываем. Но заметьте,
когда я начну идти в другую сторону, я начну вычитать вот эти кусочки. То есть я в начале
их буду, наоборот, считать, а после я их буду вычитать. И у меня останется, благодаря вот этим
вот векторным произведениям, только вот я вычту только вот эти куски, а все, что останется внутри,
оно будет все еще работать. Итак, я найду нашу площадь. Грубо говоря, можно взять любую точку,
но легче всего, я думаю, вы понимаете, взять 0,0. У вас сразу понятно, какой вектор есть,
потому что если все точки есть, значит, у вас есть координаты этих точек. Ну вот вам и вектор.
Окей? Или есть вопросы? Страшно. Первый день учебы вы чуть-чуть убиты. Выглядит не очень.
Но хорошо. Окей. Действительности можно считать вот таким вот методом, и это будет достаточно
просто. Существует еще другая вещь, ну как бы линия. Я думаю, тоже вам всем знакомая. И линия задается
некоторым уравнением. AX плюс BY плюс C равно нулю, где коэффициенты A и B, они должны быть нулевые
вместе. Вот, иначе у вас будет просто C равно нулю, это никому не нужно. Вот есть у вас такие некоторые
коэффициенты. Сама линия будет сдаваться вот именно конкретно этими коэффициентами, то есть A,
B и C. Естественно, как и в любой геометрии, когда вы смотрите там что-то на плоскости,
у вас о линию можно представить не только в виде такой аналитической формулы, но и сказать,
что у него есть там направляющий вектор, например, или нормаль у него есть, и что-то с этим сделать.
Я думаю, вы все прекрасно знаете, как находить этот вектор нормали, правда?
Или есть у кого-то передача по аналиту? Ну хорошо. В действительности, как бы, просто помните о том,
что нам достаточно всегда, что вектор нормали имеет координат A и B, а C можно найти из вот
этого вот, некоторого P0, который мы возьмем точку, умноженный на этот вектор нормали. Вот,
мы получим это C. То есть мы можем это спокойно использовать, это тоже нам может пригодиться,
потому что благодаря этому вектору нормали мы сможем проверять некоторые вещи с линиями.
И вот представьте следующую задачу. У вас есть две точки и некоторая прямая. Вам необходимо
определить, находятся ли эти точки в одной полуплоскости относительно этой прямой. Ну,
то есть, грубо говоря, что от вас просят? У вас есть просто прямая, точки находятся по разной
плоскости или же у вас они находятся в одной полуплоскости? Как-то сделать. Да, отлично. Слушайте,
может быть надо было просто это скипнуть и оставить вам, типа, наподумать. Ну ладно. В
действительности, да, нам достаточно просто подставить координаты этих точек в наше уравнение и
дальше мы посмотрим, оно будет больше нуля или меньше нуля и проверить это на другой точке.
Если они будут в одной и той же полуплоскости, то означает, что у них будет один и тот же знак.
Вот, мы это можем легко рассмотреть. Всем ли это понятно? А то мне кто-нибудь отвечает,
все остальные такие, ну, как бы да. Вот, или нужно объяснить.
Видимо, все хорошо. Ну окей, тогда вас будет ждать в контесте потом когда-нибудь эти все
задачки. Ок, давайте тогда рассмотрим параллельность прямых. Что означают прямые и параллельные?
Да, да. Ну, я люблю больше, когда в произведении это схлопывают, потому что произведение считается
точно, а отношения не всегда. Вот. Но да, в действительности, что нужно для того,
чтобы были прямые и параллельные? Чтобы у них векторы нормали были параллельные.
Да, поэтому нам достаточно сказать, что у нас векторное произведение наших нормалей равно нулю.
Ну и все, дальше у вас получается ровно то, что вы сейчас сказали. Если мы закончим сегодня раньше,
я не виноват. Окей, вопросов нету? Жесткие. Ладно, хорошо. Окей, еще одно определение ведем,
это луч. Луч это что? У нас есть некоторая точка и вектор, направляющий вектор, куда направляется
этот луч. То есть у нас только по одну сторону это всегда находится. Вот у нас есть некоторое
вот такое множество точек на луче, и мы смотрим, что нам нужно сделать. И, к примеру, мы с вами
смотрим следующее. Необходимо нам понять, принадлежит ли точка P в лучу R. Как сделать такое?
Вектор разности чего?
Из P вычтем R. R не можем вычесть, В можем вычесть.
Из P в О получим вектор, хорошо. Давайте я буду это рисовать.
Так, то есть нам сначала мы смотрим, ну давайте я напишу это вот примерно вот так.
Оно должно быть равно нулю, хорошо. Для того, чтобы это все-таки точка лежала здесь.
Так, есть ли еще что-то?
Мы должны рассмотреть скалеон. То есть смотрите, когда у нас именно вот такое
свойство выполняется. В чем у нас проблема начинается? У нас проблема начинается следующая.
Предположим, что вот здесь это точка P на продолжение нашего луча. В этом случае эти вектора тоже
клинеарные. Скалярное смотрим, что оно должно быть? Какое? Положительное, да. То есть этого
достаточно для того, чтобы понять, лежит ли точка на нашем луче. Чудно, хорошо. Давайте тогда
следующую задачу рассматривать. И в действительности, да, мы как-то очень быстро с вами идем. Ну ладно,
а придумаем о чем поговорить еще. Хорошо, смотрите. Задача следующая. Нам необходимо теперь
найти расстояние от точки P до луча. Скалярным произведение. От точки до луча. Хорошо, так. И что?
Да. Ну, то есть у нас есть вариант, когда точка P находится здесь, и вот здесь будет
наше расстояние, некоторое D. А есть вариант, что оно точка P здесь, такое расстояние D. Вот эти два
случая возможны, это правда. В первом случае как просто это сделать? Как понять, что мы вообще
в первом случае находимся? Скалярное произведение больше нуля. Хорошо, это правда. Сейчас давайте O,
В. Принято. А вот этот случай? А равно нулю? Хорошо. Какой случай отнесем? Хорошо.
Принято. Что будет вот в этом случае тогда? Что мы будем делать? Подставить в уравнение какое?
Скалярное? Скалярное произведение?
Неприкольно. Ну какую именно компоненту вычесть? Проблема в том, что у тебя вот этот луч может
быть наклонен как угодно. Так. Ну это чуть дольше, но хорошо. Ладно, принято. Только тогда нам нужен угол или нет?
Хорошо. Ну а как тогда найти? Да. Можем. Ну для обоих нет, для первого да. Смотрите, что делает векторное
произведение. Оно находит наш нашу площадь. Да. А чему нас равна площадь еще? Ну основание на высоту.
Вот. Поэтому в действительности можно сказать, что вот это D здесь, оно будет равно модулю
вот этого вот векторного произведения делить на модуль V. А? Почему не V? Ну здесь просто так выглядит.
Вот так. Хорошо. Лучше вот. Хорошо. А чему равно D вот в этом случае? Давайте предполагайте.
Вот так можно. Да, это просто модуль нашего вектора. Ну как бы что тут думать? Я надеюсь длину вектора все умеют
высчитывать. Очень-очень грустно. Ну ладно, надеюсь тогда разберетесь. Хорошо. Да, в действительности именно
таким вот образом нужно всегда рассматривать расстояние от точек до луча, потому что у вас
может быть несколько таких вот моментов. Какие еще вещи бывают в геометрии? Конечно же у нас есть
отрезок. Вот отрезок, ну просто это некоторая часть прямой, я думаю вы понимаете, он состоит из
двух точек A и B. Вот откуда, какой точка начала, какой конец, ну здесь можно по-разному интерпретировать.
В действительности, когда мы с вами говорим про отрезок, то в этом случае у нас будут возникать
тоже много разных задач. Например, задача следующая. Нам необходимо определить принадлежит ли точка
P отрезку AB. Как жить? Так, и еще это непросто. Когда ты так сделаешь, у тебя получится,
что оно лежит на одной прямой. Что-то надо еще проверить. Какой он должен быть?
Так, ну и какое скалярное произведение тогда? Подожди, я хочу уменьшить количество если.
То есть давайте еще раз, у нас есть некоторые отрезок. Три модуля это дорого, три модуля еще и не точно,
в этом проблема. Ну почему? Хорошо. Не хочу три скалярные, хочу меньше. Вам нужно тоже это
делать и писать быстро, вы не хотите писать типа вот такое, вот что-то огромное. Но в принципе через
три скалярных произведений, если очень захотеть, то можно. Давайте для начала, что у нас должно быть?
Ну мы с вами уже точно определили, что AB на AB это ноль, правильно? Для того, чтобы это было хотя
параллельно. А теперь что делать? AB на PB отрицательным. Почему оно отрицательное-то?
AB на PB как раз, вот да, это последнее, что нам нужно. AB на PB оно должно быть больше либо равно нуля.
Потому что они лежат, но они смотрят в одну сторону. В любом случае это будет происходить вот именно так.
Согласны или не согласны? Еще раз.
И что в этом случае? Сейчас, подожди, скалярное произведение, оно может быть минус 1 при любых координатах.
Там же косинус какой хочешь может быть, и сами вектора длина может быть разная. Поэтому
тут не всегда. Если бы это были единичные векторы, то может быть, но тут не поместилось бы единичные.
Еще раз давайте тогда. Вот я вернусь к тому же моменту. А когда вы вычисляете модуль, у вас всегда корень.
Хорошо, если мы сравним скалярные произведения, то в этом случае не забывайте, что у вас вот
типа вот оно идет всегда тоже парами. Если у вас будет какой-то отрезок единичек, то все просто.
Если нет, то у вас могут быть вопросики. Если я понял мысль, что вы хотите сделать.
Да, да, это понятно. А, ну хорошо, хотите все в квадраты возводить, ну окей, пусть будет так.
Но в действительности не забывайте, что у вас тоже есть некоторые ограничения свои на то,
что у вас квадраты не всегда могут влезть. Представьте, что у вас 10 девятые точка,
вот там вот начнется веселье. Поэтому осторожнее, пожалуйста, с этим всегда.
Окей, это мы разобрали, вопросов нету. Значит сегодня для вас будет действительно хорошая и
понятная лекция, не амортизационный анализ. Ну ладно, окей, а что есть еще? Представьте
следующую задачу, что вам нужно найти расстояние от точки до отрезка. Что вы делать в этом случае
будет? Тоже самое, почти. Что означает тоже самое?
Окей, но друзья, я еще раз повторюсь, если вы знаете все, я вас не держу. Хорошо? Если вы хотите
поговорить, то вы тоже можете выйти. Окей, да, действительно здесь может быть 3 случая,
может быть точка здесь, может быть точка здесь, а может быть точка здесь. Нам нужно понять,
как делать те или иные вещи, но как бы расстояние от точки до прямой, я надеюсь,
все-таки почитаете. Правда? Отлично, это у нас палочка есть. Хорошо, теперь как нам понять,
что точка находится вне слева, грубо говоря, и вне справа? Давайте я их помечу. Ну почти, да.
Хочу. На минимум расстояния чего? Сейчас минимум мы смотрим. Так, и какой дальше у нас итог?
А, я понял, хорошо. Но сначала тогда нам нужно понять, находится ли точка здесь.
Как? Как это понять?
А? Чтоб вас не попали со слайдами, если что.
Да, да, да. Ну мы смотрим просто отрезок ПА. Вот. А вот этот случай, я думаю,
он понятно, что он делается нелогично. Ну как бы мы смотрим там БП и БА. Все ли понимают,
почему это так? Почему скалярное произведение-то меньше для? Хорошо, я буду считать, что вы все
прекрасно понимаете. Переспрашивать не буду. Если у вас будут вопросы, говорите. Вот. Ну а третий
случай, ну как бы понятно. То есть сначала вы проверяете только лишь вот этот и вот этот случай,
а только потом переходите к следующему, потому что в этот момент вам будет понятно, что, как находится.
Теперь давай следующую задачу. Следующая задача звучит в следующем образе. У вас есть
некоторый отрезок ПКУ и прямая, которая задана. Нужно понять, пересекается ли отрезок линию.
Да, это задача аналогична той, которую мы уже посмотрели. То есть просто нам необходимо понять,
лежат ли точки в одной полуплоскости или нет. Если они находятся в разных, то он пересекается,
если в одной, то не пересекает. Все достаточно просто. Здесь я даже сильно много останавливаться не
буду. Теперь поехали дальше. Следующий вопрос. У вас есть отрезок АВ и луч. Нужно определить,
пересекаются ли они. Чего делаем?
Хочу что-нибудь другое сделать. Точка О должна что? Что она должна?
Точка О должна лежать еще раз по… Ну, почти что да. Давайте смотреть вот это вот,
некоторое тут решение, расписанное здесь. Для начала первым шагом в действительности мы будем
все равно рассматривать, лежат ли А и Б по одну сторону от луча или нет. Если они лежат только
лишь по одну сторону, то нам смысла их рассматривать нет, он точно не пересечен.
Теперь смотрите. Предположим, что оно где-то пересекается, какой-то точке. Тогда мы можем
сказать, что мы можем к точке О прибавить в наше В на какой-то коэффициент Т и получим нашу… вот
придем к нашей точке, грубо говоря. Поэтому это аналогично тому, что вот там вот у вас есть такое
равенство. Что оно означает? У вас есть некоторый луч, у вас есть В и здесь точка О. Есть у вас
какой-нибудь отрезок А, Б. Да, вот оно будет пересекаться в какой-то точке. Для того, чтобы
дойти до этой точки, мне достаточно сделать О плюс В, Т. Вот, с другой стороны, мне можно перейти
к этой точке, которая здесь есть, и через другой вектор. То есть здесь мы можем с вами сказать,
что это будет то же самое, что точка А плюс некоторая альфа на А, Б вектор. Вот, они где-то
сходятся. Это хорошо. Как мы можем вообще это все переписать? Мы можем все это переписать
достаточно просто. Мы АО возьмем и скажем, что у нас АО. Это что? Это по сути, вот если мы из
этого вычислим вот этот кусочек. Поэтому можно либо вот так написать, как там у меня это сделано.
То же самое, что вот эту. Да? Хорошо, у нас-то есть. Но теперь давайте все это возьмем и
домножим на что-нибудь. На что мы можем домножить? Ну, например, на А, Б. Домножим это на А, Б. Почему
на А, Б я хочу это все домножить? Потому что вот это тогда уйдет, этот кусок. Да? У меня останется
вот здесь что-то. Поэтому я здесь делаю АО АБ плюс В АБ Т равно нулю.
Домножили? Домножили. Что у нас из этого можно сделать? Можно сказать следующее, что у нас вот эти
все АО на АБ и В на АБ, они должны иметь какие знаки разные. Вот поэтому у него есть решение вот
именно в термине, что Т какое-то принимает значение. Оно может быть любым, больше либо равным нулю,
потому что мы только в одну сторону всегда умеем ходить. Поэтому в этом случае мы можем сказать,
что у нас есть решение только если у нас знаки разные. Поэтому АО АБ и В на АБ имеют разные
знаки. Значит, решение есть. Но отдельный вопрос, когда у вас есть какая-нибудь одна точка. Во-первых,
считать это пересечением или нет отрезка, когда у вас вот конец отрезка где-то находится на луче.
Вот. В зависимости от задачек это может выглядеть немного по-разному. Окей? Можно?
Еще раз? А почему нет? Хорошо. Другой вопрос. Объясни вопрос.
Если что, как нам найти это по-другому?
Еще раз. Можно только погромче, пожалуйста? Давай.
ОБ и
и
но подожди ты же можешь взять отрезок и здесь у тебя будет то же самое оно же тоже
будет пересекаться это будут просто разные знаки не ну подожди но я а и б могу менять местами
о в кв но представь что у меня б здесь а в здесь меня не будет правого поворота
ой ну про левый поворот у меня будет правого поворота если я вместо вот здесь б а вот здесь
а я их поменял местами у меня знаки все поменялись а еще кроме того вот когда вот это сдвинусь
сюда вот здесь где-нибудь нарисую отрезок у меня аналогично будет проблема то есть у меня
будут какие-нибудь такие повороты они тоже будут разные а это уже будет находиться вне луча вот
поэтому здесь возникает много но окей хорошо принято давайте дальше вот у нас есть пересечение
луча и отрезка а что делать пересечением отрезков давайте вы же узнаете сейчас еще раз можно правда
погромче тут либо вентиляция очень громко на меня дует либо что из отрезок а б должен
пересекаться и с лучом б ц да ага все окей можно так да в действительности в действительности
вот мне вариант вариант нравится больше когда с двумя прямыми потому что ну там по поменьше этого
всего может быть но нам все равно придется рассматривать 4 векторных произведения потому
что ну сначала для одного отрезка проверить что они по одну или по разные стороны от прямой а потом
для другого и тогда будет понятно что там происходит окей вот мы как бы смотрим и говорим что
если эти векторные произведения все четыре равны нулю то все отлично они вообще уже лежат на одной
прямой такое тоже может быть у нас поэтому здесь нужно смотреть по-разному так что потому что вот
этот вариант второй когда у вас а оба ну все четыре будут равны нулю нужно понять вообще они
имеют наложение друг на дружке или нет то есть у них будут пересечения какие-то или нет окей
окей хорошо тогда давайте перейдем к последнему что у нас сегодня есть мы действительно закончим
раньше значит я вас на следующей лекции могу задержать побольше вот в общем-то многоугольник
что такое многоугольник многоугольник некоторые замкнутая линия я не говорю сейчас про выпуклость
я не говорю ни про что я говорю просто про многоугольник но просто из точки мы их проставили
что там сделали вот и получили какую-то такую вот замкнутую линию отлично отлично многоугольник
как хранится он хранится просто вект массивом из вершинок и размера этих ну сколько у нас есть
этих вершин и мы с этим всем работаем пока вы не дошли до слова вектор мы не будем говорить вектор
вот это то что касается многоугольника и вот многоугольника есть задача задача такая нужно
определить лежит ли некоторые точка внутри нашего многоугольника как жить а смотри каких
векторов ты хочешь сейчас опы один опы два и и и дальше и так это неправда
есть проблемы
чего еще можно сделать опа это правда луч пустить и что происходит когда в этом случае
что-то должно в каком случае что должно
обязательно только одну сторону пересечет должно быть ничего ага хорошо да в действительности
смотрите достаточно провести луч из нашей точки в любую рандомную сторону в любую пока что мы
рассуждаем в таких случаях и просто считаем сколько сторон он пересечет а если это число
четное то он находится снаружи если это нечетная то она находится внутри здесь неважно будет у вас
выпукло не выпукло многоугольник здесь все будет работать хорошо окей окей но какая здесь может
быть проблема касание еще он может у вас переходить через одну точку одну и ту же и это
будет либо 2 пересечения вы можете стать либо как-то еще по-другому то есть нужно понять что
с ним делать потому что одна точка может означать несколько пересечений либо с одной либо с другой
стороны если это вершина многоугольника и вот нужно что-то с этим делать вот ну как бы
проблема у нас такая нужно понимать как с этим жить как с этим бороться и что можно сделать ну
смотрите какие есть решение решение первое если луч будет идти по стороне то просто никак не
учитывать его то есть если он параллельно какой-то стране то мы не считаем количество пересечений
второе что нужно здесь делать почему да
сейчас давай еще раз вот у меня не выпуклость ну там какая-то так
вот так ага а вопрос а вот эту линию-то он пересекает или нет или плюс ноль сейчас подождите он пересек
ага ага мы не игнорируем все точки еще раз эта точка относится не только лишь к этому отрезку
поэтому там не будет просто ноль а еще раз здесь просто они нарисованы рандомно эти отрезочки они
вот ну как бы да есть вариант поддерживать баланс именно таким вот образом делать плюс
два плюс один плюс ноль и плюс ноль это не прикольно это не классно есть идеи какие-нибудь
как это можно решить всегда если мы работаем в целочисленных координат давайте так
что
можно мы работаем только с целочисленными координатами еще раз как это можно сделать
как это сделать
вы поклоболочкой пока не трогай мы еще до нее не дошли вот у нас есть некоторые некоторые многоугольник
не хочу не интересно долго хочу это знаете типа настроение должно быть а решение всегда
задачи должно быть простым понятным и легким сегодня как на лекции все такие
просто то и самое
давайте друзья особенно задних парт вы там вообще это а зябли
простоту проверять это еще мы с вами работаем где и плюс плюс ну предположим да вот типа хотя
бы так ну типа бетон там тоже можно будет придумать какие-нибудь свои прикол нас есть
ограничение на то как может выглядеть точка плюса какие координаты иметь может правда ну есть чисто
из того сколько там хранится бит вот есть некоторая проблема давайте я где-то на бесконечности вот я
возьму специально бесконечность я надеюсь вы каждому типу данных умеете предполагать какая
бесконечность и возьму на это бесконечность и то типа плюс этот луч пересекет целочисленной
координате или нет нет потому что целочисленного y здесь нигде нет то есть от y до y плюс 1 нет ни одной
не может быть целочисленный координат а вам будут в задачах давать почти всегда целочисленный
координат поэтому вам достаточно взять просто такой луч который будет иметь y плюс 1 ну который
придет в точку какую-то бесконечность например там 10 18 ну или в 9 чаще всего и до y плюс 1 вот
вас луч вы его пустили а дальше просто смотрите пересечение со всеми необходимыми вам отрезками то
есть вы просто смотрите пересекается отрезок или нет вашим лучом все по парну так вот посмотри
посчитали никаких вот этих плюс 2 плюс 1 плюс 0 плюс 0 никто не ругается не говорит что это неправильно
вот и достаточно сделать это так вот поэтому нужно infimum всегда подбирать очень аккуратно не
забудьте что он будет участвовать у вас точки зрения пересечений потому что когда вы будете
искать пересечения у вас будут различные скалярные векторные произведения а это означает что вас
будет умножение у вас возможно переполнение поэтому задумайтесь над тему типа архитектурно как
это выглядит окей окей в действительности это все что был на сегодня а я понял что с вами
нужно это видимо идти побыстрее значит всю математику мы будем по чуть-чуть опускать с
теми же хэшами но как опускать пролистывать побыстрее вот если у вас только возникать вопрос не будет
тогда следующая лекция смотрите будет посвящена 2d оболочкам это уже алгоритм алгоритмы
а самые типичные 3d оболочку вас писать мы заставлять не будем вот по моему уже основной
поток даже этого не пишет но тех кто постарше узнаете какие это были для них страдания вот я
предлагаю сделать вам селфи вместе со мной типа и отправить это в чат вот будем следить за тем
сколько вас здесь остается с каждой лекции все больше или меньше хорошо те кто не хочет может
подвинуться куда-нибудь давайте я сделаю так вот я надеюсь да вас видно ура улыбайтесь
чудно все хорошего всем вечера
