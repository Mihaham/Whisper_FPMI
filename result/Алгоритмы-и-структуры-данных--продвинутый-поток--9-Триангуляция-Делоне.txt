Значит, ладно. О чем мы сегодня будем говорить? Ну, сегодня мы будем говорить о триангуляции
Делане. Ну, о чем, в принципе, речь? Возникает полная нота, возникает это вполне себе
есть такой жизненной задачи. Вот, ну, обычно мы тут говорим, конечно, о чем-то там на плоскости,
обычно. Вот, о чем-то там на плоскости. Вот, ну, обычно, если этой плоскостью описывается
поверхность Земли, то в этом случае тогда не учитывается, что поверхность Земли, она буквально
чуть-чуть неровная очень сильно. Что значит неровная? То есть это означает, что по идее там в каждой
точке есть еще такая вещь, как высота, и она может различаться. Вот, говорят же, это все там высоты
на уровне моря, вот это вот все, да. И вот очень хочется это как-то описать. Ну, к сожалению, да,
как описать? Так сказать, что Земля это куб, это райдер, ну, сомнится. Или там полусфера там какая-то.
Вот, то есть обычно все происходит, конечно, существенно более сложно. То есть обычно там
можно вообразить себе, что есть вот какая-то плоскость, и на самом деле тут вот какие-то вот тут,
так сказать, что-то тут стоит действительно, что-то пониже, что-то там где-то повыше, там, ну и
тогда. То есть тут какая-то красивая Земля в этом плане. Вот, ну, а в довершении ситуации полностью
описать как? Ну, по идее, конечно, можно, если это просто описать, что надо ее как график, функция двух
переменных, там, соответственно, x и y. Ну, типа вот, вот f отречит, можно сказать, там, а, шо-то x будет, а, шо-то x будет, а, шо-то x будет, да?
Но, маленькая проблема. Как говорится, загнать в компьютер высоты всех точек мы не можем. Но?
Памяти не хватит. Ну, да. Ну, может быть, когда-нибудь человечество разорется так, что памяти хватит?
Чего? Точек континента. Да. По проблемам, да. Вряд ли компьютеры научатся, как бы,
загранить в континуальный число точек. Ну, пока не в объятном виде, конечно. Конечно, я, да. То есть, как известно,
конечно, новые процессы рентг, конечно, умели уже в девяностые выполнять бесконечный цикл за шесть
секунд. Но это, к сожалению, был всего лишь анекдот. Вот. Значит, что же делать? Ну, идея вытекает
следующим. Мы, естественно, то есть, естественно, ходим там, значит, на той области, которую,
вот, допустим, мы ее сверху посмотрим. Мы храним какую-то область. И нам очень хочется, ну,
то есть, хочется взять действительно несколько точек, измерить их высоты и потом тем или иным
способом действительно потом это все как-то экстраполировать. Но вытекает вопрос. Каким образом?
То есть, каким образом экстраполировать так, чтобы картинка была, ну, как-то вот, как можно больше
похожа на правду, что ли? Ну, то есть, всегда, конечно, можно, ну, в предположении, еще больше точек у нас нет.
Ну, понятно, что можно, конечно, другие точки изобрести. Ну, давайте подумаем, что же можно сделать. Вот,
допустим, вообразим себе, что у нас было изобретено всего три точки. Высоты вот такие-то, вот такая,
вот такая и, допустим, вот такая. Вот небольшой вопрос. Как тогда можно экстраполировать? Ну,
действительно, я бы сказал, провести через эти три точки плоскость и сказать, что вот этот
треугольник вот такой молодец. Вот, да, по трем точкам все просто. Действительно,
ты вариантов-то особых не придумаешь. А если у нас есть четыре точки? Что тогда делать?
Через четыре точки плоскость уже не приведешь. Вот, давайте пониже. Что в этом случае сделать?
Ну, здесь можно действительно по-разному. То есть, можно сказать, что разбить, действительно,
на плоскости разбить четырехугольник на два треугольника и каждый экстраполировать
вот так вот по-своему. Но получится уже действительно что-то неровное. Ну, если себе это вообразить,
это вообразить действительно на большом каком-то числе точек, то получится как раз тоже действительно
что-то, может быть, не совсем ровно. Ну, тут вот, действительно, ВЗК действительно такая идея,
что давайте попробуем. Ну, во-первых, да, если нам дано множество точек П, то, конечно же,
мы из этих точек берем выпуклую оболочку, нашу любимую, и пытаемся разбить это ноб на треугольнике
с вершинами в этих точек. Ну, то есть, действительно, давайте, то есть, можно тут по-разному
интерпретировать, можно говорить, давайте, то есть, давайте будем пытаться добавлять, то есть,
построим на этих точках планарный граф. То есть, там будем пытаться соединять точки отрезками,
ну, до тех пор, пока это возможно, без пересечения, без самопересечения отрезков, конечно. Ну, и там
без всяких накладываний, если какие-то точки на одной прямой лежат, то понятно. Ну, что можно сделать?
Можно нарисовать что-нибудь там первое попавшееся. Да, вот как-то вот так, вот так, вот так, вот так,
вот, вот, вот. Что-то еще можно сделать вот так сделать.
Вот, всякое такое. Так, что-нибудь еще можно привести.
Так, и что-то еще осталось. Ладно, тут уже думать не будем. Так, что-нибудь еще можно привести.
Ну, есть такой, трехугольный, ну, давайте тут проведем. Проверь. Узенький, треугольный.
Ну, ладно, на самом деле еще вот тут надо провести. Ну, и, в общем-то, так, вот. Ну, что можно заметить?
Можно заметить, что если мы уж проводим диагонали, то есть соединяем отрезками так уже, что никакой
новый отрезок без удаления старого, конечно, провести нельзя, то, ну, тогда тут получается планарный граф,
каждая гайка второго, но в форме внешней, является обязательно треугольник. Почему треугольник? Ну,
потому что у нас уже была поумнистическая теория о том, что в любом n-угольнике, простом n-угольнике
с m больше чем 3, можно провести диагональ. Было у нас такое? Мы не доказывали. А, не доказывали? Ну, давайте ладно,
на всякий случай быстренько докажем. Да, дорогой, но вот, как же это такой тюремы доказать? Ну,
упирается она для начала в то, что, ну, как можно заметить, что у любого n-угольника,
наверное, найдется угол, меньше стало с 80 градусов, правильно? Вот, рассмотрим этот угол. Ну,
если вот соседние, вот с этим углом две вершины, вот можно соединить диагональю, то мы уже победили.
Но могло так случиться, что многоугольник там устроен как-то вот совсем, может как-то вот безобразный,
безобразный, безобразный, что-то вот какая-то гадость. Но это означает, что какие-то вершины
многоугольника попали вот в этот треугольник. Ну, давайте, смотрите, тут надо вот аккуратно
немножко делать, тут можно наглаться на некоторые ошибочки, но суть такая, давайте проведем через
эти вершины, попавшие в треугольник, прямые, параллельные, допустим, вот этой потенциальной диагонали.
Вот, ну и найдется вершина, через которую, проходящая через которую прямая, ближе всех вершин не упадет.
Ну, собственно, несложно убедиться, что, соответственно, тогда можно провести диагональ в нее, и она ничего не
пересечет. Ну, потому что, если она что-то пересечет, вы будете вынуждены заключить, что внутри этого
треугольника еще какая-то вершина есть. Все, догадательство окончено. Понятно, да?
Поэтому получается, что у любого многоугольника есть, то есть, если в многоугольнике нельзя
провести диагональ, то это треугольник. Ну вот, ну и, собственно, такой граф, тогда и будет
называться триангуляция. Да, пока еще не Долане. Не любая триангуляция является триангуляцией Долане.
Ну, начать стоит с того, что, да, конечно, а что, триангуляций бывает две? Ну, на самом деле, да, несложно
убедиться, что триангуляции бывают и две, и три, и даже бесчисленное множество. И действительно, вот мы
тут, например, нашли вот этот вот четырехугольник, ну вот, и провели вот прям вот эту диагональ. А теперь
внимание просто, а почему мы провели именно эту? А почему не вот эту? Вот могли и эту провести. Если наша
задача была просто сделать триангуляцию, то можно было и так и так. То есть, можно вообще все это
стереть и вообще заново нарисовать принципиально какие-то другие диагонали. То есть, конструкции
могут быть принципиально различными. Но правда, называется кое-что будет совпадать. Вот внимание вопрос.
Вот, Света, как вы думаете, если да, а сколько будет вообще этих триугольников?
Ну, если у нас есть только n точка, проболочки внутри нет, то там им минус два треугольника.
Да. А каждая точка внутри дает плюс два треугольника.
Каждая точка внутри дает плюс два треугольника, и почему это? Не обязательно. Если бы, например, тут
было какого-нибудь много, какой-нибудь сильно больше угольник, то точка внутри вообще-то вам накидает.
Нет, нет. В смысле, если у нас как бы трианмулировано все, ну как бы без нее, и мы добавляем,
получается, плюс два треугольника. Ну, если там не на стороне какой-то. Ну да, действительно, да.
Да, в принципе, мы заметим, что можно строить, конечно, триангуляцию. Кстати, это тоже, кстати,
один из действительно действующих механизмов на самом деле. Это такое. То есть, во-первых,
да, стоит начать с того, что нарисовать выпукло оболочку в прошествовании. Ну, тут понятно,
что эти ребра в любой триангуляции будут, тут никуда нет денег. Да, можно теперь триангулировать
тем или иным способом ее. Ну, тут даже, если пока у нас цель нарисовать любую триангуляцию,
можно даже не делать. И после этого мы будем говорить, что давайте будем, скажем, добавлять
точку. И точку, соответственно, вот, и каждая точка внутри треугольника будет соединяться
с 3. И тогда один треугольник превращается в 3. Ну, правда, да, может так случиться,
что точка новая попадет на рипро, но, с другой стороны, заметим, что количество
треугольников от этого тоже увеличится на 2. Поэтому отсюда возникает жуткое ощущение,
что если у нас, действительно, размер множества P равен R, а на выпуклой оболочке лежат как точек,
да, здесь, конечно, да, здесь вот можно говорить, что здесь имейте в виду именно количество точек,
лежащих на границе выпукла оболочки. Да, потому что, если у вас там, скажем, выпуклая оболочка
может как-то вот так выглядеть, и тут по-разному, в зависимости от контекста, там, размер этой
выпуклой оболочки может быть 8 или 4. Так вот, в нашем случае, естественно, мы считаем, что 8.
Вот. Так, тогда что получается? Выпуклая оболочка равна, ну, выпуклая оболочка у нас,
тогда, внимание, вопрос, сколько же у нас тогда, по-видимому, получается треугольников, если мы
будем строить реагуляцию вот таким методом? Ну, получается, значит, k-2 плюс 2 на n-k. Да, когда k начнём с k-2, конечно, плюс 2 на n-2. Итого 2n-k-2. Да, получается 2n-k-2.
Вот возникает естественный вопрос. Да, ну, действительно, если мы вот таким образом строим,
то получается 2n-k-2. Ну, вот, собственно, спрашивается, всегда ли это так?
По индукции можно наказать. По индукции? А как по индукции? Конечно. Не любую реагуляцию, что мы вот так можем построить.
Нет, ну, у нас есть готовая треугуляция, берём там точку, удаляем её, и точкой, чем она была связана,
треугулируем каким-нибудь, ну, типа, любым образом. Вот. И там сойдётся. Ну да, действительно. Давайте будем. Действительно.
Если мы возьмём какую-нибудь абсолютно любую треугуляцию, то действительно можно выяснить, по принципу,
что допустим, точка соединялась с несколькими, давайте тут, вершинами. Этих вершин было l.
Ну, правда, они, ну, вот. Каждые две, так сказать, соседние вершины тут. Хотя тут начинаются всякие случаи, смотрите.
Очень хочется сказать, что, действительно, они, если их обойти вот так вот, то они образуют многоугольник.
Да, это ничего не так. Там могут быть самые вершины какие-то? Ну, там начнутся всякие вот такие случаи, например.
Вот какая-нибудь такая радость. Так, а в чём противоречие? А, действительно, в чём противоречие?
В смысле, мы просто, ну, понятно, ориентируем по углу, и вот каждые две соседние проводим ребро, получается, многоугольник.
Ну да. Ну, да, логично. Да, да, да, да, да, да. Согласен. Хорошо. Да, никаких проблем нет, просто многоугольник выглядит вот так.
Да, помню, что многоугольник, по-моему, действительно не выпукло. Но, действительно, если на нём действительно тут торчит l-рёбер,
ну вот, то что тогда? Вот, получается, эти l-рёберы образуют l-грани, и когда мы выкидываем точку, мы выкидываем, как бы, l этих треугольников,
но взамен трианмулируем сам этот многоугольник тем или иным способом треугольника в нём, получается, l-2.
Да, получается, что, действительно, можно доказать по индукции. Да, можно угадать формулу вот таким образом, и потом доказать по индукции, что она, да, действительно, всегда такая.
Впрочем, интердонтивный способ, конечно, можно было пытаться всё равно чуть-чуть шаманить через формулу l-рёбера.
Ничего, в общем, это не надо. Ничего. Формулу выводить ещё будет.
Формулу l-рёбера, количество треугольников.
Нет, конечно, выводится.
Количество треугольников.
Количество треугольников, количество л-рёберов, это...
Ну, да, на нём.
Ну, там, да, там начнёт. Ну, там, как всегда, начнёт система, что там, действительно, 2...
2e равно, на самом деле, что-то типа...
Не-не-не, ну и там не совсем так.
Ну, 2e, это будет 3g.
3g, там не совсем 3g.
3g плюс k, так раз.
Да-да-да.
Ну и там дальше формулы.
Ну да, то есть там...
Да, я бы сказал так.
2e минус k.
Потому что если мы рассматриваем все треугольники, то все внутренние лёмра войдут два раза,
а вот этих k внешних лёбер войдут по одному разу, поэтому не пишем.
2e минус k.
Ну вот, вот вот, действительно, получается,
с одной стороны такое, а с другой стороны у нас ещё есть мистическое знание, что
n минус e плюс z равно 2.
Ну, в связности, я думаю, очевидно, да.
Ну и получается там система уравнений, из которых e и g, собственно, прекрасно выводится.
Вот.
Это называется, да, g мы сказали, 2e минус...
Да, то есть получается там g равно 2n минус k минус 2.
Так, ну и соответственно, e у нас теперь чему равно?
Так, e у нас получается равно, что там, 3n минус k минус 4.
Что-то странно.
Ну вот, если вот эту формулу выбрать.
А, хорошо, да, тут плюс 1.
Хорошо.
Так.
Ну тогда это что нам даст?
Там 3n минус k минус 3.
Ага, да, вот это уже более какая-то красивая формула.
Аки.
Аки.
Аки.
Аки.
Аки.
Аки.
Аки.
Аки.
Ну вот, хорошо.
Ну, то есть мы знаем, что в любой треугуляции, оказывается, заданного множество точек будет одинаково число треугольников.
Но, как мы уже поняли, сами эти треугольники можно выбрать огромную количественную способность.
Вы представляете вопрос? Какой же из них выбирать?
Вот.
Ну, тут опять.
Ну, тут приходит в голову такие соображения.
Давайте приведем какой-нибудь классический пример.
Вот допустим, что у нас точки заданы каким-то вот таким красивым образом.
Вот.
Ну вот.
И тут предлагаю нот.
Вы представляете вопрос, как же это все переангулировать?
Вот.
Ну вот, например.
Ну вот один из вариантов какой-то вот такой.
Вот.
Вот, допустим, мы тут решили действительно сделать как-то так.
Ну, с другой стороны, какие проблемы могут быть?
Ну, проблемы могут быть, что, например, предположим, что это что-то типа оврага.
Ну, то есть типа тут вот стенки высокие, а вот тут в середине низко.
Скажем, тут высота, допустим, километр, я не знаю, ну обалды.
А тут высота, я не знаю, ноль.
Ну вот. Ну, допустим, нам вот известно, нам пришли сведения о том, что тут все это вот.
Тыша, тыша, тыша, тыша, тыша.
Везде тыша.
А тут, наоборот, нули, нули, нули, нули, нули, ну там плюс-минус.
Ну понятно, что там все с погрешностью, естественно.
Так, ну вот теперь высекается вопрос.
Ну вот, собственно, да.
Вот если так переангулировать, то тогда заметим, что теперь от переангуляции будет принципиально зависеть, как мы себе этот ландшафт воображаем, правда?
Ну, действительно.
То есть, оказывается, что тут либо между этими ноликами есть такой неожиданный какой-то вот такой мост.
Ну не мост, а там что-то типа холмика такого.
Вот, ну это странно. Откуда? Откуда так?
Либо, действительно, ну вот, альтернативный вариант, что можно провести так, и тогда действительно получается как-то более полого, что ли.
Вот.
Ну, тут возникает, конечно, на уровне ощущения вопрос, какой тут вариант подбирать?
Чего мы еще расскажем? Чего мы хотим добиться?
Вот мы думаем. Ну, мы хотим добиться, чтобы ландшафт выглядел по-правдоподобнее.
Да, то, что я сейчас говорю, это соображение, конечно, очень неформальное.
Очень неформальное.
Ну, действительно, ну тут сложно, конечно, возить эволюцию мысли, но, короче говоря, тут человечество пришло к выводу следующее.
Ну да, вариантов мы, конечно, выбирать можем много, да, формально говоря, как бы любая триангуляция тут может иметь место.
Но с точки зрения реальной жизни как-то возникает ощущение, что вот этот вариант, наверное, лучше, чем вот этот.
Почему лучше? Потому что вот этот треугольник, он какой-то слишком узкий.
Ну вот, то есть как-то вот узкий треугольник, на котором вот на узком пространстве совсем какой-то перепад высот нам как-то не очень нравится.
Но что такое узкий?
Ну тут человечество пришло к выводу, что узкий это означает, что в нем есть слишком маленькие углы.
Вот совсем маленькие углы нас не должны интересовать.
Так вот, значит, мы хотим подглядеть слово.
Где мистическое слово, чтобы не подобраться?
Так вот.
Так вот.
Пока оно ей как-то не подобрается.
Так вот, значит, какие триангуляции мы хотим выбирать?
Так вот, мы хотим выбирать триангуляции, в которых минимальный угол в треугольниках, которые у вас тут встретятся, был как можно больше.
То есть вот мы не хотим, чтобы мелких угол... То есть хотим, чтобы минимальный угол был как можно больше.
Более того, при разных вариантах мы хотим, чтобы второй был как можно выше.
Ну и так далее. То есть в переводе говоря, смотрите, если у нас Z-треугольников, то, соответственно, любая триангуляция порождает 3 V-увлов.
Вот.
Там 3 V.
В чем? Более того, вот. Да, вот если мы этот вектор отсортируем.
То, то есть по любой триангуляции можно получить такой вектор, и мы прямо введем определение мистическое.
То есть триангуляция оптимальна.
Если, соответственно, α1, α2, α3 соответствующий лексикографический максимален.
То есть в итоге наша цель будет проектировать триангуляцию с такими вот максимальными углами.
Ну и, соответственно, будем сравнивать триангуляции лексикографически.
Значит, как же это сделать?
Как же это сделать?
Делать это можно.
Ну, первое соображение, иногда...
Ну, для того, чтобы делать некоторые первые соображения, нам придется формулировать еще одну теорему.
Знаете, вот в одноязыком учебнике она называется теорема sales.
Вот, как вы думаете, из какой страны ученый sales?
Из Латвии.
Мимо.
Вообще мимо.
Прямо совсем мимо, даже так не угадайте на сколько.
Из Австралии.
Ой, не!
Еще дальше, как это не странно.
Ну, из Америки.
Из Британии.
Нет, нет, нет.
Реция, причем Третья.
Это фалез.
Нет, да, но это не та теорема сейчас фалеза будет, которая там про вот эти все параллельности.
Там теорема, а здесь упоминается следующее.
Значит, смотрите.
Пусть у нас есть круг, есть прямая.
Ну, там форма, соответственно.
И на нее опираются, допустим, четыре угла.
Угол с вершины P, где P вне круга.
Значит, Q, R, Q, R на круг.
И, скажем, какой-нибудь S внутри.
И все точки находятся с одной стороны от прямой.
Тогда мистическая теорема заявляет нам следующее.
Угол P строго меньше, чем угол Q, который равен углу R, ну и строго меньше углу S.
Вот, мистическая теорема из седьмого класса, да?
Да, это разряльная седьмого, да?
Ну, в общем-то, да.
Ну, как бы, да.
Скажем так, может быть, такой чуть более продвинутый вариант в теореме описанном угле.
Да, потому что мы знаем, что по теореме описанному угле Q, R точно равны.
Ну и, соответственно, если у нас есть такой AP, то тут можно взять угол внутри, он явно больше, и так далее.
Не очень интересно, но вот такая теорема Thales.
Вот.
Но, возможно, она нам даже чуть-чуть поможет.
Какие ноты?
Потому что, значит, мы задумываемся вот о чем.
Мы будем говорить, значит, еще о нот.
Потому что мы теперь, если вернуться к треангуляции, это мне немножко ответить, то у нас оказывается, что есть...
То есть, действительно, иногда вот мы думаем, какое ребро проводить.
И в некоторых четырехугольниках у нас вообще есть такой лайфхак.
Что можно ребро стереть и провести, собственно, диагонально в парке.
Давай такой, да?
Так вот.
Значит, более того, иногда может так оказаться, что локально на самом деле это станет лучше.
Что значит локально?
Ну, в том плане, что, смотрите, если я вот...
Вот у меня есть четырехугольник, какой бы я диагональ не провел, у меня появится шесть углов, правда?
Так вот.
Ну, это, на самом деле, при проведении какого-то из этих ребер, наверное, шесть углов могут оказаться лучше, правда?
Но заметим, что при прочих равных, если у вас все углы сохранились, а шесть углов заменились на алексографические лучшие,
то у вас, наверное, и глобальный вектор становится строго лучше.
Вот.
Поэтому будем говорить...
Поэтому в этом плане, но я так сейчас не совсем формально пишу, значит, ребро Е будем говорить нелегально,
если его замена, то есть замена его, если замена его на
на диагональ нападника
приводит к строгому увеличению.
А вот.
Строгому увеличению вот этого векла.
Ну и, соответственно, понятно, как вы уже догадались, и легально иначе.
Ну, естественно, подразумевается, что этот диагональ нападник существует, потому что понятно, что вот, например,
вот это вот ребро нелегальным быть не может, правда, потому что вы его удалите и собственный чел.
То есть тут, конечно, имеется в виду, что, действительно, что у нас имеет место выпуклое четырехугольник,
диагональ у которого является это ребро, и тогда оно может быть легальным или нелегальным.
Понятие от принципа, да?
Вот. Вот такая красота.
Вот.
Ну вот. Ну и возникает, конечно, первая такая интересная идея.
Вот. Действительно. Вот возникает тогда такая естественная идея, что давайте искать нелегальные ребра.
Вот будем искать нелегальные ребра.
И, собственно, превращать их в легальные.
Но для этого нам, правда, придется понять.
Действительно, на тему того, а когда это ребро легально, а когда нет.
Вот, допустим, вот давайте думать. Вот, допустим, это у нас есть ПИ, ПЖ, ПК и ПЛ.
Вот высекает такой естественный вопрос. Это ребро легально или нет?
Ответ на этот вопрос дает, неожиданно, такая интересная идея.
Ответ на этот вопрос дает, неожиданно, такая интересная лемма.
Значит, давайте пусть.
Значит, ПИ, ПЖ, ПК, ПЛ не лежат на одной окружности.
Тогда, тогда, тогда ребро ПИ, ПЖ, но нелегально, спасибо, тогда и только тогда.
Когда? А ваши ставки что?
Когда пока лежит внутри описанной окружности ПИ, ПЖ, ПК, ПЛ?
Ну, тут пишут наоборот. ПИ лежит внутри описанной окружности, давайте так скажем, ПИ, ПЖ, ПК.
Правда, возникает вот, а есть какие соображения?
Можно на уголке посмотреть.
Наверное, да, есть такое имя. Ну ладно, если у меня мистическое знание, давайте думать.
Откуда же такое у нас берется?
Удобно, кстати, писать, описанную окружность строить и, конечно, можно построить описанную окружность.
Потому что там построить середины и перпендикуляры, вот эти все, да?
Пересеянникщих это не проблема, но на самом деле этого не нужно.
Ну что, по большому счету, в общем-то, можно тут эквивалентность поставить и сказать, что угол ПК плюс угол ПЛ на самом деле должны быть...
Чего они должны быть равны? Больше.
Так, в чем мере им углы? В градусе или в регионе?
В градусе.
Ну давайте в градус, хорошо, 180 градусов.
Вот.
Ну действительно, это так, оказывается, несложно увидеть, потому что, допустим, у нас есть круг.
Вот.
И у нас есть мистическое свойство на тему того, что в вписанном четырехугольнике сумма противоположных углов 180 градусов.
Помните, откуда такое берется?
Да, опять же, это самая тирема вписанном угле седьмого класса.
Потому что она нам говорит не просто о том, что они равны, а о том, что они...
Что вот этот угол равен половине вот этой дуги.
Не было такой тиремы?
Ну было.
Не знаю, что-то калибрика-то менее уверенная.
В олимпиаде геометрия это самый центральный факт.
Чего-чего?
В олимпиаде геометрия самый центральный факт.
В олимпиаде геометрия самый центральный факт.
Вот.
Да.
Можете даже порисовать и доказать.
Не сильно убойно будет.
Вот.
Вот.
Что?
Что-то не так?
Нет, ориентация ровно такая, чтобы...
Что такое дуга?
Что такое красная мера дуги?
Это мы берем, собственно, центр и берем, собственно, угол, который высекает.
Поэтому в данном случае получится именно в этом направлении.
Да, придется порисматривать случаи.
Так, более классические случаи, конечно, когда вы делаете вот что-то такое,
но там тоже придется рассматривать случаи, когда их точка вне там,
то есть где-то там вне лежит, где-то там внутри, вот это.
То есть конкретно в данном случае это вообще без проблем, да, почему?
Потому что там...
Заметьте следующее, да, что если вот это вот альфа, да,
то...
То есть если вот это альфа, то так как это у нас равномедренный угольник,
то это вот альфа, вот это вот два альфа.
Аналогично вот это два альфа, там вот это...
А, но если вот это бета, то это вот два бета,
и получается, что вот этот угол два раза больше, чем вот этот.
С меня.
Вот.
Да.
Остается только вспомнить, как это доказать, если угол все-таки как-то вот так лежит.
Честно говоря.
Ну там так же, только там...
Ну типа того, наверное.
А, ну да, логично.
Ну окей, ладно.
Как говорится, ладно, вы вступили на фистер, значит школьную программу вы знаете.
Вот.
Ну это правда школьная программа.
Вот.
Ладно, значит к чему мы это все?
Ну теперь заметим, что...
Ну отсюда можно легко заметить, что раз угол это половина дуги,
то заметим, что тогда сумма дуг, которые высекают вот эти два противоположных угла в письмом четырехугольнике,
это ровно 360 градусов, правда?
Значит их сумма равна как и сумма вот этих, кстати, тоже 180, правда?
Ну после этого тогда...
Ну вот.
Ну теперь, значит, что означает, что ПН лежит внутри?
ПН лежит внутри, ну тогда это действительно означает в точности, что сумма вот этих двух углов больше 180 градусов.
А если она лежит вне, то наоборот меньше.
Вот.
И вот мы утверждаем, что если она лежит вне, то это ребро проводить можно,
а если внутри, то наоборот треугольник слишком узкий, проводить нельзя, лучше проводите.
Ну вот давайте думать, почему это так.
Так, ладно, давайте что-то картинку побольше нарисуем.
Вот это мы все убираем, это мы все убираем.
Так.
Так.
Значит что у нас тут получается?
Сейчас будет.
Так.
Вот.
Получается повергло следующее.
Так, давайте выпадем в большую окружность.
Вот.
И допустим вот у нас.
Так, ПИ, соответственно ПЖ, тут соответственно ПК, и тут соответственно ПН.
Вот.
Красота, красота.
Что ждет?
Значит теперь смотрим, какие тут вообще возникают углы.
Ну давайте их как-нибудь нарисуем.
Как-нибудь изобретим.
Так.
Да, вот возникает, да.
Стоит сколько углов, какие тут углы поменьше.
То есть на самом деле, я утверждаю, что если у нас действительно точки не лежат на одной окружности, то на самом деле достаточно просто показать, что минимальность из этих шести углов, вот допустим у нас тут углы есть А1, А2, ладно, не будем заморачиваться, А3, А4, А4, ну и допустим А5 и А6.
Вот.
Я утверждаю, что при замене вот этой диагонали на эту, минимально из этих углов увеличится.
Как бы четвертый угол, четвертый угол вся увеличится, то есть если бы порядочнее.
Ну давайте посмотрим, да.
Ну давайте, ну давайте так сделаем, сделаем аккуратно.
Аккуратно.
Значит с одной стороны вот тут есть такое, а с другой стороны есть вот такое, смотрите.
Вот.
Альтернатива, это давайте тут наоборот сделаем.
Я тут перенумирую, скажем вот.
Давайте так, чтобы опирались на одно и то же.
А1, тут допустим А2 будет, тут штрих конечно.
Тут А4 штрих.
Бета штрих.
Бета?
Пожалуйста, пожалуйста.
По заявкам трудящихся введем любые буквы, пожалуйста.
Так.
Так, пожалуйста, что-то у нас еще Бета 3.
Так, что у нас еще есть?
Бета 5 и Бета 6.
Так.
Вот этот вот, ну ладно пусть вот это будет Бета 5.
И вот это будет Бета 6.
Ну утверждение следующее, что...
Ну вот.
Ну утверждение...
Да, какое тут будет утверждение?
Вот.
Ну утверждение такое, что для каждого из углов Бета найдется угол среди Альфа, который его видишь.
Ну если мы это поверим, это будет означать, что минимум Бет больше, чем минимум Альф, правда?
Ну для Бета 5 и Бета 6 факт, в общем-то, сам очевиден.
Тут у нас 4 угла меньше его.
А теперь вот возникает вопрос.
Бета 4.
Как найти угол...
Как найти среди Альф угол, который меньше?
Бета 4 больше его.
Альфа 4, да?
Да, но я 4.
Нумерацию сильно не случайно выбрал.
Потому что я утверждаю, что Бета 4 строго больше, чем Альфа 4.
Почему?
Да, в общем-то, вон, теорема этого древнегречества, как говорится, товарища.
Это нам прямо говорит, что они опираются на одну и ту же хорду.
Но при этом...
Но при этом, вершина угла Альфа 4 находится на окружности, а вершина Бет 4 внутри.
Так что Бет 4 просто...
Можно сказать, потерями 2 больше, чем Альфа 4.
Поэтому, да.
Да.
Ну и, соответственно, да, аналогично мы получаем, что там...
B3 больше, чем Альфа 3, B2 больше, чем Альфа 2, B1 больше, чем Альфа 1.
Вот.
То есть, конечно, да, хочется сказать, что все Альфы увеличились, но это, конечно, не так.
Потому что сумма всех Альф, равно как и сумма всех Бет, одинаковая.
Поэтому, наверное, что-то уменьшилось.
Если вы рассматриваете, когда Альфа 5 и Альфа 6 заменились на Бета 5 и Бета 6, то кто-то из этих углов, видимо, уменьшился.
Но это не глобально, потому что это...
Потому что про Беты мы точно можем сказать, что, соответственно, что B5 больше, чем Альфа 1 и Альфа 2.
И, собственно, B6 больше, чем Альфа 3 и Альфа 4.
Ну, вывод очень простой.
То есть, это означает, что минимум среди них строго увеличивается.
Строго увеличивается, понимаете, да?
Вот.
Ну, а, соответственно...
Ну, а в противном случае, соответственно...
Ну, а это означает, что как раз ребро действительно является нелегальным.
Ну, ровно по этой же причине, кстати, автоматически, если мы бы рассматривали вместо этого ребра вот это ребро,
то мы бы, наоборот, убедились, что это ребро легально.
Потому что в нем мы видим наоборот, что мы можем это окружить немножко сдуть, да?
Действительно, вот в округе провести...
Даже вот, ну да, сдуть там, допустим, округ ПП или ПЖПК, и тогда точка ПИ окажется вовне.
И мы убедимся, что это ребро вполне себе легально.
Вот.
То есть, вот такой неожиданный тест, оказывается, можно проводить.
То есть, если оказывается, ребро лежит внутри выпаковочных угольников, то, оказывается, можно просто проверить действительно сумму углов,
противоположных вот этих вот углов, если они оказались больше чем 180 градусов, значит, ребро надо менять.
Значит, это ребро действительно надо менять.
Вот.
Ну что, есть ли тут какие-то вопросы?
Да, нет, наверное.
Все понятно.
Вот.
Итак, новое... ну вот.
Ну вот, ну правда, действительно возникает, кстати, действительно такой интересный вопрос.
А что делать, если у нас все-таки четыре вершины на одной окружности оказались?
Что это в случае делать?
Там одинаковые углы, минимальные углы.
Да, минимальные углы одинаковые. Ну, давайте тогда.
Причем?
Да. То есть, окажется, следующее, что, предположим, у нас оказалась такая ситуация,
четыре точки, лежащие на одной окружности.
В чем совершенно случайно, оказалось, что в четырехугольнике...
Ну вот, что внутри четырехугольника соединяющего их не одной там точки П не оказалось.
Ну, допустим, да.
Да, нужно проводить диагонали вот над пушкой.
Ну, допустим, да.
Да, нужно проводить диагонали вот над пушкой.
Пока не имеется этих четырехуголов, нужно тогда через ПКПЛ проводить.
Почему обязательно ПКПЛ?
Ну, потому что тогда будет больше внимания.
Ну вот. Ну да. Ну вот, первое, что надо заметить, конечно, это то, что если мы тут проводим две диагонали,
то заметим, что минимальные четыре угла, которые тут возникают, они вообще тупо равны.
Потому что, действительно, рассматриваем, что вот этот вот угол равен вот этому,
там вот этот угол равен на этот раз вот этому,
вот эта бяка, вот этой бяке,
тут еще осталось, да, и...
Ну вот. То есть на этот раз, когда там есть уж какую из этих диагоналей проводить,
возможно, придется реально думать...
Ну вот. То есть реально, на самом деле, думать, действительно, какая из этих пару углов лучше.
Но обычно с этим даже не особо заморачиваются.
Просто потому что, ну, там точки все равно с какой-то погрешностью верутся,
поэтому вероятность того, что уже прям четыре точки лежат на одной окружности крайне мала.
Поэтому часто с этим... Поэтому вот тут называется...
Даже предлагается и думать.
Давайте предполагать, что там не хоть эти четыре точки на одной окружности не лежат.
Хотя, конечно, странное предположение, учитывая, что, скорее всего, уж мерить ландшафт вы будете, наверное, в каких-то точках, которые образуют квадратную сеть.
Но там, правда, и треангуляция будет немножко другого вида.
Вот.
Итак.
Ну вот. Ну, возникает...
Ну, возникает следующая высота.
Ну хорошо, тогда...
Действительно, давайте... То есть идея такая.
То есть давайте тогда пытаться устроить оптимальную треангуляцию пластическим шадным образом.
Вот.
А именно.
То есть просто...
То есть будет такой суперметод.
Пока есть нелегальное гипро...
То будем с ним что-то делать.
То есть такой метод построения треангуляции.
То есть такой это мог бы быть...
Такой метод по строению треангуляции.
то будем с ним что-то делать.
То есть такой метод построения треангуляции,
то есть такой это мог бы быть, такой метод построения треангуляции,
который нам говорит, что давайте построим первую попавшуюся треангуляцию,
и после этого говорит...
Ну а дальше, собственно, там ее пытаемся оптимизировать вот таким образом.
Кстати, автоматические определения вводятся.
Треангуляция легальна.
Легальна.
Тогда и только тогда.
Когда в ней нет, нелегальна, скажем.
Так что вот такая красота.
Вот.
Теперь возникает вопрос. Хорошо.
Заметим, что, да, допустим, мы какое-то количество раз
действительно будем нелегально или, разумеется, нелегально.
Это будет происходить конечное число раз,
потому что с одной стороны у нас треангуляция будет строго улучшаться,
ну то есть по вектору, а с другой стороны количество треангуляции у нас суммарное количество.
Вот, понимаете, да?
Вот.
Более того, я вам пока еще скажу факт, который, возможно, мы докажем когда-нибудь чуть позже,
потому что он вероятно, что не.
Потому что, на самом деле, один из таких, на самом деле, приятных, может быть, методов
построения треангуляции оптимальной звучит так.
Значит, берем, допустим, выплыл оболочку.
Сначала всех больше, да?
Ну там, строим, действительно, абсолютно случайную треангуляцию.
Нет, ладно, случайную не надо.
Ну вот.
Ну, хотя нет.
Да, лучше даже не выплыл оболочку, а просто будем говорить, что...
Ну, то есть, да, ну ладно, сначала там построим всю эту выплылу оболочку,
найдем у нее оптимальную треангуляцию,
а потом будем говорить, что вот у нас есть какая-то треангуляция, вот уже прямо сейчас.
И давайте так, добавляем какую-то точку, она подает внутри какого-то треугольника,
значит, мы разбиваем треугольник на три, а дальше так жественно говорим,
ой, а не является ли случайно какой-нибудь из этих ребер нелегальным?
Если оно там резко стало нелегальным, то что мы делаем?
Значит, мы тогда это ребро, скажем, заменяем, и тогда тестируем уже его соседник.
Ну, если с ним все понятно, ничего не делаем, если все плохо, то, значит, заменяем и начинаем мерить соседник.
Вот. Ну и так честно там делаем, пока, называется, процесс не остановится.
Так вот.
Ну вот. То есть, мистический факт говорит о том, что если вы точки будете добавлять в рандомном порядке,
то, по-моему, количество флипов, которые вы делаете, а, вот эта операция, кстати, называется флип.
Ну, вот это вот.
Вот. Количество флипов, которые вы делаете, будет в среднем линии.
В среднем.
В среднем.
Вот.
Ну, понятно. Сейчас мы доказывать не будем.
Вот. Будет у нас блог. Будет у нас какой-то ментблок вероятностный алгоритм. Вот тогда мы об этом подумаем.
Ну, хотя и не да, по дефолту, да. Хватит ли нам времени? Да хватит у нас времени, на самом деле, у нас блог.
Вот.
Но самое интересное, конечно, возникает, даже не в этой связи, да. То есть, в какой-то такой алгоритм можно написать.
Но возникает вопрос. Хорошо.
А является ли легальная triangуляция оптималий?
Боль, конечно, единственная.
Ну, да. Ну, естественно, да. На всякий случай напоминают, что мы... Да, давайте вот представим себе, что у нас никакие четыре точки на окружности не лежат. Да?
Да.
Ну, давайте тогда думать.
Единственно, что же это может быть?
Вот. Что же это за легальная triangуляция?
То есть, легальная triangуляция, это какая-то такая странная triangуляция.
Такая странная triangуляция, в которой, значит, как, если мы вот вокруг треугольника проведем окружность, то неожиданно окажется, что внутри этой окружности больше никто не попадает.
Так, говорим мы.
А где-то мы и тут...
