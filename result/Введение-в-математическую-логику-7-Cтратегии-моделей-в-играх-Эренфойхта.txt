У нас было понятие элементарной эквивалентности моделей,
и это означает, что то, что я называл элементарной
теорией моделей, просто совпадает.
Я напомню, что это такое.
Элементарная теория модели – это те замкнутые формулы,
которые в этой модели истины.
Множество всех таких формул.
И если они совпадают для двух моделей, понятно, что
сигнатура тогда должна совпадать, то эти модели
называются элементарно эквивалентными.
И мы рассматривали модели без функциональных символовых
констант, и для них рассмотрели игры Ренфойхта на паре
моделей.
Я выписывать прям подробности не буду, просто коротко
напомню.
Игра Ренфойхта устроена так.
Есть два игрока – новатор и консерватор.
Новатор делает первый ход и объявляет некоторое
число k, какое хочет.
После этого игра идет ровно к раундов.
Игра состоит в том, что на каждом очередном ходе
новатор выбирает в одной из моделей элемент, а консерватор
должен ответить в другой модели.
То есть после каждого раунда у нас добавляется
пара элементов, один в первой модели, принадлежит
другой в второй.
И заканчивается игра тем, что появляется, скажем,
после раундов было k, появляются две таких последовательности.
Инноватор выиграл, если найдется в сигнатуре предикат,
который принимает разные значения на этих наборах.
То есть он не обязательно от всех k может зависеть.
Например, вы выбирали а1, а5 и а7, и у вас есть торнарный
предикат, и он принимает не такое значение, как
на наборе b1, b5, b7.
То есть мы можем только часть использовать.
Мы в прошлый раз немножко пообсуждали эти модели,
был в том числе и довольно нетривиальный пример, он
нам сегодня еще раз понадобится.
И более-менее научились анализировать в конкретных
ситуациях, у кого из игроков есть выигрышная стратегия.
Это не всегда просто, но зачастую не так уж и сложно.
А оказывается, что элементарная эквивалентность модели
– это в точности утверждение о том, что… Я даже запишу
все-таки немножко сложнее.
Если модели элементарно эквивалентны, то есть выигрывающая
стратегия в игре на этой паре моделей у новатора,
у консерватора, прошу прощения, если не эквивалентная.
А если не эквивалентная, то тогда у новатора.
Ну полезно, конечно, спросить, наверное.
Понятно ли, почему я не захотел записать знак равносильности?
Вот чем вот такая пара утверждений отличалась от того, что
я хотел написать в начале, что элементарная эквивалентность
модели равносильна тому, что существует выигрышная
стратегия у консерватора.
Да, формально, логически рассуждая, можно сказать
а вдруг в игре нет выигрышной стратегии ни у новатора,
ни у консерватора.
Тогда предыдущая запись была бы неверна.
Вот эта запись показывает, что на самом деле это не
так, потому что два множества равны или не равны.
И соответственно, если они равны, то есть стратегия
у консерватора, если не равны, есть стратегия у новатора.
Но вообще это очень интересный вопрос.
Для любой игры существует выигрышная стратегия,
ну вот такого типа, выигрышная стратегия у одного из игроков.
Ответ удивительным образом зависит от аксиоматики
теории множества.
То есть разные математики, которые верят в разные аксиоматики,
дадут вам противоположные ответы.
Стандартные аксиоматики, которые признают практически
все математики, ну вот то, что называется аксиоматика
Церумиала Френкеля, я о ней уже говорил, можно доказать
существование игр, как говорят, недетерминированных,
в которых нет выигрышной стратегии ни одного из
игроков.
А другие математики говорят, нет, это вы все неправильно
делаете, нужно принять из аксиома, что любая игра
детерминированная, ну там определенного вида.
И тогда получается другая математика, она в чем-то
похожа, в чем-то отличается.
Но это нас слишком далеко в сторону заведет.
Конечно, для игр Renfroycton на самом деле можно доказать
существование, поскольку они идут, ну они идут бесконечное
количество ходов, ну такое условно бесконечное, то
есть первым ходом новатор выбирает какая будет
конечная игра.
И можно, конечно, доказать существование стратегии
у одного из игроков относительно просто.
То есть это, я просто на всякий случай обратил ваше
внимание, что мы докажем все это вот честно, не используя
предположения, что есть у одного из двух игроков.
Ну собственно, мы и будем доказывать просто две разные
ситуации рассматривать.
Как это доказывается?
Ну тут нужно, естественно, нам понадобится какой-то
анализ формул первого порядка, ну у нас это множество состоит
из формул истинных моделях, ясно, что про формулы нужно
понимать.
Ну я начну с того, что нарисую такую условную картинку
формулы.
И нас будет сейчас интересовать вот такое разбиение, не такое,
как было раньше, а немножко другое, вот тут где-то атомарные,
ну а дальше уже термы.
Вот нас будет интересовать структура формулы там,
где она разделяется булевые связки и кванторы, то есть
когда мы идем сверху, у нас может оказаться, что
формула, ну в начале идут какие-то булевые связки,
а потом уже идут под формулы, которые начинаются с квантора.
Вот нас будет интересна эта граница и будет также
интересна еще один параметр формулы, который называется
кванторная глубина.
Максимальное количество кванторов, это по определению,
на пути из корня в лист.
Ну, определение дается в терминах дерева разбора
формулы, так удобнее.
Можно дать аксиоматическое определение, но мне кажется
так нагляднее.
Вот смотрите, мы берем на каждом пути из дерева в
лист, может быть, могут встречаться кванторы, могут
не встречаться, если встречаются, то их какое-то определенное
количество.
На одном пути их может быть два, на другом их может
быть 22.
Вот мы берем максимальное число, это и есть кванторная
глубина.
То есть если у нас вообще есть ветка, где кванторов
очень много, то это дает уже большую кванторную
глубину.
Чтобы кванторная глубина была не больше, чем h, это
значит на любой ветке не больше, чем h кванторов.
Ну и теперь мы готовы к тому, чтобы доказывать эту
теорему.
Но доказывать, вот смотрите, это некоторая общая проблема.
Когда мы хотим что-то доказывать о множестве замкнутых формул,
это не очень удобно.
В логике почти все доказательства происходят по индукции.
А какая здесь может быть индукция?
Если вы начнете разбирать замкнутую формулу, она
под формулы уже будет не замкнутая.
Поэтому почти всегда, когда вам нужно что-то доказывать
про формулы, даже про замкнутые формулы, нужно вначале переформулировать
это утверждение так, чтобы оно работало и для каких-то
не замкнутых формул.
И вот я сейчас эту основную лему, которую буду доказывать,
и сформулирую.
Так, давайте, ну я опять зафиксировал пару моделей.
Игра рэффуэта на этих моделях.
И вот предположим, что у нас есть позиция в этой
игре.
Ну я ее так обозначу две последовательности через
точку с запятой, можно было бы просто две разные последовательности
написать, но я хочу подчеркнуть, что позиция это именно пара
последовательностей.
То есть вот уже сделаны какие-то выборы, вот мы находимся
в таком месте.
Осталось не больше, чем L раунда.
Ну понятно, что в этой позиции опять есть выиграющая стратегия
либо у консерватора, либо у новатора.
Ну может не быть ни у кого, формально, логически, но
сейчас сформулирую об общении теоремы, где будет утверждаться.
Значит первое, если существует такая формула, у которой
множество параметров x1, xm, такая формула, что она принимает
разные значения вот на этих наборах.
Это скажем в первой модели, и значение не такое, как
у той же самой формулы, формулы у нас в одной сигнатуре,
поэтому мы можем применить формулу, вычислить оценку
и в одной, и в другой модели, вот она принимает разные
значения.
При этом что от формулы требуется?
Кванторная глубина A не больше, чем L.
L это вот количество оставшихся раундов.
Предположим, что нашлась формула небольшой кванторной
глубины, которая разделяет уже объявленные значения.
И тогда выигрывающая стратегия есть у новатора, то есть начиная
с этой позиции новатор выиграет.
Мы теперь рассматриваем выигрышные стратегии не
из начальной позиции, где вообще ничего нет, а вот
из позиции в игре, то есть мы уже знаем сколько раундов
и какие-то ходы сделаны, они там в виде параметра
m ходов сделаны.
Ну и второе, если такое нет, то выигрышная стратегия
у консерватора.
Ну, если посмотреть на теорему, я сейчас теорему
сотру, потому что видно, что это частный случай.
Какой частный случай?
Ну, во-первых, нужно положить m равным нулю, то есть мы
находимся в начальной позиции, еще никакие ходы не сделаны.
И, соответственно, у нас формула тогда должна быть
замкнутой, потому что у нее нет ни одного параметра.
Значит, если есть замкнутая формула кванторной глубины
не больше, чем число ходов, вот представьте, что модели
элементарно не эквивалентны, тогда нашлась формула,
которая их разделяет.
Ну, но новатор просто объявит в качестве числа раундов
кванторную глубину этой формулы и, пользуясь леммой,
стратегия из леммы выиграет.
А если элементарные теории моделей равны, то какую
бы формулу мы не взяли, какую бы кванторную глубину
не объявил бы новатор, мы окажемся во второй части
леммы, потому что не будет формулы, которая разделяет
вот эту начальную позицию в разных моделях.
Ну, значит, вот эту теорему я сотру, то есть это явное
обобщение.
И в сущности, из этой леммы я уже теорему доказал.
А теперь надо доказывать лему.
Доказательства существенно разные в этих двух сулучаях,
но их будем доказывать по отдельности.
Ну, давайте начнем.
Значит, где у меня новатор выигрывает в первой части?
Хорошо.
Значит, вот я сейчас первую часть и буду доказывать.
Доказательства, конечно, индукция по… Ну, почему-то.
Ну, в данном случае удобно по кванторной глубине,
то есть по L.
База индукции.
Давайте посмотрим, что говорит наша лемма, если L равно
нулю.
Раундов не осталось, мы находимся в какой-то позиции.
И что мы знаем?
Мы знаем, что должна быть разделяющая формула кванторной
глубины ноль.
А что такое формула кванторной глубины ноль?
Это формула бескванторная.
У нее просто ни одного квантора нет.
Потому что если появляется квантор, он на какой-то
ветке сидит, значит, кванторная глубина уже положительная.
Да, и я прошу прощения, я забыл еще сказать важную
вещь, но вот я… Сейчас ее дополню.
Я на картинке обозначил, но забыл обратить ваше
внимание на это.
Мы будем рассматривать формулы, в которых ходит только квантор
существования.
Это не ограничивает общности почему, потому что квантор
всеобщенность, вот я написал, равносильность.
Формула для любого XA равносильно отрицанию формулы существует
X не A.
Мы это уже несколько раз использовали, вот сейчас
это еще раз используется, если у нас есть формула
общего вида, мы сделаем подстановки вот такие.
Причем видно, что эта подстановка никак не изменяет кванторную
глубину.
Как был один квантор, так и остался.
Вместо вот такой вот ветки для любого X тут A, мы напишем
в начале отрицание, потом квантор существования,
потом еще раз отрицание, и потом то же самое A.
То есть у нас на этой ветке квантор остался один, поэтому
кванторная глубина не изменилась.
Это мне сейчас будет существенное, мы только такие формулы
рассматриваем, но это не ограничивает общности.
Для базы это, впрочем, не нужно, потому что, смотрите,
есть бескванторная формула, которая различает наши
два набора.
Но бескванторная формула, вот предположим, я буду
постоянно эту картинку менять, доски у меня мало, предположим,
вот здесь стоят атомарные формулы.
А заметьте, что у нас термы очень простые, только переменные.
Потому что нет функциональных символов и константов.
Значит, тут стоят атомарные формулы, а вся наша формула
является булевой комбинацией этих атомарных, то есть какая-то
булева функция от значения атомарных форм.
И вот мы находимся в первой части леммы, то есть мы знаем,
что в двух моделях у нас нашлась атомарная форма,
нашлась какая-то бескванторная формула, которая дает разные
значения на наборе a i t в одной модели, на наборе
b i t и в другой модели.
Но значение этой формулы это в любом случае булева
функции, одна и та же булева функция от значения атомарных
форм.
Но раз значения функции отличаются, то и аргументы
должны отличаться, то есть хотя бы одна из этих атомарных
формул тоже должна принимать разные значения в этих двух
моделях.
Ну а что такое атомарная формула, как я уже говорил,
это обязательно будет вот что-то просто переменное,
подставленное в какой-то предикат из сигнатуры.
И это как раз и есть условия выигрыша в игре Renfog.
Мы нашли набор, нашли такой элементарный предикат,
который различает наш набор, то есть подставив соответственное
значение из a i t и b i t, мы получаем разные значения
предиката.
То есть база получается вот так вот буквально применением
всего этого рассуждения.
Шаг индукции.
Шагом индукции посложнее.
Значит мы считаем, что для кванторной глубины меньше
либо равняется 1, l или минус 1, верно.
И теперь рассматриваем формулу кванторной глубины l.
Я опять использую эту картинку.
Смотрите, что я делаю.
Я беру формулу, дохожу до первых кванторов существования.
Они у меня обязательно кванторы существования, я так рисовал
с самого начала, но не говорил.
А дальше стоят, под кванторами существования стоят какие-то
формулы.
И кванторная глубина этих формул, вот если здесь
кванторная глубина не больше чем l, то здесь она не больше
чем l минус 1, потому что у нас вот квантор есть.
То есть мы двигаясь по веткам, доходим до ближайшего квантора.
И под этим квантором, поскольку максимальная глубина не
больше чем l, под этим квантором уже может быть не больше
чем l минус 1 квантор.
1 квантор уже появился.
Ну теперь смотрите, я допустим обозначу как-то эти формулы
фи 1, фи там не знаю, r, вся наша формула это какая-то
булева функция от значений вот этих вот подформул.
Рассуждение то же самое, раз у нас, мы сейчас первую
часть лям мы доказываем, раз у нас формула различает,
то должна одна из вот этих вот формул, которые начинаются
с квантора существования тоже различать.
Потому что смотрите, раз значение a не равно в двух
моделях, то тогда и значение какого-то, какой-то вот этой
формулы тоже должно быть не равно.
Ну такое простое наблюдение, что если значения функции
различаются, то аргумент хотя бы один тоже должен
различаться, это свойство функции.
Отлично, давайте теперь возьмем вот эту вот формулу
фиитую, она имеет вид, существует x, ну там какой-то x, давайте
я ему прям цинично придам имя x, m плюс 1, я напомню,
у меня уже m выбрано.
Ну это связанная переменная, вы знаете, что можно менять
как угодно связанные переменные, ну вот я заменил на x, m плюс
1.
И здесь стоит какая-то формула, в ней могут быть параметры,
которые были раньше, и вот может быть вот дополнительный
еще вот этот параметр, который связан квантором, больше
ничего быть не может, потому что у формулы фиитая вот
это вот параметры, значит максимум может добавиться
под квантором, под одним квантором, может добавиться
еще один параметр, но вот по переменной этого квантора.
Давайте я прям эту формулу тоже аитой назову, чтобы
подчеркнуть ее связь с фиитой, то есть вот где-то вот здесь
у нас есть такая формула, которая различает.
Ну что значит, что она различает, давайте для определенности
считать, что фиитая в модели 1 истинна, а фиитая в модели
2 ложна.
Ну понятно, что я не ограничу общность, и всегда модели
можно переставить, если будет наоборот, ну просто я перенумирую
модели.
И это означает, смотрите, что если я подставлю вот
сюда параметры a1, am, ну чтобы оценивать формулу, я должен
придать значение параметрам.
Я придал значение a1, am, и у меня осталась вот эта
связанная переменная.
Но раз фиитая истина, то найдется такое ам+, что
аит, вот набора уже из m+, 1 тоже истинна, но это просто
определение оценки квантора существования, когда он
истинный, когда при каком-то значении переменной, на
вешается квантор, формула под квантором истинна.
Значит вот такое обязательно найдется.
Вот в эту ам+, 1 новатор и будет делать ход, он выберет
на следующем ходу m+, 1.
А что делать консерватору?
А консерватору тоже нужно выбрать какое-то bm+, 1.
Но если вы посмотрите, у нас вот эта вот формула,
поскольку фиитая во второй модели ложна, эта формула
ложна.
Значит какое бы значение не выбрал консерватор,
когда формула с квантором существования ложна, когда
при подстановке любого значения вместо xm+, 1 вы получаете
ложь.
Значит какой бы не выбрал ход консерватор, у вас вот
эта вот формула, у которой уже кванторная глубина,
я напомню, на единичку меньше.
Принимает другое значение, то есть мы оказываемся
в условиях леммы опять-таки, количество раундов на единицу
уменьшилось и у нас есть индуктивное предположение,
что лемма верна для такого количества раундов.
Ну значит, после того, как новатор сделал такой
ход, как бы консерватор не ответил, в получившуюся
позицию у новатора есть выигрышная стратегия.
То есть в сущности мы предъявили выигрышную стратегию для
новатора.
Нужно искать такую формулу с квантором, всю нашу формулу
нужно вот так проанализировать, найти вот эти самые верхние
кванторы, и потом с каждой из этих формул понять, какая
различает модель, какая это должна различать.
Хорошо, это мы разобрались с пунктом 1, то есть теперь
уже лемма доказана в случае пункта 1.
В случае пункта 2 все немножко сложнее, я, наверное, уже
эту картинку сотру.
Ну, про кванторную глубину я в случае чего повторю,
просто мне тут нужна будет не картинка, для начала
во-первых, нужно будет некоторое вспомогательное
утверждение.
Значит, смотрите, теперь мы хотим доказывать вторую
часть леммы.
Я прям так вот сотру, пока тут я все стирать не буду,
потому что индукция все равно будет по Эль.
Вот это я сотру, потому что это не понадобится.
Но мне понадобится еще одна вспомогательная лемма.
И здесь вот как раз очень существенно, что у нас нет
функциональных символов и константов.
Лемма такая, для любых h и m существует лишь конечное
множество попарно неравносильных форм.
С параметрами, ну, я прям напишу явно, мы будем выбирать
параметры из множества x1, xm, то есть из такого множества
переменных и кванторной глубины, ну, пусть будет
меньше, чем h, на самом деле можно и h, понятно, это ничего
не меняет.
То есть, что утверждается, если я задал количество
параметров формуле и задал ее кванторную глубину,
то у меня есть лишь конечное количество вариантов
выписать разные формулы.
То есть, вообще формул бесконечно много, даже бескванторных.
Но, оказывается, что они, если в сигнатуре нет функциональных
символов и константов, они, в общем-то в основном,
все эквивалентны друг к другу.
То есть, если мы зададимся кванторной глубиной, понятно,
что если кванторная глубина растет, мы можем получать
попарно не эквивалентные формулы в любом количестве,
ну, вот если, ну, в том числе и бесконечное количество.
Ну, вот если у нас нет функциональных символов
и константов в сигнатуре, то при заданных вот этих
у нас всего конечное множество классов эквивалентности относительно равносильности. То есть варианты
высказать какое-то логическое условие у нас конечное количество, если мы ограничены в количестве
параметров и в кванторной глубине. Вот здесь нужно обратить внимание, тут есть некоторая тонкость,
что если бы я не зафиксировал множество параметров, то меня бы могли тут же уличить. Ну как же,
мне бы сказали, давайте просто менять имя параметра. Скажем, параметр вообще всего один. Ну вот он,
подставим одну переменную в качестве параметра, другую переменную в качестве параметра. У нас
эти формулы будут не эквивалентные, их бесконечно много. Вот именно для этого я имена переменных
жестко прибил. То есть я хочу, чтобы мои формулы использовали вполне определенные имена для
параметра. И тогда, оказывается, конечность. Ну доказательства тоже индукции. Опять-таки по
кванторной глубине, которая у меня сейчас аж обозначена. Ну база. Бескванторная формула от
параметров x1, xm. Для любой модели, конечно, я еще забыл сказать. И равносильность в модели.
Я прошу прощения. Значит, в этой лемме, конечно, мы должны прибить модель, потому что если мы
начнем менять модели, у нас тоже может возникнуть бесконечно много разных вариантов. Возьмите
просто атомарную формулу, ее же можно интерпретировать невероятным количеством способов. Нет, модель
прибита. То есть вот конкретные модели, у нас есть только конечное число способов что-то сказать,
если зафиксированы параметры и кванторная глубина. Ну и в случае базы понятно почему. Опять-таки мы
уже это использовали. Бескванторная формула это формула, куда вместо переменных подставлены
атомарные формулы. Сколько есть атомарных формул? Их конечное количество, потому что список
параметров у нас зафиксирован. Сигнатура у нас тоже зафиксирована, она конечная. И это существенно,
я даже не помню, говорил я или нет, что критерий с помощью Игоря Рэнфоэта он только для конечной
сигнатуры работает. По-моему в прошлый раз говорил, сейчас проверю дома по конспекту, но это конечно
важно. Это если что надо поправить. Значит у нас есть n большое атомарных формул. То есть мы берем
какой-то предикат и какие-то подставляем в него параметры в количестве равномарности предиката,
но вот наборов таких параметров конечное число. Потому что вы должны выбирать, у вас есть m
параметров, вот вы должны подставить на k мест, но сколько это? Сколько функций из m элементов
множества в k элементах, то есть k в степени m. Ну и еще есть выбор предиката, но это какое-то
конечное количество n. А дальше, когда вы уже знаете значение вот этих предикатов,
бескванторная формула просто вычисляет какую-то булевую функцию, но булевых функций от n
большой переменных. Их конечное количество. Их 2 в степени 2 в степени n. Ну это вы, наверное,
считали в прошлом году. В общем, несложно посчитать. У вас есть 2 в степени n наборов. Каждый набор
может иметь значение 0 или 1, но значит всего их 2 в степени 2 в степени n. Ну значит неравносильных
бескванторных формул их не больше, чем булевых функций. Потому что если они совпадают, как булевые
функции, вы подставили одни и те же атомарные формулы, то у вас, конечно, получится равносильные
формулы. Я теперь атомарные формулы рассматриваю как такие имена переменных, и вот от них у меня
будет вот столько булевых функций. Если две бескванторные формулы задают одну и ту же
булевую функцию, они просто равносильны в этой модели. Потому что подставляются одни и те же
значения всегда. Хорошо, значит теперь мне нужна еще доска. Вот это я пока здесь проведу вот так,
вот это сейчас пока доказательство еще леммы идет. Шах, значит лемма, ну как-нибудь давайте
я и два, что ли, номер дам, а то у меня две леммы уже появились. Лемма два, шах индукции.
Значит уже доказано там для h меньше l, и вот теперь мы рассматриваем формулы уже кванторной
глубины l. Да, и заметьте, что мое доказательство, оно индукция по h одновременно для всех
возможных значений числа параметров. Шах индукции будет устроен так же. Я предполагаю,
что для всех формул кванторной глубины меньше h, для любого m есть только конечное количество
попарно неравносильных формул с параметрами x1, xm и кванторной глубины h. Мне это сейчас будет
важно, потому что в рассуждении я буду, чтобы доказывать для m переходить к m плюс 1 с меньшим
числом параметров. Ну, рано я стер, конечно. Опять я нарисую схематический вид формулы,
дерево разбора формулы. Опять мне нужна вот эта граница, где появляются кванторы, опять это
только кванторы существования. Теперь у меня эта формула имеет кванторную глубину l. Ну не это,
а эти. Их, в принципе, много. Ну, смотрите, что мы знаем. Вот под каждым квантором существования
стоит какая-то формула кванторной глубины меньше l. И таких формул, да, здесь мы можем написать
качестве параметра как раз xm плюс 1. Их конечное количество. Но тогда и вот таких вот формул
неравносильных конечное количество. То есть, смотрите, я беру формулу кванторной глубины
строго меньше l, подставляю в нее m плюс 1 параметр. Ну, уже формула, которая под квантором. И таких
формул мы знаем, что неравносильных конечное количество. Ну, а когда я навешиваю квантор,
понятно, что если я навешиваю квантор на две равносильные формулы по одной и той же переменной,
то я получу равносильные формулы. Ну, когда я вычисляю, существует xa и существует xb,
если a и b в модели равносильные, то и формулы с навешенным квантором тоже будут равносильные.
Значит, вот таких вот формул тоже конечное количество. Но, заметьте, их количество уже
совпадает с количеством формул, которые мы оцениваем, меньшей кванторной глубины,
но с большим количеством параметров. Поэтому мне важно проводить доказательства сразу для
всех значений m, потому что на шаге индукции мне для доказательства с m параметрами нужно
предположение индукции с m плюс одним параметром. Отсюда получается рекуррента, я ее не выписываю,
потому что она абсолютно нечеловеческая, но вы видите, вот здесь нужно написать что-то там типа
k в степени m, вот такое число. А дальше еще вот это все будет итерироваться, то есть это какие-то
безумные башни степеней двойки, поэтому я предпочитаю просто говорить конечное количество,
не улыбляясь в детали сколько их. Хотя из этого доказательства рекуррента получается. Ну и дальше
я повторяю то же самое рассуждение. Раз таких формул конечное количество, наша формула это
булева функция от значений этих формул, булевых функций от этого конечного количества тоже конечное
количество. Ну правда вот так великовато, значит если нужно взять два в степени, два в степени это
конечное количество. Ну что поделать, ну много их будет, ну конечно. И после этого точно так же,
как в базе, просто аргументировать, что если две булевые функции совпали, ну и все, они совпали.
То есть мы фактически берем вот эту вот булевую часть нашей формулы, подставляем всеми возможными
способами. Формулы кванторной глубины меньше l с m плюс одним параметром, навешивая на них
квантор существования. Получаем такое большое количество переменных, от них какие-то булевые
функции. Вот неравносильные модели формулы будут отвечать разным булевым функциям, поэтому их
будет конечное количество. Вот такая вот лемма. Да и похоже до перерыва я уже не успею доказать
ну свою основную лему. Давайте я тогда, поскольку это такое длинное было отступление, давайте перед
перерывом просто зафиксирую, где мы находились. Вот это мы доказали. Теперь мы доказываем второй
шаг. Значит у нас ситуация такая, чтобы после перерыва уже перейти к доказательству. У нас
есть две модели, есть наборы длины m из одной и с другой модели, и мы знаем, что никакая формула
кванторной глубины меньше либо равняется l не различает эти наборы. Нам нужно доказать,
что есть стратегия у консерватора в игре Айренфойта, где играются l-раундов. Ну давайте сейчас уже
лучше сделать перерыв, может быть начнем чуть раньше, после перерыва, потому что смысла
даваться в подробности, рассуждения сейчас нет. Доказательства опять индукции по кванторной
глубине второй части леммы, и база в данном случае совсем простая. Смотрите, что при l равном нулю
утверждается наша лемма, что все бескванторные формулы не различают эти два набора. Ходов уже
нет, у нас есть наборы а1, ам и б1, бм, и все бескванторные формулы их не различают. Но то,
что мы используем в критерии для игры Айренфойта, это тоже бескванторная формула, ну какая-то,
потому что формула, предикатный символ из сигнатуры, дальше какие-то переменные, это тоже
бескванторная формула, значит они не различают тоже. Вот и вся база. Тут проще, чем в первом случае.
А вот шах индукции, пожалуй, посложнее. Вот мы сейчас хотим для какой-то кванторной глубины
не больше, чем l доказывать. У нас уже сделано m ходов, осталось сделать l ходов, и вот формулами
кванторной глубины не выше l, мы не можем различить эти два набора параметров. Как тут поступить? Нам
нужно придумать, да, сразу можно зафиксировать, что новатор пошел в какой-то вот элемент, скажем,
первой модели. Вот тут как раз меня сейчас спросили, я еще раз по этому всем повторю.
Правила игре info это такие, что новатор на своем ходе может выбирать из какой модели он берет
следующий элемент. Это консерватор обязан ответить в противоположной модели, а новатор имеет возможность
выбрать. Я говорю, что он выбрал в первой модели, но просто все рассуждения можно повторить, если он
выбрал второй модели с заменами буквы a и b. Что делает консерватор? Ему нужно придумать ход.
Для этого он составляет список все попарно неравносильные формулы кванторной глубины
на единичку меньше, а с количеством параметров на единичку больше. Вот такой вот список. Это
формулы, у них m плюс один параметр. Дальше консерватор записывает такую формулу.
Конъюнкция вот по этим всем формулам. Я сейчас напишу, а потом прокомментирую.
Тут давайте я напишу все-таки свободные параметры. Во-первых, это формула, поскольку формулы
кванторной глубины не больше, чем l минус один. Но есть один нюанс, на который я хочу обратить
внимание. В нашей сигнатуре нет константа, поэтому то, что написано вот здесь, вообще говоря,
не совсем корректно. У нас в формуле первого порядка нет этого члена. Но что здесь написано,
что BIT совпадает на наборе a1, am плюс один и на наборе x1, xm плюс один. А вот это вот,
у нас уже новатор сделал ход, то есть вот это совершенно определенные элементы первой модели,
и оценки всех этих формул в этой модели получаются одинаковыми. Чего у нас тут? В первой
модели тут надо написать вот эту формулу или ее отрицание. Если значение этой формулы на
наборе, в первой модели на наборе a1, am плюс один истинно, мы должны написать саму формулу,
тогда эквивалентность будет выполняться. Если тут написана ложь, мы должны писать вместо формулы
BIT и отрицание BIT, тогда тоже эквивалентность будет выполняться. То есть вот это вот, на самом
деле символическая запись, ну вот таких вот литералами их не назовешь, а формулы или отрицания
от x1, xm плюс один, вот это более корректная запись, но менее понятная, потому что вот эти альфаиты
нуждаются в объяснениях. А эта запись очень наглядна, ее удобно в рассуждении дальше использовать.
То есть вот консерватор смотрит на такую формулу. Что мы знаем про эту формулу? По
предположению индукции, по условию LEM, эта формула не различает наши наборы a1, am и b1, bm. У нее кванторная
глубина LEP по условию не различает. Ну тогда что? Тогда если мы... Эта формула заведома в первой
модели истинна, потому что если мы подставим вместо x1, xm, a1, am, то вот этот квантор существования,
это будет просто am плюс один, потому что у нас получится, ну как бы, что формула а, эквивалентная
формуля а. То есть в первой модели она всегда истинна. Значит она истинна и во второй модели. То есть
если я сюда подставлю b1, bm, будет существовать какой-то bm плюс первый. Такое, что если я выберу
значение параметра xm плюс один, bm плюс один, то у меня формула станет истиной. То есть все вот эти
вот формулы, которые у меня есть, они будут истинны или ложны в зависимости от значения формулы на
втором наборе, наборе аиты. Ну вот консерватор и будет ходить в этот bm плюс один. Это его ответ.
Что после этого хода получается? Получается, что мы находимся в условиях леммы, но на единичку
меньше кванторной глубиной. Потому что смотрите, у нас на наборах а1, ам плюс один, b1, bm плюс один,
должны совпадать все формулы с м плюс одним, с кванторной глубиной меньше l, то есть меньше
либо равной l минус один. Потому что, напомню еще раз, вот сюда я вставил список всех вообще формул,
которые мы можем написать. Вот тут лемма еще не стерта, их конечное количество. Поэтому я могу
составить такой список. Это будет пусть длинная, но это будет формула, конечное слово. И поэтому
мы остаемся в условиях леммы. Можем применить индуктивное предположение. После этого мы оказываемся
во второй части леммы по индуктивному предположению. У консерватора есть выигрышная стратегия. Вот он
продолжает так играть. Такое вот достаточно хитрое рассуждение в случае игры с консерватором,
которое, разумеется, совершенно непрактично. Потому что написать все мыслимые формулы кванторной
глубины уже там два с тремя параметрами, это какое-то достаточно сложное занятие. Вы видели,
как все быстро растет. Но, тем не менее, это дает доказательство, что стратегия есть. Стратегии,
которые мы придумывали, не такие уж сложные. Мы доказываем существование стратегии. Не обязательно
она должна быть вот такой сложной. И консерватору не обязательно выписывать эти формулы. Может быть,
он как-то может свою стратегию сформулировать проще. Но на этом лемма доказана. Доказана тем
самым и теорема об играх и Ренфоих. То есть построен критерий элементарной эквивалентности.
Я напомню для каких пар моделей. Модели должны иметь конечную сигнатуру только из предикатных
символов. Доказательство видно, что и то, и то существенно. Конечность сигнатура существенна
вот для этой части. Ничего бы не получилось, если бы сигнатура была бесконечной. И для нее же на
самом деле существенно, что нет функциональных символов. Потому что, если есть функциональные
символы, то не очень сложно построить огромное количество. То есть я могу, допустим, если у меня
даже есть унарный функциональный символ, я его могу к переменной применять много-много раз. Это
получится все так существенно разные термы. Потом навешивать какой-то предикатный символ. У меня
может вообще говоря, ну там понятно, может быть какая-то модель, где их все равно конечное
количество. Допустим, конечная модель. Но если модель бесконечная, то может оказаться бесконечно
много разных предикатов несовпадающих. Поэтому опять-таки вот эта вторая часть не проходит.
Но вот в этих предположениях, что сигнатура конечная и нет функциональных предикатных символов,
это доказательство работает. И мало того, что мы получаем такой достаточно мощный способ
проверки элементарной эквивалентности теории. Возвращаясь к вопросу о выразимости,
мы получаем еще один инструмент для доказательства выразимости и невыразимости предикатов. Потому что,
заметьте, я доказал вот эту лему. Для выразимости предикатов удобно использовать ее не при m равном
нулю, а скажем при m равном единице. В общем, какая арность предиката. Я сейчас это проиллюстрирую на
сравнительно простом примере. Ну точнее даже на двух примерах. Второй будет немножко, ну его
можно подогнать под эту схему, но он немножко про другое. А первый пример такой. Вот у нас уже
была модель в прошлый раз. Я напомню, что такое порядок n плюс n. Это мы берем две копии натуральных
чисел и упорядочим их так, что числа во второй копии, которые вот я со штрихами пишу, они больше
всех чисел без штрихов в первой копии. Вот такой вот линейный порядок. У нас есть единственный предикат меньше.
Ну квантор здесь иллюминировать не получится. Почему? Потому что есть, без кванторная формула тут
вообще ничего интересного не скажет. Допустим про унарный предикат, потому что он скажет x меньше x,
но это же действительно ложно и все. У нас нет функциональных символов. А что-то нетривиальное выразить можно.
Вот что, например, выражает вот такой вот предикат с квантором и с одним параметром. Какой-то унарный
предикат выражается. Для любого у неверно, что у строго меньше x, но есть такой ровно 1 x, для которого это
выполняется. Это вот этот вот самый не штрихованный ноль. То есть предикат x равно не штрихованному нулю,
он выражается. А скажем предикат x штрихованное число, ну то есть попадает во вторую копию, не выражается.
Как это доказать? Ну на самом деле я честно признаюсь, что для простоты я взял очень простой
случай и с эллиминацией кванторов тоже можно побороться, можно расширить сигнатуру подходящим образом.
Расширение сигнатура такая палка о двух концах. Я же могу этот предикат, сигнатуру добавить, тогда он
конечно выражаться будет. То есть мне надо так расширить, чтобы все-таки он еще не выражался.
Но тут это сделать можно, потому что реально кроме этого предиката, который выражает ноль, у нас по сути
ничего интересного мы в этом порядке выразить не сможем. И поэтому можно просто добавить ровно
вот такой вот предикат ноль и доказывать уже, что возможна эллиминация кванторов. Ну это отдельная
история. Я сейчас хочу объяснить, как с помощью игры RunFloat доказать, что x штрихованное не выражается.
Давайте рассмотрим игру RunFloat на паре моделей, которые совпадают. Вот этой модели я обозначу
m и возьму игру RunFloat на паре моделей m и m. Ну никто не запрещает. Конечно, когда мы проверяем
критерии элементарной эквивалентности, это какое-то безумие, потому что консерватор просто тот
же самый элемент будет выбирать, всё время ничего не изменится. Но Lemmo можно применить сходом.
Давайте применим Lemmo, когда a1 у нас равно, ну там не знаю, допустим, значит я рассуждаю от противного,
пусть формула phi выражает, предикат как-нибудь, ну давайте звёздочку поставлю, просто чтобы не
придумывать, выражает звёздочку. Кванторная её глубина, допустим h. Если есть формула,
которая выражает конечное слово, в ней кванторную глубину можно посчитать какое-то конечное число.
И мы теперь применяем Lemmo так, мы берем пару a1 это 2 в степень h плюс 1, а b1 это тоже число,
но в штрихованной копии. Вот на такой паре позиции мы применяем Lemmo, с каким значением l, а l как
раз равняется h. Ну Lemmo нам говорит, что мы предположили, что есть формула, которая выражает
предикат, значит она будет различать эти два a1 и b1, а 1 в нештрихованной части, b1 в штрихованной.
Но то есть по Lemmo это означает, что выраженная стратегия должна быть у новатора. На самом
деле выраженная стратегия у консерватора есть в этой игре, которая начинается с такой позиции,
и это по сути дела очень несложная модификация того, что у нас было в прошлый раз. Я напомню,
что там я доказывал элементарную эквивалентность такого порядка и просто натуральных чисел. И,
кстати, те, кто смотрели конспект лекции, обратили внимание, что я допустил ошибку. Я когда
объяснял стратегию консерватора, я одну вещь упустил. Консерватору нужно еще поддерживать,
вот когда он поддерживает некоторый порядковый изоморфизм. Я сейчас буду постепенно напоминать,
что имеется в виду. Тут по сути дела мне тоже самое нужно сделать. Вот он поддерживает такой
порядковый изоморфизм на выбранных структурах. Он обязательно в него должен включать ноль. То
есть игра начинается, прежде чем консерватор начинает поддерживать инвариант, он сразу ставит ноль.
Поэтому, например, если количество ходов большое, и новатор выбирает один, консерватор обязан
выбрать один. Иначе ему будет плохо, иначе новатор его загонит в ноль, и если он выберет другое
число, то там возникнет разница. Поэтому ноль нужно поддерживать. А вот здесь у нас еще были такие
вот разрывы уровня И. То есть это что разность переменных не меньше, чем два в степени И.
Основная идея инварианта, который поддерживает консерватор, что очень большие расстояния никак
не различимы за небольшое количество ходов. Вот так совсем неформально, что мы можем делать с
большим отрезком? Мы его можем поделить примерно пополам. Поэтому, если расстояние больше чем два
в степени возможное количество ходов, ну мы не исчерпаем отрезок. То есть у нас там останутся
какие-то числа, у нас никакого противоречия мы не найдем. То есть если один отрезок очень большой
одной длины, другой очень большой другой длины, то мы не уличим в этом консерваторе, ну или даже
бесконечной длины. Здесь то же самое. Здесь нужно поддерживать аналогичный инвариант. Единственное,
что начинать нужно не с ноль-ноль, а вот вот с этой вот пары. Вот мы сразу должны вставить 2h
плюс один, а сюда вставить 2h плюс один с треховыми. То есть вот у нас перед самым первым ходом
новатора, консерватор, который свою стратегию разрабатывает, он сразу берет вот такие две
обстоятельства. Они порядково изоморфны, потому что вот здесь вот разрывы большие, уровня больше h.
Ну один вообще бесконечный, а второй он больше, чем h. И идея стратегии консерватора состоит
в том, что бесконечный разрыв от очень большого конечного различить невозможно, значит вот на этой
паре он выиграет. То есть как бы не ходил новатор, ну там я не буду все подробности стратегии рассказывать,
но хотя бы один из, он ходит в какой-то из отрезков интервалов, хотя бы один из интервалов,
если интервал был бесконечным уровнем h, хотя бы один из интервалов будет бесконечным уровнем h
минус 1, и консерватор имеет возможность сделать ход, который обеспечит ему, что вот соответствующий
интервал тоже уровня h минус 1 бесконечный. Ну а если какой-то конечный, консерватор отступит ровно
это конечное количество. И здесь все то же самое, то есть никакой разницы нет, рассуждение,
которое было, оно применяется и здесь. Я его подробно пересказывать не буду, потому что и так
как-то по времени чуть-чуть я затянул. Ну идея, я думаю, понятна, то есть вот мы доказали, что
предикат невыразим, просто сославшись на то, что есть стратегия консерватора, а если бы он был
выразим, должна была быть стратегия инноватора. Еще один пример, который, ну я почему его хочу
привести, потому что это одно из самых известных приложений игры Renfoy. Там задач очень много,
я скажу только самую простую, а вообще там большая сложная наука. Мы можем применять вот,
заметьте, вот эту лему и к конечным моделям тоже. Вообще в конечных моделях все вроде бы очень
просто, потому что там всего конечное количество элементов, инноватор, если они элементарно
не эквивалентны, инноватор там выберет больше, чем количество элементов модели и все. То есть там
только изоморфизм остается. Но можно рассматривать такие семейства конечных моделей и смотреть на них.
Это в принципе все укладывается вот такую же схему, но удобно это формулировать иначе. Я вот сейчас
скажу на конкретном примере. Давайте рассматривать теорию графов. Значит, что такое графы с точки
зрения модели? Вот у нас есть граф G, у нас есть предикат равенства, x и y это вершины, и у нас
есть предикат как бы его обозначить. Ну давайте я вот так вот просто напишу. Два бинарных предиката,
просто x равно y, ну как-то не иметь равенства неудобно, и пара x и y является ребром в нашем
графе. Графы будем для простоты считать простыми и неориентированными, это большой разницы нет,
раз у нас есть равенства, мы всегда можем там различать петли, это все не проблема. То есть
фактически мы ограничиваем наш выразительный язык таким очень естественным образом. Ну что мы
про графы можем говорить? Ну какие-то вершины инцидиантны каким-то, какие-то равны. И можем
использовать кванторы по вершинам. Ну получаем какие-то формулы. Эти формулы,
замкнутые, выражают какие-то свойства графов. Я вот утверждаю, что в логике первого порядка
не выразим предикат граф связный. Вот тут смотрите, почему я делал оговорки. Предикат,
который я хочу выразить, он уже не в наших моделях. Это утверждение про графы. То есть
фактически я смотрю на задачу так, у меня есть много моделей, в каждой модели у меня есть одна и
та же сигнатура, и каждая замкнутая формула задает ну какой-то предикат на этой модели. А
если формула замкнутая, то она задает просто истину или ложь. Соответственно, если мы взяли
какую-то замкнутую формулу в этой сигнатуре, она определяет уже предикат на моделях. В данном
случае на графах. То есть для графа формула верна или формула не верна. Ну например, в графе есть
вершина степени 3. Это предикат выражается в нашей сигнатуре. Почему? Потому что нужно сказать,
что существует вершина. Такая, что есть там v, такая, что есть x, y, z, попарно различные. И такие,
что они смежные, вот используя вот этот предикат, они смежные с v. А для любой другой вершины,
там t, она не смежна с v. Мы получаем предикат, что существует вершина степени 3. Существует
крик размера 3. То есть, в общем, вот такие вот локальные свойства мы все выразить можем. А
глобальное свойство, как связность, выразить не удается. И тому есть очень важное объяснение.
Предположим, что у нас есть какая-то формула, там phi, которая выражает связность. Значит,
она должна, это замкнутая форма, она должна на... и у нее кванторная глубина, там не знаю, h. Она
должна на связанных графах давать один ответ, она не связанных к другому. Ну, одно значение,
она не связанных к другому. Давайте возьмем в качестве одного графа цикл, там не знаю, длины 2
в степени 2h, а в качестве другого два цикла длины 2 в степени 2h. Это граф g1, граф g2. Если мы
интерпретируем нашу формулу в первой модели, должна быть истина, если во второй должна быть
ложь. Но утверждение, которое я теперь делаю, смотрите, вот внимательно следите за руками,
я утверждаю, что эти модели, конечно, нельзя сказать, что они элементарно эквивалентны,
потому что если я напишу формулу, в которой там больше чем 2h плюс 1 переменных, 2 степени 2h
плюс 1, то я их различу. Но, если я рассматриваю формулы кванторной глубины h, то они все принимают
одинаковое значение на этих моделях. А наша лемма позволяет доказывать такие утверждения,
потому что, по сути дела, она говорит, что нам нужно доказать, чтобы прийти к противоречию,
нам нужно доказать, что в игре Ренфойхта на h раундах тут уже новатор не имеет возможности. Мы как бы
смотрим на игру после того, как новатор объявил ход. Раз у нас есть формула кванторной глубины h,
то различающие эти две модели, то новатор, мы забираем у него эту степень свободы, мы говорим,
что раз есть такая различающая формула, следуя этой лемме, мы можем утверждать, что новатор
должен выигрывать за h раундов. Эта лемма дает нам и такую информацию. Ну а доказать, что на самом
деле тут выигрывает консерватор не очень сложно. Это очень похоже на вот тот пример, который мы
разбирали. Почему? Потому что, смотрите, что фактически наши предикаты задают? Расстояние между
вершинами 0, это если они совпадают, и расстояние между вершинами 1, это если они смежны. Больше мы
ничего, в общем-то, про расстояние сказать не можем. Поэтому если мы будем подходящим
образом модифицировать это понятие порядкового изоморфизма, ну у нас теперь циклы, но мы хотим
поддерживать циклический порядок. Вот и во втором случае тоже у нас вроде бы там два цикла, но мы
будем вставлять один в другой, так мысленно вставлять один в другой, поддерживая вот здесь,
ну так, условно говоря, бесконечный разрыв. Это возможно, потому что если у нас всего h ходов,
мы на цикле 2 в степени 2h выбрали всего h точек, ну какой-то интервал очень большой. То есть,
если вы выбираете две точки, у вас один из интервалов не меньше, чем половина, тут даже не
2h, можно 2 в степени h плюс 1, это я так для подстраховки написал 2h. Ну и дальше мы просто тот же самый
поддержимый вариант, то есть мы немножко меняем понятие порядкового изоморфизма, мы хотим такой
циклический порядок поддерживать на тех элементах моделей, которые выбираются. И утверждаем,
что этот циклический порядок вот с буквальным переформулировкой вот этих вот разрывов уровня
и, то есть теперь это расстояние по графу, он буквально сохраняется. То есть тут тоже, конечно,
расстояние между вершинами из разных связанных компонентов бесконечно, мы видели, что это ничего
не препятствует, очень большое конечное число и бесконечное мы никак не можем различить. Поэтому
получается такое сравнительно легкое доказательство. Ну дальше там много разных теорем про это дело
есть, я в подробности уже вдаваться не буду. И на этом мы вот эту первую часть курса закончили. Я
надеялся закончить чуть быстрее, но оставшиеся 10 минут я хочу все-таки каким-то толком потратить,
значит потому что нам предстоит довольно сложная вторая часть и она будет уже не семь
хотя она сложнее в первой части. Но с другой стороны мы потренировались, вы размялись,
немножко так приучились думать в терминах формул. О чем пойдет дальше речь? Ну я напомню,
что в логике самое интересное, собственно, для чего его создавали, это формализовать не сами
утверждение, а доказательство. И вот мы теперь рассмотрим, что делать с доказательством. Утверждение
мы будем формализовывать вот так, как уже это мы делали, булевыми формулами или формулами
первого порядка. А как формализовывать доказательство? Ну я хочу рассказать два подхода.
Первый подход классический, так логика и возникала, и он имитирует аксиоматический метод,
который восходит еще к древним грекам, геометрии, то есть мы фиксируем какие-то аксиомы, и из этих
аксиом с помощью формальных логических правил вывода выводим новые утверждения. И вот так
постепенно получаем теорию. Вот такой аксиоматический подход возможен, а я его подробно расскажу в такой
сравнительно простой ситуации, когда у нас формулы, булевые формулы. Ну я там даже введу
ограничения, я сейчас про них скажу, наверное, сегодня успею про них сказать, как раз все
предварительные вещи по видео успею сказать. Булевые формулы, а хотим доказывать тавтологии,
то есть теоремы, которые нас интересуют, имеют вид. Формула является тавтологией. Значит, что вот
эта вся программа, которую я сказал, означает? Нам нужно задать аксиомы, то есть выбрать какое-то
множество формул, в которые мы говорим, вот это тавтология, это мы доказывать не будем, это мы
отдельно изучим, почему это тавтология. А дальше мы должны еще сформулировать правила вывода. Вот у нас
есть уже какое-то множество выведенных формул. Мы хотим сказать, что если у нас есть такая-то и
такая-то формула, то еще какая-то формула, тоже мы за один шаг ее выводим, она тоже тавтология. И
цель придумать вот это множество аксиом и правил вывода так, чтобы выводились только тавтологии,
но при этом все тавтологии выводились. То есть двоякая цель. Мы не хотим делать ошибки ни в
одну сторону, мы не хотим вывести случайно какую-то нет тавтологию. Потому что, конечно, есть очень
простое правило вывода подставить любую формулу. Или наоборот сказать, что все формулы это аксиомы.
Тоже хороший способ как бы тревелизовать эту задачу, сказать, пусть у нас аксиомами будут все
тавтологии. Ну на это резонно возразить, но если тавтология сложно устроена, то мы ничего как бы
и не узнаем. Эту же претензию можно предъявить и к более сложным наборам, но идея, которая двигалась
логиками, была следующая, что тавтологии бывают очень сложные, там их очень много, они разноустроенные.
А мы хотим зафиксировать какие-то простые и понятные правила, которые точно уже можно
объявить тавтологиями, а потом все остальное доказывать. На этом пути, если это все
формализовать, это сейчас я начну и в следующий раз мы продолжим, возникают разные проблемы.
В частности, проблема такая, что если у нас много связок, много аксиомов, много правил вывода,
все доказательства будут длинными, потому что нам нужно проверять про все аксиомы что-то,
про правила вывода что-то, и большое количество связок приводит к большому количеству случаев
перебора, какие бывают формулы. С другой стороны, если сделать небольшое количество связок,
а можно ограничиться одной связкой. Если вы возьмете книжку Мендельсона, вы увидите там
формальную систему, в которой выводятся все тавтологии в базисе NAND штрих шефера, то есть
это отрицание к конъюнкции. Если вы вспомните про теория Мопоста, вас и вроде бы учили, это
полная система связок, вот одна такая булевая связка. С любую булевую функцию вы можете выросить.
Некоторые формулы будут получаться тавтологиями. Так вот, тавтологии в этой системе можно вывести
из одной, вообще не из одной формулы, а из одной, как я чуть позже скажу, это формальней схемой
аксиомов, то есть формула, куда мы можем в качестве переменных подставлять какие-то другие формулы.
И вот тут нам совсем хорошо, схема аксиомов всего одна, но доказательства получаются абсолютно
непонимаемые, поэтому нужно выбирать какую-то вот золотую середину. Я такую золотую середину вам
предложу. Как всегда, когда компромисс, не все согласны, что это удачный компромисс. То есть это
не то, что оптимальное решение в каком смысле, экстремальное по какому-то параметру, а мы учитываем
разные параметры и делаем не оптимально ни по одному из них, но как-то вот считаем, что сбалансировали.
Вот я считаю, что это удачное компромиссное решение. Это у нас будет формальная система. Формулы
в этой системе используют только связки импликация и отрицание. Вот отличие от тех формул,
которые у меня было, состоит в том, что я хочу оставить только эти две связки. Это сократит
количество аксиом, которые мне нужны, ну и количество разборов случаев в предоказательствах.
Когда мы разбираем формулу, у нас каждая связка дает отдельный случай для разбора.
Что делать с остальными формулами? Ну в смысле, с остальными связками. Мы же не хотим себя лишать
выразительных возможностей. Здесь юнса, скажем, что это такое. Ну, мы знаем, что это такое на самом
деле. Это х дизюнкция у равносильно формуле из них следует у. Импликация и отрицание тоже полная
система связок. Вот мы будем считать, что дизюнкция формул у нас на самом деле просто означает вот
такую формулу. А конъюнкция, соответственно, будет означать отрицание, как бы не ошибиться.
Вот так вот. Давайте проверим, что это действительно конъюнкция. Если х равен 0,
это 0. Если у равен 0, это 0. Ну а если х и у равны единице, то это единица 0. Ну и эквивалентность
нам может захотеться. Это будет просто из х следует у и из у следует х. Тут я уже конъюнкцию могу
использовать то, что я определил. То есть вот в нашей сокращенной системе мы будем формулами считать
по определению только формулы со связками импликация и отрицания, а остальные связки
будем считать сокращениями. То есть чтобы получить формулу вот в определении вот этого
формального исчисления высказываний, нам нужно вместо конъюнкции и дизюнкции и там эквивалентности
подставить вот такие вот подформулы. В остальном определение более формулы такое же, как у нас было.
Я напомню, что цель моя это выражать тавтологией. Ну как я говорил, мне нужны аксиомы. И вот здесь
первая вещь, которая вас поразит наверное, потому что аксиомами в нашей формальной системе будут
называться формулы, которые не очень-то похожи на простые понятные тавтологии. Я их сейчас напишу,
объясню, что я написал. Это я успею сделать, но больше пореден ничего не успею. Так.
То есть смотрите, я фактически записал три схемы аксиом. Что такое схема формул? Схема формул,
по сути дела, это тоже формула. Но по определению схема формул это множество формул. Она задается
одной формулой, а формулы из этого множества получаются так. Я вместо переменных, ну скажем,
первой схеме, переменной a и b, я могу подставить любую формулу. Единственное, что вместо буквы
я должен подставить одну и ту же. И получаем, ну вот все множество формул такого вида называется
схемой, в данном случае аксиомы a1. Соответственно, такого вида множеством схемы аксиомы a2. Это
аксиомы a3. Ну видите, они довольно странные и дикие, и почему выбраны такие аксиомы, не очень
ясно. Наша цель какая? Наша цель, но она двоякая. Во-первых, мы готовим почву для более сложной
работы с формулами первого порядка. Когда мы будем строить аксиомы и правила вывода для
чрезначимых формул, мы это будем использовать. А во-вторых, мы хотим все построить так, чтобы
доказательства шли как можно проще. И на самом деле выяснится, что вот это вот формулы выбраны
так, чтобы с ними очень легко проходили важные для нас доказательства. То есть это такой искусственный
конструкт. Объяснять почему именно такой набор формул нужно признать самыми очевидными тавтологиями
я не буду. Они удобны для построения формальной системы. Наша цель, чтобы у нас была адекватная
формализация. Ну и они чем проще, смотрите, в отличие от всего множества тавтологии, это очень
трудная алгоритмическая издача проверить, является ли формула тавтологии. В следующем
семестре объяснят точный смысл этого слова. Она, как говорят в науке о сложности, коэнп полная.
А аксиомы образуют простое множество. Есть простой эффективный алгоритм по формуле проверить,
является ли она аксиомой. Что для этого нужно сделать? Нужно сделать разбор формулы и посмотреть,
что верх дерева этого разбора совпадает с одной из этих схем. Ну скажем, с первой схемой аксиом,
что у нас должно быть? Импликация. Вот тут какая-то формула А, а тут импликация, и тут вот тоже должна
быть та же самая формула А. То есть мы должны найти вот такую часть в дереве разбора. Я буквально
на две минуты вас задержу. И убедиться, что вот эта подформула равна вот этой. Если это так,
то эта формула удовлетворяет первой схеме аксиом. И это эффективно проделать, потому что разбор
делается эффективно. Проверять, что две подформулы равны тоже эффективно. То же самое с ними со всеми,
но если вообще любые конечные схемы аксиома написаны, их конечно можно вот так вот разобрать.
Ну и наконец правило вывода. Все равно придется наверное повторять в следующий раз, но я постараюсь
покороче это повторить. Мне все равно придется давать определение формальное. Для этого придется
все выписать. Ну давайте правила вывода хотя бы напишу. У нас будет единственное, это modus ponens.
Если есть формула А и формула из A следует B, мы можем вывести формулу B. Это такой стандартный
рутинный шах математического утверждения. У нас есть лемма, что если A, то B. Мы доказали,
что A верно, значит мы можем заключить, что B верно. Вот это единственное, чем это нравится
логикам, что это такой естественный, понятный шах. Вот так мы рассуждаем математики. Ну и вот мы
хотим это повторять. Ну ладно, тогда на сегодня все. Все остальное в следующий раз.
