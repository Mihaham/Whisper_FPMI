Всем доброго дня! Сегодня мы продолжаем говорить с вами о LR-алгоритмах.
Сегодня на самом деле будет самая сложная лекция в нашем курсе.
Будет очень много всяких формальных вещей и формальных доказательств,
так что я советую морально настраиваться.
И если сегодня вы хоть что-то поймете, это будет уже отличным прогрессом.
Тема сложная, тема важная.
Потому что нам нужно будет с вами разобраться в некоторых деталях,
в некоторых тонкостях алгоритма.
И, в общем, у меня тут передо мной лежит шпаргалка,
которая позволит мне проводить все доказательства.
Я ее воспользуюсь в некоторые моменты времени.
Плюс я еще в презентации себе небольшие шпаргалочки сделал.
Давайте начинать.
Прежде чем мы с вами начнем, давайте вспомним некоторые определения,
которые мы дали с вами в прошлый раз.
Смотрите, мы с вами определили, во-первых, что такое множество first.
Это множество всех первых букв, которые мы можем вывести из слова.
Из последствий терминалов и не терминалов.
Это раз.
А второе определение, которое нам понадобится сегодня,
это определение операции closure.
Это замыкание.
И операция замыкания нам помогает убирать эпсалом перехода.
Давайте я еще раз повторю, чтобы это у нас было зафиксировано где-то как шпаргалка.
То есть смотрите, что у нас есть.
У нас мы можем определить операцию closure от множества ситуации i.
Не обязательно это какое-то замкнутое множество.
Это множество g.
Такое, что i является под множеством g.
И смотрите внимательно.
Значит, если у нас есть a,
дальше у нас есть терминал alpha1.beta, alpha2.
И следующая гипотетическая буква a.
И эта ситуация у нас лежит множеством g.
Тогда мы можем сказать, по сути, пуститься дерево грамматики.
То есть у нас ситуация b.
Стрелочка гамма.
Запятая c.
Где будет принадлежать g для любого c.
Такого, что у нас первая буква выводится из alpha2a.
Чтобы еще раз вспомнить в терминах картина.
То есть у нас есть alpha.
У нас есть alpha1.beta, alpha2.
Здесь у нас может вывестись какая-то буква a первой.
А дальше мы beta раскрываем в гамма.
И дальше у нас с вами как раз вот мы берем первую букву,
которую мы можем с вами здесь вывести.
Для любого c принадлежит first alpha2a.
И мы с вами давайте вспомним, что такое активный префикс.
И что такое допустимая ситуация.
Значит, давайте еще раз.
Значит, у нас есть допустимая ситуация.
Много префикса.
Повторим.
Значит, что это значит?
Это значит, что у нас есть какой-то префикс alpha.beta1,
который появляется в деле вывода следующим образом.
И за штрих мы с вами выводим alpha.au.
А из alpha.au мы выводим beta1 и beta2.
И точка у нас стоит здесь.
Поскольку у нас дерево вывода является правосторонним,
то у нас прежде чем выводить что-то из не терминала alpha,
мы должны раскрыть все, что находится справа.
Поэтому здесь у нас слово u всегда будет находиться.
За один раз мы выводим с вами alpha, beta1, beta2.
И тогда у нас a пишется,
стрелочка beta1, точка beta2,
запятая c принадлежит к множеству допустимых ситуаций.
alpha, beta1.
Если у нас есть дерево,
если у нас есть вот такое дерево разбора.
И что важно,
то c это следующая буква,
слово u.
Вот такая вот у нас с вами определение допустимых ситуаций.
Сейчас мы с ними будем работать.
Поэтому давайте уточним,
есть ли вопросы по этим определениям.
Смотрите.
Какой-нибудь.
Видимо нету.
Ну хорошо.
Давайте дальше.
Немножечко разберем некоторые факты,
сегодня будут полезны. Они математические, они на самом деле не сложно доказываются.
Первое утверждение, которое мы с вами сегодня докажем, что если из альфы мы можем вывести бета,
то множество фёрст у нас с вами относится в обратном соотношении. На самом деле этот факт не
сложный, но давайте его проверим. Как его доказывать? Напомню, что такое фёрст от множества b.
Это множество всех символов, таких что из бета мы можем вывести некоторое альфа у. И ещё объединить
с множеством стоящих символов доллара при условии того, что у нас из бета можно вывести
альфа. Бета является альфом порождающим символом, тогда мы ищем доллар. Теперь смотрите, пусть у нас
а принадлежит фёрст от бета. Сначала рассмотрим случай а, лежащий в множестве языка,
а тогда смотрите, что у нас получается. Мы можем написать следующее, что а из альфа мы выводим
бету и выводим альфу ау. Следовательно, у нас а принадлежит фёрст от а, вот. Если у нас,
если а это у нас знак доллара, то тогда у нас бета выводит эпсилум, из этого можно сказать,
что из альфа выводится бета, выводится эпсилум патрона не с дивностью. Следовательно,
доллар лежит фёрст от альф. Такой факт в качестве разминочки на сегодняшнее занятие.
Оно нам понадобится во многих местах, поэтому я его решил сразу зафиксировать.
Поехали дальше. Второй факт, который нам сегодня будет полезен в выводах, это по сути факты про множество
фёрст. Транситивность факта фёрст. Мы говорим следующее, что если у нас с вами а принадлежит
фёрст от альфа, альфа б, а б принадлежит фёрст от гамма, то из этого будет следовать,
что а принадлежит фёрст альфа гамма. Поехали тоже это всё выводить. Тут опять же идёт
рассмотр нескольких случаев. Доказательства. Первый случай, у нас с вами а не равно доллару.
Давайте проверим следующее. Давайте проверим так, а не равно доллару. У нас может быть два случая.
Первый, 1.1. Это значит, что из альфы мы выводим какое-то ау. То есть этот символ выводится у нас
прямо из альфы. А второй случай, который у нас может быть при этом, это альфа является
эпсилом порождающим, а из бета получается а равно тогда b. Потому что из альфа выводим следующее,
а первый символ от бета, от б, это собственно этот символ бета. Ну тогда мы можем сказать следующее,
что альфа гамма выводит некоторое ау гамма, ну а из гаммы пусть мы вводим какое-то символ в,
в. Да, то есть это значит, что здесь ок. То есть здесь у нас все работает ок. Второй случай,
если у нас альфа вводит эпсилом, а равно b, то тогда у нас мы можем сказать следующее. Давайте
посмотрим, что мы можем вывести из альфа гамма. Из альфа гамма мы выводим эпсилом, а из гаммы мы
можем вывести, значит b принадлежит f от гамма, следовательно у нас гамма выводит какой-то бета
bx. Тогда мы можем вывести эпсилом на bx. Ну а это bx следует на b, равный а при этом, принадлежит f от
альфа гамма. Это что касается первых двух случаев. И теперь второй случай, который нам надо рассмотреть,
это а равно доллару. Давайте, что-то немножечко было интерактивно, поймем, что это значит.
Альфа равно либо доллару, либо пустому? Из альфы у нас не может вывести из ничего,
это значит, что у нас из альфа бета выводится пустое слово. Либо если из альфы у нас выводится
пустое слово, то b равно доллару. То есть из этого мы сразу можем сказать, что из альфы выводится
пустое слово, а b равняется доллару. Ну а раз b равняется доллару, значит у нас из гаммы выводится
пустое слово по определению множества first. Ну и давайте тогда поймем, что у нас с вами
выходят. Тогда у нас получается из альфы гаммы мы можем вывести эпсилон, поскольку из альфы
выводится эпсилон, и из гаммы мы тоже можем вывести эпсилон, что является эпсилоном. Ну
следовательно, доллар, который у нас является при этом символом a, будет лежать в множестве first
от альфы гаммы. Ну и тем самым мы с вами доказали этот факт. Просто мы этими фактами будем с вами
оперировать в дальнейшем, поэтому нам надо было зафиксировать с вами. Так, движемся дальше.
Пока. Понятно? Если что, говорите, будем медленнее идти.
Все, отлично. В чате увидел. Поехали, теперь докажем первую важную лему,
которая нам понадобится. Смотрите, значит, лемма следующая. Если у нас И является подножеством
множества допустимых ситуаций по активному префиксу альфа, то closure, давайте я буду сокращать его,
а closure от И тоже является подножеством ситуации допустимого префикса, то есть мы не вылетаем за
пределы множества допустимых ситуаций для активного префикса. Смотрите, доказывать будем
с следующим образом. Давайте я буду писать доказательства. Здесь надо рассмотреть. Пусть у нас
ситуация А, стрелочка β1.β2, С принадлежит замыканию множества И. Да, и смотрите, что тут мы
будем сделать. Факт один, который нам нужен. Рассмотрим операцию множества такие. Смотрите,
И0 будет равное И. И1, это мы применяем, давайте я напишу условия вот это вот. Условие фигурной
скобкой к И0. И2 у нас получаются из условия С, И1 и так далее. И дальше смотрите,
в какой-то момент времени у нас получится на самом деле с вами, что ИКТ равно хуже от И,
так как множество ситуаций конечном. Вот, и по факту, давайте тут аккуратненько, нам нужно будет
сделать с вами индукционный переход. Индукции ПК, что ИКТ у нас вложено в множество допустимых
ситуаций от А. Так, давайте по параметру только другому возьмем, не ПК, а ПТ, по моменту времени.
Ну, давайте смотреть. База у нас на самом деле доказана уже. Т равные нулю, у нас получается
с вами, что И равное И0, оно является уже множеством допустимых ситуаций от А. Теперь нам
надо с вами сделать переход. Переход индукции у нас с вами осуществляется с Т в Т плюс один.
Итак, смотрите, что у нас есть. У нас с вами есть некоторая ситуация, альфа один,
точка бета, альфа два, А принадлежит И Т этому. Есть правила гамматики Б стрелочка гамма. И тут
вас заметит, что у нас вот эта штука является множеством допустимых ситуаций от А. Давайте
я тут даже другую стрелочку возьму. Из этого следует, что у нас существует вывод. Какой вывод
у нас существует? Так, я сейчас подниму. Смотрите, С штрих выводит альфа штрих АУ. Дальше,
за один раз мы выводим с вами так, что у нас получается, альфа альфа один, бета, альфа два,
у, альфа штрих только. Смотрите, альфа штрих альфа один у нас равно альфе, А принадлежит
ферстату. Теперь нам надо показать с вами. Пусть есть правило, ситуация Д стрелочка гамма,
С принадлежащей будет уже ИТ плюс один. То есть у нас получается ситуация. А, что такое условие с
вгорной скобкой? Это вот это вот условие. То есть у нас по сути идет переход с И в какой-то
времени Т в момент времени ИТ плюс один. То есть таким образом мы с вами добавляем множество,
расширяем наше множество И. Нам надо показать, что бета стрелочка точка гамма запитает С,
будет лежать множество допустимых ситуаций для префикса альф. Ну давайте соображать.
Значит что у нас есть? Какое дерево у нас вывода есть? Значит у нас есть вывод. Давайте я картиночку
нарисую, чтобы мы с вами не запутались. У нас есть альфа штрих ау. Дальше за один раз мы раскрываем с
вами альфа один, бета, альфа два и дальше мы раскрываем за один раз гамму. Вот при этом смотрите,
что мы с вами понимаем. Давайте, да при этом я забыл сказать, что у нас с вами С принадлежит
фёрст от чего? От альфа 2а по определению замыкания. Так, ну давайте соображать, что нам надо показать.
Нам нужно, смотрите, тут еще важно зафиксировать, что пусть за какое-то количество времени к вывели
какое-то слово у2 здесь. И замечу, что мы сначала раскрываем альфа 2 в у2, а потом только с бета за
один раз переходим в гамму. То есть нам нужно показать. Или что? Смотрите, вот тот С, который у нас есть,
в лежащей фёрст альфа 2а, нам надо показать, что оно лежит в фёрст от у2у. Если мы покажем,
что С лежит в фёрст от у2у, то мы покажем наш факт. Ну потому что у нас, смотрите,
активный префикс никак не меняется. Все, что до точки, это у нас альфа штрих альфа 1, это альфа.
А вот здесь нам надо будет немножечко с вами поколдовать. А теперь смотрите, а теперь смотрите,
магия какая. Пишем, значит, у нас С принадлежит в фёрст от альфа 2а, а из альфа 2 у нас выводится у2.
Из этого, смотрите, по утверждению 1, мы можем сказать, что С лежит в фёрст у2а.
Да, потому что из альфа 2а у нас выводится у2а.
А теперь смотрите, что мы знаем, что, что такое А. А принадлежит в фёрст от у. И теперь применяя
утверждение 2, то есть мы теперь можем транзитивностью воспользоваться, получаем,
что С принадлежит в фёрст от у2а. Что и требовалось.
Из этого мы получим с вами, что как раз у нас B стрелочка точка гамма С принадлежит А от альфа.
То есть видите, как раз тот самый факт, который мы с вами показали по транзитивности множества альфа,
он нам с вами и пригодился.
Так, сейчас. Да, хороший вопрос.
Так, сейчас я соображу, как это делается.
Давайте думать.
Ну, во-первых, что мы можем с вами понять?
Мы, во-первых, можем понять, что цепь принадлежит фёрст от альфа 2у, потому что вот здесь мы можем сразу не заменять.
И тогда это у нас всё работает.
Так, сейчас, давайте посмотрим, значит, фёрст от Бета у нас.
Давайте чутка тогда перепишем.
Давайте сначала воспользуемся утверждением 2, а потом подумаем, может быть,
мы с вами утверждение 1 каким-то образом сможем с вами это доработать.
Я сейчас тут сотручу чутка.
Значит, смотрите.
Мы знаем, что А лежит в фёрст А2.
Из этого точно по утверждению 2 мы можем получить, что цепь принадлежит фёрст альфа 2у.
Думаю, значит, у нас B-стрелочка, точка гамма, цепь принадлежит и Т плюс 1 для любого С.
Для любого С, который лежит в множестве фёрст от А2.
Да, что такое у2, это просто какой-то вывод из альфа 2.
И тут как раз Руслан правильно говорит в чате, что мы его можем выбрать так, чтобы первая буква была С.
Давайте я напишу так.
Если что, я потом в чате дополню.
В чате С такое, которое
подходит
под вывод альфа 2у.
Давайте я напишу так.
У2у
Еще раз, чтобы зафиксировать.
Мы не важно для любого.
Берем С, которые лежат в фёрст альфа 2у.
Но при этом мы с вами альфа 2 можем разбить на некоторые подусловия.
В зависимости от того, где какая первая буква выводится.
И вот тут важно сказать, что давайте возьмём С такое, которое именно у нас в этом выводе находится.
И тогда у нас всё получится, но это тонкий момент.
Я ещё немного подумаю над ним.
И потом мы с вами его рассмотрим.
У меня тут в конспекте есть, но я немного по-другому показывал.
Я хотел как-то упростить, но видимо этот факт не упрощается.
Пользуемся транзитивностью фёрст и немного апгрейдом.
Фак, там множество фёрст, надо подумать как его апгрейдить.
Движемся ли мы дальше?
Было ли понятно, что тут произошло?
Частично, но давайте понимать, что было непонятно.
А, только последний переход.
Там надо просто посмотреть, что такое С лежит в фёрст альфа 2а.
И это корректно записать.
Мой косяк, будем исправлять.
Давайте тогда двинемся дальше.
Следующий факт, который мы с вами будем доказывать.
Это теорема номер 1, которая нам позволит доказать корректность перехода в ДКА.
Итак, смотрите.
Пусть у нас с вами есть активный префикс.
Х1 и так далее, ХК.
Это у нас с вами активный префикс.
И К при этом больше, чем ноль.
Тогда мы говорим, что множество допустимых ситуаций Х1 и так далее ХК.
Мы можем получить как, применяя операцию GoTo.
Множество допустимых ситуаций из префикса Х1 ХК-1.
И после этого применить ему костер.
То есть применяем следующую букву.
Давайте напишу, что ХИТ принадлежит от объединения n на сигму со звездой.
Ой, просто n объединяется с сигмой без звезды.
То есть это штука, которая нам позволит конструировать переходы в автомате.
Значит, смотрите.
Тут все достаточно сложно.
Сначала мы покажем факт с права налево.
Он проще.
Итак, пусть у нас...
Смотрите.
Тут будем пользоваться вот этим фактом.
С вами доказывается.
Пусть у нас с вами И.
Это множество ситуаций А.
А, стрелочка.
Альфа 1.
Бета.
Б, альфа 2.
Так.
С.
Таких.
С.
Таких, что...
А, стрелочка, альфа 1.
Точнее, давайте вот так вот.
Точка Б, альфа 2, С.
Принадлежит множеству допустимых ситуаций.
Х1, и так далее, ХК-1.
Так, давайте я сейчас аккуратненько напишу.
То есть у нас получается своими А.
Стрелочка, альфа 1.
Точка Бета, альфа 2.
С.
Принадлежит Адам.
Х1, и так далее, ХК-1.
И на самом деле...
Давайте мы тут даже заменим Б на ХК.
То есть эмулируем ситуацию, когда мы двигаем точку.
Тогда, смотрите.
Closer от И будет равен go2.
Адам, Х1.
Я буду сокращать К-1 по символу ХК.
Потому что...
Что мы с вами говорили про определение множества go2?
Что это замыкание.
Всех таких множеств.
То есть мы берем все символы, которые принадлежат множеству допустимых ситуаций.
Х1, и так далее, ХК-1.
А здесь у нас получается...
Мы берем, двигаем точку, потом замыкаем это все дело.
Ну и теперь смотрите.
Что нам надо проверить?
Что и под множество адам.
Х1, и так далее, ХК.
Ну, давайте смотреть.
Значит, если у нас с вами А, стрелка.
Ну, давайте смотреть.
Значит, если у нас с вами А, стрелочка.
α1.x, α2.c принадлежит адам.
х1, и так далее, К-1.
То...
Существует...
Такое дело вывода.
Такое дело вывода.
Из С-штрих мы вводим α-штрих, а1, ХК, а2.
Так, точку я беру.
У.
Так, еще секунду.
Вот так написали с вами А.
И потом за один переход мы с вами делаем фишку такую.
α-штрих, а1, ХК, а2, У.
При этом С у нас с вами принадлежит верстату.
Это по определению множество допустимых ситуаций.
У нас с вами есть такое дерево вывода.
А теперь смотрите.
При этом...
Вот эта вот штучка.
α-штрих, а1, равно х1, и так далее, К-1.
Следовательно, α-штрих, а1, ХК.
Это у нас множество ситуаций с первого поката.
Да, то есть собираем эту штуку.
И теперь смотрите, что мы получаем.
Мы получаем с вами просто сдвиг точки,
а сдвиг точки нам просто меняет активный префикс.
То есть у нас теперь после сдвига точки активный префикс становится х1,
и так далее, хк.
Давайте я буду опять же напишу вот такую штуку.
То есть у нас из а-штриха выходит α-штрих, а1.
А дальше у нас получается а-штрих, а1, хк, а2у.
При этом я буду подчеркивать активные префиксы в дальнейшем, чтобы было понятно.
И у нас получается с вами, что цепь принадлежит ферстату.
Значит, а-штрих, а1, хк, т точка, а2, с принадлежит адм х1, хк.
То есть на самом деле мы просто взяли и сдвинули точку.
Детально посмотрели отреление активных префиксов, и у нас все получилось с вами.
Это понятно, то, что вы сейчас посмотрел, рассказал?
Вот эта часть.
Давайте я жду фидбека.
Или все АФК, что ли?
Если что-то непонятно, спрашивайте.
Ну, вроде нормально.
А это утверждение очевидное?
Какое?
Ну, вот которое мы сейчас доказали.
Ну, по сути, ну да, только надо один раз в очередь определение расписать, и тогда оно действительно будет очевидно.
Тогда понятно.
Фух, теперь нам на самом деле начинается самый неочевидный факт.
Это в обратную сторону.
И здесь мы сделаем с вами индукцию по параметру К.
Сделаем базу.
База K равная нулю.
Так, сейчас.
Нет, не K равная нулю.
А K равная единица.
Мы же не можем букву прибавить.
То есть это у нас с вами K равная единица будет.
Итак.
Смотрите.
Пусть у нас ситуация есть.
А, стрелочка.
Бета 1.
Бета 2.
Бета 3.
Бета 4.
Бета 5.
Бета 6.
Бета 6.
Бета 2.
С
принадлежит атом от Х1.
Тогда...
Смотрите, что у нас получается.
Я буду рисовать деревеном.
У нас С-штрих есть.
Дальше у нас есть α.
А у.
И дальше
за один шаг
раскрываем бета1, бета2.
Точка. При этом смотрите, что у нас с вами есть.
У нас с вами есть следующий факт,
что цепь принадлежит ферстату.
Тогда мы можем сказать с вами
следующее, что альфа бета1
равно х1.
И у нас появляются два случая.
Первый.
Бета1 равно х1,
он тривиальный,
а второй случай
альфа равно х1.
Ну, давайте смотреть.
Сначала первый случай.
Первый случай.
Бета1 равно х1.
Второй случай.
Тогда, смотрите,
что мы можем сказать.
Мы опять же
знаем следующее,
что s'
альфа
Ну, этот случай очевиден.
Сразу скажу.
Давайте запишем его.
Бета1, бета2 у
я подчеркну вот здесь.
Вот это у нас с вами
к admissible от
х1.
Да, давайте вместо бета1
запишем х1.
А вот этого штучка
у нас с вами записывается как альфа у.
Альфа подчеркиваю
х1, бета2 у.
А вот это у нас с вами
к admissible
от пустого слова.
Да, то есть
это активный префикс, он пустой.
Ну и тогда
на самом деле мы можем видеть,
что точку мы с вами можем сдвинуть.
То есть
здесь у нас
давайте я вот тут напишу.
Что
а, стрелочка
точка
х1, б2
с
принадлежит допустимой ситуации
ну а значит
а, стрелочка
х1,
б2, с
принадлежит
go2
аддом
от эпсилом х1.
То есть в этом факте
ничего сложного нет.
А вот следующий факт
нам как раз
и съест
всю
мутатень.
Второй факт
оказывается так.
Если что, вопросы задавайте.
Смотрите, давайте посмотрим.
Значит у нас а
равно х1.
Найдем
первый момент
когда
в дереве разбора
появилось х1.
И сейчас будет огромное дерево.
Значит, смотрите.
Что у нас есть?
У нас изначально есть штрих.
Раз.
Дальше у нас
появился какой-то
не терминал.
За какое-то количество раз.
Не терминал с.
И дальше какая-то
штука фи 2 штриха.
Теперь смотрите. Вот из с в б
мы как раз получаем
х1 первый раз.
Х1. Здесь мы
получаем дальше какой-то не терминал бета.
Из которого возможно
у нас будет выводиться
этот.
Какой-то символ
как раз появится символ а.
То есть давайте
напишу, что из с
рождается
х1.
Из b
рождается
а.
Тут на самом деле может быть
еще один случай, но давайте мы его
разберем чуть попозже.
То есть из b
рождается фи.
И дальше давайте
предположим, что у нас с вами
из бета рождается
а.
Первым не терминал.
Сразу скажу, что здесь
могут быть эпсилом порождающие символы
по дороге встречаться.
Да, давайте мы их опустим.
Но они
тоже могут нам сыграть
некоторую роль.
И здесь за один раз мы получаем
b2.
Вот такой вот факт у нас с вами
получается. Значит смотрите
цель. Какую цель мы с вами
ставим здесь.
Доказать,
что
значит ситуация
некоторая c.
Дальше у нас
из c выводится
какая-то точка х1
бета фи.
Для некоторого символа
пусть это у нас
будет d.
Оно будет лежать
к admissible от пустого слова.
А вторая...
А вторая цель,
которую мы хотим с вами
сделать.
При этом давайте
сейчас я напишу еще детальнее разбор.
Пусть у нас
из phi штрих вывелось u2
где
d принадлежит
first
u2
и
здесь смотрите
получается
тогда мы
из этого факта
выведем с вами
что из c
x1.
бета фи d
принадлежит
go2
adam,
epsilon, x1.
Дальше
еще один факт,
который нам надо потом показать,
что бета...
Давайте я буду еще одну целью
нам надо показать с вами цель,
что из бета
стрелочка точка
a phi штрих
для некоторого e
лежит v adam
от альфы
точнее
давайте вот так вот
go2
admissible от epsilon
x1. То есть
что мы спускаясь по дереву разбора
ничего нового не добавляем.
И из этого
тогда опять же
мы с вами покажем, что
a тоже будет лежать
а
стрелочка бета 2
c
будет лежать в go2
от epsilon
а это и что множество admissible.
То есть
у нас есть тут
две цели, которые надо
показать, из которых
дальше мы слепим
все доказательство.
Смотрите
какой интересный факт.
Вот мы с вами
говорили про то,
что мы с вами спускаемся
по дереву грамматики
и это делаем epsilon переходами.
На самом деле
нам теперь нужно показать
самое важное,
что вот эта вот ситуация
она появляется
как ложе
из некоторой стартовой ситуации.
А здесь ситуация
ровно такая же.
Вот смотрите, мы ставим точку sudems
то есть у нас
x1.beta phi
лежит в go2.
Нам надо показать,
что мы можем сделать пропагейшн
пропуск внутрь по epsilon переходам
таким образом,
что точка спустится сюда.
И эта ситуация
она будет лежать не ровно в go2,
а прямо именно в замыкании
вот этого множества ситуаций.
То есть когда мы сделаем замыкание над этой ситуацией,
то мы спустимся вниз.
Давайте я сейчас зафиксирую протоколь
на эту идею и дальше мы будем
доказывать лему.
Идея.
Значит, смотрите.
В чем состоит идея?
Я нарисую.
Пусть у нас с вами есть
какой-то не терминал b.
И у нас оно появилось там
а, альфа1, альфа2.
И у нас
с вами есть
какое-то множество,
которое альфа1.beta альфа2.
С.
Дальше у нас
за какое-то количество раз
что-то произошло.
Но при этом важно,
что мы вывели с вами
какой-то c, z.
А потом мы вывели с вами
за один шаг
какой-то не терминал дельт.
Надо показать.
Давайте пусть это у нас
и множество из этого.
А что?
С, стрелочка, точка,
дельта, запятая
для некоторого символа d,
принадлежит замыканию множества i.
Да, то есть что
мы берем, спускаемся на скоб не терминала
по всем переходам.
Раскрываем все в правой части,
потом за один раз мы делаем
переход в дельту.
Что такое d?
Давайте подумаем,
что такое d.
D это у нас с вами
следующее.
D это будет у нас
первый символ
от того, что находится
справа от вот
этой вот части.
Да, давайте я сделаю
вот так вот.
Я сделаю
вот здесь не z, напишу,
а как его обозначал?
О, мне phi его обозначал.
D принадлежит first phi
alpha 2.
Ну и дальше еще у, который
у нас с вами был
для активного...
phi alpha 2 c.
Точно, сошлось.
Вот так вот.
То есть d это первый символ,
который может появиться здесь, здесь
и дальше вот здесь.
Так.
Понятно ли идея
того, что мы сейчас будем с вами показывать?
Так.
Это вот самый
самый тонкий переход, который нам
нужно будет здесь вот сделать,
поэтому я его именно показываю.
Так, давайте формулируем
теперь при помощи шлема.
Пусть
и
alpha, alpha 1
точка бета, alpha 2
запитает с.
При этом
значит пишем, что
b выводит
c phi
так, только
не c, c большая phi
и за один раз мы
выводим delta phi.
Тогда
здесь нам нужно сделать
следующее.
Написать с вами
такую вещь,
что
ситуация c
стрелочка, точка phi
d
принадлежит множеству
first,
точнее
принадлежит
множеству
closure от
i.
Для d,
принадлежащем first,
от
phi, alpha 2
c.
Сразу скажу,
тут важный факт, который
есть, он заключается в том,
что обычно
в правостороннем
дереве вывода
у нас здесь вместо phi
может быть уже раскрытое
слово какое-то,
поэтому здесь
phi можем заменить
на любое слово.
phi может быть
словом.
Идет правосторонним выводом.
А у нас именно такой
вывод.
Так,
ну поехали доказывать.
Значит,
смотрите
до указательства
этого факта.
На самом деле, давайте обозначим
эту штуку m
и сделаем индукцию по m.
База
m равно 0.
Тогда
бета
за ноль шагов
выводится phi.
За один шаг
выводится delta phi.
Следовательно,
у нас phi равно epsilon,
а c равно 0.
Ой, c равно b.
Следовательно,
смотрите,
ой, тогда
я тут косяк запустил,
здесь не phi, здесь delta.
Тогда у нас получается,
что
b
стрелочка,
точка delta, d,
где d
у нас
это множество будет,
d принадлежит множеству
first
от
α2c
по определению к лоуже.
То есть, смотрите, что мы делаем.
Давайте анализировать.
Мы просто здесь phi заменяем на пустое слово,
ну и тогда мы просто получаем определение к лоуже,
потому что b стрелочка delta у нас
это правило грамматики.
Таким образом, у нас получается доказанная
база индукции.
Так, теперь переход.
Смотрите, значит,
переход за какое-то
количество шагов.
Давайте посмотрим
первый момент, когда у нас появился не терминал c.
То есть,
идея тут ввести,
она ровно на этаже.
То есть, мы смотрим первые моменты,
когда у нас что-то появляется.
Ну и тут рисуется следующая вещь.
Значит, смотрите, α,
дальше
мы
с вами
рисуем
beta a.
Ой, нет.
Опять же,
α1,
beta, alpha2.
Потом,
за какое-то
количество раз у нас появляется
не терминал d,
который раскрывается
слоем phi штрих.
Здесь у нас получается
раскрытие за один раз
c, phi,
два штриха.
Так, c, нет,
не phi два штриха, phi,
phi, и дальше
за один раз когда-то происходит раскрытие в дельте.
Вот такая вот вещь.
Ну, смотрите,
что мы можем
здесь сказать?
Здесь мы можем
сказать следующий факт,
что давайте посмотрим.
У нас на самом деле
здесь предположение индукции
выполнено
для
d,
стрелочка, c, phi.
Тогда,
смотрите, что мы можем сказать?
Мы можем сказать, что d,
стрелочка,
точка,
c, phi
для некоторого символа e
принадлежит к лужа от i.
Для любого e
принадлежащим first
от
давайте соображать,
phi, альфа, два, c.
phi, штрих, альфа, два, c.
При этом, смотрите, что у нас получается дальше.
У нас получается, что c,
стрелочка,
точка, дельта принадлежит правилам грамматики.
А значит, из всего вот этого
мы можем сказать,
что
d,
стрелочка,
точка, дельта.
Да, значит, запятая d
принадлежит
к ложе от i.
Для любого d принадлежащим
тут важно, смотрите,
очень аккуратно написать
принадлежащим
first от множества
phi
и первая буква здесь, то есть
phi e.
Так, секунду.
Давайте все-таки тут phi, два,
штриха поставим,
потому что phi, штрих, это немножко не то.
Смотрите,
получается first,
phi, штрих,
и e.
То есть,
так, нет, не phi, штрих, e.
Так, сейчас,
секунду.
Если у нас тут
phi, то phi, два, штриха,
вот так вот.
Так,
сейчас, давайте сообразим,
все ли мы правильно написали?
Вроде бы все правильно мы с вами написали.
Угу.
По утверждению два, которые мы с вами доказывали тогда.
Что у нас с вами получается?
У нас с вами получается интересный факт.
Что?
Тогда у нас d,
принадлежит first,
phi, штрих,
а вместо phi, штрих мы подставляем,
ой, phi, два, штриха, e.
Да, замечу, phi, два, штриха, e.
Здесь получается phi, два, штриха,
phi, штрих,
альфа, два,
c.
А вот это у нас как раз есть и есть,
и у нас есть и есть,
и у нас есть и есть и есть.
А вот это у нас как раз и есть phi,
который мы с вами хотим показать.
То есть вот оно у нас с вами
показано.
That's a fact.
Так.
Вопрос.
Не все ли тут еще
afk-шнулись?
Есть?
Скорее всего все.
Не все.
Ну что, вот этот
переход понятный
в целом,
что произошло.
То есть идея еще раз очень простая.
То есть если мы
какой-то не терминал протаскиваем
очень далеко,
до какого-то первого не терминала,
то мы его можем получить при помощи операции
Claw.
Кто-нибудь видит тут
подводный камень?
Тут есть еще один подводный камень
в доказательстве, который на самом деле
я опустил его.
Он очень важный.
Давайте еще раз.
Смотрите.
Мы сказали,
давайте посмотрим на первый момент,
когда у нас появляется не терминал.
Там B, C, A
и так далее.
А важный вопрос
состоит в том,
является ли он первым?
В этом выводе.
А что будет, если у нас
вот этот не терминал
не является
эпсом порождающим?
Точнее, вот у нас вместо B,
когда мы вводим,
вот C появился,
первый раз, когда у нас появился X1,
дальше B
и так далее.
Почему у нас тут
не могут быть
эпсом порождающие символы?
Но на самом деле здесь
как этот факт обходить?
Такой контрольный вопрос.
Чем мы здесь пользуемся?
То есть может ли быть ситуация,
что у нас, допустим, здесь
первый раз в дереве разбора
появляется X1,
и мы говорим, что
вот здесь у нас все,
еще какие-то эпсом порождающие
сейчас.
Давайте, может быть, на картинке нарисую,
чтобы это было понятно. То есть
смотрите, что я говорю.
Я говорю следующее. Пусть у нас
был A,
там, не знаю,
α1,
β, α2.
Дальше мы говорим, первый раз смотрим,
когда не появляется не терминал C,
в какой-то момент времени.
А вот здесь вдруг у нас
какой-то X1,
там, не знаю, X,
из которого дальше вводится ε.
Тут напишу, смотрим
первый момент, когда C,
а слева X.
Почему такой картинке быть не может?
Те, кто еще не
АФКшнулся. Давайте подумаем,
каким важным фактом мы здесь
должны пользоваться.
Давайте я начну писать,
а дальше
может быть кто-нибудь скажет ответ.
Кто-нибудь догадался?
Правосторонний. Да, вывод
в грамматике правосторонний.
Поэтому
активный префикс
будет не α,
а α1х,
то есть не тот,
который мы хотим.
И из-за этого как раз
мы можем гарантировать,
что если первый момент в какой-то появился
не терминал, он всегда идет
первым. И раскрытие идет
именно по нему.
Вот такой вот важный факт
зафиксировали.
То есть что мы с вами
понимаем?
Мы с вами понимаем,
что, давайте еще раз
вернемся к доказательству этого факта.
Значит, посмотрим
первый раз, когда СС рождается X1.
Тогда мы понимаем,
что поскольку здесь активный префикс
был пустым,
то есть ничего здесь нет,
то из-за штрих
у нас рождается
С, X1,
β, φ, d принадлежит
admissible от ε.
Тут важно сказать,
что из нашего факта
давайте я буду справа писать
вот тут справа
напишу.
Из факта
следует немножко другое.
Давайте посмотрим.
У нас будет
это не admissible от ε,
он будет
а
С
стрелочка
точка
X1
β
φ
запятая d
будет
не такое,
а будет принадлежать
closer
от множества
С штрих в С
запятая ε
ой, не ε,
а доллар.
Вот.
При этом где
d принадлежит
first от φ штрих.
2 штриха
доллар.
И опять же, вот тот самый факт,
который мы с вами говорили,
который требует нам уточнения,
но он ровно
аналог того первого туждения,
который у нас был.
Мы можем сказать тогда,
так как
φ штрих выводится у,
то подберем
у 2 штриха
такое у 2 штриха,
что d
первая буква
Давайте я буду
даже вот так напишу.
Принадлежит first
от у 2 штриха.
И тогда из этого
мы как раз будем
из этого как раз у нас получается,
что
x1
β
d принадлежит
admissible от ε
от ε
Вот.
Ну и дальше, смотрите.
Тогда мы двигаем точку,
а дальше спускаемся до ab2
и раскрываем φ
в некоторое у,
а φ штрих
в некоторое у штрих.
И бинго.
У нас все получается.
Тут по факту мы еще пользуемся тем,
что closure
текущего множества является
admissible от ε.
Кстати, товарищи,
кто понимает,
что мы по дороге доказали
с вами,
пока мы тут базовую индукцию проверяли?
Кто может сказать?
Понимаете ли вы,
что мы при помощи
вот этой вот леммы,
которую мы с вами сформулировали,
мы легко сейчас можем показать
вторую лему.
Просто нам нужно для того,
чтобы показать вторую лему сказать,
что из sh3x.s.$
оно лежит в множестве допустимых ситуаций
от ab2.
Ну и тогда все символы, которые мы получаем
с замыканием,
они у нас
тоже там находятся.
С одной стороны, а с обратной стороны,
давайте опять же рассмотрим ту же самую пирамидку,
которую мы с вами построили.
И у нас с вами
все будет работать.
Товарищи, мне кажется,
что я вас сегодня уже перегрузил.
Давайте с вами зафиксируем,
что мы с вами сегодня сделали,
и в следующий раз продолжим.
Значит, первое,
что мы с вами показали.
Мы показали важную лему.
Точнее, мы разобрали некоторое множество фактов
о множестве first,
только вот это надо немножечко
подчинить в наши соотношения.
Дальше мы показали множество
транзитивность множества first,
которые много раз с вами использовались.
И показали следующее, что если
i является под множеством допустимых ситуаций
для некоторого префикса,
то его замыкание является тоже множеством допустимых ситуаций
для префикса.
И показали в одну сторону,
что если мы сделаем переход
в нашем ДК,
то мы точно попадаем множество admissible
по префиксу,
в обратную сторону мы пока что доказали
только базу индукции.
Пока что мы не с вами не показали
индукционный переход,
но индукционный переход на самом деле делается
ровно аналогичным.
Надо посмотреть на первый момент,
когда мы делаем контакт с
критикой XK.
Там опять же идет разбиение на два дерева,
к каждому из которых,
первое мы приходим по замыканию,
во второй половине дерева мы тоже будем
приходить по замыканию.
Тем самым мы с вами докажем теорию.
Очень важно, что в следующий раз
я предлагаю с вами
работать этот момент
и дальше уже перейти к
непосредственным фактам, которые
пользуются для построения
LRDK
и дальше покажем уже
точные детали.
Ну все, давайте задавайте вопросы,
потому что мне кажется, что
было много чего непонятно.
То есть, если
просто тыкните в точку какую-нибудь,
то мы с вами попытаемся это разобрать.
Можно по поводу экзамена.
Экзамен надо будет полностью эту теорию доказывать
или она как-то будет разбита?
Или вообще она будет включена?
Она будет разбита, скорее всего,
по формату экзамена
будет таким, что будет какой-то факт,
нужно будут основные тезисы по ним,
и потом в какой-то момент времени
просто какой-то небольшой
подтезис будет
проситься именно формально показать,
но в том плане, что
там базовые инпуты будут
даны, да?
Дальше мы просто будем проверять,
что понимаете ли, как это
выводится. То есть, изобрить это
не надо, лучше думал включать.
Задачи будут на экзамене?
Задачи, да, будут на экзамене.
Ну, в принципе, формат задач
можно будет понять, когда
будет теория потока колока.
Может быть, там задача
только проще будет, скорее всего.
Остались самые крепкие
у нас с вами.
Надо будет, видимо,
эту штуку сесть, оформить
когда-нибудь,
чтобы было понятно.
Есть сейчас конспект
на семь страниц, но пока что
в нем очень много фактов
тоже не доказано.
Вот, давайте тогда
выдохнем.
Я благодарю всех, кто пришел
сегодня.
Так, в следующий раз мы с вами продолжим
эту историю.
Не успели добить, но тут надо
много времени тратить.
Все тогда, всем спасибо, всем хорошего дня
и не болейте.
