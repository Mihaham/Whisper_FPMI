Сейчас я расскажу такую вещь, которая называется двудольные числа рамсы. Она интересна некоторым
своим аспектам. И, в общем, тоже достаточно активно обсуждается в области теоретикого
компьютерсайенс. Что такое двудольное число рамсы? Давайте его обозначим от kk. Я буду рассматривать
только диагональные двудольные числа, но, наверное, лучше, наверное, тогда уже действительно написать
b от kl. Ладно, а изучать будем b от kk. Ну, в общем случае, b от kl это что такое? b от слова
bipartite. Двудольный bipartite по-английски. Значит, это минимальное такое n. Давайте вот здесь будем
говорить в терминах раскрасок. Это удобно. Что при любой раскратке графа k&n, понятно, да, полный
двудольный граф с долями размера n и n соответственно, при любой раскраске ребер k&n красные и синие цвета,
либо найдется красный kkk, как бы это не звучало смешно, красный kkk, либо найдется синий kl,
либо найдется синий kl. Вот такое вот важное, на самом деле интересное обобщение классических
чисел рамсея. Вместо обычного полного графа рассматривается полный двудольный, и его ребра
красятся в два цвета, после чего хочется понять, вот найдется либо там, либо там полный одноцветный
подграф, полный в смысле двудольный, с одинакового размера доля. Но я повторяю, что мы же не закапываемся
ни в какую теорию до такой-то степени, поэтому дай нам бог понять что-нибудь про b от k. Пусть k равно l,
число рамсея диагонально. Смотрите, вот нижние оценки здесь абсолютно такие же, как и в классическом
случае. Ну, если угодно, расценивайте это как обязательное упражнение. Просто применить
стандартный вероятностный метод для того, чтобы оценить вот эту величину. Ну, я произнесу сейчас
какие-то слова, будут они понятны или нет, надеюсь, что будут, потому что если вы действительно
разбирались r от kk, ну r от ss вы писали, то вы конечно сейчас быстро поймете, чего я говорю. Ну,
как стандартный вероятностный метод-то применить? Ну, по-моему, вот так. Надо выбрать из вот этого n,
которым мы хотим оценить снизу величину b от kk, к вершин. Представляете себе двудольный граф
для удобства вот так. Мы сегодня все время будем такую графическую репрезентацию делать. Вот тут
у нас n вершин и тут у нас n вершин как бы есть верхняя доля и нижняя. Я все время буду так
рисовать верхняя и нижняя. Значит, t и z по k, это мы выбираем какие-то k вершин отсюда и столько
же способов есть для выбора k вершин из нижней доли. Ну, а дальше вероятность того, что тот граф,
который получится на этих двух долях размера k и k соответственно, целиком красный, равно,
как и то, что он целиком синий, это, естественно, два степени минус k квадрат. Ну, наверное, плюс 1,
вот 1 минус k квадрат. Ну, мне кажется, что это понятно. Одна вторая, если вероятность красного или
синего цвета диагональное число, поэтому вероятность, конечно, берется как одна вторая.
Если здесь k и здесь k, то всего ребер k квадрат. То, что они все красные, одна вторая в степени k
квадрат, то они все синие, одна вторая в степени k квадрат. Ну, вот и все. И если это меньше 1,
то получается вот это неравенство. То есть, я за вас фактически решил упражнение. Ну, посмотрите,
более или менее ясно, что с точностью до констант получается n, ну, какого-то вот такого
вот вида константа. Я не буду писать, какая. А дальше, ну, как и раньше, k на 2 в степени k пополам.
Это вроде бы совершенно понятно. Почему? Потому что раньше тут было c из k по 2, это примерно
k квадрат пополам. И вот то, что здесь написано, это примерно полный квадрат от того,
что было раньше. От того, что было для классического рамсе. Там было просто c из n по k на 2 в степени 1
минус c из k по 2. Ну, и вот это вот, это примерно полный квадрат от того выражения. Ну, когда само
выражение меньше 1, тогда же и полный квадрат меньше 1. То есть, понятно, что оценка будет
примерно такая же. Упражнение, которое осталось, это найти наилучшую константу, которую удается
здесь сделать. То есть, можете применить локальную лему, как такой тоже инструмент, но вдруг получится
лучше. Но найдите вот там и лучшую константу, которая известными методами здесь может быть
получена. А так останется вот на этой функции. То есть, кажется, что фигня какая. Ничего мы нового
не получили. Был рамсе, остался рамсе. Чудо состоит в том, что для двудольных графов при всей
непробиваемости вот этой нижней оценки, которая получается, вероятно, с наметаном верхней оценки,
существенно улучшается. Помните, я в прошлый раз говорил про верхнюю оценку для RATSS? Что там
на одну тысячу двадцать четвертую сдвинули с четвертой. А здесь теорема, мы докажем даже две теоремы.
Теорема 1 попроще, но инструмент будет один и тот же. Теорема 1 попроще говорит, что B от KK
не больше чем один плюс о малое от 1 на K на 2 в степени K. Но это, конечно, не 2 к степени K пополам,
но это и не 4 в K той степени и даже не 4 минус 1 тысяча двадцать четвертая.
Колоссальное улучшение по экспоненте в верхней оценке. Идеи и доказательства совершенно другие,
не рекурсия там, а другая очень красивая мысль. И теорема 2, которую мы тоже докажем по всех
подробностях, это что на самом деле можно еще улучшить. И вот это офигенно красиво доказывается,
но я верю, что те, кто сюда пришел, они прочувствуют, так сказать, эту красоту. Ну,
а те, кто не пришел, они может позже прочувствовать, я все это записываю. Значит, тут можно вот так
написать 2 в K плюс 1 в два раза хуже, но умножить на лог двоичный K. Ну, то есть экспонент это та же,
но вместо со множества ляка получается сделать лог двоичный. То есть, с точки зрения улучшения,
это, конечно, мизер, хотя и не такой мизер, как борьба за нижнюю оценку и константу. Ну,
все мизер, да. Но идейно там безумно красиво, поэтому я не могу удержаться и вот это вот не
рассказать. Это, кстати, придумал Конланд, тот самый, которого я упоминал в прошлый раз, как одного
из чемпионов по получению верхних оценок, вот до тех пор, пока не сдвинули на одну тысячу двадцать
четвертую. В прошлом году получилось на одну тысячу двадцать четвертую сдвинуть, а Конланд был
предшествующим чемпионом. Вот он сейчас держатель рекорда в верхнем оценивании B от KK. Я не слышал
о продвижениях, кажется, что это сейчас текущий рекорд. То есть, вы будете прямо на самом гребне знаний
в этом. Представляете? Где-нибудь в MIT, это в лучшем случае в аспирантуре изучают, а вам сейчас на втором курсе
забаться. Там просто все, не переживайте. Там красивый олимпиадный двойной счет. У нас уже
бывал двойной счет для Эрда Шакарадо, например. Но тут тоже некий красивый олимпиадный двойной
счет. Давайте я его расскажу. Сейчас будет вспомогательное утверждение про двойной счет. Ну,
я не знаю, это тоже можно назвать теоремой, хотя это лемма для наших теоремы 1 и 2. Давайте я
назову это леммой, просто мне удобнее будет ссылаться. Я скажу, что это вот результат леммы. Но
фактически это самостоятельное хорошее утверждение. Смотрите, утверждение такое. Такое-то такое,
но я кое-что забыл. Прежде, чем я сформулирую лему, я еще пару определений дам. Вот пусть у нас
есть какой-то граф КМН, это полный двудольный. Давайте все время для удобства, просто для
удобства представления мыслить, что М это размер верхней доли, а Н размер нижней доли. Ну,
так удобно. Будем все время представлять себе, как будто нарисован этот граф на плоскости вот так.
И там все ребра проведены, их М умножить на Н штук. Это КМН. Теперь давайте в КМН у нас будет
какой-нибудь подграф, назовем его GMM. Это подграф. Это вот полного двудольного, то есть он тоже
двудольный, но уже не обязательно полный. Вот давайте скажем, что его плотность, ну скажем,
не меньше, чем П. Плотность обозначим вот так. Ро от GMM. Не меньше, чем П. Ну или просто давайте
скажем, что плотность равна, что это такое, а потом уже в теореме будем говорить, что она не меньше,
чем П. Плотность – это просто отношение числа ребер этого графа к величине М помножить на
что я так рот так гаражу, ну просто количество ребер поделить на количество ребер полного
графа, который его объем. Доля от максимального числа ребра, какие там можно было бы провести,
называется плотность. Поскольку мы с вами не теорию вероятности изучаем, то я решил плотность
обозначить буквой Ро, а не буквой П. Теорию вероятности Ро обычно означает коэффициент
креля. Не знаю, как в вашем курсе, но мне казалось, что это в общем-то стандартное обозначение. Ладно,
ну просто вот эти надо было обозначение ввести. Лемма звучит следующим образом. Пусть
GMN, KMN – это любой совершенно граф, ну двудольный, конечно, от графа KMN. Любой граф такой,
что его плотность больше не обровняется П. Знаете, считать, что П – это просто число из отрезка 0,1,
то есть он достаточно плотный. Это не функция, которая может там как-то стремиться к нулю. Да
тут и нет никаких параметров, прямящихся куда-то, ну просто оценивается каким-то числом и все. Даны
два числа MN, посчитали плотность, но это не меньше, чем какое-то число в 0,1. Значит,
если выполнено неравенство, сейчас вот мне бы его не перепутать, конечно, я попробую написать
по памяти, надеюсь, что не ошибусь. Но ошибусь, потом перепишем правильно. Извините, друзья,
я могу здесь немножко ошибиться. Значит, если N на C из M по R. Только спокойно, я еще не
сказал, что такое R, но скоро скажу. R пока не было, да оно впервые появилось. Значит,
если выполнено вот такое неравенство, N на C из M по R меньше, чем S-1, S тоже пока не было,
некая новизна. Умножить на C из M по R, то в GMN есть KRS. Причем с тем же порядком долей,
вот я просто пытаюсь для вас вот эту картинку навести. Взяли абсолютно любой подграф полного
двудольного GMN в достаточно большой плотности. И взяли еще два числа R и S такие, что выполняется
вот это неравенство. Утверждается, что как бы ни были разбросаны вот здесь ребра этого графа GMN,
если его плотность там достаточно большая и соотношение вот такое, то в нем обязательно
есть полный двудольный подграф, но уже с долями размера R и S соответственно.
Вот тут вот R, а вот тут вот S. Все время первый индекс это верхняя доля, а второй индекс это
нижняя доля. Во всяком случае есть полное соответствие. Вот тут M, N, а R соответствует N,
R соответствует M, S соответствует N. Так утверждение понятно сейчас? Понял, что такое RS? Ну не знаю,
можно было сказать так, что если данные числа RS, для которых выполняется вот это неравенство,
то в GMN есть KRS. Тогда было бы еще понятнее. Ну ладно. Да, ничего пока никуда не стремится,
CMN фиксированный, RS фиксированный, P фиксированный. Выполнено это неравенство,
тогда с гарантией KRS в GMN присутствует, каким бы этот GMN ни был. Доказательства?
А, слушайте, вы меня знаете, что можете спросить, а что такое C из MPPR? Никто ведь не спросил.
А, определял уже, да? А когда? А на Мотоне? А как вы определяли на Мотоне?
Не, я определяю вот так. C из XPR это х на х-1. Я думаю, что и на Мотоне. А, слушайте,
я это определял, я вспомнил. Я это, знаете, когда определял, когда Каталана считала?
C из 1,2PR. Помните, Каталана считала? Но это было давно, конечно, год назад.
Ну, я понял, да, но имеется в виду вот это, то есть не то, что я пропустил целую часть,
потому что лихое очень, нет, там не целая часть, там именно вот такое выражение.
Для любого X не обязательно целого, это можно так определить. Ну хорошо, значит,
смотрите, вот у нас есть эта картина, давайте предположим противно. Давайте предположим,
что в GMN нет ни одного KRS. Тогда сейчас мы посчитаем двумя способами, помните,
я обещал, что это будет двойной счет. Посчитаем, ну я пока просто пишу посчитаем, предупреждаю,
что будет два способа подсчета, пока пишу, просто посчитаем. Число, так, сейчас, один,
нет, сейчас, сейчас, сейчас, сейчас, что у меня заскок. А, нет, все правильно,
K1R, да, да, да, все правильно, K1R, посчитаем число K1R в GMN. K1R это вот такая вот лапа,
тут один, а тут R, снизу вверх именно, один снизу, а R сверху. Ну вот двумя способами, с одной стороны,
их не больше, точно, совершенное, чем, чем что, чем C из M по R умножить на S-1. То есть,
вот это вот самое, куда оно делось. А, неправильно написал, да? Неправильно написал, значит.
Что, что, что? А, ой, ой, ой, ой, опять, ну что ж такое, да, описал, K1R, да. Да, да, да,
почему K1R, это я что-то, да. Не, не, не, вы договорились быть максимально аккуратными,
извините, да, если вы видите, что я где-то описался, вы, конечно, мне подсказываете. Конечно,
K1R, да. Ну вот лапа, да, K1R это то, что сверху, один то, что снизу. Значит, почему их не больше,
чем C из M по R на S-1? Ну, можно сказать, что принцип в дирихле, но просто выбираем любые R отсюда,
но если бы здесь нашлось S, хотя бы для какой-то R, то это бы означало существование K1R в самом
графе. Понимаете? А K1R мы предполагаем, что отсутствует, поэтому их не больше, чем столько. Ну,
судя по всему, я ошибся. Ну, сейчас, ладно, потом чуть позже. Похоже, что здесь МР, а здесь МПР. Ну,
виноват. Я обещал, что я ошибусь. Я ошибся. Ну, пока не правьте, а то вдруг я еще раз что-то править
буду. Ну, вот сейчас, по-моему, правильно все. Вот справа стоит S-1 на C из M по R, вот это, а слева
сейчас мы поймем, почему стоит то, что написано. Смотрите, с другой стороны. Второй вариант подсчета,
сколько этих самых K1R? Можно посчитать вот так. C из D1 по R плюс и так далее, плюс C из Dn по R,
где Dt это степень этой вершины из нижней доли.
Их там всего N штук. Вот если мы посмотрим, сколько из каждой вершины выходит, ну D1, D2,
соответственно, и так далее. Ну, конечно, будет вот так. Сколько лап соответствует первой вершине
из нижней доли, сколько лап последней. Ну, это просто их точности столько. Согласны? Это вроде
просто. А теперь смотрите, но вот это число, оно больше либо равняется, не знаю, почему я никак не
сподвигнуть в ОКТЧ, это нормально доказать, просто среди прочих утверждений, которые касаются
Ц. Но сейчас придется вам это рассматривать как, в общем, несложные упражнения. Значит, это больше
либо равно, чем N на C из D1 плюс и так далее, плюс Dn поделить на N по R. Это выпуклость
биномиального коэффициента. Подтверждение о том, что биномиальный коэффициент выпукл по своему
нижнему индексу. Было. Ну, шикарно. Значит, не надо тогда мне доказать. Не у всех? Ну, в общем,
если не было, попросите это разобрать или сами решите, это несложно. Выпуклась, понимаете,
да? Вот если кто-то не слышал про это, понимаете, почему это выпуклась, да? Ну, то есть вы вот это N
занесите сюда, будет поделить на N вот эта сумма. Она больше либо равна, чем C, наоборот, от деления
на N по R. Выпуклость. Вот, но смотрите, что такое сумма степеней? Это же количество рёбер.
Граф HMN. Заметьте, не удвоенное, потому что суммируем степени нижних вершин. Просто количество рёбер.
Если мы это количество рёбер делим на N, то что получается? МП. Вот это вот. Это МП.
Получается N на C из МП. Ну, то есть чего у нас получилось? У нас получилось, что одна и та же
величина больше либо равна, больше либо равна вот этого, и меньше либо равна вот этого.
Да, ну согласен, да. Да, согласен. Согласен, да, потому что я оценил снизу плотность. Правильно,
спасибо. Но плотность не в точности равна P, а больше либо равна P, поэтому, все-таки, надо писать
больше либо равно, но нам только лучше. У нас получается, что некая величина, которую мы считали
двумя способами, с одной стороны оценивается снизу вот этим, а сверху вот этим. Ну, то есть,
вот эта штука не больше, чем вот эта штука. А, смотрите, сюда ведь написано-то противоположное.
Нет, не написано противоположное. Я ещё и не равен, кто не в ту сторону написал.
Такая хрень. Ну, видите, ну не помню я наизусть эту формулировку. Ну, не помню. Думал, что я наизусть
её произведу, а не произвёл. Но сейчас понятно, да, что мы пришли к противоречию. Ну, да,
подогнали. Ну, собственно, так лем мы и получали, да. Ну, вот мы посчитали двумя разными способами.
Можно было её не формулировать, чтобы вот так не лажать, чтобы не демонстрировать миру,
что я наизусть не помню формулировку. Я мог её не формулировать, сказал, ну,
давай сказать, ну, давайте выведем. Вывели бы. Сейчас и вывели. Ну, собственно, вы также будете
готовиться к экзаменам. Зачем её наизусть-то учить? Смысл понятен. Посчитали количество КР1.
С одной стороны их не больше, с другой не меньше. Если окажется сейчас, что вот эта величина,
вопреки полученной цепочке неравенства, не больше вот этого, а больше вот этого,
мы придём к противоречию с отсутствием КРС и получим, что КРС в ШМН по необходимости присутствует.
Ну, вроде доказано. Ну, да, все неравенства перепутал. Ничего, бывает. Так, теорему 1 сейчас
вмиг докажем. Ну, почти. Теорема 1 простая. Единственное, что для пущей понимаемости,
давайте я замечу, люди просто не чувствуют этого как-то сходу, что утверждение асимпатическое
можно всегда через эпсилон переписать. Вот это тоже самое, что на К на 2 в степени К,
если К больше либо равняет с К0 от эпсилона. Ну, я надеюсь, вы понимаете, функция стремится к нулю,
это значит для любого эпсилона существует К0, начиная с которого она не превосходит 1
плюс эпсилон. Функция стремится к 1. Вроде это совершенно то же самое. Вот давайте лучше в этой
формулировке доказывать, будет понятнее. Всегда понятнее как-то для слушателей. Мы зафиксировали
какое эпсилон, оно строго положительное конкретное число. Все, мы хотим доказать, что начиная с
какого-то момента В от КК не превосходит вот этой величины. Одна целая там, одна криллионная,
чего хотите. Но мы уже зафиксировали, теперь доказываем, что не больше.
Ну, давайте рассмотрим в качестве N. Вот это самое, 1 плюс эпсилон на К на 2 в степени К.
Вот здесь, конечно, я должен оговориться, что мне лень рисовать целые части.
Строго говоря, это целое число, но позвольте мне не рисовать целую часть,
потому что мы умрем их рисовать. Но каждый должен понимать, что при необходимости,
конечно, верхнюю целую часть от этого не составляет труда. Надо про себя это понимать.
Значит, наша цель доказать, докажем, что для любой раскраски красный и синий цвета
ребер вот этого КНН существует одноцветный по ребрам. Например, целиком красный ККК.
Так, друзья, понятно, верхняя оценка, это мы зафиксировали произвольную раскраску и
хотим доказать, что в ней есть одноцветный ККК. Верхняя оценка. Ну, то есть мы фиксируем,
да, раскраску вот этого графа КНН. Ну, слушайте, ясно, что без значения общности
ГМН, ГНН, КНН, у которого все ребра красные, имеет плотность не ниже одной вторую.
Какой-то из двух графов, у которого синие все ребра или у которого красные все ребра,
точно имеет плотность не ниже одной второй. Это очевидно, потому что все ребра покрашены.
Ну, давайте без ограничений общности считать, что именно красный, просто чтобы так выражаться.
Красный под граф имеет плотность не меньше одной второй. Все, я сейчас прямо сразу из
лем мы получу, что в нем есть ККК. Вот именно в нем есть ККК. Понятно цель, да? То есть что
надо проверить? Надо проверить, что наше Н, умноженное на С из М пополам, потому что П равно
одной второй, по К, Р это К, а мы ищем ККК, не КРС, а ККК, что это больше, чем К-1 умножить на С.
Так, а М это что? М это тоже Н. М это тоже Н, виноват, да. С из Н по К. Вот так, вот это надо
проверить. И все, и теорема один автоматом получит. Так, друзья, не очень тороплюсь, нормально?
Двое, все, осознавайте. Ну, важно, чтобы могли осознавать и записывать, поэтому я всякий раз
переспрашиваю. Ну, не просто больше, а больше начиная с какого-то момента, да, где вот написано К
блок и бровно К нулевой от F. Этого достаточно. Не надо, чтобы всегда было больше. Достаточно,
чтобы начиная с какого-то момента. Ну, смотрите, вот эта вот, вот эта штука, она имеет асимптотику N
умножить на Н пополам К, поделить на К факториал. Кто понимает, почему? Ну, потому что С из чего-то,
ну, там, из Н, например, по К, это N в К, ты на К факториал, если К умалое от корни из Н. Ну,
слушайте, К умалое от корни из Н с офигенным запасом. К это примерно логарифм от Н. К, конечно,
умалое от корни из Н, поэтому можно писать такую асимптотику. А вот эта штука имеет асимптотику К,
ну, К минус один, это то же самое, что К, на Н в К ты и тоже поделить на К факториал. Шлёп,
шлёп, шлёп, шлёп. Ну, мы сравниваем просто две вот этих асимптотических величины. Одна
получается N на 2 в минус К, да, N на 2 в минус К, а другая получается просто К. Всё сократилось
вообще. Значит, слева у нас получается 1 плюс Эпсилон на К, а справа К. И всё. Победа. Ну,
вы понимаете, тут, конечно, надо ещё умножать на 1 плюс умалое от единицы, и тут надо умножать на
1 плюс умалое от единицы. Но Эпсилон-то строго отделено от нуля, поэтому начинает с какого-то
момента неравенство действительно выполняется в эту сторону. Сейчас я объяснил нормально?
Даже вот здесь, несмотря на то, что на что-то стремящиеся к единице мы ещё намножаем,
но 1 плюс Эпсилон все эти стремления к единице забивает, начиная с какого-то момента. Всё.
Теорема 1 доказана предельно аккуратно. Получилось, нет? Вот, теорема 2 круче. Там
надо дважды применять эту лему, и это вообще додуматься. Додуматься надо. Так, что я могу
стереть? Давайте я... Ну, это рассуждение я сотру. Кстати, я вот здесь напишу. Теперь у нас будет
вот так. 1 плюс Эпсилон, 2 в К плюс 1, налог двоичный К. Ну, тут всё правильно написано. Докажем,
что при любой раскраску красно-синий цвета, граб КНН есть одноцветный ККК. А вот это не пройдёт.
Так, значит, смотрите. Ну, придётся снова нарисовать эту картину. Значит, вот N. Вот N. Как-то
покрашены рёбра полного графа КНН в красные и синие цвета. Давайте в нижней доле назовём вершину
красной, если в этой покраске не меньше половины красных рёбер. Ну, из вершины всего выходят N
рёбер. Но вот если не менее чем N пополам красный, назовём эту вершину красной. Я могу не писать,
да? Если вы хотите это записать, лучше это как-то то. Чего я буду писать? Красная вершина та, из
которой выходят не меньше половины красных рёбер. Ну, соответственно, если меньше половины,
назовём её синей. Что? Я говорю не меньше, вроде бы, подождите. Я же сказал, что если красных рёбер не
меньше, чем синих, называем её красным, а если строго меньше, то синей. Ну, вроде всё определённо,
да. Ну и дальше говорим без ограничений общности красных вершин не меньше, чем N пополам. Ну,
может быть, синих не меньше, чем N пополам. Ну ладно, какая разница. Вот давайте возьмём в качестве M1,
я вот так напишу. Сейчас M1 в нижней доле, да, вот мы говорим про вершины нижней доли, они либо
красные, либо синих. В нижней доле красных вершин не меньше, чем N пополам. Мы можем это считать не
ограничивая общность, правильно? Так, теперь давайте в качестве M1 размера верхней доли возьмём N,
вот эти все вершины, а в качестве N1 возьмём N пополам и рассмотрим граф G-M1-N1, ну понятно,
как под граф K-M1-N1, я уж не буду это писать, нет перерыва. Рассмотрим граф G-M1-N1, у которого все
красные ребра. Ну, то есть мы выделяем вот те самые N пополам и более чем N, ну просто вот
какие-то конкретные N пополам красных вершин. Берём конкретные N пополам красных вершин и
рассматриваем тот граф, у которого в нижней доле вот эти N пополам вершин, а в верхней доле все N
вершины, и у которого все ребра красные. Вот надо чётко понять, что это за граф, понятно? Ещё раз,
мы ещё раз, мы берём в нижней доле те вершины, которые оказались красными, но не все, а только
N пополам, ровно N пополам из них. Ну, N у нас делится пополам, потому что оно делится пополам,
смешно конечно, ну ладно, давайте считать, что N делится пополам, договоримся считать, что N делится
пополам, потому что мне безумно не хочется рисовать целые части. Хорошо? Значит, берём в нижней доле те N
пополам вершин, которые являются красными. Ну что значит они красные? Это значит каждый из них
наверх отправляет как минимум N пополам красных ребров. Вот граф GM1N1 это и есть тот граф из красных
ребров, который таким образом получается. Из этой вершины хотя бы N пополам, из этой хотя бы N
пополам, из этой. Но это очень важно, понимаете, вот в предыдущем рассуждении, которое доказывало
те, уже стёртое, предыдущем рассуждении, нам плевать было, какой граф имеет плотность одна-вторая. У него
вот этого свойства могло не быть, а сейчас мы это существенным образом какой-то момент используем,
что граф, который мы рассматриваем.So, друзья, ну, очевидно, что у него плотность одна-вторая,
нет? Ну не меньше чем одна-вторая, очевидно, что у него тоже плотность не меньше чем одна-вторая
в своем GM1N1, отсюда не меньше половины ребер, отсюда не меньше половины, ясно, что плотность
одна-вторая или выше. Но это не оба, какой граф плотности одна-вторая или выше, а у него есть
вот это дополнительное свойство, что каждая его нижняя вершина имеет как минимум половину соседок
среди верхних. Мало ли какой граф бывает плотности одна-вторая, может быть какие-то вершины имеют
офигенную степень, а какие-то маленькую. Но здесь мы добились того, что вот есть такая равномерность
по нижней доле. Каждая нижняя вершина имеет не меньше половины соседок наверху. Это будет важно.
Я подчеркиваю это просто, чтобы вы это как-то могли себе тоже подчеркнуть, записать, если хотите. Это не
сразу будет понятно, почему важно, потому что первое применение леммы это не будет использовать,
оно будет использовать только, чтобы p равно 1 и 2. Значит, смотрите, докажем по этой лемме,
что в gm1, n1 есть krs, r равном k-2 лог-2-ичный к,
а s равном k квадрат умноты на лог-2-ичный к.
То есть, я еще раз нарисую. Вот это у нас m1 равное n, вот это у нас n1 равное n пополам.
И вот я хочу тут найти k-2 лог-2-ичный к, а тут найти k квадрат на лог-2-ичный к.
Конечно, получится граф, у которого все ребра красные, поскольку у gm1, n1 уже они все красные.
И вот этот под граф, который тут нарисуется, тоже, естественно, будет состоять только из
красных в нашей раскраске ребра. Ну, картинка немного нереалистичная. Сверху мало, снизу много.
Я не умею почему-то нарисовать здоровенную картину так, чтобы она все-таки была реалистична по размерам.
Сверху не долет, а снизу перелет. Понимаете, товарищи, нам-то нужно красный k-k-k найти,
а мы сделаем с недолетом наверху, но зато с перелетом снизу. Сверху чуть-чуть не хватает,
чтобы k набрать, вот чуть-чуть не дотянули, а снизу перелет значимый. Ну, давайте докажем.
Просто лему примите. То есть пока понятно, что утверждается, да? Друзья, они потерялись,
нормально? Темп понятно? Так, смотрите. Ну что, надо проверить. Вот это соотношение. О боже ты мой.
Значит, это 1 плюс эпсилон на 2 в k плюс 1. Сейчас вот это все, это просто катарсис,
потому что все сойдется по кромочке на самой грани. Это я n написал наше,
вон оно там слева тоже светит, чтобы вы могли убедиться. Это n. Теперь, смотрите,
давайте я вот так буду писать 1 плюс о малое от единицы. Это я сразу рисую осьмтотику вот этой
штуке. Так, слушайте, а n я неправильно написал. У нас же n это n1. Так, давайте я еще вот так
напишу kr1s1 r1s1. Вот так будет совсем аккуратно. Значит, еще раз повторяю. Смотрите, нам нужно
сейчас лему применить параметром, который с индексами n1, m1, r1, s1. n1 у нас это n пополам,
поэтому здесь надо вот эту двуку стереть. Ну, вкатый, конечно, вкатый. Да, надо сейчас увеличить.
Да, вкатый. Ну, разделили на 2 просто. Было 2 в k плюс 1, и стало 2 вкатый. Да, n1-то у нас это уже n пополам.
Но я стараюсь по-разному их обозначать. Не должно быть путаницы. По-моему, все хорошо. Просто я
вот чуть-чуть запутался сам. Не то написал. Так, теперь смотрите, вот здесь надо m1p по r1. Так,
товарищи, не торопимся. m1p по r1. Так, m1 это n. Давайте я тут напишу n. p это 1 вторая, а r1 это вот
это. Так, друзья, согласны, что вот этот сейв m1p по r1 это то, что я вот здесь написал. m1p это n
пополам. по r1, r1 вот он. Вроде все правильно. Ну, давайте я так напишу это n пополам,
в степени k минус 2 лог 2-ичный k, поделить на, ну, виноватый. Сейчас все сократится. 2 минус лог
2-ичный k факториал. И это сейчас все сократится. И это надо сравнить, ну, доказать, что больше.
Сравнить. Так, можно стирать. Чем надо сравнить с правой частью? Значит, тут будет тоже 1 плюс 1
малое от 1. Тут s1, то есть k квадрат лог k, k квадрат лог 2-ичный k. И еще будет c из m по r,
c из m1 по r1. Ну, то есть это будет просто n в степени k минус 2 лог 2-ичный k, потому что
и r1 это k минус 2 лог 2-ичный k факториал. Так, друзья, смотрите внимательно. Понимаете,
что происходит, да? Где? Вот здесь или там? Слева? Слева оно взялось, потому что я c из чего-то
почему-то написал не точности, а с точностью до асимптотики. Ну, я снова пользуюсь тем,
что c из n пока это n в кат и поделить на k факториал. Нет, смотрите еще раз. Вот если вот это n,
оно n1, а n1 у нас n пополам, а n вот оно, поэтому двоих пропало. Это я написал просто n1 вот так
длинно. Потом 1 плюс о малое от единицы, это из асимптотической записи вот этой c,
а все остальное, ну это просто n в кат и поделить на k факториал. Но это в данном случае n пополам
вот в этой степени поделить на эту степень факториал. И здесь то же самое, только вместо
n пополам стоит n, и здесь стоит тот же самый факториал. Потому что мы не из m пополам,
мы из m берем p. Ну, то есть вот это долой. Можно было сразу сообразить, что это пропадает,
ну уж ладно. И это, конечно, пропадает. Давайте вот тут перепишем. Все получается слева. А что ж
правда получается слева? Может быть мы сейчас это быстро увидим. Смотрите, тут два в каты и
знаменатель. Так, товарищ, чуть-чуть напрячься. Два в каты и знаменатель, а тут два в каты,
числитесь. Два в каты, а тут одна вторая. Хе-хе, шпок, шпок. Понимаете? Нет, ну а логарифм еще пропал.
Шпок, шпок, хе-хе. Сейчас, что? Где? Как с кем шпокнулся? Черт, я все-таки зря перечеркивал одно
и то же черточка. Надо было в разные стороны. Но еще раз, вот эта штука сокращается вот с этой
штукой. Одна вторая, да, одна вторая виновата. Она еще не совсем сократилась. Да, согласен. Одна
вторая сократилась не совсем. Скорее вот эта одна вторая в каты сократилась с вот этой двойкой в
катой степени. То есть вот так вот надо как-то зачерикать, что ка уже пропала. И осталось только
одна вторая в степени минус два лог двоичный ка. Вот осталось, я тут все-таки напишу, минус два
лог двоичный ка. Это то же самое, что два в степени два лог двоичный ка, а это то же самое,
что ка квадрат. Слева остается один плюс эпсилон на один плюс омалые от единицы на ка квадрат,
а справа остается просто один плюс омалые от единицы на ка квадрат. Ну и все снова получилось.
В притык, как и раньше. Видите, параметры подобраны так, что все получается в притык. То есть
действительно мы не можем изловить в верхней доле сколько хотели. Ка, не можем изловить, но зато мы
можем в нижней доле найти много. Потому что вот это вычитаемое здесь превращается в совмножитель,
когда мы сравниваем двойной счет. Понимаете, что я говорю, да? Ну ладно, ну получился недолет,
надо что-то с этим делать. Задачу мы не решили. Я доказал, да, что существует такой вот полный
красный подграф. Вот что мы на данном-то этапе получили. У нас получился полный подграф,
у которого в верхней доле ка минус два лог двоичный ка, в нижней доле квадрат лог двоичный ка,
и все-все-все-все-все ребра красные. Но не так плохо, но не то, что хотелось. Так, друзья, идея,
по-моему, совершенно понятная. Давайте теперь тьмуку найдем в восставших вершинах еще кусочек вот
такого маленького размера. Вот слушайте, да? Вот здесь вот в восставшихся вершинах где-то суммарно
найдем кусочек вот такого маленького размера два лог двоичный ка, а в нижних найдем к вершинах,
их же всего как квадрат лог ка. Выберем к вершинах, которые вот с этими добавленными образуют только
сплошные красные ребра. Попробуем наверху, извне вот этого найденного куска, найти еще кусок
суммарной мощности два лог двоичный ка и найти к нему кусочек размера к, вот в этой здоровой
сардельке, которая размера к квадрат лог к, так чтобы каждая вершина из этого кусочка и каждая
вершина из вот этого кусочка были соединены красным ребром. Второй раз применим лимон. Понятно?
Или тяжело?
Ну давайте я сейчас формально напишу, может быть будет так легче воспринимать. Давайте я сейчас
аккуратно напишу, я попытался объяснить смысл на пальцах, ну сейчас я напишу аккуратно. И вот
сейчас выстрелит то ружье, о котором я долго говорил, что у нас каждая вершина отсюда с не
менее чем половиной соединена красным ребром, помните? Вот сейчас это ружье выстрелит. Значит,
рассмотрим, ну давайте как, вот давайте я вот эту верхнюю долю обоснаю, ну скажем В. Вот,
а найденный кусок вот этого размера обозначу W. Я нашел кусок размера к минус два лог двоичный
к. Вот его обозначу W. Рассмотрим В минус W и, ну тут тоже надо какие-то обозначения ввести,
вот это В штрих, а вот это W штрих. То есть В штрих это нижняя вся доля, а W штрих это кусочек,
который мы нашли, который имеет размер к квадрат на лог двоичный к. Вот рассмотрим В минус
W и В штрих нет и W штрих. Вот так. Рассмотрим В минус W и W штрих. Самое ужасное, товарищи,
умоляю не убивайте меня. Мысленно переворачиваем конструкцию, потому что сейчас вот это будет
верхняя доля, а вот это нижняя. Так, ну хорошо, какая мощность у В, минус W, чтобы точно было понятно,
мощность у нее, ну какая, N, она же M1, это вот мощность всего В минус к плюс два лог двоичный к.
Это вот мощность этого верхнего, пока что как бы верхнего куска. Теперь мощность W штрих,
чтобы точно всем было понятно, это как квадрат на лог двоичный к. Вот давайте это обозначим теперь
N2, а это у нас будет M2. Ну как я сказал, переворачиваем мысленно, не убивайте меня,
но тут к сожалению приходится еще как бы перевернуть. То есть мы считаем теперь,
что в наших, надо перевернуть эту картинку, и вот этот кусок он как бы сверху, поэтому мы его
мощность обозначили M2, а этот кусок теперь как бы снизу, и его мощность мы обозначили N2.
Ну то есть LEM мы будем применять именно в таком порядке доли.
Неважно, как на картинке нарисовано, понимаете, ну LEM мы будем применять таким параметрам.
Понятно, да?
Что нам нужно найти? Хотим найти
Kr2s2. R2 чему равным? R должно соответствовать M. С R2 равным K, как я обещал. Вот здесь вот мы найдем K
штучку вершины. Вот в этой части найдем орешек размера K. Он теперь как бы
наверху оказался. Вот, а S2 соответственно будет размера 2 лог 2-ичный K. S2 будет просто величины,
2 лог 2-ичный K. Мы хотим добавить еще 2 лог 2-ичный К вершин. Вот здесь вот, видите, я рисовал вот
эти две штучки, они символизировали вот эти добавленные 2 лог 2-ичный K. Вот если мы такую
штуку найдем, то все мы в героях. Понимаете? Мы все время ее ищем в графе, у которого все ребра красные,
поэтому эта штука тоже будет иметь все ребра красные. Но получится, что вот этот кусочек и с этим
большим куском имеет только красные, и с этим добавленным куском вот такого размера тоже имеет
только красные ребра. Ну, значит, он совсем куском размера K имеет только красные ребра.
Вот сейчас стало понятно? Идей на данную считать надо. Теперь осталось только считать. А тут
плотность еще надо оценить. Вот чтобы ружье-то выстрелило, надо оценить плотность. Значит,
что такое плотность? Вот просто РО. Чему равняется? Ну, или больше, либо равняется чего? Давайте лучше
больше не равняемся. Значит, вот как это посчитать аккуратно? Смотрите, мы пользуемся тем, что красная
степень каждой вершины не меньше, чем половина отсюда. То есть сейчас красная степень не меньше,
чем давайте так n пополам минус K плюс два лог двоичной K. Ну, в самом худшем случае каждая
вершина, которая находится вот здесь, отправляет ребра вот сюда вот каждую вершину. Ну, в самом
худшем случае. Но все равно, если мы смотрим снаружи, то за счет того, что исходная степень
была не меньше, чем n пополам, получаем вот такую вот оценку окончательной степени. Понятно
говоря? Чуть-чуть сложно звучит, но смысл-то понятен. Изначально из каждой вершины выходило
n пополам ребр, но может быть часть из них утонула вот здесь, но здесь не очень много вершин. Но в крайнем
случае все их вычтем. Все равно наружу по отношению к этому множеству, вот в этом графе gm1 и n1,
идет из каждой вершины как минимум столько. Ну, значит, доля будет на что поделить? Ну, на n
поделить, естественно. Так, понятно? Сейчас, на n, на n2, да, да, да, на n2, на n2. Правильно? На n2.
Ну, что делать, что на n2? Ничего там страшного нет, что на n2. Так, друзья, пока понятно? На n2,
да, согласен. Ну, хорошо, можно n2 сразу переписать, как оно есть. То есть n-k, сейчас как-нибудь оценивать,
плюс 2 log2k. Но как это оценить? Ну, слушайте, ну давайте я вот так вот напишу. Я на n разделю
сверху и снизу. У меня будет, скажем так, больше пускай. Так, minus k деленное на n. Сверху мне не нужно
тянуть 2 log2k, я их просто нулем оценю снизу. Вот, а снизу тоже наплевать, на что я делю,
конечно. Ну, пусть будет хоть так. 1 minus k на n. Что, на больше я поделим? Слушайте, а ведь правда?
А ведь правда? Мы же просто можем поделить на n. Чего же я мучаюсь-то? Конечно, мы просто все-таки
можем сказать, что n2 меньше, чем n, и все. Это то, с чего я начал, но меня поправили. Конечно,
строго говоря, здесь n2 стоит. Но n2, очевидно, меньше, чем n, поэтому я все-таки могу написать так,
как и хотел. Что это больше, чем 1 вторая minus k делительная. Вот так вот. Все, вот так хочу написать,
и этого мне будет достаточно. Все, вот это вот наше число p, и все хорошо. Ну что, осталось посчитать
теперь, просто влемму подставить. Снова аккуратненько. Ну, давайте аккуратненько, это значит как подставить?
Надо написать n2 на c из m2 на p. Ну, p это вот эта штука. c из m2 на p по r2 versus или, так,
здесь будет s2 минус 1 на c из m2 по r2. Да вроде так. m2 теперь да. Все хорошо. Да, но смотрите,
вот тут кстати очень хитрый момент, который надо обязательно тоже для себя отразить. Ружье выстрелило,
все хорошо, а вот тут хитрый момент. Смотрите, m2 это k квадрат лог 2-ичный k. r2, ну, p это примерно
одна вторая. Тут k делить на n, стремиться к нулю со свистом. k это лог 2-ичный n. Помните? Помните,
что k это лог 2-ичный n? Ну, потому что n это 2 в степени k на k на лог 2-ичный k. Это фигня,
это стремиться к нулю, это примерно одна вторая. То есть я что хочу сказать? r2 у нас это k, а m2p это
величина порядка k квадрат на лог k. То есть мы на грани проходим вот то условие, что c из n по k
ведет себя асимптотически как n в k и на k факториал. Это верно, ведь только если k квадрат,
это у малой от n, понимаете? Вот эта асимптотика верна только в этом предположении. Но у нас k квадрат
это действительно у малой от n, но смотрите с каким малым запасом. n это вот это вот, а r2 это как
раз k квадрат. Потому что вот здесь стоит m2, но просто мы лему применяем. Тут м, это м плохо
написано. Оно и там и там м. Вот, ну слушайте, я даже не буду сейчас явно их расписывать. Понятно,
что m2 в степени r2 и m2 в степени r2 сокращаются. Ну мы уже это проходили,
так зачем-то их расписывали заранее. r2 факториал, r2 факториал, которые в знаменателе,
они тоже сокращаются. То есть реально остается вот так. Ну 1 плюс о малой от единицы, которая
вылезает из асимптотики c, c асимптотически равна тому, о чем я говорил. Дальше пишем n2,
но это если хотите просто n, которое у нас 1 плюс епсилон на 2 в k плюс 1 на лог двоичный k.
Так, да, n2 это асимптотический n, потому что из n вычитается k, который мизик. Так,
что еще остается? П в степени r2, правда? П в степени r2, остальное сократилось. То есть 1,
вторая минус k на n в степени r2, которая есть k. И теперь мы это сравниваем опять с 1 плюс о малой
от единицы. Оно еще и s2 минус 1 в s2 превращает на k, это s2. Слушайте, а тут ничего не остается.
Тут все сократилось, m2 в степени r2 сократилось, r2 факториал тоже сократился.
Что, не получилось у меня что-то? Где я обсчитался? Сейчас. А, да, я с2 неправильно
пересчитывал. Я почему-то r2 переписывал. Тут же с2, товарищи, а с2 это 2 лог двоичный k. Вот и
смотрю как баран на новые ворота. Вот теперь все получилось. Хе-хе. Притык-притык. Смотрите,
вот эта вот штука, это опять 1 плюс о малой от единицы на 2 минус k. Ну потому что k поделить
на n стремится к нулю с такой бешеной скоростью, что даже возведенная в k степень дает асимптотику
1 вторая в каты. Понятно сходу, нет? Но 1 вторую в каты выносите за скобки, а в скобках остается 1
минус 2k на n катой. Есть 1 вторая в катой на е в степени k логариф натуральный 1 минус 2k на n,
а это есть 1 вторая в каты на е к минус 2k на n на 1 плюс о малой от единицы. Ну раскладываем
ряд тейла. Но тут k квадрат делить на n, где k напоминает лог от n. То есть k квадрат на n
стремится к нулю, а экспонент к единице. Все уходит в 1 плюс о малой от 1. Ну я уж подробно
расписал, но вообще это должно быть очевидно. Ну да. Хорошо, я стираю, потому что я расписал,
потому что... А можно не стирать, ладно. Смотрите, вот до сюда мы дошли. Вот так. Все. Чпок. Чпок. Ну это
тоже ушло. То есть осталось асимптотический 1 плюс епсилон на 2 лог 2к, а тут просто асимптотический
2 лог 2к. За счет епсилон все получили. Действительно строго больше начинается какого-то k. Все, это полная
победа. Ну как вот, ну по-моему это красиво, то есть чисто идеологически красиво. Сделали недолет-перелет,
а потом оттуда до выбрали. В перелете выбрали k, а оттуда до выбрали вот тот мизер, которого не
хватало. Дважды применив одну и ту же лему с двойным счетом. Ну по-моему это очень классно.
