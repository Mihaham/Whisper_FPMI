Так, друзья, мы остановились на формулировке теоремы,
которую мы сейчас, собственно, и докажем, а потом будем
разбираться, почему она крутая, почему она почти
точная.
Значит, теорема была впервые в истории сформулирована
вот так, для любых НКС и для любой совокупности
рёбер, какого получается, К-однородного гиперграфа
на N вершинах с С-рёбрами, М1, так далее, МС, рёбра
К-однородного гиперграфа на N вершинах, tau от M, то
есть размер минимальный SOP, система общих представителей,
она же вершинное покрытие, размер минимальный SOP не
превосходит максимума из нуля и НК логарифм СК
на N плюс НК плюс 1.
Вот такой вот результат.
Ну, как он соотносится с тривиальными утверждениями,
которые тоже были в прошлый раз, это я комментировал,
это всё было, осталось его просто доказать.
Ну, доказательства, сначала мы отделимся от двух тривиальных
случаев.
Первый тривиальный случай – это когда СК на N, ну,
видимо, меньше единицы.
Ну, может быть такое, может быть, конечно, это просто
означает, что S маленькое, мы этот случай в прошлый
раз обсуждали, в этом случае есть утверждение, в котором
говорится, что просто максимум достигается на S и всё.
Но если мы знаем, что S не превосходит N поделить
на K, то мы просто воспользуемся тем, что TAU от M действительно
не превосходит S, это вот буквально то, что мы обсуждали
в прошлый раз, это мы знаем, это всегда верная оценка.
Ну, а S по условию случая не превосходит N на K.
Очевидно, что та оценка, которая заявлена, с запасом
получается.
Ну, не очень с большим запасом, потому что максимум в нуле,
он с запасом на единичку получается.
Согласен?
Ну, то есть, просто пользуемся тривиальным неравенством,
а в рамках случая оно сразу даёт ту оценку, которая
нам в общем-то и нужна.
Теперь второй тривиальный случай, давайте считать,
что, ну, вдруг так получилось, что N на K логарифм СК на N
больше либо равняется N.
Ну, вдруг так получилось.
Это, конечно, означает, что, видимо, S очень большое,
очень много ребер в гипергрессии.
Если их много, то теоретически может получиться, что даже
после взятия логарифма, ну, так вот, неудачно получится,
что получилось много.
Ну, хорошо, тогда в этом случае скажем, что tau от
M тупо не больше, чем N.
Ну, это тривиальное тоже неравенство даже, мы лучшее
знаем с K плюс 1, но неважно, а это не больше, чем N на
K логарифм СК на N.
Ну и понятно, что здесь запас прочности тоже довольно
приличный, потому что мы имеем в условии теорема
на чуть-чуть больше худшую оценку.
Максимум тут уже из нуля N на K логарифм СК на N достигается,
разумеется, на величине второй N на N логарифм СК на N,
но, тем не менее, это всё правильно.
Вот, ну и третий случай оставшийся, то есть теперь мы можем
считать, что СК на N больше 1 и можем считать, что N на
K логарифм СК на N меньше, чем N.
Случай дополнительный по отношению к перрону, всё,
третий и последний.
Вот, в этом случае мы запустим процедуру жадного алгоритма.
Я не думаю, что здесь нужно с особым пафосом произносить
это выражение, что, наверное, наши студенты знают, что
жадный алгоритм.
И здесь жадный алгоритм, это самое простое, что приходит,
в общем-то, в голову.
Ну, то есть давайте на первом шаге рассмотрим такую вершину,
какой-нибудь там ню один из множества от единицы
до N, которую у нас Rn обозначалось.
Рассмотрим такую вершину, что ню один принадлежит
максимальному числу множеств m прямой и t, из нашей совокупности
m красивой.
Нам дана совокупность m красивая, мы берём такой
элемент, который содержится в самом большом количестве
ребер.
Ну, тут можно спросить, а вдруг он не единственный,
вдруг есть несколько разных.
Ну, возьмём любой из них, например, с наименьшим
номером, если хотите определённо.
Понятно, говорю, да?
Школьников, если вот кто-то был на такой лекции, я развлекаю
обычно рассуждением о том, что в кастрюле лежат
сардельки, мы берём шампуры, начинаем тыкать, вот где
побольше сарделек насадится, тот элемент и возьмём систему
представить.
Вот, ну, по поводу сарделек, давайте обозначим буквой
ρ, пока без индекса, ну, можно ρ0 её назвать, не важно,
буквой ρ, обозначим, собственно, количество вот
это, число этих множеств, число этих множеств.
Сколько множеств представлено за счёт самого такого жадного
элемента, за счёт самой жадной горшины гипрографа?
Простой принцип в дирихле, ну, или скорее, двойной счёт
в каком-то смысле, что нам говорит?
Чего не меньше ρ?
Вот сейчас будет катарсис.
Микро, но катарсис, чего не меньше ρ?
Близко, но не так.
Всего множеств s в каждом k элементах, и всё это живёт
в кастрюле размера n.
Как?
Что-то как-то...
Не, ну, формально, как надо сделать?
Надо взять индикатор принадлежности элемента множествуя мытое.
Вот так.
Элемент от единицы до n мытое и от единицы до s.
Просуммировать по i от единицы до s, просуммировать по ню от единицы до n.
Да?
Ну, смотрите, если суммировать сначала по ню от единицы до n, что получится?
k ведь для каждого i.
То есть, вот если так написать сумма здесь по ню, а здесь уже по i,
то это что получится?
Это получится просто nk.
Да?
Нет, почему nk? Что-то не то.
sk.
И меняется от единицы до s, потому что это номера ребер.
А ню меняется от единицы до n, потому что это вершина.
А если переставить местами, вот сначала по i просуммировать, а потом извне по ню.
Ню принадлежит тому и тому.
И что такое для фиксированного элемента сумма по i вот таких индикаторов?
Это как раз количество множеств, которые сидят на этом элементе, содержат этот элемент.
Ну, то есть, это меньше либо равняется ρ помножить на n.
На каждом элементе сидит не больше, чем ρ множеств.
ρ – это самое большое количество множеств, сидящих на каком-либо элементе.
Но отсюда следует микрокатарсис.
ρ не меньше, чем sk поделить на n.
То есть, вот это sk поделить на n – это просто простенькая оценка снизу того количества множеств, которые цепляет самый жадный элемент.
Получается, что это sk поделить на n.
Объяснение тому, откуда под логарифмом взялось sk поделить на n.
Под логарифмом это станет понятно позже.
Но пока вот понятно, что такое это дрот.
Это просто среднее количество множеств, сидящих на одном элементе.
Ну, что там говорить? Максимальное не меньше среднего.
Итак, давайте удалим эти множества, то есть, эти ребра, из m красивого.
На какие-то обозначения у нас останется m1 на выходе после удаления.
1 будет s1 множеств, где s1 – это s-ρ.
Успеваете? Я что-то, может, быстро говорю. Все успевают за мыслями.
s1 – это количество множества m1.
Ну, понятно, было s множеств, и ρ из них мы представили с помощью nu1, с помощью самого жадного элемента.
s-ρ, как мы выяснили, не больше, чем s-sk на n.
Это очень удобно, потому что s можно будет потом выяснить за скобку.
Все, ищем nu2, принадлежащую, конечно, 1, 2 и так далее n set – nu1.
Ну и, я надеюсь, понятно, какую самую жадную относительно вот этой совокупности m1 красивая.
Продолжаем жадно действовать. Выбираем такую вершину, которая служит представителем самого большого количества ребер из m1.
Точно так же давайте теперь все-таки ρ1 определим.
Ро1 – это число множеств из m1, которым принадлежит nu2.
Ну, то есть, по аналогии с тем, как мы действовали ранее, ρ1 – чего не меньше.
Как? s1 правильно k.
Ну, строго говоря, можно здесь нарисовать n-1.
Понятное дело, что если вы будете работать с какой-то конкретной задачей, то есть, у вас даны конкретные s, k, n, то, наверное, так и надо оставить.
Больше того, можно нарисовать еще верхнюю целую часть, и здесь тоже можно было нарисовать верхнюю целую часть.
Но с ними работать в общем случае плохо, потому что s за скобку не вынесется.
А вы сейчас увидите, что это не очень принципиально.
Значит, смотрите, я сейчас быстро подпишу бумаги, потому что, к сожалению, там срочное дело, и потом сразу продолжу.
А мы здесь не будем заморачиваться, мы напишем, что это больше, чем s1k на n.
Для единообразия вы увидите, что это не сильно повредит, так сказать, асимпатическому исследованию этой задачи.
Для конкретной реализации, конечно, лучше все писать аккуратненько.
Это даст чуть лучшие оценки, но в асимптотике это ни на что не повлияет.
Вот, так что пишем вот так.
Ну, слушайте, товарищи, продолжаем процесс.
Сколько шагов? Вопрос в том, сколько шагов мы сделаем.
Ну, давайте сделаем всего n большое шагов жадного алгоритма, который здесь описан.
Причем n большое, это будет целая часть от n на k алгоритм sk на n плюс 1.
Ну, просто по определению сделаем столько шагов.
Мы можем сделать столько шагов, это корректно определенная величина, потому что мы находимся в рамках случая 3.
Во-первых, это sk на n больше единицы.
Ну, то есть хотя бы один шаг мы сделаем.
Я имею в виду, что вот здесь неотрицательная величина стоит.
Поэтому хотя бы один шаг мы сделаем, все корректно.
С другой стороны, n на k алгоритм sk на n строго меньше, чем n.
Поэтому если мы возьмем целую часть от этого числа, это будет не больше, чем n минус 1.
Прибавить единичку, это не больше, чем n.
То есть все в порядке, мы столько шагов сможем проделать в любом случае.
У нас всего n вершин.
Ясно, что надо как-то мощь сделать столько шагов.
Вот мы можем, мы отделились от тривиальности.
Находимся в рамках такого разумного случая, когда это все корректно определено.
Прекрасно.
Ну чего, у нас осталось mn.
Согласно, после n большое шагов у нас осталось mn.
После первого шага осталось m1.
После n шага с номером n большое осталось mn.
В нем с с индексом n множество выживших, которые все еще никем не представлены, не проколыто шампуром.
Сардельки, которые еще ни на один шампур не носили.
Их sn.
Sn это sn минус 1 минус ρn.
Согласны, что нумерация именно такая?
Ну, например, для n равного единице...
Нет, минус ρn минус 1, наверное.
Вот так, да?
Вот так, я ошибся.
Минус ρn минус 1.
Потому что для первого шага здесь как бы нолики стоят, я просто их не рисовал, чтобы не морочить голову.
Но нумерация у нас начинается как бы с нуля, просто нуля нет.
С и ρ это безномерные такие штуки, которые фактически нулевые.
Так, и это мы сейчас оценим очень хорошо.
Это не больше, чем...
Смотрите, sn минус 1 минус sn минус 1k поделить на n.
По аналогии так же точно все оценивается.
А здесь я пренебрегаю тем, что из n чего-то вычитается каждый раз.
Это получается sn минус 1 на 1 минус k поделить на n.
А дальше применяем то же самое рассуждение по индукции.
Ну, ту же самую оценку.
Мы получаем, что это все меньше либо равно и так далее.
Меньше либо равно 1 минус k на n маленькое в степени n большое.
Мы доходим здесь до s, которое s нулевое.
Поэтому мы выщипляем вот этот саммножитель n большой раз.
И, конечно, s надо нарисовать.
Это я забыл. s умножить на вот это вот.
Согласны?
Вот, это мы оцениваем в совершенно знакомом нам стиле,
как s умножить на e в степени минус k на n умножить на n большое.
Ну, то есть мы вот это 1 минус k на n представляем как e в степени логарифум
от 1 минус k на n, а логарифум оцениваем просто минус k на n.
Как, друзья, это столько раз было.
1 минус x не больше, чем e в степени минус x.
Стандартное рассуждение.
Так, n, конечно, не больше n, но и не меньше, чем n на k логарифум s k на n.
Потому что, опять же, под целой частью стоит что-то не меньше единицы,
и мы можем применять, ну или даже просто положительно,
мы можем применять неравенство целая часть x не меньше, чем x без единицы.
Так, тогда здесь получается не больше.
Дайте сюда, чем s на e в степени минус k на n, n на k логарифум s k на n.
Согласны? n большое не меньше, но оно стоит со знаком минус,
поэтому в итоге получается не больше.
Шлёп-шлёп в нашем любимом стиле.
Так, что же получается? Получается s на что умножить?
e в степени минус логарифум s k на n.
Это n поделить на s k, да?
Это n поделить на s k.
Хлоп-хлоп.
И случился больший катарсис, потому что мы доказали теорему.
Причём таким очаровательным методом, конечно.
Смотрите, мы запустили жадный алгоритм.
Он проделал вот столько шагов.
То есть у нас получается, что tau от m не больше, чем n большое.
Плюс нам нужно ещё до представить вот эти не более, чем n на k множества, которые могли выжить.
У нас выжили после вот этих n больших шагов s, n, t множеств,
которых точно не больше, чем n поделить на k.
Но давайте их тупо представим по одному элементу из каждого.
Уж вот столько хватит.
Из оставшихся множеств, которых не больше, чем n поделить на k,
выберем по представителю наихудшем случае вот в таком количестве.
Но это наихудший случай, который...
И всё.
Это не превосходит n на k логарифм s k на n,
плюс n на k плюс 1.
И вот это тот единственный случай, когда всё-таки единичку,
которая фигурирует в формулировке теоремы, нужно добавлять.
А?
Где целая часть? Ну вот целая часть.
Где целая часть? Чего?
Не, ну я могу здесь написать просто равно целая часть плюс n на k плюс 1.
Зачем?
Я целую часть оценил сверху вот этой величиной.
Какую вы ещё ждёте целую часть?
n большое это целая часть плюс 1.
Ну вот целую часть оценил своим аргументом.
Вот плюс 1 и вот плюс n на k. Переставил местами просто.
Написать n на k плюс 1 плюс n на k.
Ну какая разница?
Всё, доказал теорему.
Простой жадный алгоритм.
Ну это в очередной раз пафос того, что жадный алгоритм зачастую даёт очень хорошие оценки.
В прошлом семестре у нас было хроматическое число.
Оказывалось, что если оценивать на случайном графе хроматическое число жадным алгоритмом,
то асимптатически почти наверняка он, если ошибается, то не более чем в 2 плюс епсилон раз.
Где епсилон наперёд-задная, сколько угодно маленькая.
Здесь ещё круче в итоге окажется.
В итоге окажется, что в очень значимой части ситуации ошибка в 1 плюс епсилон.
Прин, стремящимся к бесконечности.
Жадный алгоритм даёт прямо асимптатически точный результат.
Но это такая громоздкая, не очень красивая теорема, которую я предпочитаю рассказать чуть позже.
А сначала я расскажу красивую конструкцию, абсолютно явную, не использующую никакого вероятностного метода,
которая даёт некоторую ошибку по сравнению с теоремой, которую мы доказали.
Но это ошибка лишь в константу раз.
То есть уже как бы круто очень.
Нормально.
Так, новая теорема звучит следующим образом.
Для любого n, ну скажем, больше либо равного четвёрки.
Тут будут небольшие ограничения, но они такие как вот косметические.
Для любого n больше либо равного четвёрки, для любого k не большего, чем n поделить на 4.
И для любого s такого, что я думаю даже двойки хватит.
Логарифм sk на n больше либо равняется k.
Можно явно сконструировать такую совокупность с параметрами nks.
Ну то есть гиперграф с s ребрами на n вершинах, k однородный.
Существует такая m, что tau от m, ну скажем, больше либо равняется 1 поделить на 32,
помножить на n на k и на логарифм sk на n.
Ну то есть если жадный алгоритм и ошибается, то в большинстве случаев не более чем в 32 раза.
Значит 32 это не в честь количества зубов во рту.
32 это издержки того, что я буду сейчас довольно грубо оценивать целые части.
А именно я буду пользоваться неравенством.
Целая часть x больше либо равняется одной второй, ой x поделить пополам, при x больше либо равном единице.
Это дурацкое неравенство, но зато оно позволяет избавиться от дурацких живочитаний.
То есть понятно, что целая часть x на самом деле не меньше, чем x-1.
Но вы увидите из рассуждения, что если каждый раз эти единички вычитать, будет просто очень громоздкая запись.
А до единицы я все-таки не дотяну.
То есть вот эта явная конструкция, она ну одну вторую может быть, или одну четверть даст, если очень постараться.
А прям вот единицу как тут не даст.
Это важно понимать, это вы как-то для себя может быть даже зафиксируете,
что я потом буду рассказывать вероятностные методы следствия из него.
И оно будет принципиально лучше, потому что там будет по сути единица с точностью до какого-то епсуума.
А здесь если не одна тридцать вторая, то все-таки одна четвертая нужна.
Но одна тридцать вторая это такая вот штука.
Теперь почему это не очень ограничительные условия, это понятно?
Ну то, что n больше четверки, извините, больше четверки, это вообще как бы смешно.
Подумаешь ограничение.
Вот может быть на это глядячи вас?
Нет? Понятно?
Ну что значит, что логарифм больше двойки?
Это значит, что вот эта вот величина, ну грубо говоря, больше, чем 2n поделить на k.
Но когда на n поделить на k, это тривиальная оценка,
на n поделить на k это сардельки разложенные там по дну кастрюльки.
То есть там все получается элементарно, это не интересно.
В случае, когда логарифм меньше двойки, мы и так его решили, там мы все по порядку знаем.
То, что логарифм не больше, чем k, но это просто условие вот это вот,
чтобы вот этого не случилось.
Логарифм не больше, чем k.
Но это противоположное условие, то есть что мы находимся в третьем содержательном случае, который уже стер.
Понятно говорю?
Это вообще не ограничение, вот это вообще не ограничение, это почти не ограничение.
То есть практически во всех ситуациях, при любых соотношениях на параметры
можно найти совокупность, которую нельзя слишком хорошо представить.
Любую совокупность можно, и есть такие, которые сложно.
Нельзя.
Вот, ну как есть, сейчас будем доказывать.
Это потребует изрядно времени, потому что конструкция не совсем простая,
но такая, красивая.
Я считаю, что бы ее не рассказать.
Каждый раз рассказываю.
Так, ну давайте доказательства.
Сейчас будем прямо строить ее.
Так, друзья, пока все нормально воспринимается.
Ну, давайте введем такое обозначение, буква м.
Это будет целая часть.
Вот одна вторая логарифма с k поделительная.
Это такое содержательное натуральное число,
поскольку логарифма предполагается не меньшим двойке.
То есть это натуральное число больше либо равное единице, понятное дело.
Согласны?
Вот.
Ну, как-то вот нужно будет его в итоге привязать к нашей будущей конструкции.
Единственное, товарищи, вот держите, пожалуйста, в голове,
что нам нужно построить все-таки четко, совершенно.
Нам нужно построить ровно это число.
Нам нужно построить ровно s множеств.
Каждая мощность ровно k.
И эти множества должны быть в Rn, то есть под множество от единицы d.
Согласны?
Надо построить s штук k элементных под множеств, n элементного множества.
И еще добиться того, чтобы их было трудно вот так вот представить,
покрыть вершинами.
Ну, взяли m.
Теперь рассмотрим такую вспомогательную конструкцию.
Значит, один, два, так далее, два m.
Вопрос.
Все понимают, почему эта штука вложена в Rn?
Что она умещается туда, куда должны в итоге уместиться все наши ребра?
Rn – это числа от единицы до n.
Почему множество из 2 m элементов туда влезает?
Ну, это вроде очевидно.
Потому что 2 m – это не больше, чем логарифом.
Логариф не больше, чем k.
Ну, k у нас даже не больше, чем n поделить на 4.
Все хорошо.
Так что вот когда я это включение пишу, все в порядке.
Ну, следите просто за ловкостью рук.
Но это еще не все.
Теперь вот сюда, в это множество, это кусочек всей большой лохани, в которой будут храниться наши сардельки,
в этот кусочек запихнем все возможные m-элементные подмножества.
m-элементные.
Нам нужны k-элементные, а мы запихнем m-элементные.
Ну, давайте как-то обозначим n, скажем, 1 и так далее.
n c из 2 m по m.
Так, мощность n этого равняется m.
В каком-то порядке занумеруем все m-элементные подмножества вот этого 2 m-элементного множества.
Их вот столько, понятное дело, c из 2 m по m, в каком-то порядке их перенумеруем.
Так, вопрос, смысл которого, может быть, пока не до конца понятен, для чего нам этот вопрос.
Но вопрос контрольный, который сейчас стоит задать, и который на самом деле нам поможет в дальнейшем,
если мы рассмотрим совокупность таких множеств.
n1, nc из 2 m по m.
То к чему равняется tau от них?
m плюс 1, правильно.
Правильно, tau равняется m плюс 1. Почему?
Ну, потому что если вы возьмете любые m-элементов отсюда, то найдется дополнительное к ним множество, которое имя не представлено.
Согласны? Мы же все m-элементные подмножества рассматриваем.
Если вы возьмете какое-то m-элементное множество в качестве системы представителей, то вы обломитесь,
потому что для этих m-элементов есть дополнительные к ним, не пересекающиеся с ними еще какие-то m-элементов,
и они образуют одно из этих множеств. Все, не получилась система общих представителей.
А если вы возьмете любые, наоборот, m плюс 1 элементов отсюда,
ну все, никакое m-элементное множество от них не увернется.
Согласны?
То есть tau равняется m плюс 1. Это мы запомним.
Я постараюсь, конечно, не стереть это, но если сотру, ничего страшного.
Да. Что?
Что? Почему оно m плюс 1?
Ну, еще раз, оно не может равняться may или чему-то меньшему,
потому что если вы возьмете абсолютно любые m-элементов отсюда,
то можно рассмотреть еще m-элементов, которые с ними вообще никак не пересекаются.
Всего же два m-элемента.
А они образуют какое-то множество, значит, не получилась система представителей.
Понятно?
А m плюс 1 взяли, все, уже никакое m-элементное множество от них не увернется.
Там остается только m минус 1.
Ну все, они, значит, пересекаются.
Ну вот, это да, это простая штука, но для чего она нужна?
Встанет понятно чуть позже.
Давайте теперь сделаем вот какую конструкцию.
Рассмотрим еще одну буковку qq.
Это будет целая часть от 2k поделить на m.
Просто введем такую чиселку по определению.
Присвоим ей значение, целая часть от 2k поделить на m.
Ну, что я могу сказать?
k поделить на m.
k поделить на m.
Это больше либо равняется 2k на логариф msk на n, а логариф msk на n не превосходит k.
Поэтому это больше либо равняется двойке.
Ну, то есть это опять какое-то содержательное натуральное число, не меньшее двух, правильно?
А, это было k на m, тогда это 4, потому что 2k на m, согласны?
Или я ошибся?
По-моему, да.
Но это какие-то занудные проверки, которые можно бы не делать, но я стараюсь быть максимально аккуратным.
То есть q – это какое-то содержательное натуральное число, причем такое сильно содержательное, не меньше четырех, это даже не один.
Ну ладно, это все фигня.
Что я хочу сделать?
Я хочу взять и рассмотреть вот такую лоханочку, в которой будет q умножить на сколько?
На 2m элементов.
Вот так.
2m на q элементов и ее разбить на кусочки.
Вот единица до 2m, потом от 2m плюс 1 до 4m и так далее.
Ну, в конце тоже понятно, какой кусочек будет.
Кусочки все мощности 2m.
Да, вопрос лежат ли они в Rn, правильно, совершенно.
Но если вы q умножите на 2m, это будет не больше, чем 4k.
Правильно?
Будет это не больше, чем 4k?
А это будет не больше, чем n.
То есть выстрелило вот это ружье, висевшее на стене.
k не превосходит n на 4, 4k не превосходит n.
Совершенно верно.
Поэтому вся эта конструкция, она действительно вложена в Rn.
Все правильно.
По-прежнему, та конструкция, которую мы все еще строим,
находится в рамках той огромной лохани, в которую все в итоге должно поместиться.
Множество вершин у нас состоит из n элементов.
Вот это я называю огромной лоханью, в нее надо поместить все сардельки.
Значит, так.
По-моему, у нас сейчас случится или уже случился...
Так, ну мы поняли, что она умещается, а что именно умещается, мы пока не поняли.
Что мы скажем?
Значит, мы делаем следующее.
Мы в каждую вот эту вот штуковинку, ограниченную, штуковинка размера 2m,
запихиваем вот эту совокупность.
Так, как бы это изобразить?
Вот сюда мы запихиваем n1 и так далее, nc из 2m по m.
Ну, вот прям вот эту вспомогательную конструкцию,
у которой tau вот такое, которая состоит из n элементов под множество.
Но сюда мы запихиваем тоже ее.
И сюда запихиваем ее, и сюда запихиваем.
В каждый кусочек размера 2m запихиваем одну и ту же конструкцию.
Я понятно сказал?
Но сейчас, может быть, придется немножко еще переобозначить.
Давайте теперь рассмотрим.
Смотрите, нам-то нужны множество мощности k.
Я каждый раз буду это напоминать.
А мы пока понастроили кучу множеств мощности m.
Ну, мы взяли вот эту вспомогательную конструкцию, вот эту,
и просто ее размножили в количестве q штук.
Все, вот взяли просто эту конструкцию,
и одну за другой одинаково разложили q раз.
Все, вот так можно сказать.
Но нам-то нужны не m элементные множества в итоге, а k элементные, правильно?
Вот давайте рассмотрим не k элементные,
но чуть более похожие на k элементные множества следующего вида.
Рассмотрим множество.
Сейчас я напишу, а потом поясню.
n1,1 объединить с n1,2, объединить и так далее.
n1,1 объединить с n1,q и так далее.
nc из 2m по m1 объединить с c из 2m по m2 и так далее.
nc из 2m по mq.
Вот так.
Ну, непонятно, что такое верхние индексы, но можно, наверное, догадаться.
Имеется в виду, что верхний индекс 1 указывает на то,
что множество разложено внутри первого вот этого кусочка.
Верхний индекс 2 расположены тут по вертикали,
что они внутри второго кусочка, ну и верхний индекс q, что они внутри последнего.
Я добавил эту верхнюю нумерацию, чтобы помочь вам понять, что с чем объединяется.
А на рисунке это можно изобразить так.
Вот тут есть множество мощности m, тут есть множество такое же точно,
с тем же самым номером, тоже мощности m.
Там тут есть какое-то, тут есть какое-то.
Вот они все одинаковые. Объединяем их в одну длинную сардельку.
Чуть-чуть нехорошее слово «сарделька»,
потому что вам думается, что это такая гирлянда из сардельки.
Нет, это одно длинное множество, ну просто вот между его кусочками
как бы выглядят такие разрывы появляются.
Но это одно большое множество, мощность которого, вот такого множества,
равна куба множить на m.
Так, друзья, вы успеваете за мыслью?
Равно куба множить на m.
Равно куба множить на m.
Так, понятно, и вот это тоже имеет мощность куба множить на m.
Вот, воспользуемся в первый раз вот этим замечательным неравенством.
Целая часть x не меньше, чем x пополам.
В качестве х рассмотрим 2k поделить на m.
У нас получится больше либо равно k поделить на m умножить на m,
потому что мы вот эту двойку сократили делением пополам.
И это равняется k.
То есть, понимаете, мы не совсем попали, мы, конечно, не могли добиться того,
чтобы множества получились в точности k-элементными.
Но, по крайней мере, мы добились того, что они не менее, чем k-элементные,
и скоро поймем, что это не страшно.
Хорошо?
В каждом из этих множеств не меньше, чем k-элементов,
и я считаю, что это гораздо лучше, чем иметь какие-то непонятные m-элементные множества.
Теперь давайте их как-нибудь еще обозначим, сами эти множества.
Значит, это будет какое-нибудь L1, а это будет, соответственно, Lc из 2m по m.
Так, согласны, их вот столько, их c из 2m по m.
Каждая из них мощности не меньше, чем k.
Ну, тут немножко нехорошо написано, мощность L1.
Мощность, потому что я уже мощности дорисовал, но я думаю, что понятно.
Так, теперь гениальный вопрос.
А чему равняется tau от совокупности L1 Lc из 2m по m?
Это вот вопрос, на который не сразу обычно отвечают правильно, а могут сразу.
Каждая из L это склейка объединения одинаковых m-элементных кусочков.
Это неправильный ответ, как в игре в какой-то данной.
Слабое звено, что ли?
Что-что?
Вы поняли, это команда и выгоди для этого титула?
Я понял, да.
Да-да, неожиданно мощный результат я получил.
Нет-нет, ну так чего?
Нет-нет, нет.
На самом деле, я думаю, просто где я это слышал, по-моему, там.
Нет, товарищи, ответ просто m плюс 1.
Просто m плюс 1.
Чего ж вас так проколбать?
Ответ просто m.
Нет, я понял, я вашу мысль понял.
Ответ просто m плюс 1.
Почему?
Ну, потому что, смотрите, длинная сарделька, это все равно, что одна короткая.
Потом есть другая длинная, например, вот такая.
Ну, если вы уже нашли тут систему представителей для ростков этих длинных сарделек, для их начала, так сказать,
ну, значит, вы и нашли систему представителей для всех сарделек.
Вам же достаточно хоть один элемент из длинной сардельки достать, чтобы она была представлена.
Если вы его достали здесь, ну все, вся эта длинная сарделька на этот шампур насажена, понимаете?
Если есть элемент, который принадлежит кусочку длинной сардельки одному из объединяемых множеств,
то он и всему объединению принадлежит, правда же?
То есть если вы нашли систему представителей внутри какой-нибудь части,
то она будет не только для вот этих маленьких штуковинок, но и для всех их вот этих вот длинных склеев.
Ну и наоборот, конечно, можно без ограничения общности считать.
Что любая система представителей для удлиненных конструкций находится внутри какого-то одного кусочка.
Что если вы где-то взяли элемент в качестве представителя,
вы всегда можете его заменить на такой же точный элемент из первого множества.
Друзья, понятно это?
То есть реально ответ M плюс один.
Не Q на M плюс один.
Нет, понимаете, если бы ваш ответ с Q умножить на M плюс один был такой,
тогда мы в итоге пришли бы в противоречие с теоремой,
которая все еще есть на левой доске.
Ну у нас получилась бы совокупность, у которой система представителей больше,
чем нам гарантирует жадный алгоритм.
То есть, конечно, если бы мы могли вот это на что-то еще умножить,
оценка только улучшилась бы.
Но не можем мы, конечно, ни на что умножить.
На самом деле, мы должны просто сохранить эту систему,
Друзья, я понятно объяснил или не очень?
Ну хорошо.
Значит, та уравняется M плюс один от этой штуки.
Давайте еще поймем, а что такое количество?
Что это примерно такое?
Что такое C из 2M по M?
Ну, я скажу так.
Это точно меньше, чем два в степени 2M.
Я надеюсь, это понятно.
Ну, это точно меньше, чем два в степени 2M.
Это точно меньше, чем два в степени 2M.
Я надеюсь, это понятно.
Но это много раз мы проходили, что сумма всех C-шек это 2 в степени 2M.
Вот.
Это, в свою очередь, меньше либо равно
два в степени логариф натуральная ска на N.
Ну, потому что 2M не превосходит просто логарифма.
Двойка меньше, чем E.
Тут такие мощные, конечно, выкладки.
Получается, что это с большущим на самом деле запасом
меньше, чем S ка поделить на M.
Поверьте, этот запас никак не помогает устранить константу
типа 1 вторая или 1 четверть в итоговой оценке.
То есть, тут все-таки что-то вылезает.
Но можете попробовать.
Запас большой.
Но что я хочу сказать?
Мы понастроили кучу множеств.
Каждый из которых имеет мощность не меньше, чем k,
то есть не меньше, чем сколько нам хочется.
Но куча не куча, а смотрите, она же небольшая кучка.
Вы знаете, сколько всего нам множеств нужно?
S.
Нам всего-то нужно S множеств.
А мы пока построили строго меньше, чем S ка на N.
Что это означает?
Это означает, что мы нашу конструкцию, наверное, можем еще N поделить на k раз,
попробуясь проэтерировать.
Понятно?
Идея.
Ну, tau-то маленькое.
Что такое M плюс 1?
Это всего лишь логарифм.
А нам нужно tau порядка N на k логарифм.
То есть нам хочется ее проэтерировать N на k раз.
И нам может в том смысле, что мы пока далеко не набрали S,
мы еще можем N на k раз проэтерировать,
и даже тогда будет меньше, чем S.
Меньше, чем сколько нам нужно.
Идея понятна?
Дальше мы ее реализуем.
Сейчас я все формально напишу.
Вы не переживайте, сейчас все будет.
То есть картина получается вот такая.
Формально картина получается такая.
Мы берем T.
Последняя чиселка T равная целой часть от N поделить на 2 qM.
Но это совсем понятно, что такое.
Я надеюсь, что это все понятно.
Потому что мы дальше делаем вот так.
Вот это вот наше огромное лохание от единицы до N.
Мы в нее кладем кусочек размера q2qM.
Вот этот q умножить на 2M.
Это то же самое, что 2qM.
Какая разница?
В каком порядке умножать?
И так далее.
И кладем последний кусочек.
Это будет что?
Мелкие палки.
Ну, T штук таких, кусков.
Какой последний будет, если их T?
Что-то я туплю.
2q на T минус 1, что ли?
M плюс 1.
И вот здесь будет 2qTM.
Вот так.
Ну, T раз просто раскладываем ту конструкцию, которая со склейками.
Значит, взяли вот эту вот конструкцию, вот эту всю.
Она размера 2qM.
Засунули сюда, засунули сюда.
И так пока не заполнили до упора всю лохань.
Вот это-то очевидно, что так можно.
Просто, ну, в худшем случае 2qM окажется равным четверке.
И тогда мы не сможем заполнить эту конструкцию.
Ну, так вот.
Просто, ну, в худшем случае 2qM окажется равным четверке.
И тогда таких только 4 поместится.
Ну, ладно.
Сколько поместится? Столько поместится.
Но то, что N поделить на 2qM, умножить на 2qM, влезает в N, это вроде очевидно.
Согласны?
То есть мы проверяли, что одна такая влезает.
Ну, значит, это содержательное число.
T больше либо равно 1, и слава Богу.
Ну, что, столько влезет?
1 или 10, сколько получится?
Столько и влезет.
Значит, тут у нас находится L1, Lc из 2M по M.
Ну, давайте, чтобы было понятно, их назовем первыми.
А вот эти вот такие же точно назовем тетами.
Ой, неудачно.
Вот так L и так далее.
Lc из 2M по M.
И тут с индексом T.
Ась?
Так, понятно, это просто одинаковые совокупности.
А верхний индекс, оно просто указывает на то, что они отдельно лежат.
Вот тут никаких склеек мы делать не будем.
Значит, давайте теперь обозначим M штрих, пока M штрих.
Это будет совокупность, состоящая из L1, 1, Lc из 2M по M, 1 и так далее.
L1, 1, Lc из 2M по M, 1 и так далее.
L1t и так далее.
Lc из 2M по Mt.
Вот такую совокупность рассмотрим.
В ней каждое множество имеет мощность...
Так, для любых i и j.
Каждое множество или i и jt имеет мощность больше либо равную k.
Мощность M штрих самой равняется t на c из 2M по M.
И это не превосходит sk на n умножить на t.
Ну, t в свою очередь не превосходит n поделить на 2qm.
То есть будет sk на n, n поделить на 2qm.
Шлёп-шлёп.
Так, равно sk на 2qm.
2qm, где-то мы, наверное, оценивали, это не меньше, чем 2k.
То есть это получается не больше, чем sk поделить на 4k.
И это меньше, чем s, опять с огромным запасом, но уже не таким огромным, как раньше.
Четыре раза.
Так, друзья, понятная выкладка?
То есть совокупность состоит из k-элементных под множество, n-элементного множества.
Из не менее, чем k, извините, из не менее, чем k-элементных.
Причём этих множеств меньше, чем s.
tau у этой совокупности...
А, здесь не влезет.
tau от M штрих, ну давайте начнём тут.
Оно равняется t умножить на M плюс 1.
Понятно, почему здесь надо всё-таки умножать на t в отличие от предыдущего случая.
Здесь нет никакой склейки.
Мы их просто всыпали все в одну кучу.
Вот, в одну вот такую кучу.
Нам нужно отдельно найти систему представителей для вот этой первой части.
Она состоит из M плюс 1 элементов.
Но нам отдельно нужно искать представителей для каждой из последующих частей.
Тут никто ни с кем не склеен, просто все в одну кучу собраны.
Понятно?
Это просто растает в t раз.
Это больше, чем t на M.
Ну просто я не буду возиться с этим M плюс 1, как всегда.
t больше либо равняется...
Опять пользуемся вот этим смешным неравенством.
Целая часть больше либо равна x пополам.
Значит, t больше либо равняется N поделить на 4 qM.
И тут умножаем на M.
M сокращается.
Кум где-нибудь сверху у нас оценивалась.
Ну ладно, ну а вот...
А нет, нет.
Ну хорошо, q не больше, чем 2k на M.
Не больше, чем 2k на M.
А оно стоит в знаменателе.
Значит, это больше либо равняется N поделить на 8k и умножить на M.
Вот так.
q не больше, чем 2k поделить на M.
2k осталось в знаменателе, M перепрыгнуло в числитель.
Вспеваете?
Так.
Ну и иду к M.
Опять пользуюсь неравенством.
1 четверть вылезает, правда?
И вот вам и 1,32.
M не меньше, чем 1 четверть логарифма.
То есть получается, что это не меньше, чем 1,32.
Рая как раз N на K, логарифм S к N.
Мы почти у цели.
Чего нам не хватает?
Tau такое, как надо.
Но не хватает чего?
Ровно K, ровно S.
Ну смотрите, представим себе, что какое-то из этих множеств
имеет мощность большую, чем K.
Ровно большую.
Давайте из него удалим какие-нибудь любые совершенно элементы,
так чтобы в нем их осталось ровно K.
Может от этого уменьшится SOP?
Ну нет, конечно, потому что если мы нашли какую-то SOP для уменьшенных множеств,
то она тем более является SOP для искусственных множеств.
Она уменьшиться не может.
Поэтому мы тупо просто срежем лишние кусочки,
не важно какие, у каждого из этих множеств, если они у них действительно есть.
Понятно, что это значит?
Удалим из каждого множества элементы как угодно,
так чтобы оставшиеся множества получились K-элементными в точности.
Можно я это писать не буду?
Вы же можете это себе пометить.
Получится что-то типа m2'
tau от m2' больше либо равняется, нежели tau от m'.
Это мы вроде обсудили, все согласились.
Давайте заметим, что в совокупности m2' теоретически могли получиться совпадения,
просто чтобы вы это понимали.
Мы же как угодно срезали кусочки.
Ну я не знаю, там было одно множество большое такое,
другое множество большое такое, у этого срезали вот эту разность,
у этого срезали вот эту, получилось одно и то же.
Могло же такое быть?
Давайте удалим повторы здесь.
Нам же хочется совокупности взрослых,
давайте удалим повторы здесь.
Ну это все равно m2' у нее тоже tau не меньше чем.
Мощность m2' меньше, чем s по-прежнему.
Она могла только уменьшиться, правда?
Ну давайте к этой m2' добавим что угодно,
что угодно, что угодно, что угодно, что угодно, что угодно, что угодно.
Ну давайте к этой m2' добавим что угодно,
любые k элементные множества, которые в нее еще не входят,
так чтобы суммарно получилось ровно s.
Согласитесь, что tau от этого тоже не может уменьшиться.
Но если у нас была меньшая по мощности совокупность,
у которой tau уже большое, которую трудно представить
с помощью системы представителей,
то увеличивая ее, добавляя к ней какие угодно множества,
мы же не можем понизить размер сов.
Их-то тоже надо чем-то представить.
Может она и не повысится, я не знаю,
но понизиться она уж точно не может.
Все, вот после этого задача решена.
То есть взяли вот эту m' срезали лишние кусочки,
отреждествили то, что отреждествилось,
и добавили так, чтобы получилась s, k элементные множества.
Все, tau все равно будет такой.
Но я надеюсь, понятно.
Все, теорему я доказал.
Но я обещал, что все-таки вот эта явная конструкция,
она как обычно хороша тем, что ничего не надо дирандомизировать.
Есть совершенно явный алгоритм построения того,
на чем почти достигается жадность.
Но, тем не менее, хочется-то понять,
насколько в принципе жадный алгоритм точный.
Я сказал, что он точно асимптотический.
Для того, чтобы это уяснить,
нужно решить задачу с помощью вероятностного метода.
И само решение, мне кажется, мы можем успеть сделать прямо сейчас.
А вот асимптотика, она точно пойдет на следующий раз,
потому что ее довольно долго считать.
В каких условиях она там выполняется,
это все отдельный вопрос.
Нас еще 15 минут примерно, да?
Я думаю, что вероятность мы все, конечно, пройдем за это время.
Значит, теорема звучит вот так.
В стандартном таком вероятностном духе,
как рамсеевские числа мы оценивали.
Вот здесь в таком же стиле.
Значит, для любых N, K, S...
Нет, не так.
Лучше не так сказать, извините.
Лучше пусть написать, хотя это тоже правильно.
Пусть для данных N, K, S число L таково,
что дальше держитесь, крепитесь.
С из N по L умножить на...
Ой, нет, лучше сначала знаменать.
С из C из N по K по S.
Нет, я надеюсь, вы выдержали.
Мы даже помним, что это.
Сейчас я напомню.
Но самый ужас будет в числителе.
Здесь будет С из N по K минус С из N минус L по K,
и все это по S.
А это меньше единиц.
Это как раз вероятность проглядывает.
Ее уши торчат просто идеально.
Пусть для данных N, K, S нам даны какие числа N, K, S?
Число вершин, размер каждого ребра и количество ребер.
Мы сумели найти такое L, что вот выполнено такое жуткое неравенство.
Так видно здесь все.
С из N по K минус С из N минус L по K.
Это внизу цешки.
И из этого беременности.
Так, видно здесь все.
С из N по K минус С из N минус L по K.
Это внизу цешки.
И из этого беременности.
А снизу цешки С из N по K по S.
Вот так вот и все.
Так, тогда существует M.
Ну, что значит существует M?
Это существует набор из S, K элементных подмножеств, N элементного множества.
Но главное, что tau от M больше строго, чем I.
Ну, то есть это стандартно, вот такое программистского типа утверждения,
когда при данных на входе N, K, S вы идете в цикле по L
и ищете максимальное значение, при котором все еще выполняется вот это жутковатое неравенство.
Находите его, вот будет вам наилучшая оценка tau снизу в рамках метода.
Я утверждаю, что в симптотике это даст шикарное следствие.
Но давайте докажем, почему это верно.
На это у нас как раз время есть.
Что это вообще за ужасные такие числители-знаменатели?
На самом деле, ничего сложного нет.
Так, это я потом отвечу.
Так.
Значит, давайте рассмотрим случайную совокупность.
Случайную M, состоящую из K элементных множеств в количестве S штук.
Так, что значит случайную совокупность?
Ну, это значит равномерно случайную.
Ну, мы с вами еще в прошлый раз, на прошлой лекции убедились в том,
что C из C из N по K по S это количество всех таких совокупностей.
Я могу это повторить.
Ну, действительно, у нас есть C из N по K множеств.
И вот из всех этих C из N по K множеств, каждая K элементная,
мы можем собирать произвольные наборы из S штук.
Вот это будет совокупность.
Друзья, это понятно или сложно?
Ну, как граф обычный, C из C из N по 2 по S, это граф с S ребрами.
А это гиперграф K однородный.
А это гиперграф K однородный с S ребрами.
Столькими способами можно выбрать.
Понятно.
Ну, то есть в знаменателе, наверное, что-то похожее на вот эту величину.
Не просто что-то похожее, а это вероятность какая-то.
Вероятность чего?
Смотрите, давайте зафиксируем какое-нибудь множество L в Rn,
мощность которого равняется вот этому L маленькой,
которая фигурирует в формулировке.
Вопрос.
Какова вероятность того, что L является SOP для случайной совокупности M?
Ну, тут написано, то есть вы можете мне сказать, но еще надо понять, почему это так.
Хотя я не знаю, все ли понимают, что тут это написано.
Но очевидно, что в знаменателе должно быть C из C из N по K по S.
Просто так устроена равномерная модель выбора случайного объекта.
Классическая вероятность, как говорят.
Был у вас такой термин классическая вероятность?
Классическая вероятность.
А что в числителе это стоит?
Количество совокупностей, то есть количество вот этих элементарных объектов.
У нас элементарные объекты, это M красивое.
Количество элементарных объектов, для которых вот это фиксированное множество служит систему общих представителей.
Так, ну я не знаю, может картину нарисовать.
Смотрите, вот это наша стандартная лохань из N элементов.
И вот в ней мы выделили какое-то подмножество мощности L маленькое, зафиксировали.
Нам нужно вот сюда в числитель написать количество совокупностей,
для которых именно вот такая штука служит системой представителей.
Так, друзья.
Смотрите, как посчитать эти совокупности?
Из каких множеств M1, Ms они должны состоять?
Ну правда же, что каждое из этих множеств должно пересекаться с выделенной L.
Ну смотрите, C из N по K это количество всех K элементных множеств.
А разность, которая написана здесь, это вакурат количество тех множеств, K элементных,
которые данную L-ку пересекают.
C из N минус L по K это количество тех, которые не пересекают.
А C из N по K минус C из N минус L по K это количество тех, которые пересекают.
Понятно?
Понятно?
Ну то есть это и есть искомая вероятность.
Надо из вот этих вот, из C из N по K минус C из N минус L по K взять S произвольных.
И получится совокупность, состоящая из множеств, каждая из которых пересекает данную L-ку.
Ну или наоборот таких, что L-ка пересекает каждый из них, то есть служит SOP.
Так, ну все, осталось чуть.
Все. Вероятность того, что существует L, мощность L маленькая, такая, что L является SOP
для случайной M, она не больше, чем C из N по L.
Количество способов выбрать такую L-ку помножить вот на эту ужасающую дровь.
C из C из N по K по S.
C из C из N по K минус C из N минус L по K по S.
По условию теоремы это меньше единицы, но значит с положительной вероятностью
ни одно множество мощности L не является SOP для M.
Существует M, у которой нет L-элементных SOP.
Стандартное вероятностное рассуждение. Следовательно, существует M такая, что у M нет L-элементных SOP.
Ну если нет L-элементных, то нет и меньших.
То есть, конечно, tau от M больше, чем L.
Вот такое вот простое стандартное доказательство.
Не знаю, понятно или не очень. Могу любое место повторить.
Из условия теоремы. По условию теоремы эта величина меньше единицы.
Существует L-элементная SOP, это значит мы объединяем по всем таким L вот эти вот события.
Вероятность каждого из них в точности равна этому,
а вероятность объединения не больше, чем количество событий, помножить на вероятность каждого.
Стандартная вещь. По условию теоремы эта штука меньше единицы,
значит с положительной вероятностью любое L-элементное множество не является SOP.
Каждое не является, как хотите, скажите.
Ну то есть, существуют такие M, у которых нету L-элементных SOP.
Если нет L-элементных, значит нет и L-1-элементных, понятное дело, и так далее.
То есть, минимальная SOP для M имеет мощность большую, чем L.
Они существуют, но они совершенно не конструируются.
Предыдущая теорема показала, что можно конструировать явно.
Другое дело, что отсюда пока совершенно не видно, какова симптотика для максимального L,
при котором выполняется это неравенство.
Как решить вот это вот аналитически? Выглядит это чудовищно?
Я обещаю в следующий раз частично это решить.
А сейчас я бы на этом, наверное, завершил.
