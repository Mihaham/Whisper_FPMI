Так, значит, сегодня мы продолжаем с вами говорить про конечные автоматы и про регулярные языки,
регулярные выражения, и сегодня мы докажем, наконец-таки, теорему к линии. Одна из первых основных теорем
мы, на самом деле, уже доказали в одну сторону, но сегодня повторим доказательство в одну сторону
и пойдем в обратную сторону. Так, давайте вспомним, что было у нас в предыдущих сериях.
Что мы сделали на прошлой реакции с вами? Да, мы еще в одну сторону доказали теорию к линии,
потому что по регулярному языку построили автомат. В общем, ввели синтаксис регулярных
выражений. И еще мы с вами построили полный детерминированный конечный автомат. Добавим
стоковую вершину. Давайте посмотрим, какой план у нас на сегодняшнее занятие. Во-первых,
нам надо научиться по автомату строить регулярные выражения и начнем строить минимальный ПДК,
минимальный полный детерминированный конечный автомат. Напоминаю, как мы доказывали автоматность
регулярных языков. Мы сказали, что автоматные языки нам нужно относительно таких операций,
и в принципе мы все операции с вами обсудили, кроме пересечения. Я бы хотел немножко остановиться
на этой идее. Давайте попробуем формально записать, как пишется пересечение. Предположим,
что у нас есть с вами два автомата. Это автомат М1 и М2 с однобуквенными состояниями.
Сигма, дельта 1, ку 0.1, ф1. И второй автомат. Давайте у него множество состояний будет П.
Сигма, дельта 2, п 0 и f2. Тогда как пишется пересечение, автомат задаваемый пересечение?
На самом деле он пишется так, что это М будет равное дикартового произведения ку на п,
афамит такой же. Переходы сейчас определим. Стартовое состояние, как вы думаете, какое будет?
Завершающее дикартовое произведение. При этом как определяются переходы? Это будет пара.
Смотрите, ку1, п1 по букве А мы переходим в пару ку2, то2, если что. Если такой переход,
есть в обоих автоматах. И по факту, когда мы будем доказывать этот переход в обе стороны, нам
нужно сказать следующее. Нам надо показать следующее, что если В принадлежит L от M, тогда это только
тогда, когда W принадлежит языкам пересечения. Ну тогда что? Тут даже можно, наверное, написать.
Это эквалютно тому, что существует ку, п, принадлежащее множеству завершающих
состояния такое, что из пары ку0, п0, прочитав на входе слово W, мы получаем на выходе пару ку, п. На входе
прочитаем епсилон. Оставляем епсилон. Ну это что такое? Как мы можем это расписать? Мы это на самом
деле можем расписать по состояниям. То есть опять же, если мы возьмем слово
и т принадлежит епсилон, тогда что мы получаем? Мы получаем ку0, п0, ВК. Это за один шаг выводится
пара ку1, п1, W2, WK. Ну и так далее. Не то рисую. Ку КТ, ПКТ, епсилон. А если мы говорим про каждый из этих
переходов, которые есть у нас, ну допустим здесь, то что мы получаем из этого? Мы получаем на самом деле,
что у нас есть переход из ку0, п0 под W1 в ку1, п1. А это эквалютно тому, что пара переходов у нас есть
на самом деле. Ку0, слово если мы напишем W1, WK, выводит ку1, W2, WK. И аналогично тоже самое для П.
Заводим переход. Ну и если потом аккуратно довести цепочку, то это будет эквалютно с пересечением.
Окей, я просто сформулировал доказательства вкратце этого факта, чтобы было понятно,
как работать с декартовыми произведениями. Этот момент понятен? Все, хорошо.
Потому что как раз мне показалось, что этот момент как раз не был до конца проговорен.
Итак, дополнение, напоминая, строим ПДК, меняем не завершающее состояние между собой. Вот. Про
регулярные выражения мы их тоже вводили. Это напоминание, как мы их строили. И дальше мы с
вами построили по регулярному выражению автоматный. И вот эта теорема, которая у нас есть,
это теорема Клини. Она называется. И она формулируется так, что множество регулярных языков
совпадает со множеством автоматных языков. И на самом деле мы в прошлый раз сделали вложение из
регулярных языков автоматных, потому что мы показали, что автоматные языки замкнуты относительно
объединения, относительно конкатинации, относительно итерации к линии. Осталось проверить
базу индукции. Но базу индукции, я думаю, кто-то проверял на семинарах. И, по-моему, здесь мы тоже
рисовали базу индукции. Надо проверить для регулярного выражения 0, 1 и символ алфавита.
Наши же цели сегодня будут доказывать эту всю историю в обратную сторону. Итак, давайте сформулируем
доказательства. Начнем формулировать. Из автоматных регулярные. Смотрите. Первое замечание,
которое есть. Давайте введем такое понятие, как регулярный автомат.
Давайте введем R от сигма. Это множество регулярных выражений над алфавитом.
И регулярный автомат будет следующая. Следующая конструкция. Значит, это будет Q. Здесь у нас будет
R от сигма. Здесь будет дельта, которая будет под множеством Q на Q. Здесь Q0, а здесь E. То есть все
элементы у нас остаются, кроме алфавита. Алфавит меняется. Поскольку у нас регулярные языки
замкнуты относительно конкатинации, то мы легко можем прокатонировать два регулярных выражения,
получим тоже регулярное выражение. Это единственное, что нам необходимо. И таким же образом можно ввести
определение конфигурации. Это новая конструкция, это будет не автомат. Давайте только скажем,
что на самом деле в этой конструкции нам достаточно, что дельта это конечное множество и множество
состояния тоже конечное. А на рёбрах, на переходах, будем писать регулярное выражение.
Ну да. Да, да, да. Вот. Конечное состояние, конечное количество переходов. Вот. И мы смотрите,
что будем делать. Мы с вами будем делать следующую вещь. Мы докажем,
что всякий регулярный автомат задаётся регулярным выражением.
А? А? Множество Q, множество состояния. А в чём проблема? Ну эта пара будет у нас,
получается, из чего? Ну также это будет элемент множество Q на R от сигма со звездой. Ну.
Ну типа какое-то регулярное выражение повторилось одно и несколько раз. А, ну можно сказать,
что это R от сигма вообще, да. Регулярное выражение. Если проэтерировать регулярное
выражение, то будет регулярное выражение. Ну а также пишется просто наименьшее
рефлексивное-трандитивное отношение такое, что... поехали. Ну то есть у нас переходы,
у нас переходы могут быть, то есть у нас переходы это регулярное выражение. Ну вообще слово можем
скормить. Так, сейчас, давайте разбираться. Давайте тогда конфигурацию определим. Согласен.
Ну кажется, что это может Q, W. Что получается? Ну получается это будет элемент Q на сигма со
звездой. Да, и тогда что мы с вами скажем? Нам надо сказать, что для любого слова W,
то есть если у нас, сейчас подумаем, если у нас Q1, не знаю, R в Q2 принадлежит, получается,
дельта, R это регулярное выражение, тогда у нас должно выполняться следующее, что для любого
слова W, которое лежит в языке задаваемым этим регулярным выражением, для любого W,
принадлежащего сигма со звездой, должно быть выполнено следующее, Q1, что выводит в Q2,
так вроде получается. Ну то есть имея на ходе слово, да, я определил конфигурацию в регулярном
автомате. Ну и тогда мы можем сказать, что слово лежит в языке задаваемым автоматом. Да,
напоминаю, что это наименьшее рефлексивное транзитивное отношение, которое вылитворяет
этому соотношению. Когда у нас слово лежит в автомате из этого, когда существует Qsf,
такое, что из старта идем по слову W, вводим Qsf. Вопрос, если мы докажем, что регулярное
автомат из регулярного автомата получается регулярное выражение, то почему мы докажем,
что тогда из автомата задается регулярное выражение? Ну да, потому что классический автомат
это регулярный автомат. Как написать? Для любого Q1r. Давайте я напишу эквалентен,
потому что это будет неточности. Р-экваляйте некоторому слову, где слово принадлежит
фиксируется звездой. Мы говорим, что если мы будем доказывать выражение для регулярных
автоматов, то есть по регулярному автомату будем строить регулярное выражение, то и по классическому
автомату мы построим регулярное выражение, просто потому что мы можем сказать, что на любом переходе
на самом деле вместо, то есть у нас на произвольном переходе обычно написано слово в автомате,
но мы можем его воспринимать как регулярное выражение, которое эквалентно этому слову.
Нет, нет, это неправда. Вот, а как эквалентность, ну мы говорим, что если у нас А принадлежит
сигма, на самом деле для него есть точно такое же регулярное выражение, которое задает этот символ.
Мы просто по определению регулярного выражения так сделали.
Ну нет, нет, в множестве регулярных выражений, допустим, есть вот такая вещь,
но это не алфавит, это не элемент сигмы со звездой.
Нет, ну мы просто говорим, отождествляем просто символ алфавита и символ регулярного выражения.
Все. Для другого мы ничего не можем сделать отождествлением,
ну можем там именно для слов, то есть это получается такое включение в другое.
Вот, и смотрите, все ж понимают, почему всякий регулярный автомат задается регулярным
автоматом с одним завершающим состоянием. Ну если мы повторим доказательства того,
как мы любой НК приводили к одному завершающему состоянию, то для регулярного автомата доказательства
никак не изменятся. То есть мы добавляем вершинку, только единственное, на ребрах мы будем писать не
эпсилом перехода, а переходы вида единичка. Да, потому что у нас эпсилом соответствует
регулярное выражение единицы. Что, двигаемся дальше? Так, как доказывается? Это доказывается
индукции по количеству состояния в автомате регулярно. А базу Q равно 1 или Q равно 2 проверим
дальше. Почему, сейчас догадай, по картинке будет понятно. Ну, я говорю, вообще база индукции,
то есть как можно доказывать утверждение, которое у нас индуктивное? Либо мы сначала
доказываем базу, потом доказываем переход, либо понимаем какой у нас будет переход, и дальше
понимаем, к какой базе нам надо это свести. Вот, здесь случается, что мы будем сводить базу.
Смотрите, как будет связываться переход. Если у нас количество состояния хотя бы 3,
то что это значит? По принципу, я не знаю чего, по принципу недоставания, я бы так сказал,
никому, у нас есть не стартовая и не завершающая вершина. Ну, типа одна стартовая, одна завершающая,
которая может не пересекаться со стартовой, и остаётся у нас хотя бы 3, хотя бы одна не завершающая.
Итак, и знаете, что мы с ней будем делать? Мы будем представить себе кулубок, на котором намотана
куча ниток, и нам надо этот кулубок размотать. Мы это будем делать сейчас. Значит, смотрите,
почему нам важен был именно регулярный автомат? Потому что мы, допустим, в регулярном автомате
можем удалить кратные ребра. Достаточно легко. То есть, помните, мы когда писали обозначение,
нам надо было написать A запятая B, и мы подразумели, как может, несколько переходов. Здесь мы можем
кратные ребра схлопнуть таким образом. Надо сказать, что либо мы пройдём по ребру альфа,
либо пройдём по ребру бета. Это то же самое, что прийти по ребру альфа плюс бета. То есть,
либо по тому, либо по второму. А дальше, на самом деле, для формализма давайте добавим циклы.
Если у нас не было циклов, то добавим регулярный цикл на ноль. Это ничего не поменяет, потому что
ноль со звездой – это единица. Почему? Потому что, если у нас есть альфа и бета, кратное ребро,
то это что значит? Либо мы прошли по одному ребру, либо по этому ребру, либо прошли по этому ребру.
Но это то же самое, что в терминах формуляции поражения пройти либо потом, либо по-другому. А поскольку
ноль со звездой – это единичка, и она ни на чём не влияет, то мы можем добавить для нестартовой,
для не завершающей вершины цикл на ноль. А мы добавляем еду цикла в принципе нету или всегда? Когда нету.
Ну да, то есть, мы какое-то количество раз берём элементы из такого-то множества и конкатенируем.
Ну, тут логично, что если мы берём что-то с пустой множества один раз, то это ноль раз.
Ноль – это регулярное выражение, которое соответствует пустому множеству.
Ну, либо мы много раз берём пустую множество, либо мы ничего не берём,
и это по умолчанию вы считаете, что это пустое слово.
А единица – это что, если она пустое слово?
Ой, ноль пустое множество. Единица – это множество из пустого слова. Приношу извини, за оговорку.
Так, а теперь идея. Зачем нам нужна была нестартовая и не завершающая состояние?
Давайте возьмём все переходы, все пути длины 2, которые проходят через вершину, которую мы хотим удалить.
Предположим, что… Да, я тебе формально это запишу.
Сегодня есть замечательные сухие тряпки.
Да, могут быть. То есть рассмотрим пары.
Пусть, там не знаю, Q принадлежит Q без F, без Q0.
Ну, рассмотрим тройки.
Q1 получается Q, Q2 – где Q1 а, Q… Ну, принадлежит дельта.
Дальше. Этого цикла могло не быть. Мы для формализма, чтобы картинка была общая, добавили на каждую вершину цикл.
Из Q по B, мы переходим в Q. И из Q по G, мы переходим в Q2.
Тогда мы можем для каждой этой тройки сочинить эквивалентный переход из Q1 по слову α, β со звездой гамма в Q2.
То есть мы проходим по первому переходу, какое-то количество раз вращаемся по циклу, и потом делаем еще один переход по гамме.
А что если такого Q нет?
Все состояния Q нет?
А это база индукции.
Мы в начале взяли Q1 и Q2, а в Q1 одно завершающее состояние только.
Тогда он…
Да, и…
То есть мы специально сделали так, чтобы завершающее состояние было равно 1, но чтобы было из чего брать.
Ага, вот. А можно формально показать, почему если мы добавим все такие переходы, то множество слов не поменяется.
Можно даже увеличиться. Вот. И после этого мы можем убрать вершинку, как только рассмотрим все такие тройки.
Для всех таких тройок делаем замену, и потом убираем вершину.
Но потому что мы… Давайте я неформально расскажу. Рассмотрим произвольный путь, который проходил через данную вершину.
Посмотрим, какое количество раз мы проворощались по циклу β.
Пусть мы по β проворощались к раз, тогда в новом автомате мы можем пройти по альф.
Откуда-то мы пришли, это был переход по альфа.
Потом какое-то количество раз к прошли по этому циклу, как мы делали до этого, и потом вышли из него по переходу гамма.
Ага. И таким образом мы убираем вершину.
Так. А теперь давайте… Я не буду показывать следующий слайд, мы с вами базу индукции сочиним.
Какая база индукции?
Сколько у нас вершин могло остаться?
Одна или две?
Хорошо. Давайте рассмотрим в случае с одной вершиной.
Тогда что у нас получается?
Альфа и звездочка над ней. Как это регулярное выражение задается?
Альфа и звездочка.
Да. Незапно. Альфа со звездой.
В случае ку равно двойке.
Как выглядит автомат? Где у него завершающий состояние будет?
У нас одно завершающие состояние. Может ли оно быть здесь?
Альфа подумать?
Нет, потому что если грамотно формулировать базу индукции, то если бы у нас вершина была бы здесь завершающая, то мы могли бы индукционный переход для этой вершины сделать.
А потому что мы изначально свели автомат к автомату, в котором одно завершающее состояние.
А?
А?
Да.
Да, спасибо.
Значит состояние завершающее здесь. Здесь если мы напишем цикл альфа.
Здесь?
А, ну потому что если бы здесь было завершающее состояние, а здесь не было бы завершающее состояние, то это состояние было бы не стартовым и не завершающим. Мы к нему применяем индукционный спуск, который у нас уже был.
Угу.
Ну что, давайте писать регулярные выражения.
А дельта это такой цикл?
Да, да, дельта этот цикл, а это альфа.
А?
А как?
Я не вижу как.
Когда мы делаем один вход в два, мы тоже используем все автоматы, которые только начинающие и только завершающие состояние.
Да, да, да.
Давайте напишем, что мы получаем.
Ну альфа, дельта, бельта.
Угу.
Ну смотрите, либо мы вращаемся по циклу здесь, дельта, и вращаемся туда же, либо возвращаемся обратно.
Цикл крутим по альфа и возвращаемся по бета.
Да, это все звездочка.
Пока не понятно, да?
Окей.
Ладно, это конец заказательства.
Значит, смотрите.
Если вдруг не понятно как это работает,
во-первых, мы на семинарах будем смотреть примеры,
а во-вторых, у меня есть пример в слайдах.
Это база индукции, если что.
Вот, смотрите.
Вот такой вот у нас автомат.
Допустим, мы хотим вас вести к регулярному выражению.
Я быстро покажу.
Значит, первое, что мы делаем, мы делаем вот такую вещь.
Мы все завершающие вершины вводим к новой завершающей состоянии.
Добавляем переходных единичков.
Потом, если мы убираем Q2, то какие переходы у нас появляются?
Из Q1 в себя цикл по BB получается.
И из Q1 в Qs что?
BA.
Вот.
Вот так вот автомат начинает выглядеть.
Но при этом, если у нас есть кратные ребра, мы их сразу убираем.
Дальше убираем из этого Q1.
Что получаем?
B.
A плюс BB со звездой BA.
И плюс A.
Угу.
Так.
Что теперь убирать будем?
Qs.
Давайте вот так вот сделаем.
Да.
И у нас будет контрольная.
И на контрольной можно писать ответ таким образом.
Ну, потому что смысла в этом нет.
Сейчас человек каким образом?
Просто вот два храбра и ответ?
Нет, но сделать обозначение какое-нибудь.
Вот он на регулярном выражении R, R имеет такой вид.
Или, допустим, у нас какой-то переход на ребре был таким,
он уже занимает очень много места,
поэтому мы его подменяем.
Да.
Окей.
Давайте вопросы по этой части лекции.
Потому что мне кажется,
что лучше сейчас сделать перерыв,
потому что сейчас мы начнем новую тему уже.
А у нас как раз минут 30 прошло,
начиная сначала.
Так.
Вопросы по теореме к линии.
Да.
А у нас как раз минут 30 прошло,
начиная сначала.
Так.
Вопросы по теореме к линии.
Угу.
Ну, тогда давайте перерыв сделаем до 16,10.
Так.
Ладно, давайте продолжать.
Значит, вторая часть
нашего сегодняшнего занятия
состоит в том, чтобы понять,
а что же такой минимальный автомат?
Точнее, в чем проблема?
Есть в детаминированных количествах автомата.
Первая проблема,
мы, кажется, в этом обзоре
делаем,
Первое, проблему мы, кажется, уже обсудили с вами, что количество состояний в нем может быть очень большим.
Ну ладно, это не большая проблема, потому что мы это будем детерминированно запускать один раз во время стадии компиляции нашего компилятора, ну либо сканера.
Но второй вопрос, а непонятно, как сравнивать два автомата на эквивалентность, то есть как сравнивать то, что у нас два языка, задаваемых двумя разными автоматами, совпадают?
За детерминированными конечными автоматами все сложно, но и поэтому мы будем сегодня решать, начнем решать вторую проблему, продолжим на следующей лекции.
Итак, предположим, что у нас есть два полных детерминированных конечных автомата, и проверим, что множество языков, задаваемых ими совпадают.
На самом деле, можно представить это следующим образом, что у нас язык один является под множество второго языка, если мы возьмем и пересечем с дополнением второго и получим пустое множество.
Давайте, наверное, диаграмм Эйлера нарисуем.
Смотрите, у нас вот это LTM1, вот это LTM2.
Что такое дополнение LTM2?
Это вот эта вот штучка.
LTM1 это вот эта штука.
И тогда у них пересечение пустое.
Тогда одно вложено во второе.
Вот, можно нарисовать там.
Если, допустим, у нас L1 не вложено в LTM2, а есть, допустим, какой-то вот такой элемент, который не находится там,
то есть это LTM1, а вот это LTM2,
тогда дополнение LTM2 будет содержать вот это множество.
А, и тогда пересечение пустое.
Вопрос. Мы же умеем строить дополнение?
Мы умеем строить с вами пересечение?
Ну, значит, это.
Значит, мы можем построить пересечение.
И как проверить, что наше множество будет пустым?
Язык пустым.
Не должно быть ни одной достижимой терминальной стоимости.
Да, нам надо проверить, что у нас не будет ни одного достижимого терминального состояния.
Правда в том, что это будет немножечко задолгое время работать,
потому что если у нас количество состояний в одном автомате N,
а в втором автомате M,
то количество состояний в пересечении сколько у нас будет?
NM.
Не так много учат, чтобы мы с экспонентами смирились.
Ну, да.
Так же квадраты реально экспоненты.
Да.
Было 2,4.
Да, ну ладно, я вас обрадую.
Одна из задач, которые в принципе у нас существует в экзамене на лоту,
заключается в том, что на самом деле порядок слов,
которые надо проверять длины до совершения достижимого состояния,
будет не NM, а N plus M.
Порядка.
Не NM, а порядка N plus M.
Вот.
Собственно,
это такой факт, что для двух ДК,
языки которых не совпадают,
существует слово длины не больше, чем N plus M minus 2,
различающие эти автоматы.
То есть она будет лежать в языке, задаваем одним автоматом,
но не задаваем вторым автоматом.
Доказывать этот факт мы сейчас не будем.
А мы тогда можем BFS запустить и стартовая вершина,
по всем словам длины не больше, чем N plus M minus 2.
То есть накапливать очередь всех слов,
и пока количество итераций будет не очень большим,
мы двигаться по ним.
Ну типа как только у нас длина...
А у нас о чем точка BFS какая? V plus E?
А что, что у нас V, а это NM?
Вот.
А то N plus M будет количество раз.
Почему у вас вершин стало меньше?
Нет, вершин стало меньше.
А, ну ладно.
Да, согласен.
Да, согласен.
Ладно, а если точку это не срежет,
ну тогда давайте скажем это.
По крайней мере мы точно знаем,
когда вы давать ответ нет.
Мы и так знаем.
Ну типа на практике это может случиться чуть-чуть раньше.
Ну ладно, тут на вкус и цвет, как говорится.
Если вы любители точно знать,
когда у вас критерия останова,
тогда вот получаете один критерий останова.
Если вы не знаете, когда у вас второй...
Когда у вас критерий останова,
вы понимаете, допустим,
что вы не можете дойти до завершающего состояния.
Ну ладно, не доходим до завершающего состояния.
На самом деле можно
не строить дикартового произведения автоматов,
а просто одновременно запустить BFS
по обоим автоматам.
И следим просто за состоянием
попали в завершающую вершину одного из автоматов или нет.
Если при этом мы в одном состоянии,
в одной паре попали
или в одном месте в завершающем состоянии,
в другое место в не завершающем состоянии,
то мы сразу нашли различающее слово.
Вот такой алгоритм.
Так, вот эта история понятна?
Сейчас так, то есть это ответ на вопрос на экзамене на отлично?
Нет, ну это доказательство теоремы.
Вот этой вот.
Это вопрос на отлично.
Мы доказывать не будем сейчас.
Не, это уже применение этой факты.
А именно, что существует автомат
именно такой короткий,
это тоже интересно.
Что слово может быть не очень большим.
Потому что мы могли бы пройти,
там не знаю, путь в BFS в автомате построить,
и он был бы порядка NM.
А оказывается, что слово может быть длины меньшей,
которые распознают.
А ну так.
Эти факты достаточно.
То есть BFS-то у нас
пойдет...
А ну, правда,
в любом случае,
глубина BFS ограничена.
Да, да, да.
В степени вот этой суммы.
Ну, да.
Ну, да.
Как говорится, можно
трейдов попытаться найти для этой истории.
Ладно, ну мы же пришли сегодня
обсуждать еще и
теоретическую основу этого курса.
Поэтому
теоретическое решение этого вопроса является
минимизацией автомата.
Для этого мы сейчас будем вводить некоторые определения.
И будем
по факту заниматься тем, что
согласовывать эти определения.
Давайте введем отношение
тильда на
языке сигма со звездой.
Да, причем
детерминированным,
полным автоматом.
Итак, давайте
владеть определением.
Пусть L
под множество сигма со звездой.
Тогда мы говорим, что U
эквалентна L, U эквалентна V
по языку L. Если
для любого слова W,
который лежит
в сигме со звездой,
U V
U W
принадлежит языку L,
тогда и только тогда, когда
V V принадлежит L.
Вот, то есть
эти два слова эквалентны с точки
зрения языка. То есть приписывая
к нему любой суффикс, мы либо
одновременно попадаем
в слово языка, либо
одновременно не попадаем в слово языка.
Ну, похоже
на то, да.
Это, собственно, по-моему, он и есть.
Так, ну, смотрите,
мы же все-таки про автоматы пришли говорить.
Да, они про слова
языка. Поэтому давайте ведем...
А, давайте сначала проверим, что это
отношение эквалентности.
Как это проверять?
Какие свойства нам надо проверить?
Рефлексивность.
Ну, что?
U эквалентна U. Почему?
Потому что для любого
слова W,
U W
принадлежит L, только тогда, когда
U V принадлежит L.
Вторая симметричность.
U эквалентна V
U W
принадлежит L.
Меняем эти штуки местами.
Получаем требуем.
И что еще?
Транзитивность.
Как транзитивность проверяем?
В эквалентна S.
Значит, для любого W
у нас получается W-V.
Тогда и только тогда, когда...
Ну, а поскольку квантор тут ровно такой же,
любой-любой, то мы его можем
скипнуть, получаем вот такую цепочку.
Ну, а если у нас
такой же квантор,
то мы его можем скипнуть,
получаем вот такую цепочку.
То есть рассмотрим произвольное слово W,
у нас выполняется вот это условие,
у нас выполняется это условие.
Значит, получается
U W
тогда и только тогда,
когда S-V
принадлежит L.
То есть это отношение к эквалентности.
У вас как теория групп? Нормально?
У вас как теория групп? Нормально?
Идет?
Она есть вообще?
Что?
Что за покемон?
Господи...
А что, у нас с ПМИ
информатика нынче в криптографию не идет,
я насколько понимаю, да?
А как же группы Галуа?
Какой?
О, господи...
Извините, а как группу
точек электрической кривой изучать?
И теория Галуа?
Не!
Да...
Так, ладно. На самом деле,
тогда мы можем определить следующее.
Это фактор множества.
Это множество классов
эквалентности.
Вот.
Да.
Собственно, из чего он состоит?
Он будет состоять из
таких множеств.
У, эквалент на языку В,
по множеству L.
Для всех В
принадлежащей силности звездой.
При этом элемент
канонический представитель
будем обозначать следующим образом.
То есть У будет
каноническим представителем
вот этого элемента.
Вот этой штуки, которая будет лежать.
Угу.
То есть, получается, В принадлежит У
тогда и только тогда, когда У и В
эквалентны.
Хорошо. А теперь, смотрите,
мы можем на самом деле
подумать с этой стороны
над автоматами.
Потому что что означает,
что мы прочитали слово У на входе?
Это означает, что
на самом деле нам осталось прочитать слово
W и дойти докуда-то.
Если мы говорим про термина автоматов,
то, получается, нам надо дойти до конца.
Это элементы с фактором множества,
которые мы берем. То есть, допустим,
если мы смотрим кольцо ZM,
остатков,
это вообще фактор множества
и в нем канонические представители
это просто остаток определения числа на M.
Это элемент, который характеризует всю группу
вычетов.
Вот. И давайте определим
два эквалентных состояния.
То есть, если у нас есть
PDK N,
важно PDK,
что мы можем с любой точки дойти
с любой другой.
Мы будем говорить, что Q1 эквалентно Q2
по множеству M,
если
для любого слова W
delta
delta
Ой, что я пишу?
F, F, F, F.
Мы должны дойти до завершающего состояния.
Q1 эквалентно Q2 по автомату M.
Да, смотрите,
F это множество завершающих состояний.
Смотрите,
сразу давайте проговорим.
Почему мы можем сказать,
что Q1 эквалентно Q2
по автомату M?
Потому что Q1 эквалентно Q2
по автомату M.
Почему мы можем сказать, что
давайте даже замечание сделаем.
delta
QW
равно чему для PDK?
Множество из одного элемента.
Множество из одного элемента.
Поэтому здесь мы это
уже будем воспринимать как элемент.
OK?
А не как множество.
Все, договорились.
Ну, просто расписывать еще
дополнительно это все не очень хорошо.
Смотрите, а вам не кажется,
что вот эти два определения сильно похожи
между собой?
Нет?
Вот смотрите, предположим,
что мы находимся в стартовом состоянии
и дошли до двух вершин.
Это картинка такая.
Q1.
Здесь у нас получается по слову U мы дошли
до вершинки Q1
и по вершинке W2 до Q2.
Две вершины, из которых нет по одному
переходу вершины Z2.
Они будут эквивалентны.
В смысле? Чего?
Если у нас есть вершины W2,
из которых по одному ребру нельзя
дойти до вершины Z2.
Они будут эквивалентны. Почему?
По этой норме. Нет?
Одного слова.
Детапы.
По словам.
Для любого слова.
Либо мы на время доходим, либо не доходим.
Понятно, что дельта M
можно также проверить, что это отношение
к эквивалентности.
А теперь смотрите утверждение,
красивое утверждение, которое говорит
на самом деле следующее.
Только тут множество это.
Плохо.
Давайте обозначим следующее множество.
LQ – это множество тех слов,
которые доходят
до состояния Q.
Нет, не обязательно.
Нет, дельта – это множество вершин,
по которым мы можем
из данной вершины дойти до.
Так, если мы обозначаем LQ
как множество таких слов
V,
таких, что дельта,
тогда
LQ – это объединение
классов
и сигма со звездой по тильде.
L.
Ой, сейчас, секунду.
Да, наоборот.
Получается...
Сейчас.
Сейчас, секунду.
Наоборот.
Я пишу одно, говорю другое.
То, что на слайде, верно.
Как это доказывать?
Показать, что если LQ входят
в эквивалентности,
то и все наточено.
Да, смотрите.
Нам надо рассмотреть какое-то слово.
Пусть
U
и V принадлежат LQ.
Тогда нам надо доказать, что U эквалентно V.
Так.
Так, что нам надо сделать?
Что означает, что U, V
принадлежат LQ?
Это означает, что
дельта Q0U
принадлежит чему?
Ой, это просто равно Q?
Дельта от Q0V.
В.
Тогда что мы можем сказать?
Да.
Для любого дольта V принадлежит F
L. Мы получаем, что если мы
обозначим Q'
как
дельта от Q
по слову W,
то мы получим, что Q'
это на самом деле не что иное.
Помните, мы по двум дельтам уже раскрывали?
То есть, это дельта получается
от дельта
Q0UV.
Это то же самое,
что дельта от дельта Q0VW.
Да?
Ну, подставили Q
двумя разными способами.
Ну, а это что такое?
Что такое?
Это дельта Q0
по слову UW.
Да-да-да.
Мы уже так писали просто.
Так, а теперь смотрите.
Что означает,
что дельта от Q0
UW принадлежит
F.
По определению автомата.
Это чему эквелентно?
Да,
что УВ лежит в В.
Но это то же самое,
что... что?
Дельта Q0WV.
А это эквелентно тому,
что...
То есть, у нас получается, что для любого
слову WU
принадлежит L тогда, и только тогда, когда
ВВ принадлежит L.
Где?
Ой, да, фигню написал. Согласен.
Спасибо.
Сигма со звездой.
Ну, а из этого следует, что у нас
два слова эквелентны.
Чего?
Чего?
Ну, для любого слова, да,
получается,
что мы доходим одновременно до конца.
Это эквелентно тому, что
для любого слова, приписывая, мы доходим...
Мы попадаем в принадлежность
языка.
Да?
А пока мы не понимаем, каких.
То есть, вот такой факт.
Ага.
Следствие знаете, какое будет этого интересного факта?
Что?
Ну, да.
Ну, а теперь, что мы делаем? Мы посмотрим
Сигма со звездой по L. Из каких
этих состоит?
Из каких слов состоит? Возьмем по каноническому
представителю.
Возьмем элемент, который
фактор, да, посмотрим, до какого состояния
он в автомате доходит. Он обязательно
до какого-то состояния доходит, потому что у нас полный
автомат. Ну и собираем
дружника их в этот.
А?
Нет.
Вот как раз Элькусов падет
с самими классами
Сигма со звездой по L, вот тогда мы
пойдем к успеху. Придем к успеху.
На самом деле, это объединение, пока не понимает
какое. И на самом деле,
из этого факта, следует
следующее следствие.
Которое
называется
так сказать,
под частью теоремы
Махилла Нейроуда. Мы еще про нее
будем говорить, пока что я не вожу его.
Смотрите. Получается
следующее. Факт какой?
Чем мы можем сказать?
Про эту штуку.
Да.
Да.
Ничего не больше, чем что?
Глаз не пересекают.
Ну да.
Не больше, чем, конечно, состояние в автомате.
Ну почему?
Потому что каждый класс из эльку
это объединение каких-то
состояний объекта эльку.
Сколько у нас эльку будет?
Эльку у нас сегодня не больше, чем количество
состояния в автомате.
А каждый класс отсюда состоит либо из одного,
либо из большего числа
этих элькушек.
Вы доказали, что каждый класс
это объединение классов эльку.
Ага.
Что?
Да, это объединение классов эльку.
Тут бы слово вы лишнее.
Да, да, да. На презентации могут быть
отпечатки, да.
Из этого следствие следующее, ага.
А следствие это такое.
А количество состояния, чем мы сверху можем
ограничить?
Бесконечности. То есть мы можем сказать,
что... Да, да, да.
Да, да, да. То есть смотрите,
если у нас язык является автоматным,
то у него количество классов эльку
в автомате,
то у него количество классов эльку
в автомате,
то у него количество классов эльку
в валентности бесконечное.
Ой, наоборот, количество классов эльку в валентности бесконечное.
Тогда получается,
если язык не автоматный, то что мы можем сказать?
Количество классов эльку в валентности бесконечное.
А?
Почему ты так уверен, что понимаешь?
А?
Стоп, сейчас.
Это я соврал, да, согласен.
Надо еще одно...
А, ну что-то я загнул.
Приношу извинения.
В общем, на самом деле это будет в обе стороны.
То есть язык автомат,
тогда это количество
классов в количестве будет бесконечно.
Ой, конечно.
Да, терема хилонирова,
это называется.
В общем, тут по слайдам можно прокликать.
Вот следствие такое получаем.
Так.
Что?
Ну почему?
Эльку это слова?
Это множество классов?
А ничего, что это тоже множество?
А ничего, что...
Что происходит?
Находят состояние соответствует эльку,
соответствует эльку в небольшом состоянии.
Еще раз, еще раз.
Я портился.
Ну...
Эльку это одно состояние,
это слова.
Это слова, да.
Да.
А ничего, что объединение их будет
сигма со звездой,
ровно по той причине, что у нас автомат
полный.
То есть мы по любому слову можем дойти
до какого-то состояния.
Ну да.
А что такое
сигма со звездой на эль?
Объединение.
А это тоже сигма со звездой.
Если нарисовать картинку,
то у нас получается, что каждый класс
сигма со звездой содержит несколько эльку.
Ну вот.
А сколько этих кругляшек
у нас может быть?
У нас вот эти кругляшки, которые
эльку 1, эльку 2,
их не больше, чем количество
состояния в автомате.
Ага.
Ну вот.
Отлично.
Так.
Теперь докажем еще одну лему.
Для любого автомата
существует ПДК, которым
все состояния попарно не эквалентны.
Ну да.
Состояние попарно не эквалентно.
Доказательства следующие.
Давайте возьмем,
объединим все состояния.
Построим автомат
такого вида.
Не можем фактор множества построить.
Вот.
Состоянием автомата.
Дельта штрих.
Канонический представитель
стартового состояния.
И F определим тоже следующим образом.
При этом смотрите, что у нас будет
дельта штрих.
Мы говорим следующее,
что
из состояния
класса Q0, Q по A
мы будем переходить
в класс эквалентности QA.
Вопрос на внимательность.
Я сейчас буду говорить про...
Стоп.
Только дельта QA, да.
Это я уже покорочился.
Класс эквалентности дельта QA.
А F штрих
будет состоять
из класса эквалентности Q,
где Q принадлежит F.
Вопрос.
Что надо доказать?
Во-первых,
что они задают одни и те же языки,
эти два автомата.
Это не единство. Тут 4 пункта надо доказать.
Если он меньше по размеру...
Если он уменьшится
в размере, то нет
вершин?
Надо доказать, что в этом автомате
не будет...
Окей, ладно.
Еще раз.
Если он меньше в размере,
то можно просто по индукции
продолжать.
Если он такого же размера, значит,
что наши начальные автоматы
уже живут без
автомата.
Окей.
Если именно так
определять автомат,
здесь есть несколько вопросов.
Первый вопрос.
Почему,
если мы возьмем канонического
представителя
какого-то перехода,
какого-то состояния,
и перейдем по нему, по ребру,
почему все остальные элементы
из этого класса эквалентности попадут
в тот же самый класс эквалентности,
в котором мы переходили по вершине?
Такая часть доказательства,
что языки совпадают, нет?
Нет.
Это потом будет еще.
Дальше надо доказать,
что если у нас элемент класса эквалентности
один из представителей
этого класса завершающий состояние,
то и все остальные будут завершающими
в этом классе.
Да, то, что этот автомат
корректно определен.
Почему он может быть корректно определен?
Я не знаю.
Вопрос.
Почему, если у нас одно состояние
завершающее,
почему все эквалентные ему состояния
тоже будут завершающими?
Это хороший вопрос, но это не обязательно
это строение окружения.
Этот человек может отвечать тому,
что лучший автомат эквалентный.
Сейчас это лучший автомат эквалентный.
Ну...
Да, этот человек...
Нет.
Ну, это да.
Просто он согласован по определению
с тем, что мы...
Так, смотрите.
Нам доказать следующее. Четыре факта.
Завершающие состояния тоже согласованы.
Третье.
Распознаваемые языки совпадают.
И четвертое, что состояние в этом автомате
будут по парам не эквалентны.
А, поехали.
Значит, первый факт.
Согласованный с переходов.
Нам надо доказать, что если Q1
принадлежит классу эквалентности Q,
то дельта от Q1 тоже принадлежит классу
эквалентности Q.
Первое.
Q1A.
Так, смотрите, как делается.
Что мы знаем с вами?
Q1 эквалент AQ.
Q1 эквалент AQ.
Это значит, что любого слова W
я буду сигмы со звездой пропускать.
Дельта Q1.
Дельта Q.
Мы доказываем, что
собственно дельта правильно написана.
Вот это.
Что дельта штриха вообще можно определить.
Так, смотрите.
Согласны ли вы
в следующем, что для любого...
Вот этот факт можно расписать, вытянув какую-то первую
определенную букву, которая нам интересна.
Ну да, слово не пустое.
Ну это подможество.
Тогда смотрите, что у нас получается.
Дельта Q1AU.
Дельта QAU.
Теперь смотрите.
А это чему равняется?
А это?
А из этого что мы можем вывести?
Да.
Нет.
Это в старом автомате F.
Продолжит F.
У нас изначально автомат был...
То есть если мы определим M
То мы говорим про старый автомат.
Не-не-не, тут QAU...
Стоп! Согласен.
Да-да-да.
У меня запятые с единичками
перепутываются. Согласен.
Вот, ладно.
Из этого что следует?
Из этого следует, что
вершина
дельта
Q1A
эквивалентна в автомате M
вершине дельта QA.
А раз они эквалентны, то
дельта Q1A лежит в классе
эквивалентности дельта QA.
Вопрос. Так, давайте второй пункт.
Почему завершающее состояние
согласовано?
Нам надо доказать, что если Q...
Q1 принадлежит Q,
Q1 принадлежит F,
Q1 принадлежит F,
Q1 принадлежит F,
Q принадлежит F,
тогда Q1 принадлежит F.
Ну да.
Да.
Ой.
Мы доказываем следующее, что если
мы определяем так состояние,
то попадают все.
То есть, что если у нас какое-то
состояние было здесь завершающее,
то и все состояния, которые попадают
в этот класс, будут завершающими.
Ну вот оно доказательство.
То есть получается из этого,
что Q1 лежит в F.
То есть это эквалентно просто.
Так, третий пункт.
Почему
классы языки совпадают?
Так, это мы пролистали,
это мы пролистали.
Индукции по длине W
мы будем доказывать.
Какое слово, раз
слово индукция, по-моему,
четвертый или третий, кто считает?
А, сегодня уже
была индукция, кстати.
Так.
Равняется
дельта к 0 W.
База.
Какая?
Что такое дельта от Q0 по
ε?
По определению просто.
По определению
дельты. Это что у нас?
Ну это просто класс Q0.
А класс
дельта Q0
ε
это тоже класс Q0, но уже по другой причине.
Потому что дельта от Q0
ε равно Q0.
Давайте переход.
Так, давайте
распишем, что у нас может
написано быть дельта от
Q0
W A.
Где A это последняя буква.
Что мы с вами понимаем?
Это дельта
от дельта
от Q0
W A.
По
предположению индукции
это что у нас такое?
Это у нас дельта
от
от квадратных скобках.
Сейчас, секунду.
Так, а теперь что мы ему хотим сделать?
Смотрите, это класс эквалентности.
У нас есть переход
по букве A.
И куда он нас ведет нас?
В класс эквалентности
того, что внутри, и переход
по A.
Доказали переход.
Теперь смотрите, что нам нужно.
Ну, собственно, тут переходы.
А теперь смотрите, что мы
говорим. Мы говорим, что
слово W
принадлежит языку, задавая N.
Тогда и только тогда, когда дельта
от Q0 и W
принадлежит F.
Теперь смотрите, что такое
дельта от Q0
W принадлежит F.
Кто понимает?
Смотрите, это эквалентно тому,
что класс эквалентности
принадлежит F'
по определению эквалентности автомата.
Ой, ну, по определению этого.
Того, как мы F'
задавали.
А это эквалентно чему?
По факту,
который доказан вышел у нас,
это получается дельта от
класса Q0
по слову W.
А это эквалентно тому, что W принадлежит
F'
и W принадлежит F3.
Ну да, да.
Окей.
Так, давайте еще один пункт докажем.
Состояние
попарно не эквалентное.
Ну, чтобы добить доказательства уже.
Итак.
Предположим, противное.
Пусть у нас
это получается четвертый пункт.
Q1
эквалентно в m'
по Q2.
Хочется показать, что Q1
было эквалентным Q2.
Что означает это?
А?
Нет.
Смотрите, это что значит.
Это значит, что для любого слова U
дельта Q1
U
принадлежит F'
только дельта штрих.
Принадлежит F'.
Да?
Сейчас.
Давайте подумаем, что с этим
можно сделать.
Надо выйти к тому, что Q1
и Q2 эквалентны.
Еще секунду.
Так.
Ну,
а как класс эквалентности
у нас определяется?
Это значит, что для любого слова
здесь мы бы
это верно для любого
состояния.
Поскольку у нас определение
было согласовано.
Так.
Сейчас напишу.
Вот так вот.
То есть у нас для любого состояния Q,
которое лежит в этом,
будет эквалентность.
Но в том числе для Q
равного Q1.
Получаем дельта Q1
U
принадлежит F'.
Аналогично расписывая здесь
мы получаем, что дельта Q2U
лежало бы в множестве
старых состояний.
А это что значит?
Что мы тогда можем сказать про
состояние Q1 и Q2?
Тогда да.
И мы приходим к противоречию.
Вот это доказательство.
Давайте скажу, зачем оно нужно.
Оно нужно нам для того,
чтобы создать автомат,
в котором состояние
попарно не эквалентное.
И мы будем доказывать в следующий раз,
что если автомат,
в котором
нет состояния,
из которых мы не можем дойти
из старта,
недостижимый они называются,
и в том числе
все состояния попарно эквалентные,
он будет минимальным
по количеству вершин.
Попарно не эквалентное.
Он будет автомат
с минимальным количеством вершин.
Таким образом мы с вами построим
минимальный автомат.
А потом мы докажем,
что этот минимальный автомат
единственный источник изоморфизма.
И поэтому этот минимальный автомат
станет наименьшим.
Это мы продолжим в следующий раз.
Всем спасибо за лекцию.
Сдавайте вопросы.
