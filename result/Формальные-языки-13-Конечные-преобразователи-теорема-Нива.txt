Всем доброго дня! Мы сегодня с вами продолжаем изучать конечные преобразователи и конечные
преобразования. И сегодня, как я говорил, у нас есть две концепции, которые мы с вами хотим
разобрать сегодня. Если разберем больше, будет отлично. Во-первых, мы хотим с вами показать,
почему конечные преобразователи замкнуты относительно композиции, а во-вторых, доказать
теорему НИВА, которая является аналогом СВД в мире морфологии и конечных преобразователей. Давайте
мы сейчас как раз с вами это напишем и поймем, какой факт нам надо с вами сегодня показать.
Поскольку мы в этом блоке нумеровали название теорем, делали порядок для названия теорем,
то давайте продолжим эту нумерацию. И вторая теорема, которая у нас с вами будет,
это замкнутость относительно композиции. Давайте сформулируем теорему. Она у нас называется
теорема два. Мы говорим, что если у нас есть конечное преобразование ψ1 из некоторого языка
сигма звездочка в гамма звездочка, есть ψ2 из гамма звездочка, давайте я буду говорить в пи звездочка,
это конечное преобразование, это КП, то мы для соответствия с вами можем определить композицию,
и мы сначала должны применить с вами ψ1, а потом ψ2. Тоже будет являться конечным преобразованием.
Итак, смотрите, давайте я сейчас идти и расскажу вкратце. Во-первых, что мы с вами сделаем?
Мы с вами сделаем все переходы однобуквенными, то есть мы либо на входе что-то оставляем,
либо на выходе что-то оставляем. И дальше нам по сути нужно сделать от команды Pipe. Допустим,
у нас есть ls slash wc-l, то есть нам нужно весь остаток от вот этой вот команды перегнать в
вот этой команде. И как раз это мы будем делать таким образом, что если мы на выход первого
преобразователя что-то пишем, то со входа второго преобразователя нам надо будет это с вами съесть.
Вот идея как раз состоит вот в этой вот команде. Теперь давайте немножко формально это определим,
чтобы мы с вами этим могли работать. Итак, смотрите, что мы можем с вами сказать?
Мы можем с вами сказать, что Psi1 задается каким-то конечным преобразователем m1,
каптель наш любимый, а Psi2 задается языком, задаваемым m2, где m2 это тоже каптель.
Так, давайте поймем, из чего он состоит. Давайте мы скажем с вами, что пусть это у нас с вами Q,
дальше что у нас с вами получается? Язык входной sigma, выходной алфавит гамма,
переходы есть, давайте мы их будем обозначать delta Q, дальше у нас есть Q0 и множество fQ,
множество завершающих состояний. А здесь у нас с вами опять же будет пусть множество состояний P,
здесь у нас алфавит входной гамма, здесь у нас выходной алфавит P, множество переходов пусть delta P,
здесь у нас входное состояние Q0 и завершающие состояние fP. Тогда нам надо с вами построить
новый конечный преобразователь, и в нем будут, давайте mout его назовем, нет, лучше давайте мы
его назовем mcomposition, и оно будет у нас состоять в следующем. Мы в нем возьмем, значит входы такие,
тут не важно как перечислять, давайте, пусть у нас будет P на Q, нет, давайте Q на P все-таки,
Q на P, входной алфавит у нас будет sigma, выходной алфавит у нас будет P, а входное состояние у нас
с вами будет пара Q0 P0, делаем по сути декартовое произведение, а здесь мы с вами скажем,
что множество завершающих состояний это у нас Q0 Q fQ декартовый fP. Теперь надо внимательно
определить переходы. Сразу скажем, что для любого элемента x, сразу скажу, что у нас все переходы
в P1 и P2 имеют такое соотношение, что у нас мощность хода плюс мощность выхода равняется
единицам. Это важно, это надо не забывать. Тогда мы с вами построим множество переходов дельтом.
Смотрите, тут очень аккуратно надо здесь действовать. Первый шаг, который нам надо с вами сделать,
это посмотреть, что мы считываем с первого алфавита. То есть мы говорим, что у нас есть
переход Q1 P, пара. По слову A мы идем и пишем Q2 P ε, где у нас есть переход в исходном
автомате из Q1 по A в Q2 ε. Это раз. То есть мы снимаем с первого языка то, что у нас получается
на входе. Дальше второй язык. Второй язык у нас с вами получается следующий. Что у нас с вами.
Теперь выходы. Давайте определимся с промежуточным переходом. У нас состояние Q1 P1 со входа
ε будет съедаться на выход Q2 P2 ε. Теперь смотрите внимательно. У нас в первом автомате есть
переход, который кладет букву A на выход. Давайте для промежуточного языка считать,
что у нас элементы это греческие буквы. То есть у нас будет класс Альфа. А во втором автомате,
во втором конечно преобразователе, мы берем P1 на вход, кладем Альфа на вход, получаем P2 ε,
принжит Дельта П. То есть то, что мы с вами читаем в первом преобразователе на выход,
мы с него же и выкидываем. И третьим нам осталось Q2 P2.
Я немножко туплю. Извините, мне просто звонят. Смотрите, мы снимаем ε на вход и давайте напишем,
что мы кладем в Q2 P2, опять же пусть символ А будет у нас с вами. Но этот переход у нас
добавляется в том случае, если у нас с вами есть переход P1 ε в P2А, принадлежащем Дельта П.
То есть вот это, давайте еще раз, вот это мы читаем со стадоней на букву. Здесь мы делаем
перенаправление в виде пайпа, а здесь мы добавляем то, что у нас есть в стадаут.
Так, идея переходов понятна?
Понятно. Теперь давайте доказывать по индукции следующий факт, точнее следующую лему.
Мы будем говорить с вами, что давайте возьмем два перехода. Q1 P1 у ε выводится в Q2 P2 ε в
автомате новом М. Давайте МКомп. Тогда и только тогда, когда существует некоторое промежуточное
слово W такое, что из Q1, давайте скажу, нам надо с входа считать ε у, тут слово будет из
промежуточного языка, выводится Q2 ε W, это у нас будет в автомате, как мы его назвали, давайте я
назову МКу, вот. А во втором автомате мы с вами читаем это слово W, ε, и выводится у нас P2 ε В.
То есть, по сути, у нас с вами существует вывод в одном автомате, тогда и только тогда, когда существует вывод в другом
автомате. Итак, давайте теперь докажем этот факт индукции в обе стороны. Первый переход это
и у нас индукция по количеству периг, по длине вывода, по длине вывода В. МКомп.
Можете еще раз прокомментировать смысл? Смысл Лемы в том, что, по сути, она говорит, что мы, если в
композиции выводим, тогда и только тогда, когда существует промежуточное слово, через которое мы
осуществляем перевод. То есть, у нас есть пара Q1P1, пара Q2P2, на входе мы читаем У, на выход пишем В, да?
Это значит, это штука эквалента тому, что у нас есть промежуточное слово W, через которое мы этот
перевод осуществляем. Вот, и в первом автомате мы делаем перевод из Q1, из состояния Q1, из состояния Q2,
а здесь из состояния Q1, из состояния Q2. Все, поехали. Тут нам надо посмотреть индукцию.
База индукции, как обычно, это ноль шагов. Итак, что мы можем с вами сделать за ноль шагов? Давайте
поймем. Мы берем с вами из Q1 пары P1 вход Epsilon, Epsilon. Ну, точнее, смотрите, мы можем понять с вами,
что за ноль шагов, давайте вот так напишу, за ноль шагов мы вводим пару Q2P2, Epsilon, V. Тогда из этого
мы автоматически получаем с вами, что Q1 равно Q2, P1 равня Q2, Q равно Epsilon, V равняется Epsilon.
Ну и тогда из этого мы с вами получаем, что из Q1, Q1, Epsilon, Epsilon, мы выводим Q2, Epsilon, Epsilon,
при этом это Epsilon на самом деле W, а это Epsilon на самом деле U. А во втором преобразователе у нас
получается, что из P1, W, которая равняется Epsilon, Epsilon, выводится P2, Epsilon и Epsilon,
которые равняются V. Ну, P1 равняется P2, поэтому все окей. То есть здесь переход, база индукция
показана. Теперь давайте двигаться к переходу. Переход интересен, и он состоит из трех случаев.
Значит, давайте рассмотрим последний переход в нашем выводе. То есть, опять же пишем, что это
значит. Это значит, что у нас есть Q1, P1, U, Epsilon. Дальше, за какое-то количество шагов мы
выводим, мы доходим до какого-то состояния Q3, P3. Здесь у нас будет U' В' и дальше, за один
переход в нашем автомате, мы с вами выводим Q2, P2, Epsilon, W. Итак, теперь смотрите внимательно.
Надо разобрать три случая. Первый случай. Последний переход. У нас мог быть вот такого вида, вот такого.
Давайте поймем, что это у нас значит. У нас мы должны с вами считать букву А и положить на выход пустое
слово. Давайте я напишу. Считали. А, жили, Epsilon. Давайте из sigma мы должны. То есть, мы из входного
алфавита читаем пустое слово, дальше кладем Epsilon. Тогда смотрите, что из этого мы можем с вами
сделать. Какой вывод? Первый вывод, который мы с вами делаем, то, что U' это пустое слово. Ой, нет, U' это
буква А, потому что вот оно, мы ее сняли. Второй вывод, который мы с вами делаем, то, что W' равняется В,
потому что мы ничего не кладем. Третий вывод, который мы с вами должны сделать, это то, что P3
равняется P2, потому что у нас состояние не меняется. И четвертый вывод, который мы из этого делаем,
мы понимаем с вами, что у нас из состояния Q3, Q3 по букве А, есть переход в состояние Q2 Epsilon,
в исходном delta P. Да, я просто разобрал детальнее вот этот переход. Тогда давайте с учетом этого
перепишем, что у нас получается. У нас получается, что из пары Q1P1, взяв на вход букву А, точнее U,
но я могу даже сказать, что у нас U' это что-то, поэтому здесь мы можем сказать, что это U'A.
Здесь на входе Epsilon у нас выводится состояние Q3. P3 равно P2, поэтому здесь у нас P2. Здесь у
нас получается A, здесь у нас получается V. Ну и дальше у нас получается здесь, даже не важно,
что, давайте не будем писать, потому что смысла в этом выражении. Теперь давайте внимательно
проанализируем ситуацию, которая у нас с вами получается. У нас вот из этого еще мы можем сказать,
что из Q1P1 U'A выводится Q3P2 Epsilon W, а это значит, что мы здесь можем воспользоваться предположением
индукции и сказать, что существует слово W такое, что из пары Q1Q2Epsilon выводится Q3Epsilon W,
а из пары P1WEpsilon у нас выводится конфигурация P2Epsilon W. Это у нас предположение индукции.
На самом деле здесь мы уже можем сказать, что это у нас с вами как раз тот факт, который мы с
вами хотели здесь показать. Вот давайте, вот мы уже зафиксировали, все, теперь надо с первым
поработать. С первым фактом мы работаем с вами таким образом. Мы говорим, что Q1U2AEpsilon
выводится Q3, получается у нас с вами A, W. И теперь смотрим на последний переход,
который у нас с вами был. Вот он, из Q3 по A. Давайте я напишу, это у нас из четвертого пункта будет
следовать. Вот это переход. То есть мы снимаем здесь A и переходим в Q2, получаем Q2Epsilon W.
Вот это у нас с вами получается U. Да, вот это у нас получается U, а здесь у нас получается Q1UEpsilon,
мы переходим в Q2Epsilon W. То есть опять же мы делаем просто грамотный перебор случаев.
Так, следили за махинациями?
Или быстро? Вроде понятно. Да, просто тут идет тупой перебор случаев, как везде это в курсе
формальных языков делается. Так, это у нас был первый случай. Давайте подумаем, где мы будем
писать второй случай. Давайте я предлагаю его писать справа, чтобы у нас с вами оставался вид того,
что у нас с вами происходит на доске. Так, это у нас база индукции была. Давайте справа база
индукции, как раз будем писать это все. Второй случай перехода. У нас с вами он будет задействовать
следующее. Мы пошли по второму действию. Это значит, что у нас с вами, опять же пишем,
был переход по Epsilon Epsilon.
Давайте писать вот так. У нас получается Q1 P1 Q Epsilon. Здесь у нас с вами будет Q3 P3
какой-то U' V'. И дальше у нас получается U2 P2 Epsilon V. Так, мы сделали Epsilon Epsilon переход здесь.
Из этого мы сразу давайте делать выводы. Первый вывод заключается в том, что у нас с вами U'
равен Epsilon. Второй вывод, который мы с вами сделаем из этого, что V' равно V. Третий вывод,
который мы делаем, у нас получается такой, что существует α из гамма. Такой, что у нас был
переход из Q3 по Epsilon в Q2α. А здесь у нас с вами был переход из P3α в P2Epsilon.
И еще у нас вывод есть такой, что поскольку у нас вот это вот слово пустое... Давайте я сделаю
копипасту. Ой, не та. Вернись. Делаем копипасту, чтобы не дублировать информацию. Сюда переносим.
И пишем здесь, смотрите, вместо U' мы пишем с вами... Ну, U' у нас Epsilon, а здесь у нас получается V.
И, значит, по предположению индукции, у нас получается следующее соотношение, что существует
некоторое слово W из гамма со звездой. Такое, что из Q1Epsilon мы выводим Q3EpsilonW, а из P1EpsilonW
мы с вами выводим P3EpsilonW. Так, вот он, предположение индукции у нас с вами. Только я
погорячился, и нам нужно вот так написать. Ну а теперь смотрите, что нам надо сказать. Нам надо
сказать на самом деле, что вот это дополнительный переход, который идут вот отсюда, у нас получается,
что здесь... Ой, что у меня за мало случилось? Зумин случился на планшете. А Q2EpsilonWα. А если мы
возьмем вот этот переход и напишем его сюда, то мы получим интересный факт, что P1WαEpsilon выводит
по свойствам конфигурации P3αV, а дальше, используя серый переход, у нас получается следующее,
что мы с вами, в принципе, снимаем альфу на вход, получаем P2, здесь на выход Epsilon,
а здесь на вход W. Просто В. И в итоге у нас вот этот переход, который был, здесь уже существует
не какое-то слово W, а уже слово Wα. Давайте его подчеркнем. α. Значит, переход выполнен.
Поэтому мы здесь вот затребовали с вами, что у нас должно существовать какое-то промежуточное слово W.
Так. Со вторым шагом понятно, что произошло? Мы разобрали вот этот второй случай.
Так, говорите, командуйте дальше двигаться или? Давайте дальше. Хорошо. Теперь остался
третий случай. Давайте я его перенесу еще куда-нибудь правее. Третий случай у нас,
это переход Epsilon W. То есть мы со входа ничего не снимаем и кладем букву. Тогда мы с вами,
опять же, давайте я сделаю копипасту вот этой вот штуки.
И сделаем некоторые выводы, которые у нас здесь есть. Смотрите, мы добавляем букву А на вход.
Вот здесь вот. Это значит, первый вывод, который мы можем сделать, это Q3 равно Q2. Это раз. Второй вывод,
который мы с вами можем сделать. То, что у нас есть переход P3 Epsilon W P2A
в нашем автомате. Следующий вывод, который мы можем с вами сделать, мы на вход ничего не читаем,
поэтому U' Epsilon. И четвертый переход у нас получается следующий, что W это на самом деле
не что иное, как W'. Потому что мы эту буква здесь дописали, не получаем, что должно получиться W.
Тогда, опять же, давайте сооружать какие-то действия, которые нам помогут это разрулить.
Смотрите, значит, мы можем с вами U' Epsilon. Давайте возьмем опять же этот переход, для него
напишем предположение индукции. Давайте я опять его скопирую. Так, смотрите, я копирую этот
переход, только в нем делаю определенные замены. У нас Q3 заменяется на Q2, P3 не меняется, значит,
у нас еще должно измениться вот здесь вот эта штука на пустое слово. U' Epsilon, ну и все, кажется.
Из этого факта, по предположению индукции,
получается следующее, что у нас существует какое-то слово W, гамма со звездой. Такое,
что из Q1 Q Epsilon мы выводим Q2 Epsilon V, а здесь у нас получается из P1 W Epsilon W мы с вами выводим
P3 Epsilon V'. Я, извините, что путаю входы и выходы местами, все-таки у нас совкода.
Так, вот так. Здесь на выходе такая штука. Так, первый факт на самом деле мы с вами получили.
Теперь давайте работать со вторым пунктом. Со вторым пунктом тут все интереснее. И давайте посмотрим,
что нам нужно сделать. Нам надо каким-то образом написать сюда букву А на выход. Но на самом деле
это делается достаточно просто. Достаточно заметить, что вот этот вот шлопор мы можем
вставить сюда и получаем с вами P2 Epsilon V' A. А что такое V' A? Это у нас V.
Тем самым третий пункт у нас получился достаточно простым. То есть первый факт,
который у нас есть, у нас с вами показан. Индукция тройной переход.
Так, понятно ли доказательства в одну сторону?
Да, понятно. Да, теперь в обратную сторону. Так, давайте подумаем, где мы его с вами будем писать.
Давайте я перенесу на всякий случай лему. И вот эти переходы для того, чтобы они у нас где-то были.
То есть, если что, те, кто смотрят записи, мы это сделали чисто для того, чтобы...
Давайте вот так вот перенесем. И дальше будем доказывать факт в правую сторону, справа налево.
Да и смотрите, что мы сделаем с вами. Здесь мы скажем, что пусть это... Так, это в автомате MP.
Пусть это мы делали за K шагов, это сделали за L шагов.
Тогда делаем индукцию по K' и L'.
База у нас 0. K равно 0, L равно 0.
Из этого сразу можно сказать, что Q1 равно Q2.
K, U равно ε, W равно ε, V равно ε, P1 равно P2.
Из этого тогда автоматом мы можем сказать, что из пары Q1, P1, ε, ε мы можем вывести пару Q1, P1, ε, ε.
Но учитываем то, что здесь это V, это у нас Q, это у нас Q2, а это у нас P2.
Так, хорошо. Теперь делаем переход.
И здесь нам нужно посмотреть, какие у нас с вами были последние переходы в этой штуке.
Значит, у нас с вами есть... Существует слово W такое, что из Q1, Q, ε у нас выводится...
Давайте предположим, за какое это количество шагов K.
Да, тут важно посмотреть, какие шаги у нас приводят к этой штуке.
Первая возможность, которая здесь есть, это мы здесь либо считываем букву со входа, либо мы пишем букву на выход.
Первый случай, пусть у нас будет... Мы с вами читаем букву А.
Тогда у нас получается, что есть Q3, A, ε.
И дальше у нас получается Q2, ε, W.
Да, только тут у нас будет не ε. Давайте уточним, что у нас такое будет.
На самом деле, тут внимательно, если посмотреть, то тут будет слово W.
Потому что здесь со входа мы не читаем ничего. Точнее, на выход ничего не пишем.
На выход не пишем.
Вот. А здесь у нас получается с вами было P1, W, ε в P2, ε, W.
Тогда мы что можем сказать? Давайте рассмотрим слово U равное U'
И получаем следующую штуку.
Что на самом деле у нас из Q1, U, U' ε.
Мы читаем с вами Q3, A, ε.
И у нас есть вот это вот соотношение.
Это значит, что для вот этих двух ребят мы можем с вами применить предположение индукции.
Только я сейчас найду. У меня в планшете это все улетело.
Вот к этим ребятам мы применяем предположение индукции.
И получаем, что...
Давайте подумаем.
По предположению индукции у нас следует, что из пары Q1, P1, U' ε выводится пара Q3, P2, ε, W.
А теперь смотрите, у нас есть переход по букве A.
Из этого мы можем сказать, что из пары Q1, P1, U' ε у нас выводится пара Q3, P2, A, W.
И теперь внимательно, если посмотреть, мы воспользуемся вот этим вот соотношением, вот этим вот самым верхним.
Давайте я проведу этот распознавательный наш сигнал.
Вот он идет вот аж отсюда, вот куда-то, вот сюда.
Давайте промотаем.
То есть у нас получается, мы можем сделать переход из...
Если у нас есть переход вот такого вида, вот такого вот вида, то мы с вами читаем букву A.
Со входа и переходим с вами из Q3 в Q2.
Может быть Q3, а просто U должна быть?
Да, сейчас, секунду.
Где, где, где? А, да, U, да, согласен. U'A, я хотел сказать.
Здесь у нас A, а здесь у нас, получается, да елки-палки.
2, P2, Epsilon, W.
Только еще внимательные люди могут сказать, что тут у нас был...
Да, да, да, да, да, да.
Я немножечко тут еще облапошуся.
Здесь у нас W получается, да?
Да, здесь у нас получается W.
Здесь у нас получается W.
И вот здесь у нас тоже получается W.
В общем, первый случай перехода мы с вами показали.
Да, в этом факте.
То есть идея такая, последняя буква A, отлично, тогда у нас выход не меняется.
Да, а вход, со входа еще одну букву нам читаем.
Со входа эту букву мы с вами и берем из того случая, который у нас был.
Теперь второй случай,
который у нас может быть в этом факте.
То, что мы в этом переходе пишем какую-то букву.
Пишем какую-то альфу.
Тогда у нас получается, что существует W' равное...
Точнее, W равное W'α.
Такое, что из Q1 Qε у нас выводится Q3.
Уже слово ε.
Здесь у нас получается W'.
И дальше мы переходим за один шаг в Q2 ε W'α.
Да, вот такое вот соотношение появляется.
А во втором случае у нас тут получается следующее,
что из P1 W'α
ε мы читаем в P2 εV.
Ну, давайте посмотрим, что мы здесь с вами можем сделать.
На самом деле, здесь нам надо опять рассмотреть последний переход здесь.
Последний переход.
Значит, у нас опять получается два случая, 2.1.
Мы считаем α,
а второй случай 2.2.
Это мы с вами пишем какой-то символ В.
Значит, давайте я рассмотрю в случае 2.1.
В случае 2.2 я напишу, что он рассматривается аналогично случаю 1.
Надо добавить правила из ΔП.
Ну, там ровно все тоже аналогично получается.
Просто не хочу сейчас писать.
Итак, давайте рассмотрим два случая.
В случае 2.2.
В случае 2.2.
В случае 2.2.
В случае 2.2.
В случае 2.2.
Ровно все тоже аналогично получается.
Просто не хочу сейчас писать.
Итак, давайте рассмотрим в случае 2.1 внимательно.
У нас получается, что в каком-то переходе у нас был P1 V'α ε.
Потом мы переходим с вами в какое-то состояние P3.
На входе здесь остается α.
На выходе при этом мы понимаем, что мы ничего не пишем.
У нас остается только V.
И дальше за один переход мы с вами переходим в P2 εV.
Ну, кажется вот так.
И тогда, внимательно, если посмотреть, у нас получается следующее.
Что здесь у нас с вами есть переход из вот этой штуки.
Из Q3 на входе ε читаем Q2α.
Bands есть.
А из этой штуки мы получаем с вами,
что у нас есть переход из P3 чтения α в P2 ε.
И, соединяя вот этих двух ребят воедино,
мы получаем, что на самом деле у нас есть супер-гипермега переход.
Что мы из Q3 P3 ε переходим в Q2 P2 ε.
Вот как раз вот того перехода, которого нам не хватало.
И тогда, что у нас получается.
Давайте я буду подчеркивать разными цветами.
Значит, из вот этой картинки у нас получается,
что у нас так, из вот этой и из...
Сейчас подумаю, какой...
Из вот этой картинки, вот так вот.
Мы видим, что здесь на самом деле α можно не писать.
И получается, что из Q1 по У мы переходим,
пишем W, здесь W'.
Здесь мы пишем тоже W'.
И тут как раз у нас работает предположение индукции,
которое говорит о том, что из пары Q1 P1,
у, ε, мы будем писать на выход.
Так, Q1, у, ε, еще секунду.
Q3 P3, Q3 P3 и ε В.
А из вот этой вот штуки,
теперь мы давайте это обозначим зеленым цветом.
Если мы вот это вот инкорпорируем сюда,
мы получаем, что не читая ничего на вход,
не читая ничего на выход,
мы получаем, что выводится Q2 P2 ε В.
Тем самым мы с вами показали переход индукции.
Да, это случай 2.2 давайте не разбирать,
это случай 1.
Все, мы доказали с вами переход индукции,
мы с вами молодцы, мы с вами показали вот этот факт.
Давайте еще раз копируем лему,
теперь нам понадобится для того,
чтобы доказать теорему.
Сделаем под один шрифт,
и теперь мы с вами говорим,
почему у нас верна теорема из леммы.
Здесь на самом деле все просто.
Мы говорим,
что у нас пара УВ
принадлежит преобразованию ПСИ
тогда и только тогда,
когда существует пара завершающих состояний
Q принадлежащим FQ,
значит P принадлежащая FP,
такая, что из пары Q0P0Q ε
мы выводим с вами QP εV.
Теперь вот это вот факт,
если мы воспользуемся им по лемме,
то мы можем написать,
что у нас существует какое-то слово W,
такое, что из Q0U ε
у нас выводится Q εW,
а из P0W ε
выводится P εV.
Каждый из этих фактов в совокупности
мы по сути получаем,
что существуют завершающие вершины,
здесь существует Q, FQ,
существует P из FP.
И тут у нас в вами получается следующий факт,
что у нас с вами пара УВ
принадлежит...
Так, это чего у нас получается?
Первое это Pсq,
а вторая штука это WV принадлежит Pсq.
А вот это эквалетно тому,
здесь напишем, что это существует W,
а это эквалетно тому,
на самом деле, что у нас пара УВ
принадлежит композиции.
Сначала мы применяем Q,
а потом мы применяем P.
То есть наш конечный преобразователь,
который мы построили с вами,
он задает все и ровно те слова,
которые лежат в композиции
двух конечных преобразований.
Так, давайте я предлагаю на этой успешной ноте
поспрашивать вопросы,
потому что, может быть,
сложно.
С какой целью мы будем применять лему?
С какой целью мы будем применять лему?
Для доказательства, не лишь теоремы?
Сейчас мы будем теоремы него
при помощи нее доказывать,
но еще у нее есть очень прикольное свойство.
Допустим, если вы на семинарах
уже рассматривали примеры сложения чисел,
ну, там сложение чисел или сложение...
Двоечные?
Да, да.
Там был такой интересный факт,
который говорит в следующем.
Давайте мы допишем несколько нулей в конец,
чтобы приписываем незначащие нули.
Осшисляем сложение,
а потом нам надо эти значащие нули убрать.
То есть у нас получается композиция трех действий.
Надо сначала дописать кучу нулей в конец,
выровнять, по сути, наши числа.
Потом нам надо ошвить сложение
и потом опять убрать значащие цифры.
То есть, по сути,
такая стадия предобработки
и постобработки нашего языка.
То есть это как раз композиция трех преобразований.
Вторые примеры это какой-нибудь промежуточный перевоз.
У нас есть морфология одного языка,
мы хотим переводить ее в морфологию второго языка.
Потом, имея морфологию второго языка,
переводить на морфологию третьего языка.
Ну или пример,
там у нас есть существительное,
дальше мы пытаемся от него образовать прилагательное,
потом прилагательное поставить в какой-то подержку.
Да, вот тоже композиция нужна.
То есть можно многих примеров.
Просто, по сути, мы позволяем себе делать пайплайнинг всякий разный.
То есть разбить наше преобразование на кусочки из конечных преобразований
и делать каждое по отдельности.
А потом он говорит, давайте мы забабахаем композицию, у нас все получится.
Конечно, это будет сложно с вычислительной точки зрения, но приемлемо.
По сути, мы с вами сейчас пайп изобрели.
Так, хорошо.
Что, делаем перерыв или дальше двигаемся?
Давайте голосовать.
Вопрос, куда мы двигаться?
Ну, нам теория мунева доказывать.
Надо формулировать и доказывать.
Мы можем это сделать в принципе после небольшого перерыва.
Можем сразу начать.
Может, все-таки небольшой перерыв?
Да, давайте сделаем перерывчик минутки на три.
Здрасьте, в следующий раз мы с вами продолжаем.
И теперь мы поговорим о теории мунева.
Это у нас факт четвертый будет.
Так, это теория ма третья.
И доказательства этого факта будут больше рукомахательским.
Но я постараюсь его сделать менее рукомахательским.
Значит, о чем она говорит?
Она говорит о том, что если у нас...
Так, мунева.
Что любое конечное преобразование...
Давайте я буду обозначать его ψ.
Представляется в виде, что ψ – это композиция Φ в минус 1,
id, r и какое-то это, где...
Смотрите, значит, Φ в минус 1,
где, смотрите, Φ из сигма со звездой в некоторое гамма со звездой.
Ну, давайте скажем, что у нас здесь преобразование сигма со звездой,
гамма со звездой.
И тогда у нас Φ, получается, должно являться преобразованием из...
Так, если мы работаем...
Блин, сложно.
Так, давайте считать.
Так, это я точно могу с вами сказать,
что это некоторое преобразование из θ со звездой в гамма со звездой.
Это даже не обсуждается.
Значит, r – это будет что-то θ со звездой.
А здесь, получается, нам надо, кажется, из θ со звездой в гамма со звездой.
Ой, в сигма со звездой.
Значит, смотрите, что при этом важно.
Что вот это у нас будет регулярное выражение.
Давайте скажем, что пусть это регулярный язык.
Тогда уж, наверное, под множество это не принадлежит.
Да, под множество, да, согласен.
Так, а вот эта вот штука...
Давайте скажем, что это не удлиняющий гомоморфизм.
Вот это вот гомоморфизм.
Что это такое?
Это следующее соотношение.
Фи от х не больше, чем длина х.
Вот это говорит, что это не удлиняющий гомоморфизм.
Так, товарищи, вопрос на знание матанализма.
Кто знает, что такое константа липшица?
Никто не знает.
Ну, грустно.
Можете пойти загуглить, что такое константа липшица.
Вот эта штука говорит, что константа липшица не больше единицы.
Итак, теперь смотрите, что мы с вами сделаем.
Мы с вами будем доказать это следующим образом.
Поскольку у нас с вами фи-конечное преобразование...
Существует каптель M, который как раз задает этот язык.
То есть у нас L от M равняется ψ.
Давайте положим, что в нем длина входа плюс длина выхода равняется единице.
Да, то есть вход и выход соответственно.
А теперь смотрите, что это такое.
Давайте я сейчас нарисую картинку, словами покажу,
и дальше мы с вами попробуем что-то порассуждать.
Представим себе, что у нас этот каптель выглядит как-то вот так.
Эпсилон A там, не знаю, читает B-эпсилон.
Дальше у нас там A-эпсилон.
Дальше у нас получается, допустим, здесь епсилон D.
Тут еще цикл какой-нибудь там х в эпсилон.
И это у нас завершающий состояние.
Это пример нашего каптеля M.
Хорошо, тогда смотрите, что мы сделаем.
Мы скажем, давайте обозначим все ребра.
Пронумеруем все ребра.
Каптеля M.
В нашем случае сколько у нас будет?
E1, E2, E3, E4 и E5.
Да, то есть вот это у нас с вами получается E1,
вот это E2, вот это E3, вот это E4, а вот это E5.
И смотрите, что мы с вами сделаем.
Мы с вами скажем, что промежуточный язык TETTA
это язык как раз из этих символов E1, E2, E3, E4, E5.
Тогда подтверждается следующее, что регулярное выражение
это на самом деле все пути из Q0 в F.
В нашем случае регулярный язык, который мы с вами зададим.
Что это у нас получается?
Кажется, будет E1, E4, E2, E3, E5 со звездой.
То есть у нас язык всех этих путей автоматный.
Да, из стартового состояния в завершающем.
Потому что просто на каждом ребре написана буква алфавита TETTA
и это буква алфавита TETTA.
У нас по сути есть автомат, который распознает какой-то под язык TETTA.
Автомат может задать вот это регулярное выражение.
Тогда теперь нам надо попытаться понять, что такое у нас будет phi
и что такое у нас с вами будет TETTA.
Надо посмотреть, что это такое.
И это будет следующее соотношение.
Берем все переходы.
Допустим, мы возьмем phiata.
Берем все переходы, где есть A.
И делаем следующее.
Говорим, что phi от A равняется это ребро.
Ну, допустим, в нашем случае phi от A будет равняться E2.
Потому что у нас будет E2.
phi от A будет равняться E2.
Потому что...
Ой, наоборот.
Сейчас уточню.
В общем, phi...
Вот так.
Для каждого ребра берем его вход.
То есть у нас получается phi от E1 равно epsilon.
phi от E2 равняется A.
phi от E3 равняется epsilon.
E4 равняется B.
phi от E5 равняется X.
А это...
Берем то же самое, только выход.
Получаем, что это от E1 это A.
Это от E2 равно epsilon.
Это от E3 равняется D.
Это от E4 равняется epsilon.
Это от E5 равняется epsilon.
Это от E5 равняется epsilon.
Это от E5 равняется epsilon.
Так, теперь давайте, товарищи, поймем, понятна ли эта идея?
Если эта идея понятна, скажем, что нам надо доказать.
Здесь.
Нам тут надо два факта показать.
Каких?
Каких?
Каких?
Каких?
Что нам требовалось?
Ну, мы должны показать, что эти соответствия равны.
Это раз.
И еще есть второе свойство.
Что они не удлиняющие.
Да, что они не удлиняющие.
Первое, на самом деле, достаточно просто.
Точнее, второе.
phi Epsi не удлиняющие.
Так как phi от x не больше 1 для любого x из θ.
Так, как переходы на переходах не более одной буквы.
Теперь нам надо показать, что у нас кси представляется как фи в минус первой на idr на это.
Значит, смотрите, что мы с вами должны показать.
Пусть у нас с вами есть кси, равная паре uv.
Нам надо показать, что существуют такие промежуточные состояния, которые нам это все оставляют.
Тогда напишем, что у нас существует. У нас существует q из множества завершающих состояний.
Такое, что из q0qε мы выводим qεv.
Тогда распишем это все по однобуквенным переходам и пронумеруем ребра.
Тогда у нас вот этот transition перейдет в последовательность какую-то.
В е, дайте индексы, е и 1, е и kt.
И получается, что в нашем новом автомате вот эта вот штучка...
Давайте напишу так, что из q0 по е и 1, е и kt мы доходим до завершающего состояния qε.
А, это автомат над t.
А это значит, что е и 1 лежит в языке r.
Ну и третья вещь, которую нам нужно показать. То есть е и 1, е и kt лежит в r, поэтому предпразование id его оставят.
Теперь следующий пункт. Пункт третий.
Нам нужно посмотреть, что здесь происходит.
Получается фи от е и 1, е и kt равняется u.
А это е и 1, е и kt будет равняться v.
То есть у нас получается композиция.
Так что у нас пара u, v раскладывается...
Я так напишу, что у нас эта пара u, е и 1, е и kt.
Давайте вот так напишу.
Вот это у нас вам принадлежит id на r.
Вот это у нас вам принадлежит фи в минус 1.
А вот это у нас вам уже будет принадлежать ψ.
То есть, точнее, это принадлежит это.
Теперь только надо это в обратном порядке собрать, и все получится.
Вот такое немножко рукомахательское доказательство.
Но, мне кажется, его будет за глаза достаточно.
Главное, чтобы на примере...
Вот вам сказали такое преобразование построить.
Мы его с вами построили.
На экзамене его могут запрокрывать или нет?
Нет, его не могут.
Можно вот так написать нижнюю часть, и тогда точно не забракует.
Главное, чтобы на примере было понятно, как это работает.
Так, давайте тогда про следствие поговорим.
Есть два следствия из этого факта.
Первое следствие, которое мы будем доказывать в виде еще двух теорем.
Если у нас L автоматный,
ψ это КП, то ψ от L это автоматный.
То есть, мы не вылетаем за пределы автоматного языка.
То есть, здесь мы берем это как образ соответствия.
А следствие второе,
и теорем опять в данном соответствии.
Будет такое, что ψ не вылетает за пределы КС языка.
КП, значит, ψ от L это КС язык.
То есть, представьте себе, у вас есть труба, в которую вы хотите закинуть какую-то фигню,
а на выходе у вас там красота получится.
Допустим, закидываем КС язык, хотим получить что-то более крутое.
Так вот, нам говорят, что нет.
То есть, ψ от L это труба, которая сохраняет и автоматность, и контекст на свободность наших языков.
Первый факт достаточно простой, второй сложнее.
Давайте, мне кажется, за сегодня мы с вами осилим первый факт.
И в чем он заключается.
Значит, доказательства первого факта.
Следствие один.
Мы говорим, у нас есть ψ, это КП.
Следовательно, существуют такие Р, так, фи и это.
Потеряем Нева.
Что ψ представляется композицией.
Получается, здесь фи в минус первый, id на R и это.
Хорошо.
Что нам надо показать?
Нам надо показать, что пусть у нас фи в минус первый от L, это у нас с вами L1,
id на R от L1 это L2,
и это от L2 равняется L3.
Нам надо показать, что L1, L2 и L3 будут автоматными.
Давайте поймем, что здесь у нас с вами написано.
ψ в минус первый от L равно L1.
Значит, это на самом деле множество тех слов Q, таких, что фи ату, принадлежит L.
Смотрите, что мы можем сказать.
Пусть L автоматный.
Давайте построим.
Нам надо построить автомат для языка L1.
При этом, что мы с вами знаем?
Мы с вами знаем, что ψ от L1.
Давайте еще на секунду.
Нам надо построить автомат для L, построить L1.
Смотрите, при этом у нас фи не удлиняющий.
Поэтому у нас фи от X либо пустое слово, либо фи от X это какая-то буква А.
Для любого X, из какого-то X сигнала.
Нам надо что-то придумать.
Смотрите, давайте обозначим.
Мы еще будем пользоваться этим обозначением.
Обозначим гамма-эпсилон равняется множество тех символов,
у принадлежащим сигма таким, что фи ату равно епсилон.
И а гамма от а обозначим все у принадлежащим сигма таких, что фи от у равняется а.
И тогда у нас получается X лежит либо здесь, либо здесь.
И что это нам позволяет сделать?
Давайте построим каптель для элементов гамма-а.
Смотрите, что мы делаем.
Допустим, у нас есть автомат для языка L,
и на нем написаны какие-то буквы.
Здесь буква A, здесь буква B, здесь буква C и так далее.
Смотрите, какой автомат мы будем строить с вами.
Опять же, помните, мы говорили с вами факт,
что у нас множество регулярных автоматов совпадает с множеством автоматов.
Поэтому здесь мы можем построить из него вот такой вот автомат.
Мы говорим, что здесь на каждом цикле у нас добавляется гамма-эпсилон.
То есть мы по сути говорим все те слова, на которые у нас выход пустой.
Поэтому мы добавляем везде циклы такие.
А здесь мы будем добавлять все ребра из гамма-а.
Здесь у нас ребра из гамма-б, здесь у нас ребра из гамма-с и так далее.
И тогда смотрите, что у нас получается.
Мы доходим из стартового состояния до завершающего.
Значит, мы читаем какие-то наборы символов из гамма-итых.
А значит, фия от них будет лежать в языке.
То есть вот здесь вот у нас на ребрах гамма-эпсилон, гамма-а, гамма-б и гамма-с,
это у нас с вами регулярные выражения.
Мы на каждую вершину добавляем этот цикл?
Да, да, да.
Конечно же, потому что мы могли...
То есть у нас есть слово, мы его получили после какого-то неудлиняющего гаммоморфизма.
Если мы не напишем на ребрах, то будет плохо все.
Это самый сложный факт для неудлиняющих гаммоморфизмов был.
Дальше второй факт, очень простой.
Пересечение регулярного с регулярным.
Это регулярно.
То есть потому что это у нас получается L1 пересечь с R.
А здесь мы делаем следующее.
Мы говорим, что строим автомат...
Для L2.
И на ребрах вместо X пишем...
На ребрах...
X пишем θ от X.
Вот так вот.
Вот такое доказательство.
Вот такое доказательство первого следствия, что θ от автоматного языка является автоматным.
То есть то, что образ автоматного языка при конечном преобразовании является автоматным языком.
В следующий раз мы проделаем те же самые идеи только уже для контекста свободных языков.
И если хотите разбираться в следующий лекцию хорошо,
поспоминайте Лемма о разрастании.
Потому что мы докажем на 9,2, которые нам будут нужны.
Все, на этом спасибо.
Если есть вопросы, задавайте.
Можете на секунду вернуть протет.
Спасибо.
Да-да.
Ну всё, я жду вопросов.
Понятно было?
Понятно.
Ну более понятно было.
А что, кстати, ждет на следующих яйцах?
Будет там разобранная...
Ну некоторые там темы помимо.
Смотрите, значит, чего планируется еще разобрать.
У нас осталось две лекции.
На первой лекции мы будем говорить о том, что это такое.
Что планируется еще разобрать.
У нас осталось две лекции.
На первой теме лекции, я думаю, мы с вами добьем конечный преобразователь до конца.
Да.
И поговорим как раз про то, как люди пытались при помощи количества букв что-то...
Ну типа...
Показать является языком автоматного миллионера.
Вот.
Оказалось, что с точки зрения количества...
Если считать количество букв в языке, который встречается в словах,
то получается, что автоматные языки и контексты свободы не отличаются друг от друга.
Вот.
Есть такой факт.
И вот мы его как раз будем доказывать.
Как раз рисую очень много елочек.
И потом через раз, я думаю, мы обсудим еще одну нормальную форму.
Мы успеем эту тему.
Это будет нормальная форма греймах.
И на этом, я думаю, наша программа как раз и заканчивается.
Но будут ли вообще детерминированные автоматы?
Нет, в этом году мы их разбирать не будем.
Мы, к сожалению, не успеем их рассмотреть.
Ну ничего страшного, как говорится.
Угу.
Ну все тогда, я думаю, если вопросов нет, всем хорошего дня.
До свидания.
Все, до свидания.
