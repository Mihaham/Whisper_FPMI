но она и но но если быть точнее хочется сегодня обсудить собственно всю теорию игр нет ну ладно
как всю крышу говорим все жла да это невозможно конечно как бы понятно это как бы активная наука
действительно бурно развивающиеся все такое много до какой-то точки мы сегодня найдем вот то
соответственно дойдем может быть даже если там можно же если повезет я вот даже пораньше отпущу
нет ну я могу конечно дополнительно еще по рассказу к интерьеру андебос или
что-нибудь еще но что-то у меня ощущение что это уже не нужно вот а что же нам нужно так ну
нужно вспомнить на чем в прошлый раз остановились только напомните мне на чем мы в прошлый раз
остановились но да да но то есть краткое содержание предыдущих серии да то есть мы
рассматриваем так сказать дать там мы рассматриваем там ровно там игры на графах причем не любые а такие
равноправные да то есть мы говорим что у нас игра это такая то есть есть такой граф есть
фишка которая двигается по вершинам каждый ход это передвижение фишки по ребру граф ориентированный
и кто не сможет сделать ход тот торжественно проигрывает мы обнаружили что у нас есть что игры
выигрышной проигрышной и неч Сейчас contacted выигрышная игра когда что у 1 игрока есть выигрышная
стратегия, что такое проигрышная игра, вот важно у второго игрока естьtimer же на стратегии d ishe
до выигрышった вот хочется сказать что проигрышнаяata первый брейс проигрышная стратегия до но до
синус это одночлен да мы помним да вот и соответственно не чейно играет что да то
есть я у каждой независима независимо от проигры противника может гарантировать себе не хуже чем
ничью да но вот да мы одна но то собственно прошлый раз мы не про не только обнаружили что других игр
оказывается и не бывает ну и в общем-то для заданного графа из в вершины еребер мы научились
за от в плюс е для каждой вершины определять кто они понимаете да понимаете да отлично вот но
значит попробуем повысить планочку планочку мы повысим так но дело в том что многие игры
являются на самом деле суммой игр вот давайте сразу про что такое сумма игр сумма игр это когда
у нас есть не один графа допустим два хотя на самом деле их может быть и 3 4 и сколько угодно вот
вот самый тупой пример может быть вот такой вот то есть данные там скажем два графа в каждом
пофишке играют те же два игрока но при этом значит на своем там на своем ходу игрок сам решает
в какой игре он будет делать ход и будет его делать проигрывает соответственно тот кто не
может сделать ход абсолютно нигде вот собственно у нас цель может быть сегодня глобальная научиться
эту сумму игр решать вот ну как же это сделать ну конечно конечно самый тупой вариант если бы
у нас не было ограничений по времени это конечно это свести задачу на двух графах задачу на одном
графе типа декарта произведения правда так ну понятно понятно тут о чем речь ну вот то есть
но тут можно можно примерно даже нарисовать картинку там конка как конкретно это сделать то есть
как составить тут граф по 12 вершинах да вот но это конечно многовато хочется как всегда миллионы
там миллион вершин два миллиона ребер в каждом графе а сумму хочется решать как же это сделать
но для этого как же придется игры поанализировать но вот но на самом деле конечно важным инструментом
анализа становится введение понятия эквивалентные игры ну давайте так сначала скажем что у нас
логики от начала понятия которые мы будем называть вилл от а вот это конечно не вилл но
в плане нет буквы вилл есть буква ню но по ее форме как-то хочется назвать ее вилл что такое
а начну вилла там у нас это короче будет там пн или в но в том плане типа выигрышная
игра проигрышная ничейная вы поняли вот так вот сейчас будет такой вот так вот определение
значит будем говорить что игра а эквивалент на игре б если для любой игры с верно что вилл от
а плюс с равно от б плюс не просто что у них там результаты одинаковые а вот что оказывается
если вставлять эту игру в сумму с чем-нибудь там но то что вставляете а что вставляете б результат
будет один и тот же то есть вот такая игра но для того чтобы с этим играть давайте вообще подумаем
а как вообще можно складывать и как к какому результату может привести попытки складывать
и вот ну давайте начнем с простого вот как вы думаете если я захочу сложить проигрышную
игру плюс проигрышную игру какая игра может получиться выигрышная каким образом
проигрышная проигрышная все ухты сразу разные ответы пошли
да то есть на самом деле да заметим что да п плюс п равно п такая как говорили дикари племени
бульбуль вот соответственно до второго игрока есть действительно выигрышная стратегия она
заключается в том что как бы первый игрок не ходил второй игрок ходит в той же игре согласно
выигрышной стратегии в этой игре да здесь отметим кстати да и еще важный момент что конечно
казалось бы второго игрока стратегия просто ходить проигрышные вершины но напоминаем что если
вас вы будете просто искать там могу пойти вот в эту проигрышную игру буду ходить туда то это
может привести к тому что вы не выиграть вот давайте сразу говоримся что есть на самом деле
вот такой очень очень очень подлый случай вот потому что да мы видим что вот это эти игры
проигрышная а это выигрышная но если у вас будет если у выигрывающего игрока будет стратегия из
этой вершины ходить в любую проигрышную например вот сюда то игра зациклится поэтому здесь вот
важно оговориться что ходить надо именно вот в проигрышной согласно выигрышной стратегии ну
как мы уже убеждали что на самом деле про каждую вершину там после ретроанализа еще желательно
помнить длину ее игры и ходить в игру с ну хотя бы длиной меньше чем была ну хотя бы выигрывшего
в общем-то результат это не поменять вот так но хорошо по плюс прессе это проигрышная дастры
понятно так хорошо попробуем дальше а что такое п плюс в почему да но когда вы примените
тетло кладим раз это спокойно работает то есть потому что действительно это игра выигрышная
первой грязь выигрышная стратегия вида сходи из выигрышной игры в проигрышную из подсунь
противнику п плюс п который выигры за второго игрока так хорошо ну и очевидно в плюс в может
быть равно опаньки прям чему угодно да вот почему так ну давайте тогда задача нас тут везде да
чем и чем может быть вы плюс вы
может быть выгоднее пойти чем
так цикл из вешек нет а нет а вот можно конкретные примеры нарисовать
так значит берем вот так вот вершинки и из каждой из них видимо делаем вот что-то похожее так
так стоп ну это один граф
какая-нибудь выигрышная вот давайте какая-нибудь самая простая выигрышная
игра так вот давайте в какую-нибудь такую плюсы
да да потому что замедла во второй игре никто ходить не хочет равно как и в первой
игре никто не хочет ходить в лист как только один игрок сходит в лист второй быстренько выиграет
но у них есть получается единственный вариант не проиграть замгновенно им ходить по этому циклу
но на самом деле кстати да это контрентуитивно на самом деле вот эту игру можно нарисовать гораздо
короче да ладно уже все да ой у меня еще черный нет смотрите то есть на самом деле все можно
нарисовать еще вот так вот эта игра называется кстати сейв то есть как бегу можно закончить а
можно как бы засоединить да это действительно пример того как выигрышная плюс выигрышная может
быть не чей так хорошо а может ли выигрышная а всегда ли выигрышная плюс выигрышная не чейно
так да если мы из этого сейва уберем петлю то получится типичная проигрышная игра ну и в
принципе на самом деле верно следующее что если у нас игра циклическая то сложение ее самой
собой да заведомо проигрышную игру потому что второго игрока есть симметричная стратегия так
а бывает ли это игра выигрышной как так то есть вот получается что с точки зрения такого простого
анализа у нас проблемы потому что сумма двух выигрышных игр может быть равна чему угодно
буквально так но вот хорошо а если вас попрошу сложить не чейную игру с чем-нибудь вот не чейная
с проигрышной что будет удукось вот да так так так так так так мы утверждаем что неправда
ну почему ну мало ли но два хода подряд да но это если она есть так ну хорошо нет ну тут
костер да это называется как вы там утверждает так вот кто-то удаляет что он тут второе что у
обоих игроков есть непроигрышная стратегия ходить вен плюс по но давайте действить давайте
проверь вот доплыли рассмотрим как как нас кстати бывает удобно рассматривать будем рассматривать
второго игрока докажем что второго игрока есть непроигрышная стратегия как быть докану вот
значит но идея очень простая но начнем с того что вот у нас есть играем плюс по и давайте
подумаем а куда первый игрок может вообще сходить давайте простой первый игрок какие игры какую
пару игрок может подсунуть второму игроку так значит давайте ну тут на самом деле я так нарисую
сейчас три варианта так значит смотрите значит нарисуем так он может пойти в игру действительно
n плюс v т.е. n плюс v это не v плюс v не может потому что ничейная играет ничейная игра то есть как
бы за один ход поменяется только одна игра и то если поменяется потому что если мы ходим вот
из ничейной игры то из ничейной игры можно куда пойти да можно пойти либо выигрыш то либо
собственного нечейно я в нечейную то что можно выигрышную как повезет а ну да кстати забыл
представить самую интеллектуальную игру всех времен и народов это называется луп
но да такая супер да это называется такая супер нечейная игра дать чем она приятно
видеть она не просто не чейная она сумас абсолютно любой игрой дает ничью вот на чемпионат мира не
приведешь конечно как всегда вот что делать вот а 4 плюс п и чуть и и бывает еще в плюс так
ну что мы можем сделать так но если нам подсунули в плюс п то как бы нам не проиграть очень просто
тупо выиграть такая интересная выда про беспроигрышная стратегия выиграть что
но вот нет но нет но не совсем так почему первый игрок может пойти туда вращить на то что мы как
бы типа ошибемся ну что такое что такое оптимально да нет вторая нет зачем нет мы сейчас за второго
игрока мы сейчас за пер ini otro да мы сейчас думаем за второго игрока мы что тот стран просто
удобнее будет доказать что второго игрок аи если проигрышная стратегия первого быстро свести
то сразу же если мы докажем мы уже отсюда выдаче если мы сейчас докажем что второго игрока если
не проигрышная стратегия то мы докажем что у первой степп duy��운 стратег buscando что у
него есть вот такой ход вот но как мы теперь докажем то второгоitted все проигрыш내 стратегиях
но я даже эти не будут тянуть интригу на самом деле из обоих обеих этих игр можно прекрасно сходить в
энд плюс п стратегия второго игрока если подсунули в плюс п значит выигрываем в противном случае
поддерживаем энд плюс п гарантируется что у нас всегда будет ход который это поддерживает все
то есть но вот то есть у второго игрока значит непроигрышная стратегия есть у первого игрока
тоже значит вывод энд плюс п равно так а теперь интрига как вы думаете чему равно энд плюс в
чем оно может быть равно проигрыша типа не бывает почему так да то есть заметим что да игра
непроигрышная потому что у первого игрока есть непроигрышный ход энд плюс п датами заведомо
теперь есть какая-то вопрос хорошо да то есть игра должна быть либо либо выигрышной
либо ничейной а нельзя ли точнее сказать что игра там всегда ничейная или всегда выигрышная
но вот да вот вы плюс свои и да ну давайте так а ну давайте так может давайте более простой
может ли быть отыгранничейный таким образом нет это не это называется непроигрышная стратегия
может быть игра на самом деле выигрышная просто мы это вот да но заметим сразу что
энд плюс что угодно можно писать что м всегда бывает потому что есть интеллектуальная игра
да так теперь остается только вопрос а может ли играй энд плюс вы быть выигрышной
так но это если она будет а вы плюс вы можете быть проигрышной может быть поэтому
вот так вот так но если мы возьмем такой сейв якобы да то получится это а до нет на
самом деле это не нет обратите внимание на нет на самом деле садите как интересно сама в себе
эта игра конечно непроигрышная да вот у игры с петлей всегда можно доказать что она непроигрышная
но вот доказательства предположим что она проигрышная тогда первый игрок
ходит значит в этой петле и подсовывает эту же позицию второго и какой не проигрывает противоречия
абсолютно неконструктивное доказательства но тем не менее ну такое тоже может быть да но
в данном случае просто получается что ему не выгодно да но это если только эту игру
рассматривать но если рассмотреть сумму этих игр вот с такой то оказывается что из этой петли
выйти выгодно потому что первый год про вот если это плюс это с первого ходить сюда а потом
собственно симметричной стратегии побеждает это игра выигрышная до какой нет мы специально
лишнюю вершинку нарисовали да поэтому получается что и плюс в вполне себе может быть так ну и
теперь интеллектуальная ситуация n плюс n что такое тусен дурак чего так ну ничья
бывает хорошо а что еще бывает ну хорошо то есть ладно давайте так но давайте смотрим да мы
можем пойти за тусен тук о вен плюса или н плюс в н плюс вы не является проигрышной игрой значит
выигрышной не является вот но является ли она проигрышной ну кажется да после она быть
проигрышной но есть подозрения что но если ну проигрышно она не будет потому что первая
игрока тоже там я будет беспроигрышная стратегия ходить всегда вен плюса вот почему почему это
беспроигрышная стратегия ходить вен плюса и зен плюса можно попасть либо вен плюса с которого
снова можно вернуться вен плюса либо вен плюса а изен плюса всегда можно сходить вен плюс по
которая тоже не чей-то то есть это безопасно понимаете да вот поэтому на самом деле да
ничья плюс ничья равно железо бетонная ничья такая вот красота вот так что но выясняется так то
есть к сожалению это это все показывает что действительно просто проведя это анализ в каждом
графе по отдельности к сожалению результат игры вы не узнаете ну если кайно вот ну если конечно
нам не повезет если там хотя бы если там есть в этой сумме хотя бы одна выигрышная игра то
результаты мы не узнаем но правда если две ничьи то узнаем если одна игра проигрышная то результат
узнаем вот но значит тем не менее уже это полезно потому что да если возвращаться к формалям
инструментом анализа то ну давайте так сначала у нас возникает маленькая кэша леммочка да но
знаете такая маленькая техническая леммочка да что если игра а1 эквивалентно б1 а а2 эквивалентно
б2 то из этого следует что а1 плюс а2 эквивалентно б1 плюс б2 вот такое утверждение да и в каком в
каком контексте а пределы красиво вот в данном случае доказательства здесь конечно такое что
понятно что view от а1 плюс а2 плюс с но вверх оно равно view от б1 плюс а2 плюс с ну потому что
здесь вот можно вот так скобочки поставить и типа сказать что в роли этой вот любой игре цепа
подсунем а2 плюс с да да да сложение игр коммутативно да потому что оно короче оно
так устроено да вот это а важный счет дата а еще если складывать больше двух игр то сложение
ассоциативно поразительно так что да ассоциативно коммутативно же их если бы еще и была обратима
но сады явно сал так смотри вот у нас что такое игра а плюс б плюс с это значит ты должен
значит это ты говоришь либо я делаю ход в игре ц либо одно из двух вот если есть игра а плюс
б плюс ц то либо ты делаешь ход в игре а либо одно из двух но если развернуть это одно из двух
то везде получится либо делаем ход в игре а либо в игре б либо в игре ц и кошмар какой
но вот так что да тут такие вот приколы нашего городка это называется да так вот но на самом деле
теперь появляется теорема имени либо толстого более известная как теорема на корене догадывайтесь
какая ну как сказать прайс ну как сказать нет парадокс том что на тот момент она еще не
проиграла потому что речь идет не известным всем но то есть да есть конечно у этого романа концовка
которые все знают да далеко нет альтернативная концовка да а ну да да да король с подпоиска
надо подпоездом она нашла нору там нырнула и стала пить там через большим кроликом да да да красивый
вариант конечно нет мало кто помнит но просто у этого романа есть еще и начало да ну кто помнит
когда как звучит первая фраза романа на коренина нет нет нет нет нет нет там то там другая фрато там
другая достать я проиграл не там фраза была нет там фраза была там фраза была такая все счастливые
семьи счастливая одинаково а все а каждая несчастливая семья несчастлива по
своему так вот значит теорема и меня на корениной все проигрышные игры эквивалентно
доказательства вот так что да все проигрышные игры проигрышны одинаково на немножко на
оборот конечно получилось но тем не менее а вот каждая выигрышная игра выигрышны уже как
бы выясним по-своему и ничейные игры тоже разные бывают но собственно у нас сегодня цель на
самом деле полностью описать какие игры с точки зрения эквивалентности вообще бывают
да это у нас цель занятия сегодня такая вот ну ханься но просто ходу вот какие у нас игры
бывают ну кстати на тему того да еще я тут напишу конечно и не просто эквалентной эквалентной
звездочка 0 шутка звездочка но есть такая интеллектуальная играть ним значит интеллектуальная
игра не звездочка n камней значит это называется не значит и как заключается в следующем у вас
есть куча из n камней до куча в обывательском смысле они вот это вот вот вот вот играет два
игрока на своем на своем ходу игрок может взять при из этой кучи произвольное не нулевое количество
камней проигрывает тот кто не может сделать ход и вот вот такая интеллектуальная игра
потрясающая да я думаю она потрясает своим интеллектуализмом до чемпионат мира тоже
вряд ли по ней проведешь но раз но с другой стороны подлянка есть а тогда появляется
задача которая намежна и по математике в 90 году никто не решил давайте просуммируем
рассмотрим сумму таких нимов сразу там с кучками а 1 а 2 3 и так далее кто выиграет не придумали
но потому что как бы да они спортивным программирую не занимались у них-то боя нам не было хотя
кстати вот хотя как и странно вот эта теория на самом деле теория 30-х годов на самом деле
ну где я ну там как бы больше вопроса да да да да какой степени было использоваться
собственно спа олимпиадной программирования да нет хотя нет в 90 году это были первые годы
когда по-моему российские команды вообще поучаствовали вы cpc называется и там вот и
а чуть раньше начали участвовать еще в межнарах вот такие начинали так участвовать то есть там
так и со сборной советского союзу участвовал в межнарах по математике пару раз ну потом ей
было сложно это делать по понятным причинам да но союз развалился вот но но дело было там
прецеденты были вот но давайте так но в этой игре уже само подлянка есть вот скажите пожалуйста
какая игра выигрышная проигрышная нечейная фо да то пришло до маленькая подлянка это игра
проигрышная при n равно нулю и выигрышная иначе вот да и нечейно не самый интеллектуальный игра но
на самом деле теория эквивалентности утверждает что в циклических играх более интеллектуального
ничего нет то есть на самом деле все игры вот такие вот почему так но и докажем и в общем-то
докажем мы это достаточно просто смотрите но первое давайте докажем лепочку как доказывает
что игра а эквивалентно немыз и камней значит критерия оказывается очень простой играйк а
эквалентно немыз и камней если тогда и только тогда когда игра а плюс звездочка и проигрышная
то есть вот такой неожиданно простой критерии
можешь показать что внезапно а доказательство может вообще показаться сейчас я просто тут
на пальцах какую-то магию сделаю но факт остается фактом смотрите доказательства очень простой давайте
вот в эту сторону как мы докажем то есть раз а эквивалентно звездочка и то а плюс звездочка
и эквивалентно звездочка и плюс звездочка и логично да а звездочка и плюс звездочка и но
она автоматически проигрышная так потому что симметрично это так что по одну сторону
не очень интересно в другую сторону значит а плюс звездочка и проигрышная то есть а плюс
звездочка и как поняли эквивалентно звездочки 0 но из этого следует что
но вот что а плюс звездочка и плюс звездочка и эквивалентно звездочка 0
плюс звездочки и что в некотором смысле равно звездочкой правда почему
да но при этом при этом у нас вот это лемма есть вот
вот а здесь смотрите что но здесь заметил что об kiermediи штаб внешhair
captor звездочка и но при этом мы помним что звездка кипер звездочки как
проигрыш н�이 краек валентно а плюс звездочку 0 это тоже в каком то смысле
равно а отсюда мы выводим что а эквивалентно звездочка приятно правда swelling
правда вот то есть действительно как бы да не немножко магически выглядит но
факт остается фактом это будет там очень удобно как сейчас мы теперь будет
то есть как нам теперь доказать потому что сейчас мы докажем действительно
важную цель ему сейчас я по сути докажу что любая ациклическая игра
эквивалентно мимо какие будут доказывать очевидно по индукции по
индукции в топ сорте и для этого мне одно и теорема будет сформулирована
следующим образом смотрите внимательно пусть у меня есть игра а из которой мы
ходим то есть есть ходы в игры 1 а 2 и так далее а к где игра а эквивалентно
не мыс и одного камня значит а 2 и колета не мыс и двух камней значит и как вот
так да тогда из этого следует что игра а эквивалентно не мыс и камней где и
равно так ну давай ну-ка давайте так кто знает ответ на этот вопрос
да но логично да большинство знают на действии вот тут правда заметим что если
вы не знаете можно его даже вывести потому что я думаю вы уже догадываетесь
как мы вышла да вы даже не знаете и можете догадываться как мы это будем
наверно доказывать да как мы будем доказывать мы будем доказывать так
докажем что в игре а плюс звездочка и есть выигрышная стратегия второго игрока
правда то есть доказательства будет звучать так и так а плюс звездочка и давайте подумаем
куда первый игрок может сходить он может сходить в звездочка и жи плюс звездочка и а
может сходить в а плюс звездочка и штрих и наша задача теперь подогнать такой и чтобы на каждый
у нас был убедительный ответ но проще всего разобраться с этой штукой потому что у двух
нимов есть приятное свойство очевидно что сумма двух нимов проигрышная если они одинаковые и
выигрышные если они разные правда так это очевидно ну если мы складываем два разных 2
2 одинаковых нима игра проигрышна в силу симметричной стратегии правда вот а если
вы складываете два разных гимна там ним 57 ним 179 то что делать да то есть на самом деле первый
игрок выигрывает потому что он просто первым ходом уравнивает кучки дальше выигрывает симметричной
стратегии вот поэтому для того чтобы гарантировать что это игра выигрышная ну что тут вот что первый
игрок там не может подсунуть 2 одинаковых нима то мы должны наверное потребовать что и не должно
быть там и 1 и 2 и так далее и к понятно да но первое хорошо первый рок сюда ходить не будет
но он может и сюда пойти то есть уменьшить количество камней в пучке но хочется кинуть
ему какую-то бяку какую-то бяку хочется его кинуть да да ну в идеале тогда идея но вот да очень
хотелось бы чтобы ему на каждом на каждый такой ход был ответ такой и штрих плюс и штрих но как
гарантировать что такое вот как такое гарантировать ну гарантировать им просто надо просто потребовать
что само самого числа и в этом множестве нету а все числа но вот а все числа от нуля да и
не включительно лежат в этом множестве что же это за число то есть получается и должно
быть минимальным целым не отрицательным числом которое не лежит в этом множестве и это известно
как мекс minimal exclude вот вот собственно кстати теорему еще и сразу доказали вот понятно то есть
микс вот вот такой то что это нам теперь дает это нам дает теперь маленькую приятную вещь то есть
это нам дает то есть возможность сказать что любая циклическая игра эквалентной нему и более
того этот не можно легко найти потому что мы можем рассматривать вершины в порядке обратном топ
сорту и каждой вершине применять вот этот мекс отдельных случаев даже инициализации рекурсии
рассматривать даже не надо потому что если у вас из вершины ничего никаких ходов нет то мексу
пустого множество тоже есть и он равен нулю логично вот он равен нулю а кстати первым кстати
возникает просто какое симпатику можно найти мекска чисел каким образом да ну действительно
заметил что от нуля до кака плюс одно число значит хоть одно из них не встречается да и что
ну да ну да то есть заведем массив юзет от нуля до кайту по пометим все числа от нуля до как
то ли тут есть об том просто фориком найдем минимальные которые не пометилась да все предельно
про что да без до памяти а как ого ух ты да кошмар очереда интеллектуальная задача сделать это
без до памяти но мы не будем за колокко да вот хочется до лотка и без до памяти да
да мясо но да но это отдельное веселье но мы в него копать не будем нам сейчас нет
принципиально так ну хорошо то есть получается у любого циклического графа
за от в плюс е мы можем найти его нимбер да есть в науке на самом деле есть такое умное
слово не беру как нам беру только не буквально то есть мы будем называть число и нимбером
игры а если а эквивалентно звездочка и да в русской традиции это больше называется функция
шпрага гранди конечно но по имени ученых которые это все разрабатывали вот но на самом деле там
в каких-то там корейск англоязычных разборах я видел слово нимбер но оно мне кажется более
емко и такое более короткое хоть конечно у нас функция шпрага гранди но правда для того
чтобы научиться складывать больше чем две игры да то есть как теперь сложить две игры очень
просто надо вычтить нимбер одной нимбер другой если они равны значит игропроигрышная
соответственно а но вот а если они разные значит игровых понимаете да
правда теперь высказать вопрос а что делать если игр 3 4 5 или так далее как их складывать
чего нет мы научились две складывать только с точки зрения результаты игры но мы сказали
просто что если две игры то есть если игре кваленты одинаковым нимберу значит и сумма
проигрышная а если они разные то игра выигрышная вот ну доказательства вот собственно здесь вот
вот если мы хотим три но для этого конечно придется копнуть еще чуть-чуть потому что
справиться с этим нам поможет игра то есть мистическая теорема о том что тоже назовем
этой теоремой что ним и плюс ним же тоже и квалентин мимо но какому так ну ладно ну тут
тут уж вы точно ответ знаете естественно это конечно ответ да то есть видимо совсем
контринтуитивный для рандомных там межнарод по математике но это их соржи да ну в девяностом
году конечно нет сейчас это просто баян не но и но я уже рассказывал да там на межнарода
дали пятых платек так приятно решать задачу видо давайте бедем вот эту дп или там запустим
дфс там решить что-то вроде или там теории краффов дадут там какую-нибудь задачу на разрез а потом
по информатике преимущество они знают что такое потоки там теорема форда фолкерсона там и так
далее и задача решается на халяв и вас и вас отпускают на пару раньше нет ну просто дайте
это был прикол у нас просто бы нет просто у нас был такой прикол что вот у нас были
семинары по дискрепке и вот и вел у нас их Александр Борисович стояняк знаете такого нет
но вот он значит рассказывал действительно интересные вещи какие-то предлагал там
решать интересные задачи но вот но как-то я не знаю то ли мы видимо были продвинутой группой то
ли шо но утверждалось что как бы мы часто там мы часто уходили семинаров пораньше один раз
вот реально был прецедент что он там дал какие-то задачи которые реально решались через потоки
поэтому там липягики по информатике их решали быстро вот а их тогда на потоке не так много было
кстати нет ну да ну слушайте там мой господи ой сколько сколько нас сколько нас тогда было
это называется как говорится было да то есть я честно скажу дайте просто это в 2009 году это
была нас просто одна группа была на самом деле то есть одна группа вы группа отдельных там
олимпиадников то есть тогда еще там не так много всяких серосов поступала то есть это сейчас
там это все розы на фисте поступают сотнями но что не несут ими а если столько
настолько серосов нет ну окей да нет и ты сейчас того
ну да нету правда есть еще другие вузы там я не знаете там на паковском бульваре там один стоит
ой да да да да экономиста там какие-то колыш экономический какой-то сидит такой да да да
ну да да да окей нет ладно это будет побольше чем дайте просто у меня то ощущение что тогда
взяли просто практически всех серосов которые были то есть поступили на фисты оказал что они
там все это все прям по математике физики и информатике они там все по одну группу там по
18 человек поместить или 16 вот нет на поверху оказалось что у нас там из нашего поколения
было еще пара серосов которые там поступили на фупом или там какой-то льова толмачев который
там поступил вообще закончил фоп там и так далее но это уже другая история вот какой-нибудь там
но не важно так вот значит давайте ладно беремся к делу как у нас как доказать вот этот сериал
так ну как бы критерии у нас как всегда то есть надо доказать что сумма этих трех нимов проигрыш
правда на самом деле оптимально логически это вывести так как оптимально мне кажется что вот
один из оптимальных путей вот такой надо просто доказать следующую теорию что звездочка и
плюс звездочка g плюс звездочка к проигрышная тогда и только тогда когда и к соржи к сорка равно нулю
вроде логично да
нет ну ладно ладно если вы так вот ну да вот тут это называется актора да как говорится кто
помнит доказательства этого факта но вот но тут аккуратно надо да да надо поддерживать
у тебя остается только доказать что это всегда можно сделать да понятно по сути да заметим что
что приятно приятно следующее что дистрито из этого если к сора равен нулю то любой ход выводит
ситуацию когда к сор не равен нулю остается только доказать что если к сор не равен нулю то
всегда можно сделать ход в равную нулю а как это сделать из двух элементов тоже неверно
ну 28 и 42 7 равно так шоу и не все так просто в датском королевстве да да да то есть на самом
деле да после фенлика в общем-то логика должна быть простой и так действительно делаем к сор то есть
сначала все это там у нас тут везде 0 0 0 0 0 0 0 0 и к сор тоже автоматически но потом некоторые
числа уже начинают быть не нулями но к сор все еще 0 там как-то так вот там как-то так еще может
быть может быть чего так и тут бабах произошла сенсация к сор стал не 0 это означает что хотя
об одной из этих чисел в этом месте имеет явно не 0 а может быть но допустим это оказалось число
к но тогда идея кажется очень простая давайте уменьшим число ка так чтобы тут был 0 а тут
мы запишем все что угодно так чтобы тут везде чтобы тут везде стали нули а ведь мы можем теперь
подгонять как угодно ну понятно только очень не сильно сложно вот поэтому не будем тут копать
но сильно далеко просто скажем да что вот получается те рема доказано и тем самым получается мы
умеем складывать но то есть получается мы теперь умеем действительно кое-что там складывать
абсолютно любые нимы чего обратно нет смотри нет нет смотри дали еще доказать
дали еще доказать что звучит так докажем по индукции по сумме и плюжи плюс каша те рема верна то
есть доказывается очень простое но то есть доказать что будет по сути что и если их соржит лиска
равно нулю то все ходы ведут в игре с к сором неравном нулю это по индукции выигрышной и
значит применяем принцип проигрышности говорю что она проигрышная если и плюжи плюс их соржит
лиска неравном нулю то у нас есть ход в их соржит лиска равно нулю и она проигрышная какое нет
мы доказали что если сор ноль только проигрышная а если игрок сор не 0 то она выигрышная все так
что в этом тут как раз все просто то есть в общем-то то есть самое то есть на самом
деле так по модулю этой все там все технические шелухи на самом деле то собственно там самая
ядерная это собственно вот эта часть вот на результате получается конечно какие-то
веселые игры которые нельзя не рассмотреть но вот тут конечно веселые игры начинаются ну классика
конечно классическая конечно играется игра про штирлица и бюллера так ну как то знает кто
знает эту игру но не ну вы понятно знаете да понятно так кто еще раз знает давайте кистонасос
так в они не любят поднимать руку да ладно я ж вам рассказывал но хорошо значит веселая
игра штирлиц и бюллер стреляют по очереди в очереди м человек нет нет почему нет это это
одна нормальная очередь вполне себе очередь ну там в ней стоит до 5 тысяч человек естественно
нет ну просто можно в германии наверно под конец могла быть такая очередь на самом деле
куда-нибудь вот вот такие вот вот такая вот очередь значит стреляют товарищи без промах
но смотрите значит отрить немцы с одной стороны люди такие железопорядочные поэтому как бы
если рядом с вами убили вашего соседа вы продолжаете стоять более того даже следующие
очереди на его место не встают но все-таки нервы у них не железные поэтому если у какого-то
товарища выяснилось что всех его соседей убили он пугается и убегает проигрывает в
этом развлечении естественно тот кто не может сделать ход первым стрелять штирлиц скажите
пожалуйста кто выиграет при правильной если если это штирлиц то куда ему нужно первым ходом стрелять
нет ну зачем не ну зачем ну да да да да да да не ну нет там не совсем так знаете мюля
вообще мюля контент на самом деле реально в фильме мюля спросил так завтра по штирлиц так
кроме это почему бы не выгодно вас было бы сейчас просто прикрытие там тихо грохнутили там просто
арестовать и сеизма такой тогда бы вы остались один на один со многими врагами здесь в этом
здании и я не уверен что вы бы победили на самом деле можно ответить что штирлица тоже это выгодно
наверное иметь мюлера в качестве друга чем там в качестве там врага пусть тоже расстреляно так
что поэтому придется уважить мюля и немножко поиграть в интеллектуальную игру вот но теперь
это просто как же в нее играть вот вот давайте до 5 ты да 5 ты да 5 тысяч человек в очереди
ну да да заметим мы помним что штирлиц как минимум по легенде захотел закончил физико-математический
факультет но вот и где-то видимо в это время как раз изобреталось теория шпараганде да поэтому
штирлиц знает что делать и знает он примерно следующее что если вы решили что если вы тут
ликвидировали человека то ну в очереди от пили убился либо один человек либо два человека либо
очередь распределилась на по сути две независимые игры в которой там и минус один человек и и минус
и человек идея остается такая то есть просто давайте посчитаем то есть тогда давайте просто
для каждого игры от 0 до n посчитаем тогда нимбер вот этой суммой это просто вот сортир двух
нимберов и тогда получается остается только для игры там для n просто перебрать ее n ходов там
получить n нимберов и собственно эти но вот эти нимберов собственно взять мекс получается решение
за квадрат понятно да ну то есть может об отдельной песне можно там попытаться может почитать
закономерности обнаружить они взяли решить эту задачу там как-то более быстро вот ну есть
такая задача ну вот ну есть конечно еще добрая детская задача ну почти да так как это детская
задача то она обычно более известна как молись и кайся ну да классическая байка как вдруг за
бабушкой бегает действительно и просит поставить соответствующий мультик но звучит это именно так
но видимо в его исполнении условия задачи звучало бы так ситуация мальчик очень любит мультик про
карлсона и вот бегает за бабушкой просит поставить этот мультик но букву эрон не выговаривает ну и
там после ну там шипящий всякий с этим кричит забавки идти малихий кайся все да да сложный
прикол да видимо в его исполнении условия задачи будет звучать так малихий кайся делят пилок
пилок был испечен в форме прямоугольного пололилепипеда не знаю насколько ребенок
выговорит это слово конечно вот с целыми столонами калдинат будут они соответственно
а бейце и товарищи делят этот пирог как они его делят очень просто каждый игрок просто берет
значит там берет тоже делит его собственно перпендикулярно какой-то оси координат
причем соответствующая сторона делится на две стороны но так вот меньше по объему из этих из
этих частей такжественно съедается но вот а больше остается соответственно соседу спрашивается
спрашивает проигрывает естественно только не может сделать ход а не казалось бы тот кто
больше съест спрашивать кто выиграть при правильной игре ну вот ну ну как минимум да да в данном
случае да проигрывает тот кому достанется пирог 1 на 1 на 1 так ну давайте предположим что
а бейце допустим тоже до 5000 пока не в классической постановке кто тут выиграть при правильной как
тут определить кто выиграет почему прям очень хочется хотя по духу книжки там карлсон явно как-то
выиграет но это да ну да смотрите первым ходом отрезает весь пирог кроме первой плоскости не
я вот например да есть серьезно то заметим что по сути у нас есть сумма трех независимых игр
каждый из которых типа дано число n мы дана кучка из он камней мы имеем право забрать не
больше чем половины из нее вот проигрывает тот кому достанется один камень да но остается
только вас рассказка как эту игру решать ну можно решить и упростом так там тупым образом потому
что вас не более чем он пополам ходов вот но дальше на самом деле да то есть в качестве упражнения
вам можно оставить такую веселую там то есть как это оптимизировать дайн логена а то и да а то и
да единиц вот вот потому что на самом деле заметим там аккуратненькими сканлайн ими можно на
самом деле поддерживать какие ходы у вас есть ну когда вы переходите от мдн плюс один у вас там
в общем-то в мексе в общем там не более там появляется но одно новое число и исчезает не
более чем одно старое поэтому по сути у вас там но поэтому там можно аккуратно допилить но
на самом деле там можно на самом деле и загономерность найти на самом деле да так но
какие еще игры есть но на самом деле да прежде чем двигаться дальше есть конечно еще две важные игры
которые мы не можем не рассмотреть но одна из важнейших конечно игрок теории будет конечно
знаменитая игра хакин буш так ну кто знает что означает хакин буш
ну скорее отрезаем подрезаем да нет я долгое время думал что хакин бушет фамилия такая да да
на самом деле видимо распространенное заблуждение кто-то даже хакин буш так вот так пишет
фамилия на самом деле хакин буш с не более того вот в чем заключается игра
значит в чем заключается игре заключается такая да но подвешенные дерево
да но подвешенные дерево значит играют два игрока за одним свой ход игрок отрезает подрезает
ребро то есть в графе уничтожается ребро а также висящие на нем по дереву проигрывает тот кто не
может сделать ход но вот и спрашивается кто шо и как видимо нам хочется делать что-то
мы без поделивать видимо мы плюс поделим еще такое же поделим и чего не факт
да ну да единственная проблема что общее число состояний который у вас может возникнуть
игре очень большое поэтому забабахать полный ретроанализ как в некоторых видах там шахматы
с малым приличеством фигуру вас не получится вот что же делать но перзаметим следующее что вот
если у нас тут есть у корня три под дерево там три сына то у нас есть три независимые игры
правда которые потом можно проанализировать отдельно и потом боксорить теперь выскакать
такой естественный вопрос жила была игра в которой на одном ребре висит какое-то под
дерево и нам известно что у самого по себе этого под дерево нимбер и внимание вопрос каков может
быть нимбер вот это игре чего почему 0 либо 1 но 0 нет наоборот кстати сразу 0 очевидно быть не
может почему просто потому что вы можете обрезать все это дерево и у противника это не останется
ходов то есть мы можем сходить в 0 следовательно нимбер этой игры заведомо не 0 может ли быть один
ну конечно может если это дерево пустое ну да а какой вообще можно привести хотя бы
один пример нимбера который тут заведомо может быть
но нет мы поведем получим число меньше чем и но подвешенное на этом же ребре
вот это просто тогда как у них меняет
ну хочется да да да осталось только выдвинуть гипотезу
все глух да ладно глухарь нет на самом деле лакшика открывается неожиданно просто а можно ли
привести вообще какой-нибудь дерево у которого нимбер это и ну да да что да да то есть на самом
деле заметим что существует боя если мы возьмем тут бамбук длины и то нимбер у него и потому что
это просто можно сказать изоморф на ниму языком не видно да но тогда в этом случае если мы этот
эту штуку подвесим за ребро то получится и плюс один теперь вот возникает но вот и теперь вот тогда
как бы возникает вопроса нельзя ли доказать что другого не бывает вот конкретно тут оказывается
можно доказательства как раз вот действительно по индукции проводится потому что какие ходы я
могу то есть я тут могу сделать какие-то ходы получить какие-то нимберы я могу получить там
все нимберы да и минус один и само и не могу еще могу там получить какие то правда но тогда
заметим что я если эти игры подвешу за это ребро то по предположение индукции я получу какие числа я
получу числа как раз от одного до и и плюс один не получу и дальше еще что-то получу а еще до
дополнительно мы еще получим 0 потому что я могу просто это отпилить следовательно мекс равен и
плюс один то есть вот такая вот приятная игра на самом деле приятное решение здесь может вас ждать
да но конечно немножко может быть нет реальный вот так с нуля придумать но и да вот такая известная
вот ну-ка но так что-то она такая красота сколько у нас там времени
так сколько еще можно рассмотреть вот ну ладно может поговорим ближе к концу еще
уж там теоретически можно еще посмотреть там какие-то примеры вот так ну ладно не будем
тогда терять время и тогда пойдем дальше ну вот какая-то просто что у нас дальше но дальше на
самом деле наша цель конечно дальше простая а как бы нам поскло то есть мы с вами научились
решать а циклические игры то есть именно то есть мы более того то есть у нас надо просуммировать
несколько циклических игр то мы это сделаем за линию а теперь на задача а как бы нам
поскладывать циклический да там бывает ничьи более того бывает еще подлость вот у нас сразу
могла быть мечта смотрите очевидно ничейные игры нимом не эквивалентно да а все ли проигрышные
игры эквивалентный нимом кстати а теперь прикол что когда мы анализировали суммы мы не
пользовались тем что игра циклические поэтому да все проигрышные игры эквивалентной поэтому
все не эквалентны например гнему из нуля камней да отлично и так все ничейные игры то есть не
чейные и заведомо не эквивалентной никакому нему а все проигрышные наоборот заведомо эквивалентно
а теперь вы выскакивает вопрос бывают ли выигрышные игры которые не эквивалентно никакому
ниму давайте такой разминочный вопрос пока я стираю
но по сути да да да можно но это вот из глобальных соображений да но самый простой
пример это на самом деле просто игра сейф есть игра сейф который заведом она выигрышная но
никакому ниму не эквивалентно почему потому что это игра в сумме с абсолютно любой игрой
заведомо не проигрышно да даже не просто с нимом а просто она заведомо не проигрышно потому
что но вот заведомо доказательства пусть она проигрышная тогда первая игру ходит в нее же
и неожиданно выигрывает противоречия понятно да то есть получается сейф никому не никакому
ниму не эквивалентно что же делать вот то на самом деле надо думать вот смотрите но вот
да будьте внимательны сейчас нам конечно думать придется серьезно так кстати да так давайте
на всех случая кто вообще знает серию мусмитов рэнкера да ладно того как-то нету нет судить
судя потому что дайте если это вам тот олсес вы лкша вы рассказываете да то как бы есть это
подозрение что это вообще детский садик а понятно да да да ладно а что там статья
станкевича и гонографах он не вылезает нет нет нет вот да то есть насады да литература по
всему этому прям вот можно подсчитать и замечательно да то есть на самом деле это
просто просто станкевич и гонографах или комбинаторные и и там просто на русском или
даже английском языке действительно все это очень подробно и красиво расписано правда серия
мусмита фрэнкеля там не доказывается но там на поверху как бы убедимся из того что там сказано
ранее то есть на самом деле все вот это вы уже довыводите еще несколько лет правда там
чита подлянка что несколько лет назад там при патруле кто-то спросил а как бы литература со
всеми доказательствами есть и поиск показал что да у нас пробы да да у нас проблемы то есть
там сам станкевич помол особо не помнил откуда он это все взял хотя там но то есть какие-то
отсылки есть то есть там но где где-то там я только марш в какой-то там книги действительно где-то
там чуть-чуть это там действительно что-то упоминалось там с фамилиями смита фрэнкель
наверное но но мне не нот но но подробно поподробнее мне неизвестно ну не знаю нет может
тому что как бы игра потом пошла далеко вперед это все то есть все это не очень интересно потому
что я не знаю дать культовейших игр поэтому по этой вещи кстати если уж так рекламировать то есть
такой а то как классиком конечно считается такой товарищ как конвей вот и и тут так
книжка называется combinatorial game theory вот но этого там конкретно не будет потому что там сразу
пойдут в красно-синего там в краке в красно-синего хакенбуша то есть там сразу будет задача такая вот
дан хакенбуш во первых там негра не дерево произвольный граф подвешен и завершил и типа
там компонента отпиливается если она прям не связана с корнем а во вторых там еще все ребра
бывают красные синие и зеленые и там типа первый игрок имеет право отпиливать только красные
зеленые второй игрок имеет право отпиливать токси и зеленые время пошло и да то есть это
еще более продвинутая вещь на самом деле да вот то есть это называется красно-синий хакенбуш
может там некоторые пианики мечтают что когда они придут на сбор ему это расскажут вот ну вот
но мы с вами пока изучим вещи попроще так для этого для этого давайте выжмем макс значит начнем с
того что выжмем максимум из нимберов вот у нас есть смотрите у нас есть с вами принцип да такой
что если из вершины все ходы ведут нимберы то она тоже нимберы мы его знаем так вот теперь
предположим что мы будем применять применять этот принцип до тех пор пока можем верно лишь что все
эти и что все что не будет разведанным нимбером нимбером действительно не является
нету проигрышный игра но да совершенно верно это конечно да потому что можно заметить что в
таком виде мы даже не все проигрышные игр найдем помните как мы находим проигрышные игр то есть мы
говорим я часто переформулирую ближе к тому что я скажу как мы находим проигрышные мы говорим
что игра проигрышная если все ходы ведут из нее вершины из которых есть ходы в разведанной ранее
проигрышной да так как в науке называется вершина из которой есть ход в разведанной проигрышной
игру там их называем выигрышными играми почему-то да вот но заметим что к принципу не вот этому
оглашенную принципу нимбером это отношения имеет поэтому есть риск чтобы так просто не все
проигрышные даже найдем поэтому я сейчас скажу поэтому есть мистическая теория мо почему-то
девять вот значит сейчас у которой будет в редкий случай сейчас угел условия теория будет сложнее
а 4 м звучит так рассмотрим игру а разобрем ходы из нее на два множества на множество
а 1 а 2 и так далее а к и на множество б 1 б 2 и так далее б и смотрите значит
а ты сейчас внимательно пусть каждая игра а это эквивалентно своему нему который мы так и назовем
и 1 и 2 и так далее и к вот оправки мы ничего не знаем может они квалентный нему может эквалентный
но мы про это не знаем может знаем но забыли и так далее вот а теперь дальше значит смотрите
совсем магия рассмотрим пусть и это мекс этих чисел и 1 и 2 и так далее и к кстати каждый из
этих множеств а и б может вполне себе пустым быть то есть к может быть равно нулю и б и л может
быть равно нулю так вот пусть и у меня мекс но если л равно нулю то тогда мы знаем что а эквивалентно
не мы за камней об общение принципы звучит так пусть неожиданно выяснилось что из каждой
игры б есть ход в игру эквивалентную не мы за камней да пусть неожиданно еще и выяснилось то если
так вот тогда из всего этого следует что а эквивалентно мимо из и камней
вот понятно да
ну девять-то все но девять-то все просто потому что у станки вещей это теремы 9 но там
все терема про проигрышные эквиваленты это терема 2 вот этот принцип вот эти квалентности вот это
технические терема 1 но и так далее там много теремочек таких-то оказывается то есть да то есть
если бы я сейчас рассказывал по своей любимой желтой тетрадке то как бы у меня была бы та же
нумерация но я сейчас ее не помню поэтому я там некоторые теремия перевожу факт лем или просто
очевидных утверждений а терема 8 там например что они и плюс ним же эквивалентен соответственно
к чему вот дай смотреть и так как же доказать что игра а эквалентно не мы за камней
да но давайте как всегда рассмотрим что докажем что второго игрока есть выигрышная стратегия как
всегда да так что может сделать первый игрок да он может пойти в значит звездочка и же плюс
звездочка и может пойти в там бж т плюс звездочка и а может пойти в а плюс звездочка и так ну действительно
давайте так ой да я что-нибудь сейчас нарисую да так ну что мы видим до этой газоведома выигрышная
потому что они не равны так это здесь мы замечаем что здесь можно просто пойти в звездочка и плюс
звездочка и и подсунуть противнику промежную позицию да вот ведь мы тут прописали да
так чего ну да а здесь есть так как это мексто получается и штрих плюс и штрих вполне можно
замечательно то есть у второго игрока есть выигрышная стратегия вот то есть это есть
такая типичная ситуация то есть те рема сложная доказательства простое ну вот ну как там ну что-то
типа это это у вас там в лоев в те там мат логики у вас там поместь это те рема там о том что там
любая тавтология выводится из 13 аксиом 11 но вот ну да там-то там помда то есть как бы эти
13 тём да может быть сложно помнить но на самом деле они там может быть подогнаны так что действительно
там все аккуратно выводится вот прочим не уверен что вас будут составлять выучивать доказательства или
будут супер ну значит уровень расти вот так ну то есть видим до доказательства здесь что-то
оказалось не слишком сложным да но сейчас будет едва ли не самое сложное доказательство в этой
всей нашей теории так вот теперь мы 10 она звучит так будем применять
к вершинам графа же там те рему 9 пока можем тогда
если для вершины в нимбер не нашелся то как бы игра вот это вот жв не эквивалентно
утверждается что вот этот принцип уже полный то есть как бы но как с выигрышности проигрышности
давайте мы доказали что применяем вы принципы выигрышности проигрышности если применение
кончилось то где не удалось применить там ничья вот здесь мы докажем что будем применять вот
это вот нимберовость мы применяем применяем если выяснилось что больше никуда применить
нельзя значит где нимбер не нашелся там его просто в природе не существует понятная идея да
ну поехали давайте его примерно вот как же это доказать значит вот сейчас то есть
смотрите сейчас будет доказательство действительно максимально самое сложное
то есть понятно в сумме конечно не убой но что осталось только выяснить что такой нимбер
доказать нет вот там я знаю можно поксорить его рандомный хэш или там колмагоровскую
сложность смотрите доказательство будет такое давайте предположим противное редкий
случай конечно но вот по моему раз жизни мы предположим противное предположим что какая-то
игра а эквивалентной нему из какого-то и камней и при этом а плюс звездочка и проигрышно за
минимальное число ходов ну то есть понятно да что пусть у нас существует такие игры что а плюс и
звездочка и проигрышной при этом а не является не является разведанным нимбером вот в этом
смысле да и всех таких игр выберем такую пару что они проигрышны за минимальное число ходов
понятно да и так но поехали как же мы будем доказывать а доказывать будем вот как раз
это игра проигрышная значит у второго игрока есть выигрышная стратегия то есть у него есть
такая стратегия который согласно который будет подсовывать противнику не просто проигрышную
игру но и проигрышную за меньшее число ходов согласны запомнили да значит теперь думаем так
как ходит вообще как теоретически может пойти первый игрок вот как он во всей этой игре может
пойти но давайте вот как нет для этого мы сделаем давайте я даже сделаю для удобства а плюс звездочка
жи все-таки они а плюс звездочка и сейчас вы увидите почему вот значит смотрите дело в том что
просто про игру а можно сказать что у нее есть ходы в разведанные нимы и есть ходы в мы это будем
называть сайте неопределенности то есть я даже определение введу ну ладно давайте так ладно
пока на словах скажу что вы называть игру неопределенной если ее нимбер не определился
но как мы сейчас докажем это будет квалифт на тому что и крайний гига лента никакому не понятно
да значит поехали ну давайте думать на самом деле что тут может произойти
ну во первых заметим что жи больше либо равна мексу этих всех чисел
почему потому что если бы она была меньше бекса то есть жи тогда встречалась бы в этом среде
этих ходов и тогда первого игрока был бы тупо выигрышный ход просто он так ну утверждение
такое жи здесь нет потому что если бжи была то а плюс звездочка жи была бы выигрышной игрой
правда понимаете да да значит теперь у нас бывает рассмотрим два случая жи равно мексу от этих ишек
и жи больше мексу что не так вот рассмотрим такие два случая вот пусть жи равно мекс
тогда заметим маленькую приятную вещь тогда заметим что раз жи это мекс
то тогда почему мы не смогли к игре а применить нашу теорему 9 да потому что
существует какое-то условное b2 из которого нет хода в ним и жи ко мне правда а вот давайте-ка
предположим что первый игрок неожиданно решил взять и в эту игру и пойти то есть
такое что вот из б2 нет хода звездочка жи но тем не менее из этой игры выигрышный ход
существует правда да из этой игры выигрышный ход существует но как он будет выглядеть в ним
из б2 он вести не будет правда ну разведанный ним из б2 можно пойти в ним а можно не в ним так
вот в разведанный ним выигрышный ход не ведет потому что среди разведанных нимов же нету да
вот тогда получается этот выигрышный ход он может вести куда либо в какую-то игру ци 1
плюс звезды скажи где ци 1 это неопределенность да то есть не нибер да либо мы из игры б2 пойдем то
есть пойдем оставим игру б2 и пойдем в же штрих но оба раза приводит нас к тому что мы подсунули
первую игру проигрышную игру вида неопределенность плюс им да но вот то есть противоречие степу
она проигрышная чем будет за меньшее число ходов то есть доказательства у нас на чем тут базируется
базируется на том что мы посмотрели как что если первый игрок ходит сходит вот так то второй игрок
может подсунуть ему только вот эти позиции и они получается даже быть проигрышными за минимальное
число ходов понятно да значит этого случая не бывает понимаете да
а что делать если же больше мекса
в этом случае идея очень простая тогда а плюс звездочка жи он просто пойдет в игру а плюс
звездочка мекс вот пусть первый игрок так пошел тогда давайте посмотрим как но если же больше
мекса то мы как бы можем в этом ниме пойти в мекс но тогда у фта какой игрок выигрышный ход у
второго игрока ну заметим из а в ним он пойти не может потому что этого мекса там нет вот
тогда получается что он тогда второй год вынужден будет пойти либо в какой-нибудь там б там я не
знаю zt плюс звездочка мекс либо пойти в игру а плюс звездочка жи штрих но опять мы получаем оба
раза это не определяют игра вида неопределенность плюс ним проигрышной за меньшее число ходов
противоречия понятно да то есть я база индукции здесь заключается в том что да у нас ну то есть
да и вот это база индукции заключается в том что у нас не может быть неопределенной такой
неопределенной игры которая такая что неопределенная игра плюс ним проигрышная за 0 ходов
ну потому что что это потому что это и единственное если это за 0 ходов то есть
это получается что в игре а нет ходов а к такой игре мы уж нимбер найдем понимаете да то есть
вы вот то есть вот такой экзотик вывод то есть получается если мы будем эту циарему применять
до бесконечности да то получается хорошо чем более того садится тут через кстати психологически
такой тонкий момент что как можно сказали мы на самом деле эту циарему могли пытаться
применять видя что на самом деле мы знаем что здесь здесь и здесь это нимбер но мы его
решили проигнорировать то есть по хорошему это будет отдельный вопрос а когда мы будем
пытаться применить принцип вершине а мы всю используемую информацию должны знать или не всю
или или может быть надо правильное под множество ашек проигнорировать и все получится
но на самом деле в качестве упражнений я вам ставлю это в качестве упражнения собственно
додумать что на самом деле не использовать какую-то уже известную информацию здесь
бессмысленно это ничего нового вам не даст
то есть это игра вида неопределенности неопределенность плюс ним и она проигрышная
за меньшее число ходов противоречие с тем что в самом начале сказали из всех игр типа аппли
проигрышных игр вида неопределенность бюджи выбрали игр проигрышные груза минимальное число ходов
да получается что мы не можем забыть про то что у нас что-то на самом деле не если бы это было
на самом деле не то вот это не работает ну да нет но при этом да но просто в доказательстве мы
сказали так что мы не смогли применить принцип никак стало быть мы его как частый случай не
смогли применить и в виде когда нам известно полная информация поэтому мы в доказательстве тут
мы можем давайте рапусь ашки у нас это все известные ни мы а это прям реально неопределенности
тогда и вот доказательство начинает работать да да спасибо важная оговорка
что делать с предложением забыть часть
нет ну с ним ничего не надо делать потому что принципе эти сериалы мы доказали то есть там
как бы то есть вот этот вопрос на самом всплывет когда мы начнем это кодить то есть вот мы говорим
надо применить информацию первое внимание вопроса можем ли мы эту информацию применить то есть как
бы хорошо допустим мы в жадном виде не применили а можно ли применить хоть в каком-то виде но об
этом я думаю поговорим в конце сейчас мы добьем теоретическую составляющую и так мы сейчас
доказали важный момент да что действительно что у нас нашелся принцип согласно которому у нас есть
такая неопределенность вот хотя кстати по большому счету мы можем сказать что если бы мы
заявляли что мы используем всегда полную информацию то все нимберы мы точно знаем обэшки заведомо про
них мы точно прям ничего не записано да то в общем так сказать это те доказательства этой теоремы тоже
бы зашло ну утверждение такое предположим в теоремы 9 вы говорили что мы как бы можем
какую-то случайно забыть что какие-то бэшки эквалентный мимо может мы это знаем но мы это
решили проигнорировать сознательно да но на самом деле если бы теоремы 9 формулировали в
требованиях что мы ничего не игнорируем то есть как бы понятно что у нас как бы есть граф на
некоторых вершинах записан ним а некоторых не записан да так вот если мы используем все записанные
ним и то как бы теорема на самом деле 10 тоже верно но потому что доказательстве на самом
деле те или мы 10 мы в общем то ну скажем так потому что доказательства терра мы quests о чем от
этого не поменялось понимаете доiston это уже может быть доказательством того что на самом
в деле там под множество искать не надо вот дай и суть начать суть в том что в
суть следующем на хеджи жили были эти нимбера так а перерыв кстати надо надо
так сколько там у нас времени 1137 туда думаю пришло время егдова перерыва
может логика показаться не тривиально но ничего сложного там дальше уже не
будет потому что мы на самом деле с вами помимо всего прочего то есть век
давайте попробуем поанализировать что мы теперь знаем про суммы разных игр на
самом деле мы кое-что знаем мы с вами уже знаем что ним плюс им ним плюс ним
равен ниму логично да а что мы знаем про игру не опор плюс ним
да нет все еще но на самом деле с точки зрения результаты игры мы знаем можно
более простой это данный квалент и никому не мук потому что она не
проигрышная то есть она бывает не чейная а бывает выигрышная
здесь еще хорошо тогда зададимся знаете каким вопросом а как вы думаете что
такое не опор плюс не опор вот захотел я сложить две неопределенные игры
вот вопросом что у меня получится
прям проигрышная игра получится
да ведь смотрите есть такая интеллектуальная сраденья ходи всегда оставляй всегда не
опор плюс не опор до важный момент из неопределенной игры всегда можно пойти в неопределенную да
ну потому что если все ходы ведут в ним и то и мы ним этом уже выяснили вот поэтому есть
такая беспроигрышная стратегия потому что если кто у кого то есть может быть у какого-то
игра сдадут нервы и он переведет игру в неопор плюс ним но это игра заведомо непроигрышная то
есть это но вот если противник нас в это при переведет но мы ему скажем спасибо и точно не
проиграем так что это следует что неопор плюс неопор за обоих игроков непроигрышная игра и так
неопор плюс неопор какая игра да то есть на самом деле это просто боевая ничья но на самом деле я
могу заявить даже более крутую вот я вам даже больше скажу я теперь скажу что неопор плюс
неопор плюс абсолютно любая игра ц тоже равна ничья или даже знаете это сейчас то же самое
напишу но в таком продвинутом виде пусть у меня такая сумма неопор плюс неопор плюс там а1 плюс
а2 плюс а3 плюс а4 плюс и так далее плюс ах вот я просто допустим я хочу рассмотреть сумму
каких-то инститигр но хотя бы две из них неопределенные так вот я утверждаю что это заведомая ничья
да или что то же самое то есть что то же самое неопор плюс неопор эквивалентно лупу то есть
прибавить к абсолютно любым играм две неопределенности то же самое что прицепить
к ним луп то есть абсолютно мертвая ничья потому что как бы стратегия та же делай все что хочешь
главное сохраняет две неопределенности потому что как только у одного из игроков сдадут нервы он
сделает одну неопределенность то получится неопределенность плюс ним которая не проигрывает
понятно да то есть если противник у противника сдадут нервы значит мы не проиграли а если
не упротивлен вот но если не у противника не сдадут значит сделаем так что у нас не сдадут
и никогда не закончится вообще мощная заява да а теперь давайте разберемся поподробнее с
неопределенностью плюс им но что значит ну ну проиграть ну в лупе нельзя но нет в принципе
да есть такое что конечно если рассматривать там игры в поддавки то конечно датам игры
становится несколько сложнее да если успеем в конце даже хотя бы и поддавки на ним их
рассмотрим там конечно но там впрочем оказывается неожиданно весело значит смотрите хорошо неопор
плюс неопор и забрали оказывается неопор плюс неопор это тупо лупы не паримся а чему эквивалентно
неопор плюс ним так так ну и ну может и не быть кстати но не важно так ну давайте
смотреть сейчас давайте но тут нам интересно даже знаете что то есть нам на самом деле с точки
зрения полного анализа будет интересно ну как бы классифицировать на самом деле все неопределенность
поэтому нам интересно вот что дана неопределенность мы знаем вот мы хотим перебрать мы хотим рассмотреть
все все все вообще возможные игры вида неопределён это неопределённость плюс ц и сказать это
игра выигрышная проигрышная или нечейная ну проигрышных таких не бывает мужа выяснили да но
точнее неопределённость плюс неопределённость нечейная непределённость плюс ним бывает нечейная
и выигрышная а теперь мы сказать но теперь нам интересно даже с точки зрения эквивалентности
такой вопрос а для каких нимов это игра будет выигрышная а для каких нечей как вы думаете
вот давайте просто приведем пример рассмотрим игру а у которой есть ходы в как всегда в там и
1 и 2 и так далее и к а еще у нас есть и есть еще ходы в какие-то там бы неопределенности
бы один бы два и так далее бы теперь смотрите что мы про эту игру знаем мы знаем а плюс
любая неопределённость это нечейная игра да а если я сложу а с нимом из жи камней то что я
при нем могу сказать чего да да то есть если жи лежит вот в этом множестве и 1 и 2 и так далее
то это и газоведомо выигрышная да есть крутой выигрышный ход а если жи там не лежит то что
а я скажу так уже даже не важно
ну как повезет но смотрите в ишке ну давайте так в ишке ходить бессмысленно иначе мы
про это попрыгаем но есть остается только либо пойти в бэшку то есть неопределённость да либо
сделать а плюс жесты есть то есть опять оставить неопределённость плюс ним и это опять же не
является выигрышным ходом являться не может потому что все эти позиции то есть получается мы
перебрали все ходы и поняли что все эти ходы в проигрышные позиции видите ввести не могут
следовательно если жи не лежит не лежит в этом множестве то игра тупо нечейная и нечейная
стратегия будет типа там все что угодно кроме хода сюда вот то есть вот получается такая боевая
нечая если же не лежит значит рассуждение такое рассмотрим игру неопределённость плюс жи где
же не лежит в множестве нимов в которой можно из этой игры а пойти да смотрите мы знаем что игра
плюс же либо выигрышная либо нечейная да докажем что игра не является выигрышной для этого достаточно
доказать что перед мы переберем все ходы первого игрока и докажем что ни один из этих ходов не
ведет в проигрышную позицию а это не а это необходимо для того чтобы она была выигрышной
правда как же мы это сделаем очень просто значит какие тут ходы бывают бывают ходы в звездочка там
какой-нибудь из это плюс и плюс жи но так как жи этому не равно то это было бы просто выигрышной
игра можно пойти в б з т плюс звездочка жи но это опять неопределенность плюс ним как мы уже
выяснили это не проигрышная игра и есть еще игра а плюс звездочка же штрих но это тоже неопределенность
плюс ним не проигрышная игра да да да да действительно конечно ни в коем случае да то есть это не
является не проигрышной стратегии что мы случайно можем выигрышную позицию попасть то есть
но тут конечно фишка будет заключаться в том что выигрышные ход-террор действительно как мы
уже убеждались по целью как он будет выглядеть либо же больше ним и тогда можно пойти просто в ним
либо можно еще из либо мы еще то если жи равно ним то мы знаем что есть какая-то бэшка из которой
в этот ним пойти нельзя иначе мы принцип применили ну же да жи равно мексу да да да мексу вот понятно
дать такая вот технология то есть смотрите как интересно то есть на самом деле мы про оказывается
неопределенность оказывается все поняли то есть мы ее сложили с любой игрой получили
точный результат правда давите потому что мыши да если игра не является ним то точно не чья а
если является ним то мы знаем для каких нимов это выигрыш для каких ничья ну не анти ним но
просто мы заметим что на самом деле но просто смотрите на самом деле вот эту игру но на самом
деле теперь представить себе задачи предположим что вы не знаете как устроена игра но знаете что
у нее такие результаты можете ли можно ли нарисовать в явном виде какой-нибудь пример игры
с вот такими свойствами да то есть на самом деле самый тупой пример такой игры вот такой
берем игру есть ход в себя есть ходы те же самые мимо и других ходов нет то есть заметим что вот
такая игра на самом деле просто эквивалентно вот такой потому что у нее ровно те же свойства
видно да то есть я могу если мне дадут выиграть я выиграл если в тупот по-тупому выиграть не дадут
я тупо засеялись понятно да вот эта игра будет называться у нас бесконечность с индексом
множество и 1 и 2 и так далее и к вот ну кстати в качестве примера можно сказать что луп это
бесконечность с индексом пустого множество а сейф это на самом деле бесконечность с индексом
каким да множество из нуля да не путать но что из нуля с пустым но что вот так вот на
самом деле смотрите но на самом деле мы уже практически готовы к тому чтобы сформулировать
основную те рему этой все теории в чем те рему фактически будет говорить что на некотором уровне
мы все поняли вот вот и так серема 12 смита фрэнкель значит пусть же там жива произвольная
игра на графе тогда заявляем мы тогда либо существует такой и что же эквивалентно звездочка
и либо существует такое под множество такого z больше там целых не отрицательных чисел что же
эквивалентно бесконечности с индексом это не вся теория ма но какие странно чая но но эту часть
тире мы уже с вами доказали по сути понимаете да то есть по сути примени принципы либо
найти ее нимбер либо если нимбер не нашелся то вот таким вот образом выясни множество к ну и
чтобы уже точно понимать всю теорию смотрите при этом значит верно еще следующее что ним и плюс
ним же эквивалентен но мы уже знаем чему а также бесконечности с индексом к плюс ним языком ней
эквивалентен под самый интересный вопрос чему но давайте допишу теорию и третий пункт будет что
ним с индексом каплю с ним с индекса эй эквивалентен чему вот это уж совсем простой вопрос
а между тем уже уверенно там 10 минут назад успешно ответили на этот вопрос конечно господи
все не определилось как мы уже даже сформулировали она эквивалентно лупу все есть две неопределенности все
мертвая ничья так что никакой симметрической разности нет боже упустит так что так что теперь так
что давайте самое интересное для нас вот действительно вот этот случай ну давайте расскажите мне вот как
оно вот как вы думаете да так вот как вы думаете что я тут должен написать
причем тут бесконечно но игра понятна не бесконечно что это сумма не бесконечных игр так ну давайте так
это вообще ним или неопределенность если бы это был не если бы это было
эквалентно не мужи камней то это игрока была бы эквалента не там мимо и плюс не мужи по
сути да вот поэтому мы точно пишем бесконечность а человеком они вопрос с каким индексом
нет бесконечность
сама к себе без суммы такими играми она неопределенная не обязательно нечейно что она выигрышна ну давайте так
так логика следующая нет удается быть как-то мысль но давайте выясним так то есть давайте
просто попробуем найти так сказать карту это игры то есть с кем она в сумме нечейная с кем она выигрышная
ну с неопределенностями она очевидно не чейный это муж понимаем да а если мы просуммируем ее с
минимум жи вот ка плюс звездочка там звездочка и плюс звездочка же но это то же самое как сложить
эту звездочку кассы то есть бесконечность касс и к соржи теперь давайте какая то вопрос когда это
игра выигрышная когда не чейно ну да то есть действительно то есть если у нас и к соржей лежит
ка в ка то это игра выигрышная а если не лежит то соответственно нечейно а теперь возникает вопрос как
назвать такое множество жи как назвать вот то есть что это за множество жи такое что и к соржи лежит
множество к да то есть на самом деле оно так и называется прям интуитивно понятно как то есть это
понятно множество таких там иксор и где их лежит в ка понятно да ну да это да у них-то все а у нас
а у нас все или но может может и нет мы же не знаем да ну как называется вот это есть хотя
да если бы взяли университет кап могли бы сейчас быть на их месте так вот так что получается вот
серия мы доказали то есть оказывается что-то множество игр оно оказывается неинтересно
игрывают бывают только не мы и вот это все других игр не бывает в природе ну нет скажем так да
рассматривая детерминированная равноправные игр на графах да хотя конечно любые игры можно
свести к хотя практически любую детермируемую игру на самом деле особенно там можно свести
так и равноправно игре на графе конечном или бесконечном да если это да да может и никакой или
какая-то неопределенность да нету по сути да нет по сути до шахматы сводится конечная до конечной
игре да нет ну а нет а циклической энергии получится нет а циклический не получится потому
что фигзи могут туда сюда ходить а ну в этом плане да нет ну там да там есть конечно позиция
что да если какая то есть возможно есть какая-то позиция повстретилась уже третий раз туда еще
там что там еще есть что-то еще есть нет но да нет там еще более большая отсечка что если за 50
ходов никто никого не съели и не было ходов пешками то объявляется ничья до в некоторых
эндшпелях это подлянка что типа игра выигрышная но за 162 хода нет у меня в том смысле кстати
была вообще такая интеллектуальная игра на самом деле на типа игра на высокоуровневость то есть
задача то есть если у вас осталось на доске там 5 там 5 6 или даже 7 ходов игра в этом месте
прекращается мы в этом месте влезаем в комп и выясняем кто выигрывает но да
но да нет это тоже может быть интересно да нет это может потребствовать сейчас как бы это
игрок требует просто какой-то технике потому шаговеды пыша классический пример а вот там
то есть это если у того если у одного игрока остался короля у другого короля два коня то есть
формально говоря в общем случае мат поставить нельзя но это но это сильно в общем случае то есть
на самом деле в отдельном множестве позиций может быть даже достаточно большом замотывать
вполне можно и там ходит видюшки в интернете сердей корякин знает как ставить мат двумя конями
и там собственно показывает как он это делает вот мне ну не за 102 ну за 102 вам никто не даст
нет там всякое но можно как бы разминаться попроще в русских шашках есть вообще задача если у вас
там ты там если у вас три дамки у противника одна то у вас да вам дается 12 ходов на то чтобы
съесть за 12 ходов не съели вам ничья вот но это на самом деле требование знанием отчасти потому
что есть технология который называется треугольник петрова которая там максимум в лучшем случае
за 11 ходов в общем случае называется вам даст победу но это просто из цикла надо знать но но это
но но но это условно условные цикла как для вас это из цикла чтобы победить на олимпиаде надо
знать как писать дфс например ну или там ну или там да он и так далее ну ж понятно нашу на
высоком уровне на задам понятно хотя да если вы не знали как писать дфс лидер его отрезков
вы просто тут не сидели сейчас ну и чего да да нет уж дфс и дерево отрезков вы уж точно
ставите ну как повезет нет но там ну про но там примеры такие можно приводить но там вот
знаете вопрос не не но пойти все рассвечи такая на всякий самом тогда но можешь вспомнить это что
на регионе на регионе задача с конлайн была так так что мы должны были еще этотUSTIN
006 а Along normally нет почему бы нет нет ну нормально то есть да есть как бы регион проверил что знаете
это это это теперь от вас потребовали более продвинутые соображалку почему бы нет ну то
есть не попонятно же что не будут давать то же самую задачу как вы давали на регионе даже
идеи, потому что понятно, что да, прошедшие уже умеют их решать.
Ладно, давайте надо теперь финализироваться, ну вот теперь давайте
теперь подойдем к этому вопросу как программисты и теперь будем решать
стандартную задачу. Да, но несколько там два-три графа, 100 тысяч вершин, 200 тысяч
ребер в каждом. Скажите, пожалуйста, чему равна их сумма, а желательно лучше
интерактивная задача там называется обыграть интерактор,
ну если это возможно, конечно. Нет, ну почему, ну как бы, да, ну как
сказать, ну, нет, ну все понятно, то есть интерактор будет звучать так, вам даются
графы, вы говорите, игра выигрышная, проигрышная и ничейная. Если она выигрышная
или проигрышная, значит вы начинаете играть за того, как выигрывает, и
интерактор пытается, и ваша задача завалить интерактор. Если игра ничья, то на
оборот, например, интерактор заявляет вам, за кого он будет играть и, собственно,
тогда там ваша задача за сколько-то ходов не проиграть. Вот, скажем, то есть вот
такая красота. Вот, но для этого, конечно, в каждом графе надо аккуратненько
применять вот вышеуказанный принцип и выяснить, является ли, то есть для каждой
вершины расписать какая она нимбер, если вот, ну и все. Ну потому что, да, как мы уже
поняли, если мы все нимберы нашли, то для каждого нимбера мы знаем, какого типа
бесконечности она является. То есть надо просто нарисовать вот эту петлю и
нарисовать рёбра во все нимберы, в которые рёбы ведут. Понятно, да? Ну а дальше, а там, если у вас надо
суммировать игры, то вы их суммируете вот по этому принципу. Понятно, да?
Да, ух ты. Она решается за ОАТН, если вы умеете за ОАТН применять этот принцип.
Но давайте думать. Итак, давайте вспоминаем теоремы 9 и думаем, как ее применять.
То есть как следить за тем, куда ее можно применить. Ну начнем, на самом деле, просто
сжатного соображения. То есть, как я уже сказал, заметим, что бесполезно ее применять для случаев, то есть, как бы, если мы
знаем что-то про какие-то ходы в нимберы, то игнорировать их бесполезно. Почему? На самом деле, идея
так. Но давайте вспомним, в чем она заключается. То есть мы, то есть у нас есть какие-то игры,
которые ведут в разведанные нимберы. И 1, и 2, и К. А также B1, и так далее BL.
И так, значит, очень хочется, ну как бы, чисто теоретически попытка применить в лоб. Попытка
применить в лоб этот нимбер звучит так. У нас есть, значит, мы вычисляем честно ним, то есть вычисляем
мекс из вот этих всех разведанных нимберов и выясняем верно ли, что из каждой из этих позиций у
нас ведет ход в ним и за камней. Это попытка применить нимбер в лоб. Правда? Теперь у нас есть
какая-то вопрос. Предположим, что мы попытались и у нас не получилось. Ну там, в самом тупом варианте,
допустим, в каждой бэшке мы храним хэшмап на все нимберы, куда мы можем сходить. Вот. Так вот,
внимание, вопрос. Хорошо, предположим, что не получилось. А может ли тогда, может ли быть так,
что мы сейчас какие-то ашки заигнорием и после этого неожиданно выяснится, что применить принцип
все-таки можно. То есть неожиданно выяснится, что мы сейчас поудая вот некоторые ашки заигнорием,
да, и выяснится, что и превратится в и штрих, то есть вот мекс вот этого вот, да, и выяснится,
что оказывается а эквивалентно этому и штриху. Как вы думаете, может ли быть такое?
Да, то есть заметим, что от того, что мы выкинули числа, мекс может только уменьшиться. Но если он
уменьшился, то игра а эквивалентно этому нему быть не может, потому что как бы в игре а плюс
звездочка и мы в тот не могли пойти. Вот. Что случилось? О, господи, что случилось?
Окей. Так, начнем смотреть. Вот, но если он с другой стороны и штрих могла остаться той же,
то есть получается имеет смысл такое только рассматривать, только да и штрих остался тем
же мексом. Но тогда получается нам просто для больших игр только надо проверить, есть ли ходы в
и. И даже, то есть, а мы уже раньше проверили, что для какой-то бэшки нельзя. То есть вывод очень
простой. Игнорировать имеемое у нас уже в кармане нимы смысла не имеет. Потому что не может так
оказаться, что а эквивалентно нему из и штрих. Доказательство такое. Да, потому что просто есть
ход. То есть мы его заигнорили, но это не значит, что его нет. Вот. То есть получается, значит,
применять этот ним выгодно именно так. Но смотрите какая еще у меня идея возникает. Хорошо,
говорим мы. Значит, хорошо, говорим мы. Ну вот. Значит, тогда идея такая.
Значит, вот у нас есть какое-то множество нимов. Оно в процессе может меняться. Да. Вот. Ну тогда
идея такая. Смотрите. Вот у нас сейчас вот и это мекс, и мы пытаемся применить принцип. Ну теперь
маленькая приятная вещь. Если заметим, что можем ли мы применить этот принцип. Если мы сейчас
применить принцип не можем, то тогда интересная вещь, что если у нас после этого сразу появится
какой-то нимбер с числом больше, чем и, то на как бы применение принципа к вершине а это никак не
отразится. Так, ладно, слишком австрактно сказал. Ладно. Потому что лучше, лучше я тогда пойду по
другому. Сейчас я просто расскажу каким образом я хочу теперь этот принцип применять. Потому что
начну я с того, что найду, потому что я буду делать следующим образом. Я попытаюсь найти все нимберы равные
нулю. Как я это буду делать? Ну на самом деле я это буду делать идентичной ретроанализом. Ну потому что
что такое применять принцип? То есть я буду пробираться по всем вершинам, у которых мекс
равен нулю и применять и пытаться применять принцип к ним. То есть если у меня мекс не 0, то я этот
принцип временно применять не буду. После того, как я закончу применять принцип на 0, я начну таким же
образом применять принцип на 1. Буду применять до тех пор, пока могу. Ну почти, но давайте сейчас вот
идейно. Сначала я найду все нимбы из нуля камней. Потом попробую применять этот принцип, только
если он даст мне нимбер из нуля камней. Я буду применять так. Я смотрю на вершину. Если у меня мекс равен нулю,
значит пытаюсь применять. Если он не равен нулю, значит я игнорирую эту вершину. И вот применяю,
применяю применяю и вот выяснилось что меня больше никого ни у кого не вернули
выкопать из текущих данных не могу тогда я говорю что теперь давайте попробую
найти ним беретим то есть буду берет по вершинам и пытаться для каждый из них
показать что она не беретим понятно да буду тоже делать пока могу потом то же
самое сделаю 2 3 4 5 6 и так далее я остановлюсь если я кстати для какого-то
нимбера к выяснится что я не нашел вершины нимбера с нимбером к то я
остановлюсь почему потому что если они нашли потому что для того чтобы я
нашел вершину с нимбером 179 я должен найти хотя бы по одной вершине с нимберами
0 1 2 3 4 и так далее до 178 и правда вот так вот я утверждаю я пока не буду
говорить как конкретно я это буду делать но я заявлю неожиданную вещь я утверждаю
что этот процесс даст мне все нимберы то есть после того как я закончил и ты
шаг я нашел все вершины у которых нимбер равен 0 1 2 и так далее да и я
ничего не пропустил
внезапно да да это может показаться странным потому что может оказаться что
я там сейчас прямо сейчас например на 57 не нашел но потом пошаманился еще
поприменял принципы и выяснится что на самом деле потом нимбер на 57 я вполне
могу и найти из каких-то да но я говорю мы пробираемся по всем вершинам и
пытаемся то есть у меня в каждом времени есть число и да я пробираюсь по всем
вершинам и для каждой вершины пытаюсь проверяю во-первых верно ли что у него
мекс равен и во-вторых если да то верно ли что из всех вот этих вот то есть
всех вот этих вот вершин их либо 0 либо из каждой из них есть ход в нимбер и
вершины если есть то я объявляю что это вершина и так вот я делаю такое для
всех вершин да в любом порядке потому что я пробираюсь по всем вершинам это
проверяю если хотя бы одна вершина нимбером и стало значит я пробегаюсь
еще раз да пока в тупую пока в тупую да пока в тупую еще раз и еще раз до тех
пор пока не получится да и вот я выяснил что нимбер и к языка мне я выжить не могу
тогда и увеличиваю на 1 и теперь выжимаю то же самое для и плюс 1 как только у меня
очередное число не выжилось то я прекращаю алгоритм потому что дальше я
точно ничего не выживу хотя бы сказать вопрос почему тогда я утверждаю следующее
что после того как я сделал и ты шаг я нашел все нимберы от нуля до и
ну на чем просто с базы почему это может быть так потому что заметим что для нуля это точно
верно почему потому что для нуля я проверяю что да практически да потому что для нуля ну то есть
потому что ну для нуля я делаю так то есть мекс должен быть равен нулю для этого для этого
необходимые но так как у нас других нимберов нет то по сути это означает что у нас нет ни одного
хода в ним из нуля вот то есть получается у меня должны ни один ход не должен быть нимбером 0 но
из всех этих вершин должен быть ход в нимбер но это буквально ретроанализ на выигрышные
позиции правда нет слушать давай не дай не мыслим над всем одновременно то есть как бы
дайте да вот давайте спокойно значит смотрите то есть хорошо нимберы 0 мы так нашли а почему
мы нашли таким образом нимбер один
ну нет ну в будущем будет да но давайте тогда почти но давайте смотреть
но давайте нет но давайте так процесс будет такой значит мы утверждаем смотрите верно утверждение
следующего шерчена с момента как мы начали искать единицу мы точно знаем что мы ни к одной вершине
не применим нимбер на ноль правда то есть просто если мекс равен нулю то можем сразу идти отсюда
а теперь с единицей да но тогда что нам говорит наш при нот то есть будем применять этот принцип
допустим мы его применили и больше применить не можем тогда временно мы его применять
прекращаем да но может так случиться что мы в будущем там применяем какой какие-то принципы
принципы принципы и может так оказаться что после того как мы применили очередной принцип
выяснилось что какой-то нимбер на единицу таки сработал но давай но вот но я утверждаю что на
самом деле этого не произойдет по камере наш алгоритм гарантирует что этого не произойдет
почему смотрите как потому что смотрите после того как мы применили принцип на единицу у нас
остались некоторые вершины у которых вот мекс равен один да и вот и бешки остались да вот
видите да и мы знаем про какую-то ипп и мы про какую-то из этих бешек вот
б2 на пирту познаем что из нее хода в ним из оденут из единицы нету да так вот я утверждаю
что если мы будем применять этот наш принцип на будущие номера этого никогда и не появится
почему ну потому что но вот ну просто потому что то есть действительно этот
принцип нам применить никогда не удастся просто потому что но что может поменяться
потому что если потому что если из этой вершины не ведет ходы в разведанной ним из один векшин
чтобы эта диспозиция поменялась нам нужно чтобы у нас нимбер из единицы появился вот
ну то есть но правда опять же может быть там он по индукции то есть для того чтобы тут
появился но дошум он тут появился может он как-то может появиться да да как бы вот это да вот
некоторые вот да проблемы зацикываем логики конечно налицо но давайте так но на самом деле
тут логика такая на наша задача не доказать что это принципиально невозможно доказать что
принцип не для одной вершины применим не будет то есть я хочу доказать так что мы применяли наш
принцип я утверждаю что если прояв какой-то момент и нимбер на то есть мы там выжили все нули и после
этого выяснили что принцип на единицу не применим то не будет применим никогда сколько бы не
применяю потому что мы будем пользоваться тем что мы дальше применяем принцип только на два три четыре
и так далее да то есть заметим следующее что тут очень важно что мы уже применили все принципы
на 0 да потому что почему мы не можем применить к вершине принцип на один либо потому что у
нее есть вот такая такая вершина бесхода в единицу либо у нее мекс не равен единице да ну то есть он
равен нулю но потом мы неожиданно нашли нули мекс стал равен единице да но так как мы все нули
нашли то мы у каждой вершины теперь мекс получается либо 0 и это навсегда либо один либо больше да то
есть максимум тогда если вершины сейчас уже мекс больше одного то он навсегда больше одного
если он один то может единственное что произойти мы выясним что мекс на самом деле не больше чем
один поэтому она точно ему не эквивалентно правда а пока мекс равно один мы к ней принципы не
применим почему потому что единственное почему мы не можем его применить это вот по этой причине а
эта причина никогда не справится то есть смотрите получается что наш алгоритм гарантирует что после
того как мы проделаем все вот это вот безобразие мы при не применим принцип больше никогда не на
0 не на 1 понятно логика да а может быть нам удастся применить принцип на два но логика абсолютно
та же то есть мы потому что так как мы у нас никогда новых ноликов единичек не появится то
двойку мы сможем применить только на вершину которых мекс равен 2 уже сразу после окончания
единички потому что если после окончания нолика единички мекс не равен два значит он мекс не
будет равен два уже больше никогда но тогда опять логика та же то есть получается единственное
почему мы в такой вершине можем применить при принцип на два значит у нее есть бэшко из которой
нет ходов два нет да но да да да да поэтому мы сейчас поэтому и вышли за цикл репса
аккуратно доказав что после того как мы проделали этот алгоритм мы никому и нишу не применим да
да то есть просто надо просто аккуратно доказать что больше ничего не применим остается только
чисто практический программистский вопрос а как собственно теперь эти принципы за адекватную
асимптотику применять что но если в тупую току ну типа да ну потому что смотрите да ну давайте так
но я утверждаю на самом деле следующее если реализовывать это аккуратно то и ты шаг можно
сделать за в плюсе аналогом ретроанализа потому что идея такая ну потому что как сделать нулевой
шаг ну нулевой шаг это чисто ретроанализ да а теперь у меня идея такая и ты шаг а теперь
предположим что я сделал шаги от нуля до и минус один да теперь я сделаю и ты шаг как сделать
это шаг а очень просто у меня будут смотрите во первых у меня будут вершины вот я назову вершину
и хорошей точнее и потенциальной если что термин не стандартно я его только что выдумал значит и
вершина будет и потенциальная если у нее сейчас мекс равен да то есть я забыла плюс я могу все
мексик часто посчитать я знаю что только такие вершины к таким вершинам я хочу применять
принцип да а еще я буду называть вершину знаете и выигрышной если из вершины есть ход в разведанный
а и потенциально и на самом деле должен был написать красным маркером уже догадываетесь почему
да потому что я сейчас буду делать такой ретроанализ такой смотрите значит я смотрите я хочу
найти все и выигрышные вершины и все и потенциальные ну по сути у меня цель найти все но вообще из
потенциальных у меня задача применить ко всем принцип правда а если я премьер но вот но значит
смотрите но принцип я могу применить если у меня как бы мекс равен и и из всех и все не нимберы
являются и под нот и выигрышными да но вершины являются и выигрышно вот если есть мимберы вы
но тогда у меня идея такая давайте-ка я прямо сейчас найду все вершины которым я ну то есть
пока у меня изначально у меня нет ни одной и потенциальные вершины да куча есть и потенциальных
но ни одного нимбера и нет но если у какой-то вершины оказывается вот этих бэшек нет вообще то я могу
объявить что она нимбер из-за камней правда так что я делаю давайте я делаю так я запихну все
эти вершины в очередь понятно да я запихну все эти вершины в очередь а потом буду доставать
каждую такую нимбер из очереди и все вершины из которых не ведут ребро я буду объявлять и выигрышными
логично да и добавляйте в очередь потом когда я буду вставать из очереди и выигрышную вершину
то что я буду делать я буду просто я буду просто как бы убийца удаляет там удалять
со то есть я буду типа удалять соответствующие ребра ведущей в нее и при этом когда удаляю
выясняю что если какой-то и потенциальные вершины все ребра именно имберы торжественно
исчезли то значит в этом месте я объяснял что это объявляschool это не просто и потенциальная
вершина, а это еще и просто нимбер из-за камней, нет, ну до память потребуется,
как минимум на очередь, ну то есть нет, очередь потребуется,
поддерживать количество бэшек, поддерживать потребуется,
нет, ну смотрите, на и там шаге все гораздо проще, мекс не надо поддерживать, надо просто
пробежаться за v плюс e и честно вычислить мекс, либо он где-то равен и где-то не равен,
да, можно в принципе поддерживать явном виде, но это возможно даже просто, может просто сделать
ненужное усложнение реализации, нет, ну так и так, вершина могла быть и потенциальной,
но выяснилось, что, но потом мы ее вынуждены будем лишить этого статуса, если выяснится,
что там какая-то бэшка оказалась нимбером из и, вершина является чего, ну конечно,
да, понятно, что она не может получить два нимбера, вот, то есть вот получается так,
то есть на самом деле да, остается только пока еще не совсем аккуратно, мы конечно доказали,
что таким образом мы все, мы этот принцип на и реально применим, хотя с другой стороны мы в
каждом момент времени, вот, то есть на самом деле да, то есть как бы если для проигрышных вершин мы
действительно это там доказали и так далее, вот, то есть здесь это конечно там применилось не очень,
но в худшем случае видимо придется доказывать, что так все, что больше после этого шара не
существует игр виды проигрышных игр типа а плюс звездочка и, ну просто потому, что если этот
процесс их как-то пропустил, то значит, ну потому, что значит давайте из этих а плюс звездочка и
давайте выберем как всегда игру проигрышную за минимальное число ходов, да, то есть которая вот
таким бфсом не нашлась и после этого тогда выясним неожиданно, что значит тут у нас, то есть
почему мы не применили значит потому, что да, если это игра еще и с мексом равным и да, то есть вот
у этой игры мекс равен и, вот, то есть если это мекс равен и, тогда почему мы не смогли применить
принцип, потому что из какой-то б, потому что у нее есть ход в какую-то б2 плюс звездочка и, из которой
мы звездочку и не нашли, да, понимаете, да, вот, но с другой стороны, зая, ну вот, то есть такая, такая, такая
видимо существует, но теперь вычекает вопрос, как может выглядеть теперь выигрышный ход отсюда,
но выигрышный ход отсюда может выглядеть только как звездочка и плюс звездочка и других выигрыш,
все остальные ходы ведут вне проигрыш, правда, потому что это неопределенность, нет, ладно, вру,
это неопределенность, да, согласно нашему алгоритму на текущий момент, это б, все, что мы знаем,
она, если и нимбер, то не менее, чем и, да, но если она была бы нимбером, то это был бы выигрышный ход,
а эта игра не была бы проигрышной, да, а если бы это, но вот, вот, но с другой стороны, если бы,
но вот, но с другой стороны, да, единственное, что может быть, это игра, конечно, может оказаться
просто нимбером более высокого порядка, про что мы что-то не знаем, да, понимаете, да, но тогда
утверждение такое, на самом деле, в принципе, глобально верно, что из любой, что, как бы, из любой
игры с нимбером равным 179 можно сделать ход в игру эквивалентом с нимбером 57,
но логично, да, ну, потому что, как бы, в игре нимб 179 плюс нимб 57 есть только один выигрышный ход,
он же точный ход, 57 плюс 57, правда, то есть в эквивалентной игре, значит, тоже надо сделать так,
чтобы эта игра была нимб 57 плюс нимб 57, иначе это не проигрыш, да, вот, то есть, значит, вы,
значит, вывод такой, значит, из этой игры мы вынуждены каким-то образом, значит, раз, если
пойти только не и плюс и других, и такого нет, значит, получается, мы нашли игру вида, значит,
либо этот ход был, и мы его знали, но если мы его не знали, значит, у нас тогда нашелся еще один
нимбер из-за камней, про которых мы ничего не узнали, но мекс у него по-любому должен быть равен и,
логично, да, вот, следовательно, поражение, вот, так что вот такое, так что такое вот доказательство
получилось или не получилось, но по проигрышным нечейкам мы, конечно, опирались на более точные
какие-то вещи, мы там опёрлись на то, что давайте у нас будет, короче, там, короче, это какая у нас
будет длина игры, если проигрывающий проигрывает долго, выигрывающий быстро, тут тогда, тут, да, тут,
тут просто слёты не очень понятно, как модифицировать это определение, просто так-то, да,
вот, потому что нет, ну, то есть, в принципе, да, то есть, получается, да, то есть, получается,
вот такой, действительно, красивый БФС, то есть, можно, то есть, можно, в принципе, говорить так,
что, предположим, что у первого игрока есть стратегия, ну, вот, нет, ну, точнее, так, пусть у него есть
стратегия, ходи в первой игре куда угодно, кроме меньших неиберов, да, тогда у нас возникает вопрос,
ну, вот, тогда тут возникнет вопрос, что, как бы, второй игрок хочет, тогда хочет его возвращать,
тогда утверждается, что второй игрок тогда может возвращать его в нимбер из-за камней,
и он хочет это делать так, чтобы игра длилась как можно меньше, и тогда, видимо, мы по индукции
действительно аккуратно покажем, что мы всё такое нашли, то есть, сначала мы нашли слои, где просто
ходов в какие-то лишние бешки просто нету, да, ну, там вот это слой типа ноль, потом слой два,
слой четыре и так далее, вот, то есть, разные, по-разному очень можно доказывать, и, видимо, да,
возможно, в этом вопросе на отел вам придется это сделать, вот, да, но теперь, ладно, остается только
маленький, теперь гораздо более простой вопрос, а за какой симпатикой это работает? Да, то есть,
на самом деле, это работает за В плюс Е, на максимальный нимбер. Ну, не совсем, а теперь давайте
подумаем, как-то, ну, да, но теперь маленькая проблема, как вы убедились из этого же принципа,
для того, чтобы у нас игра была нимб 179, из неё должно торчать хотя бы 179 ребер, правда? В чём более
того, они должны внести в нимбы в 0, 1, 2 и так далее 178, но и 178 тоже должно быть 178 ребер, там 177 и так
далее, то есть, на самом деле, заметим, что если у вас есть нимбер К, то у нас в графе найдётся там К
плюс К минус 1, плюс К минус 2 и так далее 1 ребер, то есть, вывод, на самом деле, что этот максим, то есть,
максим на самом деле не превосходит, как уже мы убили, там два корень из двух Е, то есть,
этим точка получается от В плюс Е корней из Е, вот, да, да, очень, действительно, очень, очень, очень это
удобно, ну, то есть, по факту, да, то есть, отдельная песня, сколько там, действительно, максимов будет,
вот, но, соответственно, да, то есть, в принципе, да, если у вас графы там 100 тысяч и выше 200 тысяч
ребер, то, в принципе, то скорее всего зайдёт, но, тем более, что Витяка по константе тут, в общем-то,
решение, вот, так что вот такая разница, вот,
ну, ладно, значит, раз у нас тогда, да, у нас тут даже 15 минут ещё осталось,
так, ну, делать очень просто, ну, смотрите, что делать, ну, во-первых, следующее, так, ну, во-первых,
смотрите, во-первых, то есть, какая у нас сумма игр, если у нас в сумме, допустим, у нас даже много графов,
и мы суммируем, да, игра такая, если, но, как мы уже сказали, стратегия такая, если у нас в этой сумме игр
есть хотя бы две неопределённости, да, то у нас есть нечейная, тогда нечейная стратегия вида тупо
сохраняя неопределённость, то есть, для этого, для каждой неопределённости, то в графе можно
сохранить ход в какую-нибудь неопределённость, да, теперь следующее, наверное, наша программа,
если у нас оказалось неопределённо, одна неопределённость и всё остальное и ниберы,
да, то что нам надо сделать? Надо проксорить все остальные неиберы и проверить, могу ли из этой
неопределённости пойти ровно в этот неибер? Ну, глобально, я это сделаю там, в виде консета или
хэш-сеты, то есть, для каждой вершины, я могу там в сет или хэш-сет записать в какие неиберы,
я могу пойти, вот, вот поэтому, в этом Хэш Сете за единицу за игр 말�е провер Rox. Я могу пойти в
такой нибер то моя мой выигрышный ход тупо туда пойти тупо туда пойти вот а если нет но если
такого нет то тогда мой нот что то то тогда все хитрее тогда мне тогда у меня тогда мне придется
очень аккуратно значит попробовать ну тогда вот но если у меня неопределенность плюс ним из
этой неопределенности в этот ним пойти нельзя, то я должен быть очень аккуратно.
Как я должен это сделать? То есть, я должен, но там надо быть, но там идея такая, если этого
нима в этом множестве нет, куда я могу сходить? То есть, если он равен мекс, то мне просто надо
ходить в такую неопределенность, в которой мекса нет. Я, в принципе, могу это заранее
предподсчитать для каждой вершины, в какую неопределенность мне надо идти, чтобы мекса не было.
Это я могу заранее предподсчитать. А если больше мекса, то идея просто в том,
что давайте тем или иным способом сходим просто в мекс. Ну, отдельная песня, как это сделать,
если у меня не один ним, а много нимов. Но, на самом деле, утверждение, что так или иначе, то есть,
на самом деле, если у меня мекс, утверждение такое, если у меня мекс равен чему-то, вот аналогично
предыдущему принципу, кстати, мекс равен чему-то, то я могу получить, если у меня есть несколько
нимов в сорах равен чему-то, то любое меньшее я получить точно могу. Доказательство будет вот
ровно так же, как там было. То есть, в принципе, скорее всего, если у вас константное количество
игр, дальше вы просто перебираете, предположим, что я делаю ход именно в этой игре, тогда я
высчитываю, к чему она должна стать. Если получилось меньше, значит, я этот ход делаю. Остается только
мне свести задачу, что данная игра нимбер, которая равен 179, и мне нужно сделать в ней ход, чтобы
ее нимбер стал 57. Но это с помощью того же мапа делается. Но, кстати, ровно так же теперь ведется
игра, что если, то есть, как бы, если у меня все нимберы, теперь все игры нимберы, но тогда опять
задача та же. То есть, у меня данный нимбер эксор равен не нулю, я должен сделать ход так,
чтобы эксор стал равен нулю. Но самый тупой вариант обычно это перебери все игры и посмотри,
можно ли из него, можно ли уменьшить это число так, эксор равен нулю. Если можно, значит,
тогда у тебя задача. Данная игра с нимбером равным 179, сделай нимбер, который равен 57. Понятно,
но с помощью вышеуказанного сета это делается. Обычно я, честно говоря, встречал только эту задачу,
то есть задачу только в виде редакции, что даны два графа на 100 тысяч вершин и 200 тысяч ребер.
Поэтому, в принципе, это можно рассмотреть в случае, хотя, как бы, если бы у нас графов было
много, то, конечно, было бы, то есть, может быть, еще было бы о чем подумать. Завершим мы тогда это
все, раз успеваем такой одной действительно красивой игрой, называется нимбер-поддавки.
То есть представьте, задача только нимбер на многих кучках, конечно. То есть дана классическая
игра, то есть дано несколько кучек, да, может быть, там количество камешков не равно, а 1,
а 2 и так далее, там АК. За один ход выберете произвольное, не нулевое количество камней,
но ровно из одной кучки. Но на этот раз тот, кто не может сделать ход, выигрывает.
Потому что с проигрывать мы все поняли, да, что с проигрывать все понятно. Если к 40 равен нулю,
то мы проиграли, если к 40 не равен нулю, то мы выиграли. Понятно, да? А если тот,
кто не равен нулю, но кто получит ноль, выигрывает.
Да, есть такое. Да, смотрите, то есть давайте анализировать. То есть если у нас одна кучка,
да, вообще просто одна кучка, то есть там, то есть давайте кучка у нас вот А1, А2 и так далее АК,
да. То есть давайте так, если оказалось, что К равно 1, то тогда оказывается, смотрите какая
ситуация, что если А1 равно 1, то эта позиция проигрышная, а если А1 больше единицы,
то игра автоматически выигрышная. Ну вот. А давайте поанализируем с двумя кучками.
Да. В смысле? Да. Ну давайте рассмотрим.
Ну давайте так, смотрите. 1 плюс 1, это игра выигрышная или проигрышная?
Не, выигрышная. Ну, заметим, что игра, когда стоит только из единицы, она фоксированная,
правда? Хорошо. А теперь смотрите, 1 плюс нечто больше единицы. 1 плюс что-то больше единицы,
как вы думаете? Когда она выигрышная, когда проигрышная? Есть ощущение, что она выигрышная,
тогда что-то большее, но нечетное. Ну давайте так, что можно сделать в 1 плюс 2? Да. Нет,
на самом деле, да, эта игра очень тупо выигрышная, потому что я просто забираю всю эту вторую кучку и
радуюсь. А вот теперь интересно, а если больше единицы плюс больше единиц?
То есть смотрите, тут какая подлянка. Никому не выгодно оставлять ни один камень, ни ноль
камней, правда? Давайте наметим, что у нас 2 плюс что-то больше единиц, это проигрышная игра.
Еще два плюс что? Не, ну то есть выгодно так, смотрите, как устроены здесь ходы? Ходы устроены
так, что ни одному игроку не выгодно из одной кучки оставлять 1 или 0 камней, потому что он
оставит тогда либо 1 плюс больше 1, да, еще вот ответим, что у нас есть такая позиция, то есть
позиция больше одного выигрышная, позиция 1 плюс больше одного тоже выигрышная. Значит, получается игрок,
если он хочет не проиграть, он должен оставлять только, только сохранять больше 1 плюс больше 1,
но тогда получается оста... ну вот то есть остается только их действительно аккуратно сравнивать. То есть
если они, значит, х равен игрок, то это проигрышная, если х не равен игроку,
то игра выигрышная. То есть X равен игроку, второго игрока есть просто симметричная стратегия.
То есть смотрите, он играет в ту же самую симметричную стратегию, но до тех пор,
пока противник не оставит одной кучке 1 или 0 камень. То есть в этот момент он, конечно,
неожиданно вспоминает, что он играет не в старую игру, а в новую и делает правильный ход.
Вот. Хорошо, с двумя кучками разобрались. Так, а давайте подумаем, что у нас будет с тремя кучками.
Так, ну давайте как всегда. 1 плюс 1 плюс 1, это что? Так, хорошо. А 1 плюс 1 плюс что-то?
Да, мы можем оставить 1 плюс 1 плюс 1, хотя нет, наоборот.
Ну да, то есть это все равно выигрышная. Так, хорошо. 1 плюс больше 1 плюс больше 1,
что при нее можно сказать.
Так, еще раз.
Ну да, то есть тогда получается, да, действительно, то есть это называется выигрышной,
если х равно игр. Так, а если х не равно игр, то что?
Ну да.
Ну симметрично. Ну мало ли. Смотря, что тот вопрос как бы что убрать?
Ну давайте так. Вот давайте, да, давайте просто посмотрим. Хотя бы давайте. 1 плюс 2 плюс 3.
Это что такое? Да, мы внезапно почему-то проиграли, потому что единственный ход,
который не ведет нас в позицию 1 плюс 1, потому что делать из двойки единицу или ноль или из тройки
делать единицу и ноль, это прогресс автоматически, правда? Вот. Единицу убивать, как мы выясняем,
тоже плохо. Значит получается единственный ход у нас остается, это 1 плюс 2 плюс 2. Ну вот,
но здесь мы просто убиваем единицу и дальше выиграем. И дальше выигрываем, короче. Вот,
значит 1 плюс 2 плюс 3 проигрыш. Но заметим, что 1 плюс 2 плюс что угодно больше трех это автоматически
выигрыш. Так. Правда заметим, что и 1 плюс 3 плюс что угодно, это тоже выигрыш, обратите
внимание. Потому что мы можем сделать 1, 3, 2, потому что мы можем сделать 1, 3, 2.
Чего? Да нет. Сейчас давайте. Вы думаете? Да, ну я вам сразу подскажу. Давайте 1 плюс 4 плюс 5. Ну-ка
расскажите мне, как в этой позиции выигрывать? Ну, если ты мне сделаешь 1 плюс 1 плюс что-то,
то я выиграл. Если ты мне сделаешь 1 плюс 2 плюс что-то, я тоже выиграл, потому что я 3 сделаю.
Понятно, да? Если ты мне сделаешь 4 плюс 5, я тоже выиграл. Следовательно, ты как бы должен
мне сделать что-то выше 1 и 2, да? И следить, ну вот. Ну вот. Но утверждение на самом деле такое. То есть
в остальных ходах, пока ты будешь так опасно выходить, я тебе аккуратно, я тебе просто симметричные
стратегии сведу 1 плюс 2 плюс 3. Ну там ты мне теперь с четверки заберешь, я тебе двойку дам.
Нет, ну тут, конечно, отдельно. Вообще интересно, конечно,
преследовать и вывести, но жалко, когда время заканчивается. Поэтому, ладно,
спалю достаточно парадоксальный ответ. Подсмотрите. Нет, все еще круче. Вот смотрите,
допустим у вас, если у вас тут, допустим, к1, то как бы эта игра у нас к чему равна? Она выигрышная,
если к делится на 2, если проигрышная и к не делится на 2, да? Если у вас 1 плюс 1 плюс 1 плюс и так
далее плюс 1 плюс 1 больше 1, то есть вот тут их к минус 1, да? То эта игра, как мы уже поняли,
заведомо выигрышная всегда, потому что я могу от этой кучки оставить либо 1 либо 0,
подогнав нужную мне четность, правда? Точнее, ненужную противнюю кучу. А теперь неожиданная фишка.
Смотрите, а теперь к задаче. Предположим, что у меня, допустим, L единиц и есть больше одного
плюс, значит, там больше одного и это я тоже делаю там L штрих раз, в чем L штрих больше либо равно 2.
Тогда смотрите, наша цель, казалось бы, да, сделать, то есть надо, то есть понятно,
что рано или, то есть как бы смотрите, то есть наша цель сделать, то есть как бы тот,
кто сделает противнюю, кто первым сделает ситуацию, когда больше единицы ровно одна,
тот проиграл, правда? Это понятно, да? Вот, но заметим, чем интересна эта ситуация. Заметим,
она интересна тем, что XOR этих всех чисел всегда больше нуля, правда? То есть смотрите, мимо этой
ситуации мы точно не пройдем никогда, правда? Вопрос только будет сколько единичек, да? Вот,
но при этом XOR этой ситуации всегда больше нуля, отсюда выводится фантастически парадоксальный вывод,
что оказывается результат вот этой игры такой же, как и в неподдавках. То есть эта игра выигрышная,
если XOR не равен нулю, проигрышная иначе. То есть стратегия оказывается такая, мы подсовываем
противнику ситуацию, когда XOR равно нулю. Тогда рано или поздно, просто ждем ситуации, когда
противник нам подсунет ситуацию 1 плюс 1 плюс 1 плюс больше единицы, да? Это будет именно противник,
что мы пока вот этих L больше либо равно 2, мы всегда будем вставлять L больше либо равно 2,
понятно, да? Но как только противник нам оставит только одну больше единицы, тут же мы из этой
больше единицы делаем нужную нам счетность и выиграем. Все. То есть вот такой неожиданный парадокс,
что поддавки оказались не такими уж и поддавками. Вот внезапно, да? Вот. То есть тут суммировать
игры в явном виде так, конечно, не получится, но тем не менее. В чем более того, ну да, то есть
отдельная песня, конечно, то есть отдельная песня, можно еще подумать, а какие, а вот какой,
как вычислить вот таких поддавков? Нимберг.
Ну, правда, тут, конечно, надо оговориться, что видимо придется сказать, что видимо придется
сделать оговорку, что у пустой позиции Нимберг 1. Да. Ну, по сути, да. Вот.
Ну да, получится, да, Нимберг или Лепипет, конечно, получится. Ну ладно, Камерный.
Ну нет, тут действительно интересно, давайте подумаем. Ну давайте так, заметим,
что если у нас просто К1, 1 плюс 1 плюс и так далее плюс, то есть вот К1, то тогда Нимберг,
очевидно, равен чему? Да, равен, ну не совсем, но то есть он равен, значит, нулю, если К не
делится на два, то есть наоборот, и один иначе, если К делится на два. Ну потому что понятно,
1, 0, 1, 0, 1, 0. Понятно, да? Вот. Ну теперь заметим, что на самом деле Нимберг плюс какой-нибудь
х, где х больше единицы, чему он равен? Я утверждаю, что этот Нимберг равен в этом случае тупо х.
Нет, нет, нет, неправда, потому что мы можем убить эту единичку и получить как будто из Нимберга
и сделать ход в Нимберг. Это неправда. Ну с другой стороны, ну вот, нет, ну тут фишка такая,
просто 1 плюс 1 плюс 2, ну что можно заметить? Ну как минимум, Нимберг будет не меньше, чем два,
потому что я могу и в 0 и в 1 спокойно ходить, потому что я из двойки могу пойти либо в 0,
либо в 1, правда? Вот. Ну тогда получается следующее. Ну как бы у двойки Нимберг 2,
у 1 плюс 2 Нимберг получается какой? Потому что я могу пойти как бы в единичку, а могу пойти в 0.
То есть я могу из 2 оставить 0 и 1, и это даст мне Нимберга 1 и 0 соответственно. А 1 плюс 2
получается могу, куда пойти теперь? Могу пойти в 1 плюс 1, могу пойти в 1 плюс 0, это даст мне Нимберга
0 и 1, да? А еще могу пойти просто в 2 и это даст мне Нимберг 2, значит получается тут Нимберг 3.
Так, 1 плюс 1 плюс 2. Так, убив двойку я могу пойти опять же в 0 и 1, да? Убив единицу я могу
пойти в тройку. Следовательно получается 2, да? Ну то есть получается опять 3, 2, 3, 2, 3, 2, 3, да? Ну то есть я не знаю,
то есть пока как будто знаете на что это похоже. То есть вообще это похоже просто на их ксор буквально.
Вот. Вот. Ну тогда остается только убедиться, что 1 плюс 1 плюс и так далее плюс 1 плюс x,
значит дает нам просто 1 ксор, 1 ксор и так далее ксор, 1 ксор х. Просто аккуратненько по индукции убедиться, да?
Ну давайте подумаем. Ну хорошо, для двойки, ну давайте хорошо убедимся, для тройки. Ну из тройки я
могу пойти в 1, 0, 2, то есть 3, да? В 1 плюс 3 я могу пойти, куда я могу пойти? Могу вот сюда пойти
и получить тройку. Могу пойти в 1, 1 плюс 0, это мне даст 0, 1. Получается нет, почему? 2. И получится
тройбан. Нет, ну нет, то есть на самом деле нет. Нет, ну тут просто по индукции, ну вот. Просто дело в том,
что если 1 плюс 1 плюс это, ну вот. Нет, просто тут, понимаете, тут фишка такая, что рассмотрим, то есть
ходы можно сделать туда же, куда и в обычной игре, да? Только разница в том, что раньше у нас были,
просто гарантировать следующее, то есть единственное, что поменялось у нас пока по индукции,
это то, что позиции из, когда все камни только 1 или 0, у нас эти позиции инвертировались,
там 0 и 1 поменялись. Но так как из этой позиции можно пойти туда и туда, то на нее конкретный
мекс, это не влияет, потому что мекс по-любому больше одного. Вот. И тогда получается, что здесь
ксор и в остальном тоже ксор. То есть видите, вот такой парадокс. То есть на самом деле, то есть
оказывается просто есть, то есть поддавки оказываются поменялись тем, что просто, как бы,
в какое-то, просто только в какой-то последний момент надо просто сделать правильный ход,
а до этого момента там все вообще идентично. Так что вот такая вот еще красота. Так, ну логика.
Думаю, кажется, на этом, действительно, на этом наши игры можно и закончить. Так что,
видимо, в следующем семестре, видимо, займемся чем-то принципиально новым,
например, фуриетиной. Так что, да, но для этого вам, конечно, придется постараться издать еще экзамен.
