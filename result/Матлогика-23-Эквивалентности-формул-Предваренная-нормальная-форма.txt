так в прошлый раз мы значит говорили о логике первого порядка поняли откуда берутся некоторые
общезначимые формулы некоторые общезначимые формулы просто получается по таблицам истинности
ну там я не знаю какая такая формула фи влечет фи вот какая бы и фи не была эта формула общезначим
почему чтобы таблицы истинности используйте для вычисления значение логической функции импликации
получается что ноль там или единица значение фе значение такой штуки всегда один понятно мы
построили некую теорию всего этого дела как бы выделили в формуле первого порядка такой
скелет который составлен из логических связок ввели понятие пропозициональная формула то есть
комбинации неких пропозициональных переменных составлены с помощью логических связок а затем
вы эти переменные можете заменить на любые формулы первого порядка в частности мы поговорили о
пулевых комбинациях специального вида дезинктивных нормальных формах и пришли к выводу что каждую
формулу первого порядка можно превратить по сути дела дезинктивно нормальную форму эквивалентным
образом а теперь мы поговорим о тех общезначимых или выполнимостях или эквивалентности все это как
мы помним сводится одно к другому которые от таблицы истинности не зависят а которые выражают но
скажем так некоторые законы вот именно связаны с квантерами вопрос все ли эти законы все ли
это законы исчерпываешь ли их список или скажем так ну понятно что логических истин бесконечно
много но напишем ли мы такой список из которого можно получить вообще все логические истины ну
этот вопрос мы тоже обсудим по сути дело это вопрос об исчислении предикатов о таком минимальном
наборе логических истин ну может не минимальном но достаточно для того чтобы получить их вся сейчас
я этого затрагивать не буду и обсужу логические истины просто с точки зрения их полезности для
работающего математика и так теорема один она называется чтобы не забылась она нам мы ей дадим
название основные эквивалентности это некий список эквивалентностей давайте его составим значит ну
с чего мы начнем начнем мы с того что вот такая формула для любого x фи и пси всегда будет
эквивалент на такой формуле ну это вполне логично вроде бы да если все x и голубые стеклянные это
значит что каждый x голубой что каждый x стеклянный правильно надо понимать что квантор всеобщенности это
как бы такая большая может быть бесконечная канюнкция квантор всеобщенности говорит что и
этот и этот и любой элемент модели удовлетворяет нашему свойству поэтому не удивительно что
квантор всеобщенности дистрибутивен или если угодно коммутирует с канюнкцией двойственным
образом квантор существования дистрибутивен относительно дизюнкция это тоже довольно понятно
следующая группа это свойства связанные с отрицанием ну смотрите значит неправда что для любого x фи
что это такое существует x такой что не фи логично аналогичный для квантора существования нету
такого x который удовлетворяет свойство фи значит ни один x свойство фи не удовлетворяет и следующая
группа самое важное здесь требуется некоторые дополнительные условия смотрите пусть у нас
x не встречается свободно в psi то есть в psi x свободно не входит psi как бы от x не зависит тогда
оказывается мы можем делать вот что вот представьте что есть формула psi и для любого
x фи тогда мы можем взять и вынести этот квантор для любого psi окажется под квантором в принципе
сам этот факт он получается комбинации вот этого и лема о фиктивном кванторе что квантор
по переменной который не имеет свободного хождения можно убрать но более важно что то же самое будет
и для дезъюнкции это уже какой-то такой более содержательный результат то есть если psi не
зависит от x мы можем квантор всеобщенности вынести и за дезъюнкцию двойственные свойства у нас есть
и для квантора существование то есть существует значит psi или существует x фи я могу тогда
существование ну вот вынести но важно что я могу это сделать и для конъюнкции вот понятно какие это
свойства вопрос а что же делать с импликацией ну на самом деле на самом деле у нас есть группа
свойств для импликации опять же пусть x не входит свободно в psi тогда значит когда я выношу
квантор из заключения он у меня остается как был
когда я выношу квантор из посылки это очень важно запомнить он изменится на противоположной
надо просто это запомнить этот факт что при выносе из посылки квантор меняется
на противоположной вот такие вот основные эквивалентности как их доказывать ну на самом
деле естественно надо просто ссылаться на определение истинности формулы а дальше
хотим мы того или нет нам придется применять нашу встроенную логику которая у нас в голове
содержится ну давайте выборочно что-нибудь докажем это скорее не доказательства сведения просто
к естественной логике нашей внешне неформальной ну что докажем какие пункта из первой группы
что-нибудь хотите и старой а вы не хотите старой что может что-нибудь ну пожалуйста например вот
2 а да давайте посмотрим когда значение этой формулы например возьмем какую-нибудь структуру
какую-нибудь оценку когда значение этой формулы ну 0 понятно что если мы докажем что ее значение
тогда и только тогда когда значение этой формулы 0 мы будем молодцы когда ее значение 0 когда
значение такой формула 1 правильно а что это значит а тут возникает неформальный квантор для
любого а из нашей структуры значение phi при модифицированной оценки равно 1 правильно
так значение phi при модифицированной оценки равно 1 а значение не phi значит чему равно
нулю правильно значит какой они возьми это гадость будет нулём правильно для любого а значение
этой штуки 0 а тогда какое же будет значение такой штуки существует x такой что не фи ведь
значение этой штуки один тогда и только тогда когда есть тя который превращает нефи выстинно
а его нет давайте я вам покажу это более наглядно покажу что все сводится к манипуляции вот с этими
внешними кванторами неправда что существует такое а что тут будет один согласно нет такого
но значит значение вот этой формулы получается 0 ну и вот видите 1 0 тогда и только тогда когда
другая понятно давайте что-нибудь докажем из этой группы вы г хотели да это мы потом это выводится
из этих надо третью группу разобрать что из третьей возьмем г давайте г возьмем значит ну
давайте посмотрим что здесь происходит ну вот опять ну вот когда значение такой штуке равно
единицы что это значит да ну как формально то все через оценки определяется истинность формулы
мы доказываем что при любой структуре при любой оценке значение одинаково но как значит ну
смотрите тут у нас конъюнкция да мы понимаем что это единица тогда и только тогда когда
значение psi при оценке p будет единица и значение вот этой штуки при оценке p тоже будет единица
согласно так ну а это в свою очередь означает что но с значением psi пока ничего ничего не
меняется вот здесь это значит что найдется такое м да что фи при модифицированной оценке даст нам
один правильно а теперь я сделаю вынос квантора на неформальном уровне но смотрите ну вот
предположим такое а есть но значение этой же штуке уже не зависит от а значит есть и такое а есть то
есть и такое а что верно и то и другое правильно ну и в обратную сторону подавно если есть такое
то и вот согласны а теперь ну небольшой формальный focus-focus мы пока не воспользовались тем что x не
входит свободно в psi а он не входит правильно как мы помним значение формулы при оценке зависит
только от того как оценка оценивать те переменные которые туда входят свободно вот оценки и и вот
это отличаются в какой переменной только вы все правильно их не входит свободно в psi значит для
переменных которые входят свободно в psi эти оценки на них совпадают правда а по теореме это
означает что значение psi на оценке pi равно значению psi на модифицированные оценки правда
была такая теорема ну значит вся наша бяка значит вся наша бяка бяка слева остается она
эквивалентна чему что есть такое а что значение psi теперь смотрите при модифицированной оценке
равно 1 ну и значение phi при ней же равно 1 понятно но это уже значит что есть такое а что значение
конъюнкции при такой оценке равно 1 дальше просто по определению значит значение формулы существует
при оценке pi равно 1 обратите внимание самую главную операцию вот этот вынос квантер из
скобки я все равно сделал просто сославшись на естественную человеческую логику иного не дано
мы не определяем здесь квантер мы его как сказал бы философски настроенный человек интернализуем
вот был у нас квантер который нас голове мы показываем что вот эти формальные определения
адекватно его отражают все понятно так ну остальное в третьей группе аналогично давайте четвертую
группу да разумно это ну как здесь поступить естественно но тут надо доказать формально
такую фиговинку что можно под формулу заменять на эквивалентную давайте это сформулируем в виде
отдельной лемы вот мы с вами говорили про эквивалентность но мы так и не убедились что
действительно отношение эквалентности эквивалентность формул а между темы это
эквивалентно отношение эквивалентности ну а именно каждая формула эквивалентна сама себе согласна
Помните, как эквивалентность определяется?
Во всех структурах, при всех оценках значения одинаковые.
Но я позволю себе эти свойства не проверять.
Можно?
Всё-таки уже во втором семестре.
Если фи эквивалентно ψ, то и ψ эквивалентно фи.
Правильно?
Какое ещё нужно свойство, чтобы она была эквивалентностью?
Трандитивность.
Т.е. если фи эквивалентно ψ, а ψ эквивалентно θ, то фи эквивалентно θ.
Согласны?
То есть это действительно эквивалентность.
Но она не просто эквивалентность, а она, как говорят алгебраисты, конгруенция.
Конгруенция относительно, относительно логических связок экванторов.
Что это означает?
Означает это следующее.
Если фи эквивалентно ψ, то фи конъюнкция ψ эквивалентно ψ конъюнкция ψ.
Фи импликация ψ эквивалентно ψ импликация ψ.
ψ импликация фи эквивалентно ψ импликация ψ.
Ни фи эквивалентно, ни ψ и т.д. для всех остальных связок.
Понятно?
Но также и для кванторов.
Также еще и для кванторов.
Для любого х фи эквивалентно для любого х фи штрих.
Существует х фи эквивалентно для любого...
Ой, пардон.
Существует х фи штрих.
То есть если я на эквивалентные фо...
Какие-то применюки им операции наши, логические, то эквивалентность сохранится.
Понятно?
Надо это доказывать.
Ну давайте проверим только случай там квантора.
Давайте проверим случай квантора.
То есть получается, что я могу любую подформулу заменить на эквивалентную.
Понятие подформулы и замена ее на эквивалентную можно аккуратно определить
через замену подстановку вместо пропозициональной переменной.
Раз уж мы это ввели, мы могли бы аккуратно определить.
Но я не буду этого делать.
Это несложно, но скорее запутает.
Давайте докажем.
Ну, например, для случаев квантора.
Ну, как это сделать?
Значит дано.
Я знаю, что всегда для любой структуры, для любой оценки...
У меня значение фи...
Я напишу здесь пи штрих, ну так мне хочется.
Равно значению фи штрих.
Это мне дано, правильно?
А теперь я хочу доказать, что значение этой формулы всегда равно значению этой.
Ну, считаем.
Вот я беру для любого х фи в структуре m какой-то при произвольной оценке пи.
Когда это равно единице?
Тогда и только тогда, когда для каждого элемента нашей структуры значение фи вот при такой оценке будет один.
Согласно?
Но смотрите, значение фи равно значение фи штрих всегда при любой оценке.
В том числе и при этой.
Правильно?
Если я в качестве пи штрих возьму вот эту вот гадость,
то у меня и получится, что для любого значения фи штрих при вот этой оценке оно тоже будет один.
Но по определению это означает, что значение формулы для любого х фи штрих оно будет один.
Понятно?
Какое следствие вот этой вот, вот этих лям?
Я неформально напишу, если под формулу.
Тем это интересно, я могу рассказать, как это формально представить.
Если под формулу заменить на эквивалентную, то результат замены эквивалентен,
эквивалентен.
Исходные формулы это очень ожидаемые свойства.
Можете внутри формула любую под формулу заменять на эквивалентную.
Это доказывается индукцией по построению формулы.
Например, вот здесь вот есть под формула фи, правильно?
Ее можно взять и заменить на эквивалентную.
Понятно?
Можно мы не будем в это вникать?
Это важно, если вы пишете прям вот страшно формализованную теорию строите.
Например, такую, которую компьютер мог бы понять.
Но мы с вами этим не занимаемся.
Вы же на матане не пишете такие доказательства, которые понял бы компьютер.
Ничего бы в вашем матане компьютер не понял, я вас уверяю.
Чтобы он понял, надо там пудсоли съесть.
Как, например, компьютеру сказать, что такое число пи?
Может быть.
А как доказывать теорему про число пи, представив его таким алгоритмом?
Что такое вещественное число?
Да, что такое вещественное число?
Есть две группы подходов.
Одна основана на том, что это элемент поля, который удовлетворяет каким-то свойствам.
Но тогда непонятно, что такое конкретное вещественное число, корень из двух пи.
А другой подход связан все-таки с тем, что вы как-то конкретное вещественное число,
как некое бесконечное такое объект, представляете.
Но это трудно все в компьютер ввести, очень трудно.
Так, отсюда практическое следствие.
Очень трудно доказывать, что алгоритмы, которые работают, например, с плавающей арифметикой,
они работают правильно.
Отсюда практическое следствие. Такие алгоритмы часто работают неправильно.
Ну, безусловно, они не могут точно представить вот эти объекты.
Но все, что связано с плавающей точкой, это трудно.
Соответствующая теория, она тоже непростая.
Так, мы хотим доказать вот эти формулы.
Ну, какая из них вас вызывает наибольшее сомнение, чтобы ее доказать?
Вот говорили г, а ваше мнение не изменилось?
Последние две, вот эти?
Ну, давайте, они, по сути, одинаковые. Ну, например, v.
Что я делаю? Ну, вот мне описано, для любого х влечет ψ.
Но мы с вами хорошо знаем, что у нас формула вида a влечет b,
она эквивалентна не a или b, правильно?
Это всегда так.
Ну, в этой эквивалентности мы можем вместо a подставить для любого х, вместо b подставить ψ, правильно?
Значит, получается, что эта штука чему эквивалентна?
Не для любого х или ψ, справедливо?
Теперь я вот эту формулу заменю на эквивалентную.
То есть я применю 2а и следствие 4.
Заменю под формулу на эквивалентную.
Тут, по сути дела, я просто там применил то, что было в прошлый раз.
Убедился, что булевые функции, соответствующие этой и этой булевой комбинации, одинаковые.
Значит, они эквивалентны. Помните, у нас была такая теория, ма?
Ну, вот. Ну, значит, что я делаю?
Я заменяю эту штуку на эквивалентную.
То есть это будет существует х, не fi или ψ. Согласны?
Но теперь обратите внимание, у нас х не входит свободно в ψ.
Значит, квантор существования можно вынести согласно этому свойству 3v.
То, что в порядке они не том идут. Не надо пояснять?
Знаете, что а или b эквивалентно, b или а?
Ладцы.
Значит, применяем 3v, выносим квантор существования.
Получается, что существует такое х, что не fi или ψ.
А теперь я вот эту штуку опять заменю на эквивалентную.
То есть я применяю следствие 4, ну и там, логику высказываний.
То, что было в прошлый раз.
Логику высказываний или таблицы истинности.
Заменяю вот это опять на импликацию.
Ну и то же самое и здесь. Согласны?
Понятно это?
Почему здесь квантор не изменится на противоположную?
Потому что оно не попадет под отрицание.
Тут будет сказано не ψ или для любого х.
Ясно это?
Я бы рекомендовал все эти формулы выучить.
Просто выучить, чтобы знать.
Ну давайте 4г тоже разберем, если не очевидно, что оно аналогично.
Ну пример, а какой тут пример?
Тут все очень вроде бы так общее.
4г, ну смотрите, существует х, влечет ψ, да?
Во-первых, я импликацию представляю как дизюнцию.
Не правда, что существует х, фи или ψ, согласны?
Потом я проношу отрицание под квантор.
Получается для любого х не фи или ψ.
Потом пользуюсь тем, что х не входит свободно в ψ.
Я применяю вот это вот свойство.
Выношу всеобщность наружу.
Выношу всеобщность наружу.
Получается для любого х не фи или ψ.
Затем я это опять меняю на импликацию.
Как вам такое? Понятно?
Ну давайте я попытаюсь интуитивно это пояснить.
Почему квантор меняется на противоположный?
Предположим, вот представьте себе, что существует х, это какой-то ресурс, это деньги.
Вот у вас 100 рублей, если в кармане есть,
то вы можете купить чашечку кофе.
Вот у нас есть такая формула.
Если существует х, такое что х это 100 рублей в кармане,
то тогда можно купить кофе.
Самое это свойство, что можно купить кофе, оно не зависит от х.
Правильно? Можно купить кофе.
Но смотрите, а вам важно, какие именно 100 рублей у вас в кармане?
Нет, для любого х, если х это 100 рублей в кармане,
то можно купить кофе, это справедливо для любого х, понятно?
То есть из существования некого ресурса следует, что вы можете купить кофе.
То, что прямо с этим ресурсом не связано.
Тут х не упоминается.
Значит для любого х, для любого того, что является этим ресурсом, такое верно.
Ну а хочется нам вынести кванторы все наружу, чтобы под ними осталась бескванторная формула.
Почему? Это технически удобно и позволяет сравнивать формулы по их логической сложности.
Давайте как раз в этом направлении мы и двинемся.
Нам понадобится некая лемма, которой я, пожалуй, отложу ее доказательства.
Мы начнем с ее следствия, с более ясного.
Вот с основными эквивалентностями, понятно?
Вот давайте немножко подумаем над таким фактом.
Вот как вы считаете, формула px и py, они эквивалентны?
Правда ли, что при любой интерпретации, при любой оценке они принимают одинаковые значения?
Нет.
Свойство, что х четно, оно конечно не эквивалентно тому, что у четно.
Потому что вы можете представить себе оценку, которую х оценивает четным числом, а у нечетным.
Правильно?
Поэтому эти штуки конечно же не эквивалентны.
А вот формулы для любого x, px и для любого y, py, как вы считаете, эквивалентны они?
Конечно же, да.
То есть, по сути дела, я могу...
Вот эта переменная связанная, она как бы не имеет индивидуальности.
Ее можно переименовать.
Логично?
Но здесь есть гадская трудность.
Трудность это в известном смысле искусственная.
Она связанная просто с тем, как мы определяли формулы.
Трудность такого программистского характера.
Но как программисты, вы должны понимать, что если трудность программистского характера,
это не значит ни то, что ее не надо решать, ни то, что ее легко решить.
Ну вот.
Давайте представим такую формулу.
Вот она нам говорит, я не знаю, для любого x существует y такое,
что я, чтобы у вас сразу были правильные ассоциации,
напишу не p, а напишу меньше.
Ну все равно же какая закорючка.
А ассоциации уже правильнее.
Ну вот такая форму.
Она говорит, что у всякого x есть там типа больше его y.
В натуральных числах такой стандартной интерпретации это верно.
Правильно?
Эквивалентная ли эта формула такой?
Для любого z существует там y такое, что z меньше, чем y.
Естественно она эквивалентна.
Согласна?
Что я сделал?
Я заменил x на что-то другое.
Я произвел переименование в связной переменной, как логики говорят.
А как вы считаете?
Эквивалентна ли эта формула вот такой?
Значит для любого y существует y такое, что y меньше y?
Очевидно нет. Почему?
Потому что эта формула по теореме о фиктивном кванторе эквивалентна такой.
А эта формула, например, в стандартной интерпретации арифметики является ложной.
А раз она является ложной, она конечно не эквивалентна вот этой, которая является истинной.
Понятно?
Что произошло?
Произошло то, что логики называют коллизией переменных.
Коллизия переменных.
То есть, как бы мы, вот знаете, вот здесь вот y связывал вот это место.
А вот это не зависело от y.
А мы переименовали и возникла связь, которой быть не должно.
Изменилась как бы структура формулы и все пошло наперекосяк.
Нам такое не нравится.
Мы хотели бы это исключить.
Есть достаточно надежный способ это исключить.
А именно, переименовывать всегда в переменную, которой формули вообще не было.
Вот как, например, z.
Z не встречалось, мы в нее переименовываем.
Такое условие не является необходимым, но является достаточным.
Итак, мы можем сформулировать такой лему 5.
Доказательство ее отложим.
О переименовании связанных переменных.
Обратите, пожалуйста, внимание, что переименовывать свободные переменные нельзя.
Зарубить себя это на носу.
Студенты постоянно делают ошибки.
Переименовывать свободные переменные.
Это нарушает такая вариантность.
Делать этого нельзя.
А вот связные переменовывать можно.
Но по следующему правилу.
Смотрите, вот если у меня есть какой-то y, который не свободно, не связанно.
Вообще, вообще никак не встречается формуля phi.
Он вообще новый, его нет.
Не было.
То формулы для любого x, phi будет эквивалентно вот какой.
Для любого y, а здесь вместо phi стоит вот такая вот штука.
Сейчас я поясню, что это.
Вместо x подставили y.
Ну и аналогичный для кванторосуществования.
Понятен смысл, Лемма?
Вот что вот это такое?
Давайте поясним.
Пусть у меня phi это формула.
Какой бы то ни было сигнатурой, это неважно.
Пусть у меня phi это формула.
Какой бы то ни было сигнатурой, это неважно.
x это переменная, и t это терм.
Тогда вот таким символом обозначается следующий объект.
Легко понять, что это формула.
Это результат замены.
Результат замены всех свободных, это очень важно.
Всех свободных вхождений.
x в phi на t.
Это довольно стандартная вещь.
Чисто синтоксическая операция.
Замена всех свободных вхождений на что-то.
Подстановка.
Понятно?
То, что подставляется, я пишу над чертой.
Вместо чего подставляется, под чертой.
Как это запомнить?
Встановка 10 по правилам гравитации.
Вы подставили t.
t тяжелое, оно выдавило x, заняло его место.
Но почему-то само не упало.
Там отверстие просто выходное, оно маленькое,
x через него проходит, а t нет.
Что здесь можно сказать?
Давайте сделаем два пояснения.
Первый это пример подстановки.
Второй это формальное определение подстановки.
Это индуктивное определение будет.
Пример такой.
Вот, предположим, фи это такая формула.
π, x, y.
И для любого z существует x такое, что q, x, z.
Ну, не очень хорошо, еще что-то добавимое.
Все это влечет q, x, x.
Понятно, какая формула?
Давайте возьмем какой-нибудь терм t.
Ну, например, он будет такой.
Функциональный символ применили к x, x, z.
Вот что такое результат подстановки t в фи вместо всех свободных хождения x?
Чтобы нам неформально ответить на этот вопрос,
нам надо найти свободные вхождения x в фи.
Давайте их найдем и обведем.
Вот первое вхождение x, a свободно.
Вот это вхождение x, a свободно.
Оно связано к вантерам, а вот это.
Итого три свободного вхождения, правильно?
Значит, что же такой результат подстановки?
Надо x заменить вот на эту штуку.
Раз, заменили тут.
Вот в этой подформуле, где x связано,
обратите внимание, совершенно ничего не делается.
Тут он опять свободен.
Соответственно, тут подстановка происходит.
Понятно?
Понятно, как это работает?
Обратите внимание еще раз на теорему.
Предположим, у – это переменная,
которой никак не встречалась в фи,
свободно не связана, она новая, свежая.
Тогда формулы для любого x, фи эквивалентны чему?
Формули для любого у и квантор навешивается вот на это.
На результат замены всех свободных хождений x, a в фи на у.
Некоторые студенты имеют следующее заблуждение,
но ведь фи-то под квантором по х,
какие же там свободные вхождения х, а?
Так то-то и оно, что вхождение х свободное в фи,
не для любого х, а в фи.
Понимаете, в чем дело?
Не чувствуете разницу?
Вот то, что в фи свободно, я заменяю на у.
Ну вот как здесь?
Вот у меня вот это вот фи,
вот свободное вхождение у, я его на z заменил.
Понятно? Нормально?
Вот это вот фи, а вот это результат замены х, а фи на z.
Нам пригодится также формальное определение подстановки.
Оно индуктивно.
Ну или рекурсивно, это одно и то же практически.
Формально нам надо сначала определить подстановку в терм,
потом подстановку в формула.
Подстановка в терм, вот где s это терм.
Ну как она выглядит?
Чем может быть терм?
Терм это либо переменная, либо констант,
либо он составлен из более простых термов.
Есть ли это переменная?
Есть ли это переменная, которая совпадала с x?
Что получится?
Была переменная x, в ней x заменили на t, что получилось?
Ух ты, наука!
Была переменная y, которая не совпадала,
которая отличалась от x, это другая буква.
Тогда подстановка ничего не поменяла, логично?
У меня была буковка константа,
я сделал подстановку вместо x в константу,
что-то изменилось?
Нет, абсолютно ничего не изменилось.
И наконец у меня был составной терм,
вот он с помощью функционального символа был так построен,
что нужно сделать?
Надо взять f и навесить его
на результаты подстановки в каждой из подтермов.
Логично?
Итак, подстановка в терм определена.
Как же определяется подстановка в формулу?
Как же определяется подстановка в формулу?
Пункт один.
Ну вот если у меня была такая формула,
вот она получалась применением символа отношения к каким-то термам,
там s1, sn, ну формула типа s1 равно s2.
Как подстановка работает?
Какая формула получится?
И дальше в каждом терме я делаю подстановку.
Логично?
Если у меня была какая-нибудь логическая связка,
например, импликация.
Как я делаю подстановку?
Подстановка коммутирует, она перестановочна с логическими связками.
То же самое и для остальных связок.
Понятно?
Ну и случай квантера интересный.
Он тоже разбивается на два под случая.
Вот если у меня был квантер по х,
и я хочу все свободные вхождения х сюда на что-то заменить,
тут есть свободные вхождения х?
Для любого х фе, ну или существует х, понимаешь, что такое?
Ух, ну квантер какой-то.
Есть тут свободные вхождения х?
Что сделает подстановка?
Что?
Да ничего не сделает.
Нечего заменять, нет свободных вхождений.
А если у меня был у, который отличается от х,
как тогда подстановка сработает?
Тогда она просто прокоммутирует с квантером.
Будет у у, а под квантером будет результат
подстановки фе. Понятно?
Вас не шокирует это определение?
Это по сути дела просто правило вычисления вот этой штуки.
Понятно?
Итак, лемма пять.
Пока я оставлю ее без доказательств,
я не хочу возиться соответствующей техникой.
И сейчас я из нее сделаю интересный для нас вывод.
Можно очистить центральную часть доски.
Сейчас мы докажем теорему о приведении любой формулы
к так называемой предваренной или не по-нашему пренексной нормальной форме.
Что вы говорите?
Да, нормальных форм очень много в логике.
И в программировании в других отраслях математики много нормальных форм.
С чем это связано?
С тем, что среди эквивалентных в каком-то смысле объектов друг другу
люди ищут наиболее простой, имеющий какой-то стандартный вид, с которым легко работать.
Это очень естественно.
Определение.
Формула фе без квантерная,
если в ней не от квантеров.
Нужно ли формальное определение индуктивное?
Или понятно это?
Неформальным удовольствуемся?
Так.
Формула фе предваренная.
Если существует без квантерная,
без квантерная финоль,
давайте я не буду говорить, если существует.
А то мне придется сказать, что если существует переменная.
Если фе имеет такой вид.
Квантер какой-то по переменной х1,
квантер еще какой-то там переменный.
То есть идет блок квантеров,
где каждая куита это квантер.
Либо существование, либо всеобщенности.
А финоль это без квантерная формула.
То есть что такое предваренная формула?
Это формула вида.
Блок квантеров, дальше без квантерная.
Давайте сразу пример.
Пример.
Для любого х существует у,
существует z,
px, z и iqw.
Вот это формула предваренная.
Согласна?
А вот эта формула?
А вот эта формула?
Непредваренная. Понятно?
Зачастую полезно без квантерной формулы финоль
еще привести к дизюнктивной или конъюнктивной нормальной форме.
Но в нашем курсе это не понадобится.
Итак, предваренная формула это формула,
в которой все квантеры вынесены наружу.
Теорема утверждает, что любая формула
эквивалентна некоторой предваренной.
Она-то и называется предваренной нормальной формой
данной формулы.
Она не единственна, но естественно все они эквивалентны друг к другу.
Теорема 6.
О предваренной нормальной форме.
О предваренной нормальной форме.
Для любой формулы, какой бы то ни было там сигнатуры,
существует формула φ' тоже сигнатуры.
Такая, что?
φ эквивалентна φ' и φ' предваренная.
Такая, что?
φ эквивалентна φ' и φ' предваренная.
Вот, собственно, и все.
Любая формула эквивалентна некоторой предваренной.
Понятно?
Докажем?
Давайте докажем.
Давайте параллельно с доказательством будем разбирать
пример приведения к предваренной.
Вот это можно стереть?
Вы Лему о переименовании запомнили?
Она важна здесь будет.
Давайте какую-нибудь формулу напишем.
Не правда, что для любого х
существует у,
п, х, у, з
влечет...
Что оно влечет?
Для любого х
существует z
п, z
п, z
п, z
у, х
влечет q
у, w
Нормально?
Вот такая формула φ.
Ну формула и формула, любая.
Значит, на самом деле доказательства
будет идти немножко в другом порядке, чем пример.
Мы начнем снизу,
как бы от шага индукция,
а тут нам надо сверху идти.
В доказательстве мы формулу строим, а тут будем разбирать.
Поэтому давайте доказательства сначала
проговорим. Доказательства.
Индукция по построению
φ. Нам надо разобрать
в любом случае, чем может являться φ.
И предположить, что более простая формула
всегда может быть приведена
к предваренно нормальной форме. Поехали.
В первый случай
φ это атомарная формула.
То есть формула такого вида.
Но она уже предваренная.
Значит, в качестве предваренной
фиг, что мы можем взять?
Саму фи, она
уже предваренная. Нормально?
Такс.
Дальше случай связок
и случай кванторов.
Но как ни странно, случай кванторов здесь довольно
простой.
Предположим, наша фи начинается
как будто квантора.
Там для любого х
φ.
Что будет тогда?
Ну, все довольно просто.
По предположению индукции
по предположению индукции
вот эту φ можно сделать
предваренной, правильно? Давайте я так
Си эквивалентна
некоторой такой формуле.
Квантор там
какие-то кванторы,
а потом Си 0 бескванторная.
Согласны?
По леометрии
помните была леометрия, которая говорила, что
если формула эквивалентна, то после навешивания квантора
они останутся эквивалентными.
Тогда наша фи, она же
Qx, Си, она будет эквивалентна чему?
Qx, а дальше пойдет
вот это вот все.
А эта формула предваренная, значит,
ее можно взять в качестве
штрих. Согласны?
Случай квантора
тоже простой.
Ну, просто навесили квантор, предваренный остался предваренный.
Нормально?
Случай логических связок, я не буду
разбирать их все, но разберу характерное.
Отрицание.
Если фи это отрицание,
что тогда? Опять же,
по предположению индукции,
формула пси, она более
простая, значит, ее можно
представить в предваренной нормальной форме.
Согласны?
Пси ноль бескванторная.
Как же тогда нам представить фи?
Ну, тогда фи эквивалентны не пси,
эквивалентны чему? Не
Q1x1 там Qnxn.
Согласны?
А теперь я пронесу отрицание
через все кванторы.
Давайте я так напишу, как бы
квантор противоположной всеобщности
это существование,
квантор противоположной существованию
всеобщенности. Норма?
Значит, что тогда получается? Помните, что у нас было
не для любого, это значит, существует не.
То есть, что у меня будет? Первый квантор
изменится на противоположное,
а противоположное отрицание пройдет внутрь.
Я же могу его и дальше проносить.
Я же могу под формулу заменять
на эквивалентное.
Значит, я дальше продолжаю применять
теорему 1 плюс следствие 4,
что можно под формулу менять на эквивалентное.
Вот про эту, про внешнюю фигню я забыл,
я уже вот это преобразую
эквивалентно. Понятно?
Что в итоге получится?
Все кванторы поменялись на
противоположное, а отрицание оказалось
перед Непсиной.
Но она же все равно
бескванторная.
Даже с отрицанием.
Значит, та гадость, которая получилась,
она является предваренной,
ее можно взять вместо фиш-штрих.
Понятно?
Для случая бинарных связок
я как раз буду пользоваться
нашей теоремы 1. Вы спрашивали,
зачем нам выносить квантор наружу?
А вот сейчас увидите. Помните, у нас были
эквивалентности типа того, что ψ
или для любого х фи эквивалентно
для любого х, ψ или фи.
Вот сейчас мы этим воспользуемся.
В принципе, нам достаточно двух связок
с конъюнцией и дизюнцией.
Или даже одной, потому что через конъюнцию
отрицание выражаются все связки
по теореме о дизюнктивной нормальной форме.
Дизюнция тоже выражается через конъюнцию
по закону Де Моргана.
В принципе, вы можете все связки заменить
на комбинации конъюнции и отрицания
и потом все это делать.
Ну а чего в них верить?
Они же с таблицистности следуют?
Ну тут же квантеры?
Ну закон Де Моргана про конъюнцию дизюнция?
А квантеры – это что-то новое?
У них есть сходство, но квантер,
например, все общества – это что-то типа
бесконечной конъюнции
по всем элементам структуры.
Но формально-то это что-то другое?
Значит, какую связку разберем?
Хотите сразу импликацию разберем?
Как более сложную?
Давайте разберем импликацию.
Я не хочу разбирать все случаи,
но в этом нет.
Ну вот представьте, что наша формула имеет такой вид.
ψ влечет θ, правильно?
Эти две формулы более просты.
Значит, по предположению индукции
их можно привести к предваренной нормальной форме.
Вот мы ψ привили,
и получилось q1, x1 и так далее.
qn, xn и получилась
какое-то ψ0, где
ψ0 бесквантерное. Согласны?
Аналогично мы сделали
с θ.
Получилось q1,
y1 и так далее.
qm, ym, θ0.
θ0 тоже бесквантерное.
Понятно?
Ну что тогда?
Тогда наша
икевалента, ну чему?
q1, x1
qn, xn
ψ0 влечет
q1, y1
и так далее qm, ym
θ0.
Согласны?
Я хочу вынести квантеры наружу.
А как я могу это сделать?
Если вы вспомните,
у нас были такие примерно штуки.
Для любого xA влечет B
и эквивалентно там существует xA влечет B.
Правильно?
Но там было ограничение. Какое?
Если x не встречается
свободно в B.
Ну вот я возьму квантер по x1.
Я бы и рад
бы вынести его наружу,
но вдруг x1 здесь встречается
свободно.
Никто же мне не дает такой гарантия.
А что же мне сделать?
Надо взять свежую переменную
и переименовать.
Понятно?
Надо придумать какую-то переменную
z1,
которая раньше не была. В нашей формуле нет.
Но в формуле конечно много переменных.
Всего-то у нас переменных бесконечно много.
Значит всегда можно так сделать.
Давайте введем набор
свежих переменных.
Пусть у нас z1, zn
и w1, wm
различные свежие
значит не встречавшиеся
вообще никак в этой формуле.
Различные свежие переменные.
Понятная идея?
Что я дальше сделаю?
Я применю лему
о переименовании связанных переменных.
Я заменяю
вот этот вот x1
на z1,
x2 на z2,
xn на zn.
Логично это?
Но соответственно здесь
x0 я тоже должен не забыть
все x заменить на z. Можно так сокращенно
написать?
Вы не шокированы?
Отлично.
Точно так же я сделаю
переименование здесь.
Но я возьму и заменю y1
на w1.
И так далее.
Но и в формуле θ0
я не забуду свободные вхождения y
заменить на соответствующие w.
Согласны?
Обратите внимание, все эти переменные
значит z1
гарантированно не встречается свободно
не свободно, не связано здесь.
Ну свободно не встречается,
потому что z1 свежий, да?
Ее нет, значит я могу этот квантор что?
Вынести.
Но что при этом произойдет?
Он выносится из посылки,
правильно?
Значит он заменится на противоположной.
А дальше там будет
такая формула q2
z2 и так далее qn
zn. Давайте я вот эту гадость
как-то обозначу, чтоб не переписывать.
ψ0'
А вот это соответственно θ0'
Значит ψ0'
импликация
Понятно?
Скажите, а я мог сначала
вот этот квантор вынести?
Ну у меня же кроме такого
есть еще и такое
Я мог бы и этот квантор
по w1 сначала вынести, понятно?
Отсюда видно, что
предваренно нормальная форма не единственна.
Потом я беру вот эту вот формулу
и в ней уже выношу кванторы.
То есть что в итоге получится?
Что в итоге получится?
Все кванторы из посылки
вынесутся, превратившись
в противоположные.
Согласны?
Все кванторы из заключения
вынесутся в противоположные.
Согласны?
Все кванторы из заключения
Все кванторы из заключения
вынесутся без изменения.
А тут что будет?
ψ0' включает θ0'
Но вот эта формула
бескванторная.
Значит что же мы получили?
Мы получили
предваренную формулу, которую можем
принять за ИСКОМУ и ФИШТРИХ.
Понятно?
По сути дела доказательство, которое мы дали
представляет собой алгоритм
приведения формулок
предваренной нормальной формы.
Вы видите у нас фистехи и программиста.
Соответственно вы должны понимать, что эта задачка не сложная.
Но с другой стороны вы можете в ней ошибиться.
Надо практиковаться в приведении к предваренной нормальной форме.
Хоть несколько раз в жизни
надо это аккуратно сделать, не допустив ошибок.
Какие ошибки типичные?
Забываете менять квантор на противоположный.
Переменовываете
свободные переменные
вместо связанных.
Забываете после замены квантора
заменить переменную тут внутри.
Давайте пару минут
потратим и вот этот пример решим.
Приведем эту формулу в предваренную нормальную форму.
Как мы помним,
все можно делать для отдельных подформул.
Правильно?
Потому что любую подформулу
можно заменить на эквивалентную.
Но тут что? Тут отрицание надо внутрь пронести.
Что будет?
Существует икс такой, что
для любого y квантора
заменились на противоположный неверно
p x y z.
Здесь кванторы, по сути дела, уже вынесены.
Под ними стоит импликация.
Получается такая штука.
Кстати, очень полезно
с самого начала найти
и обвести кружочком свободные вхождения.
Зачем? Чтобы потом посмотреть,
не потерялись ли они, не стали ли они связанными.
Что здесь ходит свободно?
А здесь вот этот z связан,
этот x связан, y ходит свободно,
y и w. Согласны?
Так, идем дальше.
В принципе, переменные не обязательно
все переименовывать в свежие, как мы делали
в нашем алгоритме.
Давайте будем чуть более экономны.
Но вообще экономия опасна здесь.
Вот x. Я могу вынести квантор по x?
Нет. Что мне мешает?
Я не смогу, потому что сюда x не входит свободно.
Но когда я его вынесу,
здесь окажется свободное вхождение x,
что помешает мне вынести этот квантор.
Понятно?
Поэтому хотя бы один из них я должен переименовать.
Ну, давайте спокойно.
Это разные x.
Если мы вынесем,
получится всеобщность и дизьюнкция
для любого xA или для любого xB.
Нельзя его вынести.
Не надо оптимизировать.
Не надо.
Ну, по сути, не надо.
Не надо оптимизировать. Не надо.
На программировании вам не объясняли,
что корень всех бед – преждевременная оптимизация.
Это известная фраза. Вас с ней не знакомили?
И надо это иметь в виду.
Вот этот y тоже обязательно надо переименовать,
потому что здесь y вообще свободен.
Переименовали.
Не забываем сделать замену здесь.
Согласны?
Тут уже можно ничего не переименовывать.
Или нет?
z надо переименовать,
потому что сюда z входит свободно.
Давайте z заменим на z'.
Соответственно, получилась вот такая вот штука.
Согласны?
Теперь выносим кванторы. В каком порядке?
Тут много вариантов.
Давайте, например, сначала вынесем этот квантор.
Имеем право?
Да, потому что сюда x свободно не входит.
Для любого x вынесли.
Получилось нечто, где этого квантора нет.
Какой квантор вынесем? Например, вот этот.
Но он выносится из посылки, значит он
меняется на противоположный.
Потом давайте этот вынесем.
Имеем право вынести, тут нет y'.
Он меняется на противоположный.
А последним давайте вот этот вынесем.
Он выносится из заключения,
остается таким, каким он был.
Ну и, соответственно, тут будет не
px'y'z
влечет
z'yx
влечет q'yw.
Согласны?
Давайте посмотрим,
испортились ли у нас переменные.
Вот это вхождение, они связаны, а z
свободен, как и был. Отлично.
Смотрим сюда. z' связано,
y
свободно, x связано, но он и был
связан. Правильно?
Но y, w, они как были свободными,
так и остаются. Вроде нормально. Понятно?
Попрактикуйтесь. Если вы действительно
любите программирование и знаете языки
каких-нибудь функционального плана,
вы можете написать программу приведения
формулок в предваренно нормальной форме.
Это можно сделать, конечно, и на C, но
не очень удобно представлять формулу.
Формула будет строкой,
которую потом вам надо разбирать.
А в функциональных языках есть алгебраические
типы данных, которые позволяют вам просто
определение формулы переписать
в программу напрямую, рекурсивное ее
определение.
Понятно это?
Что будет в следующий раз?
В следующий раз
мы постараемся доказать
лему о переименовании
связанной переменной и докажем
то, из чего она следует.
Лему о корректной подстановке,
так называемой. Это неприятная вещь, но
она, к сожалению, является необходимой.
Я надеюсь, время останется, и мы начнем
с вами разговор про исчисление предикатов.
Пожалуйста.
