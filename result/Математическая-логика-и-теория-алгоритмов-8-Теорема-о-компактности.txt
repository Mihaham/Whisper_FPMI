Сегодня лекция будет из двух частей.
С первой половины будем заканчивать теорию, которую в прошлый раз доказывали,
и изучим несколько следствий из нее, а во второй половине будем изучать новую тему,
но она все еще про формулы без кванторов.
А кванторы, наверное, в следующий раз начнутся.
Скорее всего, следующая лекция тоже будет из двух половинок.
Первая половина будет окончания сегодняшней второй половины,
а вторая половина будет началом большого блока целой второй части курса.
Дайте я напомню, что мы изучали в прошлый раз.
У нас было альтернативное доказательство тиремы о полноте.
Мы вводили такие понятия.
Множество гамма было совместно.
Если есть набор значений переменных, при котором все формулы из гаммы истины.
То есть гамма – это множество каких-то пропозициональных формул.
Это множество пропозициональных формул.
И оно называется совместным, если для какого-то набора значений переменных,
если при каком-то наборе значений переменных все формулы из гаммы истины.
Дальше гамма не противоречива, но если из него нельзя вывести противоречие.
Если бы невозможно, то одновременно из гаммы выводится фи,
и из гаммы выводится отрицание фи.
Соответственно первое понятие совместности – это понятие семантическое.
Когда мы говорим, что все формулы верны, все формулы истинны, имеется в виду, что мы считаем таблицы истинности.
То есть мы формулы интерпретируем через таблицы истинности и про них что-то говорим.
А нижнее понятие – синтоксическое. Это про операции формулами как текстами, то есть формулами как цепочками символов.
В данном случае требование, что какая-то операция невозможна, что нельзя сразу это и это вывести.
Теорема, которую мы не успели в прошлый раз доказать, такая, что если множество непротиворечиво, то оно совместно.
То есть на каком-то наборе переменных те формулы из гаммы верны.
Значит это связано с теоремой о полноте.
И это мы вроде успели в прошлый раз обсудить, что из этой теоремы следует, что любая тавтология выводима.
Вкратце это из чего следует.
Если форма тавтология, то ее отрицание – это противоречие, тогда множество из одного отрицания не совместно.
Контрпозиция к этому не совместно, значит оно противоречиво, значит из него выводится противоречие.
По 50 аксиоме получается, что если из отрицания формулы выводится противоречие, то выводится двойное отрицание формулы.
А потом по 11 аксиоме двойное отрицание формулы можно снять и получить, что формула выводима.
То есть это существенно опирается на закону исключенного третьего.
Но в интуиционизме, то есть без закону исключенного третьего, это и не будет верно.
Так, значит тогда план доказательства.
Значит план доказательств состоит из двух лемм.
Лемма 1, то это гамма можно расширить.
Гамма вложена в некоторое дельта, которая полная непротиворечивая.
Полная непротиворечивая. И полнота означает, что для любой формулы, для любой фи получается верно, что из дельтовывается фи или из дельтовывается отрицание фи.
То есть у этой дельты, в отличие от гаммы, есть мнение по любому вопросу.
То есть если спросить, верно ли фи или неверно, то она скажет.
Ну может не скажет напрямую, хотя мы будем строить так, что здесь будет не просто выводиться, а прям таки содержаться фи.
Но в определение выводится.
Соответственно, по крайней мере, как бы из того, что эта дельта знает, можно вывести либо фи, либо отрицание фи.
Ну а непротиворечивая означает, что и то и другое сразу по-прежнему нельзя вывести.
Ну а лемма-2, что вот такая дельта, полная непротиворечивая дельта, будет совместно.
Так, хорошо, давайте доказывать.
Сначала начнем с леммы-1.
Приказать, что лемма-1.
Значит, мы будем для простоты считать, что у нас переменных в счетное число.
Это бы хватит для всех наших приложений, но, в принципе, можно рассмотреть бесконечный алфавит
и считать, что у нас, скажем, для каждой точки на отрезке есть свои перемены с этим индексом.
В принципе, такое помыслить можно, и там тоже будет и ремма верна, но она требует более сложных инструментов, которые мы только в весной пройдем.
Там всякая лемма цорна нужна и тому подобные штуки.
Может быть, мы к этому вернемся, по крайней мере, в задачах.
Когда я расскажу про лему цорна, я напомню, что вот это рассуждение с ней тоже переделать.
Пока что будем считать, что в переменных счетное число.
Будем считать, что множество переменных счетно.
Вот тогда упражнения по теме мощности из ОКТЧ, множество формул тоже счетно.
Потому что формулы – это конечная последовательность.
В принципе, мы это изучали, что множество конечных последовательностей будет счетным, в отличие от того, что бесконечных последовательностей.
Тогда множество формул тоже счетно.
Но раз оно счетное, то мы их пронумеруем.
Значит, здесь будем начинать съединиться.
Все формулы будут И1, И2, И3 и так далее.
И дальше будем потихоньку строить нашу дельту.
Будем определять следующим образом.
У нас изначально есть наша гамма, которая непротиворечива.
Я тут очень вкратце написал, что если гамма непротиворечива, то тогда она вложена в некоторую непротиворечивую дельту.
Давайте я это припишу.
Соответственно, у нас есть наша гамма, и мы ее обозначим через гамму нулевой.
Вот такая вот запись. Иногда используется двоеточие, потом равно, а значит равно по определению.
Гамма нулевой определим как просто гамма, а дальше гамма ИТ определим так.
Значит, это будет гамма в объединении с ФИИТ.
Значит, если это может быть непротиворечиво,
это вот эта вот.
И гамма вместе с отрицанием ФИИТ иначе.
Ой, гамма, да, правильно, гамма и минус первая, тут гамма и минус первая, спасибо.
Гамма изначальная без индекса, это то, которое в условии Леммы, то есть это какое-то непротиворечивое множество.
То есть теорема, что любое непротиворечивое множество можно расширить до полного непротиворечивого.
Вот изначальная гамма, это наше исходное непротиворечивое множество.
Так, а дальше дельта, это будет объединение по всем И от нуля до бесконечности гамма ИТ.
Нужно доказать, что эта конструкция работает.
То есть, что эта дельта останется непротиворечивым и при этом будет полным.
Так, значит, как это делается?
Ну, смотрите, во-первых, по индукции доказывается, то все гамма ИТ непротиворечивы.
То есть, если гамма и минус первая непротиворечива, значит, то тогда и гамма ИТ непротиворечива.
Ну, почему это так?
Ну, смотрите, по первой строчке противоречива точно не получится.
Потому что в первой явно сказано, что мы берем непротиворечивое множество.
Если вдруг оно противоречивое, то значит, мы должны перескочить на вторую строчку.
Ну, соответственно, доказательств тут такое.
Значит, если гамма ИТ противоречива, то получается, что гамма ИТ равняется второму варианту.
Значит, гамма ИТ это гамма И минус первая вместе с отрицанием ФИИТ.
А раз оно противоречиво, то что это означает?
Ну, значит, гамма И минус первого вместе с отрицанием ФИИТ выводится какое-то ПСИ.
А также отрицание этого ПСИ.
Значит, это по определению.
Но дальше у нас есть десятая аксиума, она же переработанная в закон рассуждения от противного,
который ровно для этой ситуации.
Это, кстати, еще одна причина, почему мы его записали в аксиуме, что это очень просто часто применяется.
Вот, соответственно, что получается?
Получается, что если мы добавили эту формулу и получили противоречие,
значит, из этого следует, что из гамма И минус первое выводится двойное отрицание ФИИТ.
Ну, а следует выводится и само ФИИТ.
Еще раз, почему это так?
Что мы добавили эту формулу, вывели противоречие, значит, выводится отрицание этой формулы.
А эта формула сама отрицание.
Поэтому выводится двойное отрицание ФИИТ.
То есть из гамма И минус первое выводится ФИИТ.
Так, ну что, согласны?
Но при этом, смотрите.
Но раз мы отвергли первый вариант,
значит, раз первый вариант не взят,
то получается, что гамма И минус первое вместе с ФИИТом без отрицания.
Значит, то гамма И минус первое вместе с ФИИТом тоже противоречива.
Если бы оно было противоречиво, мы бы его взяли, и все бы получилось.
Но тогда аналогично, аналогично вот этому,
тогда аналогично получается, что из гамма И минус первое выводится отрицание ФИИТ.
Но как здесь возилось двойное отрицание, так здесь просто.
Но тогда, смотрите, давайте я это выделю.
Значит, у нас получается вот это вот, и у нас получается вот это вот.
Получается, что мы с самой гамма И минус первое вывели противоречие.
Да, вывели какую-то формулу ФИИТа и отрицание ее же.
Значит, то есть из этих двух вещей получается, что гамма ИТа противоречива.
Но у нас вначале написано, что не противоречива гамма И минус первое.
Ну вот, значит она сама противоречива.
Ну а мы предложили, что не противоречива, да, значит ИТа нам все доказывает.
То есть мы опять же контрпозицию получили, что если новая противоречива, то и старая тоже противоречива.
Вот, но теперь еще надо к дельте перейти.
Значит, надо перейти к дельте.
Значит, почему дельта не противоречива?
Почему дельта сейчас, наоборот, не противоречива?
Но здесь принцип такой, что принцип, чтобы вывести противоречие, нужно использовать конечное число формул.
Значит, для вывода противоречия нужно конечное число формул.
Потому что вообще вывод это конечная последовательность.
В том числе и вывод противоречия это конечная последовательность.
В том числе там конечное число строчек, которые используют форму из дельты как посылки.
Но это означает, что из всего бесконечного множества можно только их взять.
Значит, поэтому если дельта противоречива, то тогда какое-то конечное подмножество.
Значит, дельта 1 маленькая и так далее, дельта ht какое-то конечное множество.
Потому что дельта тоже противоречива.
Но дальше смотрите, дельта, каждая дельта житая, они у нас откуда взялись вообще?
Мы объединили все гаммаитые. То есть каждая дельта житая маленькая принадлежит уже как элемент к какому-то гаммаитому житому.
Но тогда получается, что если мы возьмем i, который будет максимум, то есть смотрите,
каждая форму у нас на каком-то шаге добавилась. И всего формул конечное число.
Если мы возьмем самый большой шаг, на который мы не добавлялись, там они уже все будут.
Для объединения это даже не очень важно.
Тут они не просто объединения, они друг друга расширяют все время.
То есть каждый раз новая гаммаитая расширяется на одну формулу по сравнению с гаммаи минус первым.
Если i это максимум из i1 и так далее и kt, то тогда получается, что все эти дельта 1 и так далее дельта kt лежат уже в гаммаитом.
Ну а тогда гаммаиты противоречива.
А она у нас не противоречива по предыдущему, значит и дельта тоже не противоречива.
Значит вот это получается неверно по предыдущему.
Ну вот, значит получается, что дельта не противоречива.
Ну вот, значит lm1 доказана. Не, еще не доказана, еще нужно сказать, почему она полная.
Значит она не противоречива, почему она полная.
Но это на самом деле получается, если внимательно посмотреть на то, как она определяется,
то просто, давайте я вот это открою, и определение полноты у нас вот здесь вот.
На самом деле верно не просто, что из дельты выводится phi или не phi, а прямо таки содержится.
То есть каждый раз на i-том этапе мы добавили либо phi и то, либо отрицание phi и то.
Раз мы добавили это как элемент, значит оно и выводится.
Ну вот, поэтому дельта полная.
Вот, нет, почему. Ещё раз, у нас дельта объединение гамма.
Любой элемент объединяется для элемента какого-то изноша, который объединяется.
Ну вот, значит вот это вот.
Вот так. Ну вот, значит, почему дельта полная.
Ну потому что каждая формула phi это какая-то формула i-t.
Так, это я графическую крайность написал, чтобы там не путать.
Ну и тогда получается, что из гаммы i-t просто содержит phi-t или гамма i-t содержит отрицание phi-t.
Ну и дальше получается, что аналогично дельта содержит phi-t или дельта содержит не phi-t.
Отсюда получается, что содержит, значит из него и выводится phi-t или из него выводится не phi-t.
Ну вот, получилось, что оно непротиверчивое и полное.
Ну и теперь всё-таки можно сказать, что рем один доказан.
Так, ну что, какие-нибудь вопросы остались?
Ой, сейчас, подождите, что именно неверно.
Что, не, смотрите, вот то, что можно смотреть на таблицейственность, это в интуиции неверно.
То есть если в таблицейственности только единица, это ещё не значит, что мы выводим в интуиционизме.
Нет, там не трагичная логика, там логика шкала Крипке.
Значит, там есть полнота, но для другой семантики.
То есть нужно вместо таблицейственности смотреть на шкалы Крипке.
Сейчас я так понимаю, что Иван Николаевич смирно в своей группе что-то рассказывал про это.
Если вы не в его группе, то можете почитать книжку «Увеличая киншинь и такие сочисления».
Там и тоже довольно подробно описано.
Что такое шкалы Крипке, как понять, висит ли формула или нет и так далее.
Если вас это интересует, то рекомендую почитать.
Так, а у нас ещё лемма два осталось.
Теперь, когда у нас есть полное и непротиверчивое множество, то оно всё-таки совместно.
Но на самом деле, эта доказательность леммы два будет немножко смахивать на исходное доказательство через таблицы истинности.
Во-первых, нам надо понять, чему равняется каждая переменная.
Как понять, чему равна переменная P?
Смотрите, переменная – это тоже формула.
И поэтому для переменной верны свойства непротиверчивости и полноты из определения.
Значит, P – это тоже формула.
И из этого получается, что из дельты выводится P или из дельты выводится отрицание P.
Но не то и другое сразу.
То есть тут или исключающее.
Но не оба сразу.
Ну и тогда получается, что если из дельты выводится P, то тогда мы скажем, что P равно 1.
Значит, если из дельты выводится отрицание P, тогда мы скажем, что P равно 0.
И по такому правилу мы определим значение всех переменных.
Но теперь нам нужно доказать, что не только все переменные, но и вообще все формулы из дельты тоже будут верны на таком наборе.
А значит, из гаммы, потому что у нас гамма расширялась до дельты.
Значит, докажем, что все формулы из дельты верны на наборе вот этом вот.
Тогда получится, что дельты совместны, тогда и гамма тоже совместна.
Смотрите, как это делается.
Ну вообще, как что-то доказывать про формулы индукции по построению.
И база у нас уже есть.
То есть для базы у нас автоматически все верно.
А значит, мы даже будем доказывать более сильные утверждения.
Более сильное утверждение такое, что если формула верна,
если фи лежит в дельта, то тогда фи истина.
А если фи не лежит в дельта, ну или не выводится из дельты, в нашей конструкции можно вот так вот написать.
В общей конструкции надо было написать, что фи не выводится из дельта, то тогда фи ложна.
Так полная анализа не значит, что максимальная.
Полная значит, что до каждой формулы либо аналии, либо ее отрицания выводятся.
Ну а нет, так я и про это и говорю, что для нашей конструкции можно вот так писать.
В общей конструкции напишем.
Из дельты выводится фи, это из дельта не выводится фи.
Да, максимально по включению вы имеете в виду.
Можно так.
Так, хорошо.
Ну значит, как мы будем это доказывать?
База есть.
Причем для усилия утверждения база есть.
То есть если переменные выводятся, то она истина.
Если она не выводится, то из полноты выводится отрицание, тогда она ложна.
Доказательства по индукции.
Получается, что база просто из определения истинных значений.
Ну а переход на самом деле более-менее по базовой лимме, которая была в проширах.
В этом месте стыкуются два доказательства.
Давайте я один пример напишу, остальные все аналогично делаются.
Переход.
Значит, пусть формула хи, это будет, например, конъюнция.
Си и это.
Вот, тогда для си и это, для составляющих утверждение верно.
Ну а дальше есть, дать такую табличку, нарисуем с четырьмя вариантами.
Так, давайте вот так вот.
Значит, у нас может быть, ну давайте, а так как там, нам не нравится.
Что через выводимость?
Значит, может из дельта выводиться си, или из дельта не выводится си.
И может из дельты выводиться си, и может из дельты не выводиться си.
Так, значит, теперь, что нам говорит предложение индукция?
Значит, во-первых, оно говорит, что си истина.
Значит, вот в этом углу.
Тут получается си и это.
И мы видим, что си и это.
И мы видим, что си и это.
Значит, вот в этом углу.
Тут получается си истина и это истина.
Из этого получается, что конъюнция истина.
Си и это истина.
Это с одной стороны, с точки зрения семантики.
Значит, одно истинно, другое истинно, поэтому конъюнция истина.
А с точки зрения вводимости, значит, у нас из си и это выводится конъюнция.
Значит, си и это.
И поэтому, соответственно, как по праву, сечение получается, что из дельты выводится си и это.
Ну вот, например, вот в этой клетке что будет?
Здесь получается, что си истина, а это ложно.
Следовательно, конъюнция ложна.
С точки зрения семантики, с точки зрения синтаксиса, что получается?
Получается, что раз у нас не выводится это, то значит выводится отрицание это.
По предложению индукции.
То есть тут у нас из дельты выводится си, но из дельты выводится отрицание это.
Ну и тогда, опять же по основу лени, получается, что из дельты выводится отрицание конъюнция.
Ну и в двух других случаях аналогично.
В общем, там одно из них выводит ложно.
Например, здесь, значит, здесь си ложна.
Это истина. Следовательно, конъюнция ложна.
И, соответственно, из дельты выводится отрицание си, из дельты выводится это.
Вот, отсюда получается, что из дельты выводится отрицание конъюнции.
И последнее, значит, си ложна.
Это ложна, отсюда конъюнция ложна.
И, соответственно, из дельты выводится отрицание си, и отрицание это.
Отсюда получается, что из дельты выводится отрицание конъюнции.
Разбор случаев и для других связок происходит, и в итоге
переход индукции происходит.
То есть главная суть основной леммы в том, что выводимость
и подсчет аббицийственности работают одинаково.
И вот это здесь мы используем.
Получается, что по индукции мы все, что нужно, доказываем.
И получается, что на этом наборе значений и формулы из дельты
получаются верны, и поэтому все формулы из гаммы тоже верны.
Вот так.
Ну вот какие-нибудь вопросы.
Так, давайте я сейчас еще пару вещей скажу.
Ну, значит, я, наверное, на перерыв немножко залезу,
а потом интервью что-то сделаем.
Значит, еще пара вещей.
Значит, есть такое понятие семантическое следование.
Значит, тут обозначение вот такое вот.
Значит, с одной палочкой это получается выводимость,
а с двумя палочками это семантическое следование.
И означает оно следующее.
Значит, из формулы гамма семантическое следование
мы получаем вот такой вот.
Значит, оно следующее.
Значит, из формулы гамма тематически следует фея.
Значит, если, верно, следующее.
Если при любом наборе значений,
если при любом наборе значений,
на котором верны все формулы из гамма,
все формулы из гамма, значит, также верна х.
Ну, вот это вот то, что понимается под импликацией,
как бы в бытовом смысле, что если уж как бы все верно,
то и фита тоже верна.
Вот.
Ну, тогда получается теорема, которая обобщает предыдущее.
Значит, теорема такая, что из гаммы тематически следует фея
тогда и только тогда, когда из гаммы выводится фея.
Вот.
Значит, почему это верно?
Ну, это более или менее доказывается предыдущего.
Ну, давайте прямо обсудим, почему это верно.
Значит, справа-налево.
И это типа теоремы о корректности.
Значит, если...
Значит, если...
Если все формулы из гаммы верны,
то и феи выводимые тоже.
Почему?
Да, значит, я сейчас перерыв займу, потом сделаем перерыв.
Значит, почему это верно?
Ну, потому что просто идем по выводу,
и у нас каждая формула либо из гаммы, и поэтому верна,
либо аксиума, она всегда верна,
либо по моду спонс происходит из двух верных, и тогда тоже верна.
Значит, любая формула
либо элемент гамма,
либо аксиума,
либо выводится из двух верных.
Так, ну а в другую сторону так делается.
Значит, смотрите,
если...
Значит, если из гамма тематически следует фея,
то из этого следует, что если мы к гамме добавим отрицание фи,
то будет несовместное множество.
Значит, гамма вместе с отрицанием фи не совместно.
Потому что если мы рассмотрим на любом наборе,
либо какая-то формула из гаммы будет неверна,
либо если все формулы из гаммы верны,
тогда нефи будет неверна.
Вот поэтому это несовместно.
Значит, раз оно несовместно, значит, противоречиво.
Значит, гамма вместе с этой штукой противоречиво.
Ну а дальше, как у нас уже было,
значит, раз оно противоречиво,
то тогда выводится какое-то фи,
значит, выводится какое-то отрицание фи.
Значит, из этого следует, что из гаммы выводится двойное отрицание фи,
а из этого следует, что из гаммы выводится фи.
Ну и все.
Мы начали сематическое исследование, закончили выводимость.
Значит, это одно и то же.
Так, ну и последняя вещь,
которую я на лекции только вскользь коснусь.
Значит, в некоторых группах это будет возможно в семинарах.
Значит, у других пропущено.
Это теорема о компактности.
Так, а на мотоне вот уже была компактность?
Не было.
Наверное, некоторые знают откуда-нибудь еще.
Значит, теорема о компактности,
в мотоне свойство компактности следующее,
что из любого открытого покрытия
можно выбрать конечное подпокрытие.
Вот. Ну вот здесь что-то похожее.
Значит, здесь что-то похожее.
Значит, теорема такая,
что пусть есть какая-то гамма,
пусть любое конечное подмножество гамма
гамма совместно.
Тогда и все гамма тоже совместно.
Значит, тогда все гамма
совместно.
Вот. А доказывается она так,
что если мы заменим совместность на
непротиворечивость,
то мы, фактически, это уже доказали.
Значит, давайте я прямо припишу параллельно.
Если здесь написать непротиворечиво,
значит, и здесь непротиворечиво.
Вот. Тогда мы это уже доказали,
потому что иначе говорят, что если все гамма
если контрпозицию опять же взять,
если все гамма противоречива,
то тогда какое-то конечное подношение
противоречиво.
И это у нас уже было с дельтой.
Пару слайдов назад.
Вот здесь вот.
Что если все дельта противоречива,
то какое-то конечное подношение противоречиво.
Гамма противоречива,
то тогда какое-то
какое-то конечное подножество
гамма противоречива.
Это из самой сути того, что такое противоречие,
что это вывод.
Иначе он использует конечное число формул.
Ну, соответственно, мы обратили, получается,
что если любое конечное подношение непротиворечиво,
то есть все множество непротиворечиво,
то есть совместность это одно и то же,
то получили для совместности.
Ну и дальше у нее есть много разных приложений.
Например, есть такое геометрическое приложение,
что если у вас есть набор плиток,
и вы этими плитками можете замастить сколь угодно
большой квадрат, тогда вы можете замастить
и всю бесконечную плоскость.
Это как раз компактность,
это как бы корректную стыковку.
Нужно записать, с какими логическими условиями.
И, соответственно, если мы берем конечное число условия,
то это значит, какой-то конечный участок плоскости.
Если мы его можем замастить, то значит, можем замастить
и всю плоскость тоже.
Ну, значит, там есть разные постановки.
Если это многоугольники, то это немножко сложнее.
В первых логиках формулируется, но можно.
Это формулируется, если у вас плитки как бы квадратные,
но с разными цветами,
с разными цветами краев, и нужно, чтобы они
стыковались с краями одного цвета.
Тогда это просто логическое условие,
что плитки соседние должны иметь
какой-то один из заграниченного набора вариантов.
И тогда, если любой квадрат
можно замастить плитками,
то все тоже можно замастить.
На лекциях я про это больше не буду говорить,
но на семинарах, по крайней мере, в некоторых группах это будет.
Ну или для состоятельного изучения
в тех группах, где не будет.
Так, все, давайте пять минут перерыв,
и потом начнем новую тему про резолюции.
Так, значит, смотрите.
Сейчас я вам расскажу
некоторый другой подход к тому,
что мы хотим из числения формул.
Можно сказать так, что парадигма
из числений высказываний,
что мы хотим вывести все тавтологии, только их.
Парадигма
из числений высказываний
вывести
вывести все тавтологии,
значит, и только их.
А вот в методе резолюции,
к которому мы переходим,
нераспределяет противоположная парадигма.
Значит, парадигма метода резолюции
это отвергнуть все противоречия,
и только их.
Значит, отвергнуть
все противоречия
отвергнуть
все противоречия
отвергнуть
и только их.
Значит, мы будем работать
только на КНФ.
Потом можно обсудить, почему все к этому можно свести.
Пока что я, наверное, сегодня
я покажу несколько примеров,
в которых возникает именно задача
выполнимости КНФ.
Значит, задача
о выполнимости КНФ
Соответственно, дана формула в виде КНФ,
и нужно понять, является ли она выполнимой.
То есть, иными словами, есть ли набор значений переменных,
на которых все условия истинны.
Дан набор условий
это чуть-чуть другой взгляд на КНФ,
как бы не как на формулу, как на множество.
Значит, дан набор условий,
там L1 или и так далее,
или элита,
значит, где каждая L, это либо
илита, илита,
значит, где каждая L, это либо
это литерал, да, то есть, переменные
или отрицание переменных.
Значит, литералы.
И соответственно, вопрос,
существует ли набор значений переменных,
при которых все условия выполнены?
Вопрос
существует ли набор
значений переменных,
при котором
все условия выполнены?
Но вот это и есть выполнение с КНФ,
что если бы мы из тех условий собрали конъюнкцию,
то то, что это конъюнкция истины,
означает, что все условия одновременно истины.
Ну а задача выполненности формулы как раз
исключается в том, что есть ли набор значений переменных,
при котором формула истина.
А если формула это конъюнция,
то это преобразуется в вопрос о том,
будут ли все условия выполнены.
Так, ну хорошо,
нашел несколько примеров,
почему это важная задача.
Значит, примеры,
в которых возникает
вот эта самая задача
выполнимости КНФ.
Так, ну это первый пример,
значит, первый пример совсем такой игрушечный,
значит, ну хотя важный
для теории,
значит, это задача о раскраске в три цвета.
Задача о раскраске
вершин графа
в три цвета.
Ну задача ставится так, что
вот дан граф, и вот вопрос,
можно ли его раскрасить в три цвета или нельзя.
Что значит раскрасить?
Что значит раскрасить?
Ну это означает, что такое граф вообще?
Наверное, многие знают,
но на всякий случай я явно напишу,
граф состоит из вершины ребер,
то есть это пара из вершины ребер,
ну а ребра это подможество
В на В.
Значит, бывают разные вариации,
там ориентированный и неориентированный.
Но давай считать, что он ориентированный без петель.
То есть это означает, что пара вершины
самой собой не входит в множество Е,
и если есть ребро В, то есть ребро ЯВ.
Значит, без петель
без петель означает, что
такие пары не входят в Е.
неориентированной означает, что если у V ребро, то тогда VU тоже ребро.
после этого что такое раскраска? раскраска это какая-то функция, которая отображает
вершины графа в множество цветов. в данном случае будет три цвета 1, 2, 3.
вот, ну а правильность означает, что соседние вершины покрашены в разные
цвета. правильность, что если у V это ребро, то тогда цвет вершины U не равен
цвету вершины V.
вот, если вы вдруг видели какой-нибудь документ с печатью нашей кафедры, то
там вот такая картинка нарисована. сейчас я воспроизведу.
это называется Мозоровское веретено. вот такой вот треугольничек.
значит здесь вот так вот. и здесь еще как-то вот так вот.
все равно хрил. это еще на самом деле равносторонние треугольники.
все эти самые отрезки здесь ровно по одному, одинаковые.
по одной какой-то величине. вот этот граф в три цвета не красится.
примечательно он тем, что здесь все ребра одной длины. кстати это интересная
тема. это еще связано с компактностью. от Андрея Михайловича, наверное, многие слышали
про эту картинку и про задачу в хроматическом числе плоскости.
задача такая, что... все вообще слушали? никто не слушал?
ну хорошо, нет, никто не слушал. хорошо, задача такая.
если я сейчас тогда расскажу, это из предыдущей темы тоже на самом деле связано.
задача такая, что мы хотим точки плоскости раскрасить в минимальное число цветов
так, чтобы точки на расстоянии 1 были покрашены в разные цвета.
то есть у нас вот континум точек, все точки на плоскости, расстояние измеряются обычно
по теремпифогора и в какие-то расстояния. и, соответственно, мы хотим покрасить
всю плоскость, то есть весь континум точек плоскости, какое-то как можно меньшее число цветов,
так чтобы никакие точки на расстоянии 1 не были бы одного цвета.
вот это вот классическая задача. там Эрдыш ее придумал в свое время.
вот эта вот картинка показывает, что трех цветов не хватит, но можете построить аккуратно
даже такие два ромбика 60-120, и как бы они так повернуты, чтобы вот это расстояние
тоже было один. вот, а почему это три цвета не красятся? ну потому что, смотрите,
треугольник должен быть разных цветов. да, мы можем прямо попробовать.
вот пусть, скажем, вот эта вершина зеленая, а вот эта вот, например, синие, а вот это вот,
например, красное. значит, тогда вот это тоже обязательно должно быть зеленой.
значит, это тоже обязательно зеленое, потому что нас соединяется красный и синий. а эти три тоже разные.
потому что они все друг другу соединены. ну хорошо, дальше, соответственно, это
должна быть тоже не зеленой, например, тоже синий. вот, а это не зеленый и не синий, например, красный.
и тогда вот это вот последнее соединено уже и с зеленой, и с синий, и с красной. и значит, для нее
нужен четвертый цвет. вот, то есть, получается, что вот здесь, значит, раскраски в три цвета нету.
значит, для семи цветов, наоборот, есть пример. ну я его сейчас не буду рисовать,
там такие шестиугольнички некоторого нужного размера. вы можете погуглить хроматическое число плоскости.
всего лишь пять лет назад, в 2018 году, был построен пример графа, который не красится и в 5 цветов,
то есть, в 4 цвета, то есть, минимум 5 цветов нужно. но он уже не такой простой, как что можно взять
и нарисовать. там было больше тысячи вершин, потом немножко уменьшили, но все равно там,
в минимальном текущем примере, там где-то 509 вершин, лишь в таком духе. вот, но на самом деле,
что там говорит теория компактности? значит, теория компактности говорит следующее, что, значит,
если, например, из 5 цветов нельзя покрасить, то тогда есть какой-то конечный граф,
который нельзя покрасить из 5 цветов. потому что можно считать, что у нас вот,
как бы, даже не счетные, да, континум переменных, значит, для каждой, ну несколько битов на каждую
точку, которые задают цвет и, соответственно, континум условий. но вот, если, скажем,
в 5 цветов нельзя покрасить, то значит, если этот континум формул не совместен,
но по теориям компактности получается, что должно быть какое-то конечное несовместное множество,
да, то есть, какой-то конечный подграф, который не красим. нет, вопросов переменных будет очень много,
а так, посмотрите, тут же то, что вот это не равно, это очень легко записать как формул, мы сейчас это сделаем.
да, у нас, ну, у нас сколько-то битов на каждый цвет, и то, что они не равны, значит, это просто
дезюнция, да, что либо первый бит не равно, либо второй и так далее. вот, а что нет, здесь нам,
здесь переменных очень много, а формул-то простые. ну вот, соответственно, получается,
что по терянной компактности достаточно смотреть на конечные куски, а для конечных кусков можно
записывать это через выполнимость КНФ. значит, давайте, я вот для трёх цветов покажу, да, и, значит,
ещё одна известная проблема, связанная с раскрашиванием графов, это задача о четырёх красках, да, или проблема
четырёх красок. это изначально была задача про географические карты, значит, верно ли, что любую
карту можно покрасить четыре цвета, так чтобы страны одного цвета не ограничили бы, ну, по какому-то
участку границы. вот, ну и тогда получается следующее, предполагается, что странная, в отличие от реальности,
предполагается, что странная, это, ну, связанные куски, да, что нет всяких X-клавов, да, потому что,
если страна может любой фигуры на плоткости, да, то они могут даже все друг с другом ограничить, да, но пусть мы
красим всё-таки такие связанные объекты. вот, и тогда довольно легко показать, что шесть цветов достаточно,
немножко сложнее доказать, что пять цветов достаточно, но это уже сделали в 19 веке, вот, а в 20-м долго
думали, да, было много неверных доказательств, что четырёх цветов тоже достаточно, да, там находили
ошибки, пока уже в 70-е годы не сделали компьютерный перебор. вот, это был первый пример, когда такая
математическая теорема была доказана при помощи перебора на компьютере. вот, сейчас уже гораздо
больше таких примеров, вот, но там был перебор такой, что они сначала математическим расслужнением
свели к конечному набору случаев, тоже их там тысяча с чем-то была, а потом эти тысяча с чем-то
случаев уже написали программу и их перебрали. вот, но тем не менее, даже для плоской карты остается
вопрос про три цвета. значит, некоторые плоские карты красятся в три цвета, некоторые не красятся.
вот, ну и тогда это тоже можно записывать вот в виде набора условий. давайте я теперь перейду к этому
набору. так, значит, смотрите, у нас есть три цвета, но три это не степень двойки, то есть одного бита мало
для описания одного из трех цветов, а двух битов много, но тем не менее приходится все-таки два бита
использовать и одну возможность исключать. но это у нас очень удобно, я специально там взял 1.2.30, а не 0.1.2,
чтобы написать следующее. значит, в каждой вершине У мы заводим две более-бых переменные.
значит, назовем их ПУТ и КУТ. и значит, 4 варианта будет. значит, 0.0, 0.1, 1.0, 1.1. значит,
соответственно, 0.1. это будет понимать как цвет вдовечной записи. значит, 0.1 это цвет 1,
например, синий. значит, 1.0 это цвет 2, например, зеленый. и 1.1 это цвет 3,
например, красный. ну а 0.0 это как бы ничего не кодирует. значит, это некорректная запись.
значит, некорректная запись. ну и какое условие наложить на ПУТ и КУТ, чтобы 0.1.1.0.1.1 были бы
корректными, а 0.0 было бы некорректным. ну просто дизюнция. мы просто потребуем условия,
что ПУТ или КУТ. и это как раз дизюнция. это как раз вот такого вида условия. дизюнция переменных.
для каждой вершины у нас будет такое условие. для каждой вершины две переменных и вот такое
условие. но еще нужно вот этого тоже записать, что это правильная раскраска. ну а условия
корректности. значит, условие правильности раскраски будет таким, то просто если у нас
есть ребро. значит, если у В это ребро, то тогда должны быть разные цвета. ну а что значит разные?
ну значит, либо первый координат отличается, либо второй координат отличается. или может
идти и другие, если цвет 1 и цвет 2. то есть получается, что ПУТ не равняется ПВТ или КУТ не
равняется КУТ. вот это не совсем дизюнк, но его можно преобразовать в виду дизюнк. это я не буду
записывать. ну если там не один дизюнк, получится 4 дизюнк. каждой из них нужно, как КНФ, маленько
записать, раскрыть скобки, и будет 4 дизюнкта. не, я же говорю, мы раскроем скобки, и тогда
будет конъюнция 4 дизюнктов. и мы каждый из них по отдельности включим в КНФ. то есть вот это
можно преобразовать. значит, преобразовать в КНФ. ну и после этого как бы развить отдельные
дизюнкты и отправить их в большой КНФ. вот у нас есть вот это условие, а это другого
преобразуем в КНФ. ну вообще-то любую же функцию можно представить в КНФ. да, или формулу
преобразовать в КНФ. ну вот мы вот эту формулу тоже преобразуем и каждую скобку возьмем по
отдельности. ну вот, соответственно, если получается, что если мы все эти условия сразу возьмем,
то их одновременно выполнимость как раз эквивалентна раскрашиваемости. почему это верно? ну смотрите,
если есть раскраска, ну то мы вот таким образом закодируем. поскольку отсюда цвета 1, 2, 3,
то будут только три варианта, поэтому вот эти условия будут верны. ну раз раскраска корректная,
то эти условия тоже будут верны. наоборот, значит наоборот, если у нас КНФ выполнимая, то тогда
вот эти условия в частности верны, значит возможно только вот эти три варианта. ну значит это раскраска
будет корректная, ну и вот эти условия нам гарантируют, что раскраска правильная. то есть в итоге получается,
что, так давайте это выделю другим цветом, значит в итоге существует корректная раскраска,
существует корректная раскраска тогда и только тогда, когда КНФ выполнима.
на самом деле вот эти рассуждения, вот здесь мы как раз проверяли наоборот невыполнимость КНФ.
когда говорили, что здесь обязательно там синий, здесь обязательно зеленый, то это рассуждение,
которое как раз объясняет, почему такая КНФ невыполнима, если мы по этому граф построим КНФ.
но именно для задачи выполнимости написано всякое программное обеспечение, которое называется
SatSolver. Sat это Satisfiability, как раз задача выполнимости, ну и вот SatSolver это специальные
программы, которые как раз умеют проверять выполнимость довольно хитрым образом. то есть
если это проверять в лоб, то нужно как бы рисовать экспоненциального размера таблицу истинности.
если у вас перемена будет хотя бы 100, то размера 2 в сотой степени вы уже не переверете все
варианты. вот, а помните в том графе для четырех цветов там было больше тысячи вершин, и еще
на каждую вершину там по два бита нужно. вот, но вот это вот уже нельзя просто взять и перебрать,
если два в двух тысяч, ну и уж никак не перебрать. вот, но SatSolver это делают в некоторых хитрым образом,
значит на самом деле нет никакой гарантии, что у них это получится, и это называется mp полная задача.
но если коротко, то как бы общего способа избавиться от перебора неизвестно, но тем не менее
solvers умеют в конкретных ситуациях что-то такое придумать, чтобы сразу какие-то большие куски
дерева оттекать и вместо экспоненциального перебора за какое-то разумное время все посчитать.
вот, как раз вот тот вот пример с большим графом, он был проверен с SatSolver и получилось,
что там все верно. так, ну вот, так, дайте еще один пример, наверное, сегодня последний,
еще более игрушечный, еще более игрушечный пример такой, задача расстановки черзей.
значит, задача о расстановке, значит, задачу расстановки фирзей на шахмной доске.
так, ну вот, смотрите, такая задача с маткружка, ну и только с маткружка, ее там гаусс изучал в свое время,
что вот у вас шахмная доска 8 на 8, есть 8 фирзей. и вопрос, как поставить 8 фирзей, так чтобы они
все друг друга не били. то есть что это означает? это означает, что они все на разных горизонтальных,
на разных вертикалях и на разных диагональных и тех и других. вот, если бы это было 8 ладей,
то это было бы просто, было бы много вариантов. наверное, вы уже знаете, сколько вариантов
поставить 8 ладей. 8 факториал, если ладей не отличаются друг от друга, если отличается, то там еще надо посмотреть.
еще, наверное, можно на 8 факториал. вот, но с фирзями так уже не получается, что если
все диагональными друг другу мешают. ну и смотрите, если бы это было не 8 на 8, а 3 на 3, то тут
не получилось бы. ну потому что, смотрите, по-первых, ясно, что у нас, по принципу Дерехле, должно быть
в каждой строке, в каждом столце, ровно один ферзь. потому что если в какой-то строке нет, то в какой-то другой
по принципу Дерехле, тогда они бьют друг друга. число ферзей равно числу строк и числу столцов.
но тогда, смотрите, если вы ферзь поставите вот сюда, вот в центр верхней строке, ну то тогда получится,
что он вообще будет бить и клетки второй строки, и в вторую строку вы ферзя не поставите. вот, а если вы
ферзя поставите в угол, ну, поясные симметрии, неважно в какой именно. значит, что тогда получится,
что он две клетки, две клетки в второй строке будет бить, и две клетки в третьей строке. но после этого
для ферзя во второй строке остается только один вариант, который не подбоем. но тогда он будет,
соответственно, бить оставшееся поле в третьей строке, и в третью строку мы никого не поставим.
вот, ну а если 4 на 4, там уже можно. значит, на 4 на 4, да, ферзь он ходит как слон и как ладья,
но не как конь. вот, и поэтому можно вот такую вот расстановку, да, значит, вот так вот, вот так вот,
вот так вот, и вот так вот. значит, вот это решение для 4 на 4, и на самом деле это единственное
решение с точностью до симметрии. да, то есть можно наоборот это отразить, будет другой вариант,
а других вариантов нету. ну и, например, таким же перебором это можно получить. вот, соответственно,
ну можно, например, для призвольного размера, пусть у нас n на n. значит, доска там n на n, значит,
n ферзей. вот, но вот это, на самом деле, если n хотя бы 4, то это решается. значит, это, в общем,
давно люди поняли, но если, например, еще какие-то клетки запретить, то это уже будет сложная задача.
да, если как бы доска с вырезанными клетками, через которые, тем не менее, ферзь пробивает,
как бы с запрещенными клетками, то тогда, соответственно, это может быть сложная задача.
но вот, а тем не менее, она формулируется как кnf. так, ну давайте я напишу, и, наверное,
на сегодня это будет все. так, значит, смотрите, как я формулирую как кnf. значит, переменные у нас будут,
что в данной клетке стоит ферзь. да, то есть, переменная pt житая, pt житая равняется единице,
если, значит, в клетке it житая стоит ферзь. соответственно, запрещенная клетка означает,
что pt житая равно нулю. да, как бы уже есть значение. значит, запрещенная клетка
pt житая равно нулю. так, теперь можно все-таки чуть-чуть в математике как бы использовать,
что точно в каждой строке должен стоять один ферзь. ну и тогда можно написать такое условие,
значит, p и 1, или p и 2, или и так далее, или p и n. и тогда не нужно дополнительно писать,
что ровно 1, потому что принцип в дирекле работает, да, что если всего n, и в каждой хотя бы 1,
то в каждой ровно 1. вот, но тем не менее, и поэтому по горизонтали они точно друг друга не бьют.
но надо еще написать условия для вертикали и для диагонали. но для вертикали будут условия
вида. так, первый индекс – это номер строки, второй индекс – это номер столца. то есть тут будет
не p и t житая, или не p и k и t житая. значит, где i не равно k. значит, столбец один и тот же,
строки разные, и хотя бы в одной ферзи нету. хотя бы в одной ферзи нету, значит, двух сразу быть
не может. но можем, в принципе, да, в принципе, можем. вот, но для диагонали все равно нужна.
да, для диагонали так уже не получится, потому что на диагонали может не быть ни одного ферзя,
а может быть ровно один. вот, ну а для диагоналей соответствующие условия,
значит, типа не p и t житая или не p и плюс k и t жит plus k и t, значит, это одна диагональ,
но всё равно откуда вы считаете? значит, это одна диагона, где обе координаты одинаково изменяются.
ну а вторая диагональ, это соответственно одна увеличивается, другая уменьшает.
соответственно, для всех и жкт, где все эти индексы попали внутрь доски, нужно писать такие условия.
ну и, в принципе, всё. этих условий достаточно, это получается в точке knf без всяких дополнительных
ухищрений. да, прям все условия получаются в виде как раз диагонала.
вот, всё, спасибо за внимание, в следующий раз поговорим, как это решать.
