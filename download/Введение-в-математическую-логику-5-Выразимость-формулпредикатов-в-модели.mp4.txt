[00:00.000 --> 00:15.120]  Давайте начнем. В прошлый раз мы обсуждали все значимые равносильные формулы. Там получили
[00:15.120 --> 00:24.480]  ряд результатов, то есть что для любой формулы есть равносильная такая-то, такая-то. Это нам
[00:24.480 --> 00:31.400]  все понадобится, но я напоминаю, что у меня первое желание было обсудить проблему выразимости
[00:31.400 --> 00:37.960]  предикатов. Вот сейчас, когда у нас уже есть некоторый запас, ну как бы, закона в логике,
[00:37.960 --> 00:47.360]  можно вернуться к этому вопросу. О чем идет речь? Вот у нас есть какая-то модель.
[00:47.360 --> 01:00.920]  Значит, чем задается модель? Множеством носителям модели, какими-то предикатами на этой модели и
[01:00.920 --> 01:06.200]  какими-то функциями и константами. Причем, тут у меня как раз спрашивали перед лекцией, я хочу
[01:06.200 --> 01:10.880]  еще раз подчеркнуть, что функции должны быть всюду определенные. То есть, когда мы задаем модель,
[01:10.880 --> 01:17.520]  предикат это какое-то подножество соответствующей декартовой степени m, а функция это всюду
[01:17.520 --> 01:26.120]  определенное отображение из наборов k элемента в m в элементы m. Она должна быть всюду определенной.
[01:26.120 --> 01:36.880]  Так у нас модель задана. Ну и, используя формулы первого порядка, можно из имеющихся предикатов
[01:36.880 --> 01:42.640]  встроить какие-то другие. То есть, каждая формула задает какой-то предикат в этой модели и возникает
[01:42.640 --> 01:48.800]  вопрос, у нас есть какой-то предикат, не принадлежащий вот этому списку, можно ли его выразить в этой
[01:48.800 --> 01:58.400]  модели формулой первого порядка? Ну, тут частая ситуация. Если ответ да, можно выразить, то можно
[01:58.400 --> 02:06.080]  надеяться подобрать эту формулу, ну как-то исходя из здравого смысла, из содержательных особенностей
[02:06.080 --> 02:13.280]  модели. То есть, это скорее, когда мы хотим выразить, нам нужно что-то про математику этих предикатов
[02:13.280 --> 02:20.360]  и функций понять. Но может так получиться, что не выражается. И что тогда? Как доказать, что нет ни
[02:20.360 --> 02:27.800]  одной формулы, которая выражает данный предикат? Ну, задача кажется трудной, она, в общем, действительно
[02:27.800 --> 02:34.200]  не очень легкая, но есть несколько способов это делать. И вот, ближайшая моя цель, эти способы
[02:34.200 --> 02:41.240]  представить. Начнем мы с самого простого и начнем поэтому с очень простой модели. Давайте возьмем
[02:41.240 --> 02:52.680]  такую модель. Рациональные числа, отношение-сравнение строгое, ну и скажем плюс-сложение. Модель, видно,
[02:52.680 --> 02:58.800]  очень бедная, много сказать не удастся в любом случае, но что-то сказать можно, например, предикат
[02:58.800 --> 03:08.720]  х равно нулю. Я напомню, что я буду всюду дальше использовать такое соглашение о записи. В кавычках
[03:08.720 --> 03:13.160]  я буду писать то, что я пишу на нашем обычном математическом жаргоне. То есть, это не формулы
[03:13.160 --> 03:19.240]  первого порядка, а просто какое-то математическое утверждение. Вот я хочу такой предикат выразить
[03:19.240 --> 03:31.720]  в модели. Как это сделать? Ну, давайте так. Значит, для любого у неверно, что у строго меньше,
[03:31.720 --> 03:49.480]  чем х плюс у или х плюс у строго меньше, чем у. Ну вот формула первого порядка, я ее написал не
[03:49.480 --> 03:55.640]  совсем канонически, потому что отношение порядка мы пишем инфиксно. По нашему формализму надо было
[03:55.640 --> 04:00.880]  бы написать знак меньше, потом в скобках аргументы. Но для наглядности я пишу так,
[04:00.880 --> 04:06.880]  это легко механически перестраивается с такими привычными значками, зато легче понять, что здесь
[04:06.880 --> 04:17.800]  написано. Давайте посмотрим. Это же можно применить правила Деморгана. Отрицание дизъюнкции,
[04:17.800 --> 04:23.040]  это конъюнкция отрицаний. Что значит отрицание этого утверждения? Ну, это означает, что у больше
[04:23.040 --> 04:32.800]  либо равен х плюс у. А что значит отрицание этого утверждения? Что х плюс у больше либо равен у.
[04:32.800 --> 04:39.240]  Но из этих двух неравенств сразу получаем равенство. У нас равенства нет в сигнатуре,
[04:39.240 --> 04:43.960]  но оно выражается. Вот, собственно, такой формулой можно выразить предикат равенства. Получаем,
[04:43.960 --> 04:50.680]  что для любого у, у равняется х плюс у. Ну, для каких х такое будет верно? Такой х единственный,
[04:50.680 --> 04:56.400]  это ноль. Это свойство нуля, свойство нейтрального элемента. Поэтому такой предикат выражается.
[04:56.400 --> 05:05.280]  Ну, давайте попробуем сделать следующий шаг и выразить предикат х равно единице. Возможно ли
[05:05.280 --> 05:15.640]  это? И вот тут начинается проблема. Ноль мы так выразить можем, но сложение нуля нам ничего нового
[05:15.640 --> 05:21.880]  не дает. Как получить единицу? То есть мы можем зафиксировать какое-то число, но как выразить факт,
[05:21.880 --> 05:27.400]  что оно равно единице? Не очень понятно. Умножения у нас нет. Если было бы умножение,
[05:27.400 --> 05:34.360]  мы могли бы написать аналогичный закон нейтрального элемента по умножению. Но умножения у нас нет,
[05:34.360 --> 05:43.840]  у нас только сравнение и сумма. Но вот оказывается, что это сделать вообще невозможно. Есть препятствие,
[05:43.840 --> 05:49.920]  которое я сейчас попробую объяснить. Давайте посмотрим на такое отображение,
[05:49.920 --> 06:05.000]  которое задается формулой. Х переходит в 2х. Ну что мы про него можем сказать? Во-первых,
[06:05.000 --> 06:09.240]  ясно, что это биекция. Обратное отображение это просто деление пополам. У нас рациональные числа,
[06:09.240 --> 06:20.520]  деление возможно. Во-вторых, мы знаем, что х меньше у тогда и только тогда, когда 2х меньше 2у.
[06:20.520 --> 06:29.560]  Умножение на положительное число сохраняет неравенство. Как говорят, это отображение сохраняет
[06:29.560 --> 06:37.560]  предикат. То есть если мы применяем его к паре чисел, для которых выполняется отношение, то для
[06:37.560 --> 06:46.080]  результата тоже будет выполняться. Наконец, тоже несложно заметить, что образ суммы равен сумме
[06:46.080 --> 07:00.360]  образов. Это линейная функция, поэтому образ суммы равен сумме образов. Такое отображение называется
[07:00.360 --> 07:04.720]  автоморфизмом модели. Я чуть позже дам точное определение, но уже сейчас понятно, почему я его
[07:04.720 --> 07:11.160]  называю автоморфизмом. Так же, как в алгебре у нас были автоморфизмы групп, это биекция группы
[07:11.160 --> 07:16.960]  на себя такая, что сохраняется операция. Это уже пример чуть подробнее прокомментирую, когда появится
[07:16.960 --> 07:24.720]  точное определение. Сейчас я хочу сказать вот что, что интуитивно кажется очевидным, что предикат,
[07:24.720 --> 07:30.160]  который выразим в модели, будет сохраняться при автоморфизме. Но автоморфизм ничего не меняет
[07:30.160 --> 07:37.840]  в наших базовых предикатах и функциях, ну значит, когда мы его применим, у нас предикат должен перейти
[07:37.840 --> 07:43.480]  в какой-то выразимый предикат. И здесь мы видим препятствие, потому что вот этот предикат не
[07:43.480 --> 07:54.680]  сохраняется. Смотрите, вот у нас есть такой предикат, но один умножить на два это два, поэтому во что он
[07:54.680 --> 08:04.280]  перейдет при таком автоморфизме? Если x равен 1, он перейдет в предикат x равно 2. И это не то же
[08:04.280 --> 08:11.600]  самое, поэтому представим, что у нас есть формула, которая выражает предикат. Она должна после
[08:11.600 --> 08:29.160]  применения автоморфизма давать снова его же, а не дает. Смотрите, вот у нас есть предикат,
[08:29.160 --> 08:35.960]  который единицы только, истинен только в точке 1. Теперь мы применили это отображение, эта точка
[08:35.960 --> 08:49.880]  перешла в двойку, когда psi от x истинно. psi от x равно 1, а и когда x равно 1 и 2. Это в обратную
[08:49.880 --> 08:55.400]  сторону. Я, честно говоря, даже не знаю, как правильнее это записать. То есть в единицу
[08:55.400 --> 09:08.560]  переходит одна вторая, единица переходит в двойку. Вопрос, к чему мы применяем? Мы вначале применяем
[09:08.560 --> 09:14.960]  предикат или функцию. Если мы хотим применить к предикату, значит мы должны подставить в предикат
[09:14.960 --> 09:19.360]  функцию. То есть вот это я сейчас правильно написал, так что вот такой правильный ответ. Прошу упрощения,
[09:19.360 --> 09:33.640]  согласен, это я погорячился. Но в любом случае видно, что не сохраняется. Ну в смысле, так нет,
[09:33.640 --> 09:41.120]  единица, она что? Это вот точка. Вот смотрите, у нас вот такой вот предикат. После того,
[09:41.120 --> 09:46.680]  как я подействовал моделью, эта точка перешла в двойку, а в единицу перешла одна вторая. У меня
[09:46.680 --> 09:55.800]  получился другой предикат. Вопросы на эту тему очень хороши. Сейчас давайте я дам формальное
[09:55.800 --> 10:03.000]  определение, и мы посмотрим, куда что должно переходить. В сущности, вот поскольку такие
[10:03.000 --> 10:07.880]  вопросы возникают, возникает сомнение, что это рассуждение корректно. То есть казалось бы
[10:07.880 --> 10:14.720]  очевидным, что формулы должны сохраняться при автоморфизмах. А там кто его знает? Вот что-то
[10:14.720 --> 10:22.240]  здесь напутали, может быть, есть какие-то сложности в этом. Надо поступить, как всегда в математике,
[10:22.240 --> 10:28.760]  если непонятно, надо написать строгое определение и доказать исходя из него. Вот давайте напишем
[10:28.760 --> 10:34.040]  определение. Значит, у меня вот есть модель. Наверное, я вот здесь вот напишу определение.
[10:34.040 --> 10:57.200]  Раз уж модель все равно написана. Автоморфизм. Модели. Ну, это прежде всего биекция, опять-таки.
[10:57.320 --> 11:07.000]  Значит, биекция, которая должна удовлетворять двум свойствам. Ну, на самом деле, столько свойств,
[11:07.000 --> 11:12.080]  сколько у нас предикатных функциональных символов, двум группам свойств. Если я беру предикат,
[11:12.080 --> 11:41.840]  и применяю его к элементам у нас их несколько. Давайте я сразу буду писать, чтобы было понятнее
[11:42.000 --> 11:48.040]  я ставлю квадратные скобки, чтобы соответствовать моему определению оценки FORT. То есть у меня есть
[11:48.040 --> 11:58.480]  интерпретация предикатного символа R и ТОВ, и есть оценки переменных. И нужно, чтобы это совпадало
[11:58.480 --> 12:09.520]  с предикатом, который оценивается на переменных с другой оценкой, когда я применяю к оценке
[12:09.520 --> 12:18.040]  переменных PSI. Оценка переменных, я напомню, это функция из переменных в модель. Соответственно,
[12:18.040 --> 12:26.960]  я могу взять композицию, вот тут вот еще применить PSI, и получится оценка уже другая. Так вот,
[12:26.960 --> 12:32.160]  на этой другой оценке должно выполняться то же самое. То есть если было в отношении, то и осталось
[12:32.160 --> 12:40.560]  в отношении. То есть вот это исходный предикат, это новый предикат. Ну и можно теперь посмотреть,
[12:40.560 --> 12:46.960]  что нам нужно сделать здесь в неравенстве. Значит у нас был предикат х равно 1, унарный.
[12:46.960 --> 12:54.760]  Значит теперь я должен написать предикат, вот как я второй раз написал, PSI от х равно 1. Поэтому
[12:54.840 --> 13:05.280]  получается предикат х равно 1, вторая. Ну и должно выполняться, я напомню, в примере у меня еще была
[13:05.280 --> 13:13.640]  функция и тоже для нее выполнялось, должно выполняться такое естественное свойство. Если мы применяем,
[13:13.640 --> 13:24.880]  сейчас, секунду, если мы применяем наш автоморфизм к значению какой-то функции,
[13:24.880 --> 13:44.440]  у нас, я напомню, были термы. И вот мы применили функцию, а потом применили автоморфизм. Функция
[13:44.440 --> 13:49.000]  дает нам опять-таки значение в m, автоморфизм потом можно применить. Так вот, результат будет
[13:49.000 --> 13:58.320]  такой же, как если мы эту функцию применим к оценке переменных. То есть те же самые термы,
[13:58.320 --> 14:04.480]  но уже оценим в другой точке, в других значениях переменных, которые отвечают,
[14:04.480 --> 14:15.080]  которые отвечают оценке переменных, получаемой вот этой вот оценки. Вот у нас была оценка
[14:15.080 --> 14:22.000]  кси, а вот эта вот оценка это то, что я называю psi от кси. То есть переменная в начале приобретает
[14:22.000 --> 14:31.120]  какое-то значение в оценке кси, а потом к этому значению я еще применяю автоморфизм. Ну в принципе
[14:31.120 --> 14:40.400]  это то же самое, что написано вот здесь. Вот посмотрите, я применил к функции автоморфизм,
[14:40.400 --> 14:46.320]  и это должно равняться функции от автоморфизма, примененного к аргументам. То есть это такое
[14:46.320 --> 14:52.960]  обобщенное свойство автоморфизма, образ суммы равен сумме образов. Но давайте это чуть подробнее
[14:52.960 --> 15:01.880]  рассмотрим, потому что определение довольно абстрактное. Вот на примере группы, я сказал,
[15:01.880 --> 15:05.440]  что это определение у нас будет обобщать автоморфизм и группы. Давайте посмотрим,
[15:05.440 --> 15:12.640]  как это выглядит в случае группы. Ну группа это что такое с нашей точки зрения текущей? Это такая
[15:12.640 --> 15:21.600]  модель множество, предикат равенства, функция произведения, но я ее пишу с переменами, потому
[15:21.600 --> 15:28.880]  что иначе трудно записать. То есть это бинарная функция, и есть унарная функция взятия обратного,
[15:28.880 --> 15:36.680]  есть константа нейтральный элемент. Что означают условия автоморфизма? То есть у нас есть отображение
[15:36.680 --> 15:44.720]  группы в себя, которые объект С, и должны выполняться вот эти свойства. Первое свойство
[15:44.720 --> 15:53.240]  совсем простое. Что мы пишем? Если у нас х равно у, должно быть равносильно, раз тут равенство
[15:53.240 --> 15:58.200]  написано. Это означает, что равносильно для всех оценок переменных такое должно выполняться.
[15:58.200 --> 16:12.280]  Должно быть равносильно, ψ от х равняется ψ от у. Ну это конечно верно, ведь ψ-биекция,
[16:12.280 --> 16:17.600]  значит частности, она инъекция. То, что если х равен у значение функции от х,
[16:17.600 --> 16:21.560]  сравняет значение функции от у, это вообще для любой функции. А в обратную сторону это
[16:21.560 --> 16:26.280]  свойство инъекции. Если значения функции равны, то и аргументы равны. Ну а у нас вообще даже
[16:26.280 --> 16:33.760]  биекция, поэтому это конечно выполняется. То есть когда один предикат равенства, с предикатом
[16:33.760 --> 16:42.920]  проблем нет. Теперь с функциями. Давайте смотреть, что у нас написано. Фи от произведения должно
[16:42.920 --> 16:53.120]  равняться произведению образа х и у. Но это свойство гаваморфизма, это мы знаем. И уже этого
[16:53.120 --> 16:57.600]  достаточно. Вот смотрите, если у нас есть гаваморфизм, и биекция это уже называется
[16:57.600 --> 17:10.320]  автоморфизмом группы, но формальное определение требует еще двух условий. Вот здесь? Ну в группе. То
[17:10.320 --> 17:19.440]  есть, фи у нас действует на группе, то есть это я пишу просто условия в группе. Фи от х-1 равняется
[17:19.440 --> 17:32.880]  фи от х-1. И нужно, чтобы сохранялась константа. Это вот если константе тут применить, то это
[17:32.880 --> 17:38.520]  получится, что автоморфизм должен константу переводить константу. Ну про группы мы знаем,
[17:38.520 --> 17:45.240]  что если выполнено вот это, то вот эти два свойства следуют. Мы их доказывали. Их можно
[17:45.240 --> 17:55.400]  вывести из свойств гаваморфизма и биективности. Ну собственно, даже при биективности нужна из
[17:55.400 --> 18:00.880]  свойства гаваморфизма они выводятся. Любой гаваморфизм обладает таким свойством, что образ
[18:00.880 --> 18:07.360]  обратный обратный к образу и образ единичного единичный. Ну вот так вот нужно, вообще говоря,
[18:07.360 --> 18:14.160]  выписать не два, как мы привыкли в группах, а четыре условия. Просто два оказываются в данном
[18:14.160 --> 18:21.280]  случае следованием из предыдущего. Ну вот это вот автоморфизм. И теперь я хочу доказать теорему.
[18:21.400 --> 18:41.480]  Где бы ее написать? Ну давайте вот тут вот я. Пусть у нас ПСИ это автоморфизм модели.
[18:41.480 --> 19:02.360]  Тогда для любой формулы оценка этой формулы на оценке переменных КСИ совпадает с оценкой
[19:02.360 --> 19:15.120]  этой формулы на оценке переменных ПСИ от КСИ. То есть в частности из этой теоремы как раз следует
[19:15.120 --> 19:20.440]  вот аккуратное решение нашей задачи, потому что, смотрите, предположим, что предикат выразим,
[19:20.440 --> 19:32.920]  тогда берем оценку КСИ от Х, там равно, не знаю, а. Ну или вообще пусть будет единицы. А тогда что
[19:32.920 --> 19:41.520]  у нас будет ПСИ от КСИ от Х? Это будет двойка. И из этой теоремы следует, что предикат в точке
[19:41.520 --> 19:46.720]  1 и в точке 2 должен оцениваться одинаково. Это не так. Он оценивается по-разному. Здесь он истинный,
[19:46.720 --> 19:52.920]  здесь он ложный. Вот приходим к противоречию и все. То есть в сущности, чтобы использовать
[19:52.920 --> 20:01.160]  метод автоморфизма, нам нужна в точности эта теорема. Ну ее надо еще доказать. Давайте доказывать.
[20:01.160 --> 20:09.880]  Как всегда, это получается довольно длинно, потому что начать надо с термов. Я напомню,
[20:09.880 --> 20:14.880]  что формулы первого порядка, у них есть такая проблема, что они имеют сложную структуру. Они
[20:14.880 --> 20:19.480]  построены из атомарных формул, атомарная формула к применению предикатного символа к термам, а термы
[20:19.480 --> 20:24.840]  сами по себе построены применением к термам. Поэтому в начале нам нужна лемма про термы.
[20:24.840 --> 20:35.520]  Значит, если Т терм, ну я не буду писать, что ПСИ, а автоморфизм, то тогда выполняется вот то же
[20:35.520 --> 20:49.760]  условие, которое я написал для основных функций модели, но на самом деле оно верно для любого терма.
[20:49.760 --> 20:55.920]  Первым делом мы хотим это обобщить. Вот смотрите, что нам дано, если это автоморфизм,
[20:55.920 --> 21:01.280]  что применение к функциям, которые входят в сигнатуру, оно автоморфизмом сохраняется.
[21:01.280 --> 21:05.760]  Теперь я хочу доказать, что то же самое будет верно для любого терма. Ну не очень сложное
[21:05.760 --> 21:11.480]  доказательство, но надо его аккуратно проделать. Давайте начнем индукция по разбору терм. Значит,
[21:11.480 --> 21:14.680]  у нас самые простые термы – это переменные. Давайте начнем с переменной.
[21:14.680 --> 21:30.800]  Что здесь написано? Ну вот я пишу такие обозначения, оценка переменной. Вот
[21:30.800 --> 21:35.560]  здесь я писал КСИ как обычную функцию, как принято в математике, а здесь я использовал
[21:35.560 --> 21:41.720]  другое обозначение, потому что оно мне удобнее. Но сейчас удобнее понять как раз это так, как
[21:41.720 --> 21:47.680]  написано на левой доске. Это то же самое. Это применение двух функций, композиция двух функций.
[21:47.680 --> 21:57.760]  Ну и теперь это что такое? Это означает, что мы переменную оцениваем уже как КСИ от КСИ. Это
[21:57.760 --> 22:02.920]  просто... База вообще ничего не требует, кроме определений. То есть у нас просто такие
[22:02.920 --> 22:11.400]  специфические обозначения, а так она, в общем-то, очевидна. Теперь шаг индукции. Я предполагаю,
[22:11.400 --> 22:20.080]  что у меня есть терм, который имеет вид. Какая-то функция, примененная к другим термам. И эти
[22:20.080 --> 22:25.360]  другие термы заведомо короче. У меня индукция по разбору терм, то есть по длине, можно сказать.
[22:25.360 --> 22:30.560]  Термы, которые стоят в этом выражении, они будут короче, чем Т. И для них по индуктивному
[22:30.560 --> 22:43.520]  предположению вот это вот выполняется. Ну давайте теперь применим... Возьмем оценку какую-то КСИ и
[22:43.520 --> 22:52.320]  применим автоморфизм к значению терма на оценке КСИ. Ну как это нужно написать? Давайте распишем
[22:52.320 --> 22:58.120]  подробнее. Как оценивается терм? Вот терм у нас выражается вот так. Мы должны взять функцию,
[22:58.120 --> 23:06.280]  отвечающую вот этому символу, и подставить вместо ее аргументов, термов, подставить их значение при
[23:06.280 --> 23:20.040]  оценке КСИ. Это просто определение значения терма. Теперь смотрите, у нас появляется
[23:20.160 --> 23:26.960]  СИ, примененная функцией Ф нашей модели. Это в свойстве автоморфизма у нас записано. Теперь
[23:26.960 --> 23:35.760]  мы можем применить свойство автоморфизма. Написать это так. Функция. А дальше мы должны применить уже
[23:35.760 --> 23:52.560]  автоморфизм к значениям термов аргументов. Ну отлично, но тут мы уже Лему знаем это индуктивное
[23:52.560 --> 24:01.040]  предположение, поэтому мы можем переставить. Автоморфизм, примененный к значению терма,
[24:01.120 --> 24:06.440]  это значение терма на другой оценке, которая получается с применением автоморфизма.
[24:06.440 --> 24:27.120]  Ну хорошо, мы уже почти победили. Посмотрите на то, что написано. Это по определению,
[24:27.120 --> 24:36.280]  вот так же как я вот здесь расписывал, это по определению значение терма Т. У нас же терм Т
[24:36.280 --> 24:45.760]  это Ф от Т1 ТК. Вот он написан. Ну и так вот он вычисляется в точке ПСИ от КСИ. Ровно то,
[24:45.760 --> 24:50.640]  что нам нужно в Лемме. То есть вот для термов мы доказали, что для термов тоже выполняется
[24:50.640 --> 24:59.760]  вот это соотношение, которое было в автоморфизме. То есть применение терма сохраняется при
[24:59.760 --> 25:14.920]  автоморфизме. Вот это? Переход между строками. Давайте посмотрим. Да, из определения автоморфизма.
[25:14.920 --> 25:21.960]  Мы в каждом аргументе... А нет, не определение автоморфизма. Извините, это индуктивное
[25:21.960 --> 25:30.520]  предположение. Я прошу прощения. Да, но здесь написано F. Я извиняюсь, если это неразборчиво,
[25:30.520 --> 25:36.040]  тут написано F. Мы требуем только... Смотрите, чтобы проверять свойства автоморфизма, нам не
[25:36.040 --> 25:42.000]  хочется со всеми термами работать. Мы хотим только вот с теми функциями, которые есть в сигнатуре. И
[25:43.000 --> 25:46.480]  мы требуем только для функции сигнатуры выполнения этого свойства. А сейчас я доказываю,
[25:46.480 --> 25:51.680]  что это переносится на любые термы. Это достаточно очевидно, тут никаких нетривиальных
[25:51.680 --> 25:57.880]  идей нет, но надо бы проверить, потому что у нас формализм уже задан жестко, в нем могут возникать
[25:57.880 --> 26:05.280]  какие-то проблемы. Следующая лемма про атомарные формулы. Она достаточно очевидна. Если А... А
[26:05.280 --> 26:26.200]  это какой-то предикатный символ, это атомарная формула, то тогда ее оценка на кси совпадает с
[26:26.200 --> 26:39.040]  оценкой на си от кси. Ну и уже понятно, что нужно сделать. Нужно применить вот эту лему и
[26:39.040 --> 26:46.200]  определение, которое у нас есть. А это символы сигнатуры в атомарной формуле. Поэтому мы получаем...
[26:46.200 --> 26:52.400]  Давайте как-нибудь здесь поставлю звездочка, чтобы не переписывать. Много места уходит.
[26:52.400 --> 27:00.880]  Звездочка. Это у нас что? Это мы должны посмотреть на предикат, которым мы интерпретируем символ,
[27:00.880 --> 27:15.680]  а и применить его к оценкам термов на кси. Это по определению. А теперь воспользуемся леммой.
[27:15.680 --> 27:35.080]  Удобнее давайте я сейчас, чтобы гладче было, напишу вот так вот. Вначале мы вот к этой оценке
[27:35.080 --> 27:54.920]  применим. И теперь воспользуемся леммой в каждом аргументе. Я переписал порядок, чтобы не применять
[27:54.920 --> 28:00.280]  обратный автоморфизм. Конечно, обратное отображение будет автоморфизмом. Зачем нам лишние сложности?
[28:00.280 --> 28:10.080]  Вот смотрите, это я тут ка раз применил лему про термы. Вынес автоморфизм сюда. А теперь я применяю
[28:10.080 --> 28:21.040]  уже определение, чтобы запись была на доске корректной, я вот с этого начинаю. Теперь я
[28:21.040 --> 28:39.520]  применяю определение автоморфизма. У меня А оценивается вот на таком. Давайте я перепишу вот так,
[28:39.520 --> 28:47.280]  потому что это получается не очень красиво. Это то же самое, я обращаю ваше внимание,
[28:47.680 --> 28:57.080]  что я записываю то же самое. Просто у нас есть два способа записать композицию функции и нагляднее
[28:57.080 --> 29:05.760]  все-таки вот так вот записать. Тут бы я мог, конечно, еще одну строчку написать, загнав эту ПСИ.
[29:05.760 --> 29:31.560]  Нет, никуда не надо загонять. Вот это вот уже я применяю вот это свойство. Здесь мне было удобнее
[29:31.560 --> 29:40.800]  переписать вот немножко вот так вот. Но это то же самое, я вот уже это использовал. Сейчас уже стерто.
[29:40.800 --> 29:58.040]  А нет, вот не стерто, вот оно написано. Вот видите, это то же самое. Ну и все, мы доказали для
[29:58.040 --> 30:04.920]  атомарных формул. Теперь осталось доказать теорему уже для произвольной формулы. Ну и здесь я даже не
[30:04.920 --> 30:10.840]  буду особо расписывать ничего, а буду так на слова говорить, потому что дальше мы помним,
[30:10.840 --> 30:16.960]  как строятся формулы. Ну точнее мне один случай надо будет написать. Как строятся формулы? Они
[30:16.960 --> 30:23.720]  строятся из булевых связок и навешивания кванторов. Но смотрите, если мы навешиваем булевую связку и
[30:23.720 --> 30:29.960]  у нас теорема выполняется для двух частей, ну тогда она будет выполняться и для булевой связки,
[30:29.960 --> 30:35.400]  потому что булева связка это функция, булева функция значений при оценке, то есть естественно
[30:35.400 --> 30:40.640]  будет выполняться. Но есть тонкость с оценкой кванторов. Давайте только про квантор всеобщности
[30:40.640 --> 30:47.960]  скажем, потому что рассуждение аналогично, ну и мы знаем, что эта формула равносильна формуле с
[30:47.960 --> 30:54.180]  квантором сочетания, равносильна формуле с квантором всеобщности. И нам нужно вот доказать вот такое вот
[30:54.180 --> 31:05.840]  равенство. Тут есть нюанс. Смотрите, когда я оцениваю левую часть, у меня переменная х,
[31:05.840 --> 31:14.520]  все переменные зафиксированы, а х пробегает все возможные значения. А когда я оцениваю правую
[31:14.520 --> 31:21.800]  часть, опять-таки все переменные зафиксированы, но х пробегает там какие-то значения. И тут
[31:21.800 --> 31:28.240]  становится существенным, что эти множества значений одинаковы. Когда мы подставляем вместо х
[31:28.240 --> 31:35.240]  psi от возможных значений в этой модели, мы получаем то же самое. Тут даже не важно, что у нас
[31:35.240 --> 31:42.120]  psi биекция, нам достаточно, что psi сюръекция. Потому что если сюръекция, то она уже пробежит
[31:42.120 --> 31:50.520]  все, что нужно. Обычно автоморфизм все-таки предполагается, что он биективен, хотя иногда
[31:50.520 --> 31:56.040]  бывает удобно использовать эту теорему и для такого обобщения, как это называется,
[31:56.040 --> 32:08.560]  если инъективный аморфизм это эндоморфизм, а сюръективный я не знаю. Какое-то название у него,
[32:09.240 --> 32:16.560]  но я сейчас не помню. Когда биекция, никакой проблемы нет. Мы оцениваем здесь и здесь одно и то же.
[32:16.560 --> 32:24.080]  Нам же нужно, смотрите, чтобы использовать для формулы A индуктивное предположение, мы же
[32:24.080 --> 32:32.560]  доказываем индукции по разбору формулы, я должен формулу A оценивать на оценки psi от кси. И при
[32:32.560 --> 32:37.920]  этом мне важно, что все возможные значения переменной х у меня встретятся. Но это так,
[32:37.920 --> 32:47.120]  поскольку биекция. Вот на этом мы заканчиваем об основании метода автоморфизмов. Он дает,
[32:47.120 --> 32:51.720]  ну вот я начал с примера, потому что пример более наглядный, а доказательства такое занудные и
[32:51.720 --> 32:56.800]  выглядит переливанием из пустого порожня, но в логике так бывает, какие-то вещи чисто технически
[32:56.800 --> 33:03.800]  лучше проверить, чтобы убедиться, что там нет каких-то подвохов. Ну очень хороший метод,
[33:03.800 --> 33:11.680]  например, давайте я сразу какой-нибудь еще пример быстренько разберу. Вот как устроены
[33:11.680 --> 33:21.880]  автоморфизмы. Мы знаем, что в любой группе есть такие внутренние автоморфизмы, сопряжение.
[33:21.880 --> 33:37.720]  Ну это мы проверяли в курсе алгебры, я сейчас проверять не буду, а вот у меня группа осталась.
[33:37.720 --> 33:43.960]  Давайте я теперь напишу конкретную группу, скажем, группу перестановок третьего порядка,
[33:43.960 --> 33:58.040]  и напишу, предикаты все те же самые, и напишу предикат, который я хочу выразить, x1,2. Я утверждаю,
[33:58.040 --> 34:12.560]  что он невыразим. Потому что опять-таки транспозиция 1,2 не сохраняется при всех сопряжениях. Сопряжение
[34:12.560 --> 34:17.200]  можно ее перевести в любую другую транспозицию, в 1,3 или в 2,3, это мы проверяли, я сейчас даже не
[34:17.200 --> 34:23.960]  буду выписывать. Поэтому получается так, что у нас нет имени, у нас есть имя только для нейтрального
[34:23.960 --> 34:32.320]  элемента. И вот выразить, ну можно там про любой из пяти оставшихся элементов сказать, если у нас мы
[34:32.320 --> 34:37.080]  хотим выразить предикат x равно циклу длины 3, он тоже не будет выражаться, потому что циклы длины 3,
[34:37.080 --> 34:48.040]  они тоже все друг с другом сопряжены, их два и они сопряжены. Поэтому у нас нет возможности выразить
[34:48.040 --> 34:52.680]  имя. Вот если дать еще имя какой-нибудь из транспозиции, скажем вот этот предикат ввести,
[34:52.680 --> 35:02.120]  то остальные мы легко выразим. Ну не так, не то чтобы легко, но выразим. Или нет? Хорошо,
[35:02.240 --> 35:14.360]  это хороший вопрос. Подумайте, я стал сомневаться, что выразим, если добавить константу транспозиции
[35:14.360 --> 35:23.960]  1,2, можем ли мы тогда выразить предикат перестановка равна какому-нибудь другому элементу с3? Что?
[35:23.960 --> 35:36.440]  Есть подозрения, что есть еще автоморфизм, который 1 и 2 меняет местами, но это надо проверить.
[35:36.440 --> 35:48.400]  Но такое ощущение, что это можно доказать просто автоморфизмом. Ну то есть если не выражается,
[35:48.400 --> 35:54.960]  ну он по-моему действительно не выражается. Хорошо, но есть еще одна проблема с методом
[35:54.960 --> 36:05.160]  автоморфизмов. В чем с ним проблема? Проблема в том, что иногда в моделях просто нет нетривиальных
[36:05.160 --> 36:09.560]  автоморфизмов. Если автоморфизм в моделях только тривиальный, то мы ничего из этой теории мы не
[36:09.560 --> 36:13.880]  получим. Потому что если psi-тошдиостное отображение, то мы получаем равенство,
[36:13.880 --> 36:20.760]  что а равно а. Как-то неубедительно. Никаких противоречий точно отсюда не получится.
[36:20.760 --> 36:30.080]  И я сейчас приведу простой пример. Вот у нас была модель Q с неравенством. Давайте
[36:30.080 --> 36:36.240]  добавим равенство, мне не жалко. Плюс и давайте добавим константы. В такой модели уже, понятное
[36:36.240 --> 36:45.040]  дело, можно выразить любой предикат X равняется целое число. Ну и на самом деле, если подумать,
[36:45.040 --> 36:50.720]  любой предикат X равняется какому-то конкретному рациональному числу. Но автоморфизмов нет.
[36:50.720 --> 37:10.920]  Только тривиальный. Почему так? Ну это очень легко заметить. Смотрите, пусть у нас есть автоморфизм.
[37:10.920 --> 37:31.040]  Это же линейная функция. Возьмем какое-нибудь число k. И возьмем это так k раз. С одной стороны,
[37:31.040 --> 37:39.040]  это будет psi от единицы, одна k прибавленная к раз. С другой стороны, это будет k умножить на
[37:39.040 --> 37:48.080]  psi от единицы на k. Ну тут это просто единица, а единица должна сохраняться, она у нас константа
[37:48.080 --> 37:56.320]  модели. Значит мы получаем, что psi от единицы на k это одна kt. У нас есть равенство, из него мы
[37:56.320 --> 38:07.760]  получаем выражение для psi на единицу на k. Ну теперь пойдем чуть дальше. Возьмем аналогичное
[38:07.760 --> 38:15.120]  равенство p разделить на q. Да, если k отрицательное, можно примерно так же рассуждать. На самом деле я
[38:15.120 --> 38:27.520]  на этом не останавливаюсь. Давайте для краткости поделим. Возьмем q раз сумму дробей p на q. Это,
[38:27.520 --> 38:38.080]  конечно, будет просто p. И точно так же применим автоморфизм. Что у нас получится? С одной стороны,
[38:38.080 --> 38:46.800]  это получится psi от целого числа p. И поскольку единица сохраняется, p это сумма p единиц. Единица
[38:46.800 --> 38:56.400]  сохраняется, значит это тоже p. А тут мы можем поступить иначе, поскольку все эти слагаемые дают
[38:56.400 --> 39:05.680]  одинаковый результат. Это будет q умножить на psi p разделить на q. То есть это свойство
[39:05.680 --> 39:14.040]  автоморфизма. Ну и все, мы получаем опять таки, что psi от p разделить на q равняется p разделить
[39:14.040 --> 39:21.680]  на q. То есть просто получили, что автоморфизм все рациональные числа вставляет на месте.
[39:21.680 --> 39:28.800]  Ну сейчас уже нужно делать перерыв. Я добавлю, что если бы у меня была модель не с рациональными,
[39:28.800 --> 39:33.080]  а с действительными числами, там бы тоже не было автоморфизмов. Рассуждению пришлось бы чуть-чуть
[39:33.080 --> 39:38.960]  продолжить. Я начал с q, чтобы успеть. А с рациональными числами, я думаю, вы догадываетесь,
[39:38.960 --> 39:43.040]  как нужно продолжить. Нужно рассмотреть то, что называется додекиндовое сечение. Любое
[39:43.040 --> 39:48.440]  действительное число, рациональное, оно однозначно задается множеством рациональных чисел, которые
[39:48.440 --> 39:55.800]  меньше его и которые больше его. Поскольку они остаются на месте, то теорема двух милиционерах
[39:55.800 --> 40:00.560]  говорит нам, что деваться этому числу некуда оно должно переходить себя. То есть такой элементарный
[40:00.560 --> 40:08.800]  анализ. Ну хорошо, значит, метод автоморфизма вложился в пол пары. Дальше он удобен тем,
[40:08.800 --> 40:13.360]  что он прост. На семинарах, я надеюсь, вы будете решать задачи, где будете его применять. То есть
[40:13.360 --> 40:18.080]  если он применяется, то если есть какие-то автоморфизмы, видно, что предикат не сохраняется,
[40:18.080 --> 40:22.840]  его очень легко применять. Другие методы посложнее. Ну вот мы их начнем обсуждать.
[40:22.840 --> 40:27.800]  Ну сейчас давайте перерыв пока. Ножка в сторону уводит.
[40:27.800 --> 40:42.080]  Значит, ну больше про метод автоморфизма я ничего говорить не буду, его полезно знать и применять,
[40:42.080 --> 40:48.280]  когда он применяется, потому что его легко обычно применять. А что делать, если он не
[40:48.280 --> 40:55.040]  применяется? Ну вот модели, которые мы сейчас говорили, рациональные числа, сложения, сравнения
[40:55.040 --> 41:05.800]  и две константы. Все константы выражаются, все тривиально. Ну раз константы выражаются,
[41:05.800 --> 41:10.920]  это следствие из этой теоремы, они должны переходить себя при автоморфизме. Это я уж не
[41:10.920 --> 41:16.680]  буду сейчас объяснять, это можно доказать такой более общий факт, но аналогично этому доказательству.
[41:16.680 --> 41:25.160]  Но что можно сделать? Тут во многих случаях, в том числе и в этой модели, помогает очень
[41:25.160 --> 41:40.080]  интересный прием. У нас, конечно, формул много, но иногда выразительная сила модели ограничивается
[41:40.080 --> 41:50.320]  только частными случаями формул. В частности, важный случай формул, бескванторные формулы.
[41:50.320 --> 42:00.560]  Ну что такое бескванторная формула? Понятно из названия, она по определению формула, в которой
[42:00.560 --> 42:05.640]  нет ни одного квантора. Мы можем построить такую формулу, атомарные формулы, все бескванторные,
[42:05.640 --> 42:09.800]  но помимо этого мы можем еще применять к атомарным формулам булевые связки,
[42:09.800 --> 42:17.320]  тоже будут получаться бескванторные формулы. Понятно, что если мы ограничиваем себя таким
[42:17.320 --> 42:21.320]  образом, не используя кванторы, то выразительная сила скорее уменьшается. И действительно,
[42:21.320 --> 42:31.240]  вот можно доказать, давайте для примера докажем такое утверждение. Рассмотрим ту самую модель,
[42:31.320 --> 42:54.280]  где нет автоморфизмов. Я утверждаю, что в ней нет бескванторной формулы, которая выражает
[42:54.280 --> 43:08.320]  предикат х целое. Вот для каждого конкретного значения, для каждого конкретного целого числа
[43:08.320 --> 43:14.040]  предикат х равняется а выражается в этой модели. Ну если оно положительно, это просто нужно написать
[43:14.040 --> 43:20.960]  совсем простую формулу, что х равен сумме а штук единицы. А если отрицательно, мы должны выразить
[43:20.960 --> 43:27.960]  обратный, это мы можем сделать как обычно. У нас же есть плюс, есть ноль, то есть мы можем записать,
[43:27.960 --> 43:34.880]  как всегда, в группе выражения для обратного и получить тоже самое. Но вот общий предикат,
[43:34.880 --> 43:39.360]  что вот х целое, это другой предикат, его выразить бескванторными формулами нельзя.
[43:39.360 --> 43:49.360]  Почему так? Ну давайте подумаем. Дальше мы будем, ну может быть и в этой модели я посмотрю,
[43:49.360 --> 43:56.280]  может быть я чуть более простую буду разбирать, более технически, но анализ очень похож. Вот смотрите,
[43:56.280 --> 44:05.440]  как доказать такое утверждение? У нас есть, я для простоты оставил только один предикатный символ,
[44:05.440 --> 44:12.320]  и как у нас устроены предикаты, атомарные формулы, которые выражаются в этой модели. Ну вот так вот
[44:12.320 --> 44:20.240]  они устроены. На самом деле, как выясняется, мы ничего не выиграли, что убрали равенство,
[44:20.240 --> 44:26.680]  но сейчас мне так будет проще сказать немножко. То есть у нас есть один предикат, и мы сравниваем
[44:26.680 --> 44:41.120]  два терма. А что такое термы? Вот давайте смотреть, как выглядит терм. Это суммы, значит терм составлен
[44:41.120 --> 44:45.960]  применением функциональных символов и констант, быть может и переменных. Но у нас функциональный
[44:45.960 --> 44:52.320]  символ один, сумма. Поэтому терм это всегда будет сумма. Сумма чего? Переменных и констант. То есть
[44:52.320 --> 45:01.720]  у нас будет, он будет иметь вид какой-то там x1, плюс x2, плюс сколько-то, xr, плюс какая-то константа.
[45:01.720 --> 45:11.080]  Никаких других термов у нас просто нет, потому что у нас только вот один функциональный символ,
[45:11.080 --> 45:16.000]  ну и две константы. А ноль, прибавление нуля ничего не меняет. Соответственно, значит у нас
[45:16.000 --> 45:22.280]  получается, что выражает эта марная формула. У нас одно такое выражение слева. Заметьте, что
[45:22.280 --> 45:28.200]  среди переменных могут быть одинаковые. Этому ничему не противоречит. Это тоже будет терм. То
[45:28.200 --> 45:34.880]  есть я могу написать x1, плюс x1, плюс x1. Это будет вполне себе терм, он будет означать 3х1. Поэтому
[45:34.880 --> 45:43.560]  фактически у нас получается так. У нас получается, что мы имеем некоторую линейную функцию с целыми
[45:43.560 --> 46:03.800]  коэффициентами и сравниваем ее ну с какой-то константой. Тоже целый. Целый, потому что это терм.
[46:03.800 --> 46:11.000]  Мы можем подставить только целые числа терм. А знак может быть любой, потому что, смотрите,
[46:11.000 --> 46:16.080]  наши атомарные формулы, переменная может ходить в левую и в правую часть. Соответственно,
[46:16.080 --> 46:19.760]  если мы хотим поменять знак, мы должны просто соответствующую переменную написать в другой
[46:19.760 --> 46:25.840]  части. Потому что я-то тут уже пишу неравенство, как обычно. В приведенном виде переменная с одной
[46:25.840 --> 46:31.480]  стороны, константа с другой. Ну вот, просто перенося туда переменной, мы это всегда можем свести к
[46:31.480 --> 46:42.560]  сравнению двух линейных функций с положительными коэффициентами. Для атомарных. То есть у нас термы
[46:42.560 --> 46:48.720]  совсем простые, атомарные формулы тоже, видите, очень простые по сути дела. Давайте теперь подумаем,
[46:48.720 --> 46:55.440]  что может быть в бескванторной формуле. Бескванторная формула это какое-то логическое условие с помощью
[46:55.440 --> 47:01.320]  наших логических связок на вот такие неравенства. Но в нем, что существенно этих линейных функций,
[47:01.320 --> 47:16.200]  давайте вот я эту функцию обозначу как-то L. Линейных функций вот таких, их конечное количество. Ну у нас
[47:16.200 --> 47:20.920]  вообще атомарных формул, в формуле конечное количество, поэтому линейные функции тоже конечное
[47:20.920 --> 47:25.480]  количество. Они могут совпадать, но каждая атомарная формула, ей будет соответствовать только одна
[47:25.480 --> 47:33.800]  такая функция. Ну и давайте для простоты считать, что функции нетривиальные, какие-то изоитых
[47:33.800 --> 47:44.560]  существует какой-то коэффициент, неравный нулю. Ну почему? Потому что если все коэффициенты равны
[47:44.560 --> 47:50.640]  нулю, то такой предикат вообще никаких переменных не зависит. У нас получается неравенство 0 меньше
[47:50.640 --> 47:56.880]  B, где B тоже какая-то константа. Но тогда оно либо верно, либо неверно, мы можем это узнать и
[47:56.880 --> 48:02.400]  подставить нашу формулу соответствующую логическую константу и упростить формулу там, сделать
[48:02.400 --> 48:15.560]  упрощение и избавиться от такой функции. То есть все элиты, они не нулевые. Что? Ну у нас есть какая-то
[48:15.560 --> 48:21.160]  формула бескванторная. Я хочу сказать, что в атомарных формулах этой формулы встречается только
[48:21.160 --> 48:31.760]  конечное количество линейных функций. Запись формулы и формула. Мы договорились, что формула это
[48:31.760 --> 48:38.600]  слово. Когда мы какую-то более хитрую запись придумаем, я наоборот говорю о писании формулы. Не
[48:38.600 --> 48:44.400]  всего, конкретные формули. Мы сейчас говорим об оценке бескванторной формулы. И смотрите,
[48:44.400 --> 48:50.240]  что получится. Мы знаем, как устроены нетривиальные линейные функции. Они, начиная с некоторого места,
[48:50.240 --> 49:01.120]  но у нас... Да, теперь мы хотим написать предикат от одной переменной. В бескванторной формуле это
[49:01.120 --> 49:05.880]  означает, что других переменных просто не входит, потому что у нас нет кванторов, мы не можем связать
[49:05.880 --> 49:10.640]  переменные. Значит, наша бескванторная формула, которую мы хотим выразить, наш предикат, она
[49:10.680 --> 49:16.640]  должна содержать только переменную х. И это все сильно упрощает, потому что, смотрите, линейные
[49:16.640 --> 49:27.120]  функции от х обладают таким замечательным свойством, что у линейной функции есть ровно один корень. И
[49:27.120 --> 49:39.680]  когда х больше этого корня, функция имеет какой-то знак. Я сейчас b перенесу в левую часть, тоже чтобы
[49:39.680 --> 49:49.080]  мне удобно сейчас неоднородные функции. Знак вот на всем таком бесконечном интервале у соответствующей
[49:49.080 --> 49:57.000]  этамарной формулы получается одно и то же истинное значение, потому что этамарная формула это
[49:57.000 --> 50:03.240]  сравнение, фактически знак этой линейной функции. Вот я там написал строго неравенство, а тут надо
[50:03.240 --> 50:11.640]  написать знак. Ну и если 0 считать, что это не тот знак. Но если больше уже корня, то значение
[50:11.640 --> 50:16.920]  всюду одинаково. Может быть истина, может быть ложно. Вот здесь, скажем, эта функция положительная,
[50:16.920 --> 50:22.080]  а эта функция, наоборот, вот на этом бесконечном интервале всегда отрицательная, то есть неравенство.
[50:22.080 --> 50:28.760]  Ну на самом деле вот тут у нас истина, у меня, если так уж совсем буквально смотреть на то,
[50:28.760 --> 50:35.120]  что я написал, там истина, там ложь, но это не очень важно. Важно, что константа. И теперь смотрите,
[50:35.120 --> 50:40.240]  какое рассуждение. Вот у нас есть бескванторная формула, и мы знаем, что если мы будем подставлять
[50:40.240 --> 50:48.040]  х больше некоторого фиксированного числа, поскольку функции конечное количество, у нас все корни, они
[50:48.040 --> 50:56.000]  ограничены каким-то числом. Конечное множество корней ограничено. Есть число, которое заведомо
[50:56.000 --> 51:08.080]  больше всех этих корней. И вот тут вот, фи, вот если мы оцениваем здесь, оно, мы не знаем истину или ложную,
[51:08.080 --> 51:15.960]  но она константа. Она будет принимать одинаковое значение во всех числах, которые больше некоторой
[51:15.960 --> 51:23.600]  границы. Ну граница как-то по формуле будет определяться. Ну а давайте посмотрим на наш
[51:23.600 --> 51:30.120]  предикат, х целое. Видно, что он не такой. Какое бы вы число не взяли, больше его найдутся как целые,
[51:30.120 --> 51:36.240]  так и не целые. Для любого числа есть целое, которое больше его, есть не целое, которое больше его. Значит,
[51:36.240 --> 51:41.720]  у нас получается, что предикат, который задается в бескванторные формулы, точно отличается от
[51:41.720 --> 51:47.880]  нашего. Это вот типичный пример, как удается про бескванторные формулы доказывать, что они
[51:47.880 --> 51:53.640]  что-то не выражают. Они все-таки очень ограниченные. Ну зависит, конечно, от модели, от того, какие у нас
[51:53.640 --> 52:04.880]  получаются атомарные формулы. Но вот в этом случае получаются. И можно перенести это рассуждение
[52:04.880 --> 52:24.960]  на какие-то другие модели. Например, вот важный пример, очень похожий на этот. Это прям название
[52:24.960 --> 52:32.200]  конкретной модели. Вот как была у меня алгебратарского, это действительные числа, сравнения, сложения и
[52:32.200 --> 52:39.200]  умножения еще. Арисметика Презбургера, там нет умножения, там есть, ну там равенство всегда добавляют,
[52:39.200 --> 52:49.720]  чтобы не мучиться. Добавляют знак сравнения и сложения, и вот 0,1,5. Но теперь у нас модель в целых
[52:49.720 --> 52:58.960]  числах, то есть носитель модели целые числа. Немножко другая модель. Но то, что в ней не выражается
[52:58.960 --> 53:11.600]  предикат. Ну х целая неинтересна, конечно. Давайте какой-нибудь х-четная, да. Х-четная не выражается
[53:11.600 --> 53:20.080]  без кванторных формул в этой модели. Ну точно такое же рассуждение. Тут у нас просто будут,
[53:20.080 --> 53:28.960]  надо чуть-чуть, у нас неравенство, ну тут рациональные числа, поэтому мы можем вообще
[53:28.960 --> 53:35.520]  поделить там. А здесь целые, но это не очень большая проблема, потому что если у нас есть
[53:35.520 --> 53:39.800]  неравенство с рациональными коэффициентами, ну вот так получилось допустим, мы всегда можем
[53:39.800 --> 53:47.080]  домножить наименьшее кратное, положительное, и получить неравенство с целыми числами. В общем,
[53:47.080 --> 53:52.480]  это не проблема, все такие неравенства выражаются, но они нас не спасают, потому что вот та же
[53:52.480 --> 53:59.400]  самая проблема. Если у нас формула без кванторная, в ней всего одна переменная, все атомарные формулы
[53:59.400 --> 54:05.200]  задают какие-то линейные функции, на бесконечности получается константа, истина или ложь, как любой
[54:05.200 --> 54:11.600]  формула. А предикаты в счетную не такое, там бывает больше любого числа, бывает как четные,
[54:11.600 --> 54:21.600]  так и нечетные числа. Поэтому вот, ну это еще один простой пример, он мне сейчас понадобится,
[54:21.600 --> 54:26.720]  потому что я постепенно приближаюсь к тому, чтобы ввести вот второй способ доказательства
[54:26.720 --> 54:39.040]  невыразимости, который называется иллюминация кванторов. Модель допускает иллюминацию кванторов,
[54:39.040 --> 54:52.080]  если любая формула равносильна в этой модели без кванторной. Ну я тут немножко расширил то,
[54:52.080 --> 54:56.320]  что я использовал в прошлый раз, у нас были просто равносильные формулы, а сейчас мне нужно говорить
[54:56.320 --> 55:01.440]  о формулах, равносильных модели. Пределение, я думаю, совершенно понятное. Модель у нас зафиксирована,
[55:01.440 --> 55:06.800]  но мы при любой оценке переменных подставляем две формулы, соответствующую оценку переменных,
[55:06.800 --> 55:14.880]  получаем всегда один и тот же результат. Это называется равносильные в модели. И оказывается,
[55:14.880 --> 55:19.920]  что для некоторых моделей верен такой факт, что для любой формулы есть равносильная в этой
[55:19.920 --> 55:25.040]  модели без кванторной. В этом случае говорят, что модель допускает иллюминацию кванторов.
[55:25.040 --> 55:31.080]  Иллюминация означает истребление. Ну исключение, истребление, не знаю, какой правильный оттенок,
[55:31.080 --> 55:40.840]  я латыни не знаю. И это очень важное свойство, потому что, смотрите, если модель допускает
[55:40.840 --> 55:46.640]  иллюминацию кванторов, то мы сразу получаем бесплатный способ, ну скажем, вот та модель,
[55:46.640 --> 55:52.840]  про которую я говорил. Давайте на секунду поверим, что она допускает иллюминацию кванторов. Тогда мы
[55:52.840 --> 56:07.800]  получаем утверждение, что в этой модели предикат эксцелы не выразим. Ну сходу. Потому что если бы
[56:07.800 --> 56:12.600]  он был выразим, для соответствующей формулы была бы равносильная в этой модели без кванторной,
[56:12.600 --> 56:18.360]  а без кванторной он не выражается. И это типичный способ просуждения, он применим к алгебритарскому
[56:18.360 --> 56:24.840]  точно так же. Пралгебритарского тоже известно, что в ней возможна иллюминация кванторов. Это важная
[56:24.840 --> 56:28.440]  теорема, я ее, наверное, полностью доказывать не буду, но в следующий раз мы ее обсудим чуть
[56:28.440 --> 56:37.320]  подробнее, сегодня до нее еще дело не дойдет. Поэтому, если у вас есть какая-то формула с
[56:37.320 --> 56:41.400]  действительными числами первого порядка, то есть вы берете кванторы по действительным числам,
[56:41.400 --> 56:47.240]  какие-то арифметические операции, сравнения, вы знаете, что можно написать эквивалентную без
[56:47.240 --> 56:55.240]  кванторную. Более того, для алгоритмических приложений существенно, что бывает эффективная
[56:55.240 --> 57:03.880]  иллюминация. Ну что это означает? Я слово эффективный всегда использую в одном смысле. У меня есть
[57:03.880 --> 57:10.200]  такое условие, что для любого чего-то существует что-то. Эффективное означает, что есть алгоритм,
[57:10.200 --> 57:19.880]  который по формуле строит равносильную в этой модели без кванторную. И чем замечательна
[57:19.880 --> 57:26.760]  эффективная иллюминация кванторов, если она есть, что мы получаем алгоритм оценки значения любой
[57:26.760 --> 57:34.880]  формулы в этой модели. Почему? Потому что возьмем замкнутую формулу и применим алгоритм построения
[57:34.880 --> 57:41.640]  эквивалентной без кванторной. Что там будет? Там будут только то, что называется замкнутые термы и
[57:41.640 --> 57:45.360]  соответственно замкнутая атомарная формула. Замкнутый термин составлен только из константов,
[57:45.360 --> 57:53.280]  константы функций. Конечно, нужно еще уметь вычислять значения атомарных формул, вот замкнутых,
[57:53.280 --> 57:57.680]  относительно замкнутых термов. В большинстве моделей это очень просто. Скажем, алгебритарского,
[57:57.680 --> 58:02.880]  смотрите, что такое замкнутый термин? Это какое-то арифметическое выражение с нулем и единицей,
[58:02.880 --> 58:08.560]  ну и какой-то знак сравнения. Ну, арифметику выполним и сравним два числа. Ясно, что есть алгоритм,
[58:08.560 --> 58:16.760]  который это делает. Поэтому бескванторную формулу с нулем переменных мы всегда можем вычислить,
[58:16.760 --> 58:23.400]  а для любой замкнутой формулы есть алгоритм построения эквивалентной без кванторной. Поэтому
[58:23.400 --> 58:29.440]  мы запускаем этот алгоритм, потом оцениваем получившуюся бескванторную формулу. Но в частности,
[58:29.440 --> 58:35.120]  это означает, что есть алгоритм, который берет любую теорему элементарной геометрии и проверяет,
[58:35.120 --> 58:40.320]  верна она или нет. Записываем ее в виде формулы первого порядка. Когда я вводил алгебру тарского,
[58:40.320 --> 58:45.080]  я говорил, что в сущности вся элементарная геометрия выражается. Потому что что нам нужно? Ну,
[58:45.080 --> 58:49.360]  нужно там писать условия, что прямая проходит через окружность. Значит, существует решение
[58:49.360 --> 58:55.840]  такого-то уравнения. Две окружности пересекаются в какой-то точке. Ну, существует, опять-таки,
[58:56.320 --> 59:04.200]  если в конкретной точке, то прямо алгебраические условия, а если что они пересекаются, ну, тогда
[59:04.200 --> 59:10.920]  существует. То же самое, я не знаю, четыре точки лежат на одной окружности, тоже поставим квантор,
[59:10.920 --> 59:16.920]  все получим. И все более-менее стандартные теоремы элементарной геометрии, за исключением тех,
[59:16.920 --> 59:21.840]  что в бенугольниках с произвольным n, а вот такие нормальные про треугольники, про четырехугольники,
[59:22.720 --> 59:28.520]  про окружности. Вот они все выражаются в алгебритарского. И, значит, у нас есть алгоритм,
[59:28.520 --> 59:32.840]  если доказать, что возможна иллюминация кванторов, это верно. У нас появляется алгоритм,
[59:32.840 --> 59:37.480]  который решает любую задачу по геометрии. В следующий раз я немножко подробнее отслужу,
[59:37.480 --> 59:44.440]  что с этим алгоритмом не так. Потому что сейчас я хотел бы, у меня еще достаточно много времени,
[59:44.440 --> 59:49.480]  хотел бы чуть-чуть продвинуться дальше, чтобы начинать доказывать для конкретных моделей
[59:49.480 --> 59:53.680]  возможность иллюминации кванторов, нужно вначале некоторую техническую работу провести. Вот мы ее
[59:53.680 --> 59:59.320]  для этой модели, по сути дела, уже начали. Но прежде чем к этой работе приступать, давайте я
[59:59.320 --> 01:00:05.680]  закончу с арифметикой прессбургера, потому что мне захочется эту доску освободить. В арифметике
[01:00:05.680 --> 01:00:14.120]  прессбургера иллюминация кванторов невозможна. Почему? Потому что вот этот предикат замечательным
[01:00:14.120 --> 01:00:22.560]  образом выражается в арифметике прессбургера с квантором. Существует такой у, что x равняется
[01:00:22.560 --> 01:00:28.760]  у плюс у, но это свойство четного числа. Таким образом в арифметике прессбургера бывают модели,
[01:00:28.760 --> 01:00:38.040]  где иллюминация кванторов невозможна. Вот это простейший пример. Но конкретно в этом случае все
[01:00:38.040 --> 01:00:52.520]  еще интереснее. Мы можем расширить сигнатуру модели. Есть такой прием, я про него подробно,
[01:00:52.520 --> 01:00:56.000]  наверное, не успеваю рассказать, ну просто вот сейчас скажу, чтобы вы знали, что такое есть.
[01:00:56.000 --> 01:01:02.080]  Вот в этой модели иллюминация кванторов невозможна. Ну то есть у нас вот есть вот такой предикат,
[01:01:02.080 --> 01:01:12.200]  который не выражается. А давайте расширим сигнатуру и добавим условия делимости на
[01:01:12.200 --> 01:01:18.760]  произвольное число n. То есть у нас будет счетное количество новых унарных предикатных символов,
[01:01:18.760 --> 01:01:27.880]  которые говорят, что x делится на n. То есть центы предиката означают делимость на n. Ну и конечно
[01:01:27.880 --> 01:01:33.760]  бесконечно много, но в конкретную формулу будет входить конечное количество. И вот для этой
[01:01:33.760 --> 01:01:51.960]  модели иллюминация кванторов возможна. Ну и даже эффективная иллюминация. Тут ясно,
[01:01:51.960 --> 01:02:02.600]  что оценки замкнутых термов труда не составляют, но и иллюминация возможна. Поэтому замкнутые
[01:02:02.600 --> 01:02:07.800]  формулы в этой модели есть алгоритм, который... Ну в частности, как выразить эту формулу? Ну
[01:02:07.800 --> 01:02:15.200]  понятно, это же и есть. Этот предикат, он просто означает сравнимость по модулю 2, то есть это прям
[01:02:15.200 --> 01:02:21.320]  мы в сигнатуру такое включили. То есть фактически мы такое делаем, минимальное расширение. Мы
[01:02:21.320 --> 01:02:27.200]  нашли формулу с квантором, которая не выражается бескванторной. Ну давайте ее и все аналогичные добавим
[01:02:27.200 --> 01:02:31.960]  в сигнатуру. И оказывается этого достаточно. В случае арифметики Презбургера этого оказывается
[01:02:31.960 --> 01:02:40.040]  достаточно. Получается, что мы выражаем, и это такой важный действительно случай. Поэтому вы,
[01:02:40.040 --> 01:02:45.120]  скорее всего, в книжках встретите утверждение, что в арифметике Презбургера иллюминация кванторов
[01:02:45.120 --> 01:02:49.520]  возможна. Не всегда при этом будет упоминаться, что добавляются дополнительные предикатные символы.
[01:02:49.520 --> 01:02:57.320]  Просто имейте в виду. Потому что додуматься того, что четность выражается формулой с квантором,
[01:02:57.320 --> 01:03:05.320]  и не выражается бескванторной легко, чтобы не возникало недоумения. Потому что арифметика
[01:03:05.320 --> 01:03:08.960]  Презбургера в многом возникает, и то, что там возможна иллюминация кванторов существенно,
[01:03:08.960 --> 01:03:16.200]  но не всегда говорят вот про, правильно говорят про сигнатуру. Так, ну и вот после этого отступления,
[01:03:16.560 --> 01:03:21.560]  теперь все, арифметика Презбургера у меня закончилась, и я хочу объяснить,
[01:03:21.560 --> 01:03:34.600]  как вообще мы будем доказывать иллюминацию кванторов. Давайте я начну выписывать,
[01:03:34.600 --> 01:03:40.600]  какие нам потребуются для этого утверждения. В большинстве случаев вот этот этап, он все равно
[01:03:40.600 --> 01:03:45.840]  необходим, нам прежде всего нужно понять, что выражают атомарные формулы. Ну что делать дальше?
[01:03:45.840 --> 01:03:57.240]  А дальше нужно вот что. Нужно научиться избавляться от одного квантора, и оказывается этого достаточно.
[01:03:57.240 --> 01:04:13.000]  Пусть для любой дескванторной формулы, я их пишу сокращенно, просто чтобы места на доске экономить,
[01:04:13.000 --> 01:04:21.520]  в которой давайте я напишу переменные, выделю одну переменную. Ну вообще в нее входят вот
[01:04:21.520 --> 01:04:36.000]  переменные у, x1, xn. Существует, даже не так, для любой, ну да, ладно, хорошо, пусть будет существует.
[01:04:36.000 --> 01:04:47.920]  Давайте я напишу формально, потом подумаю, как это сказать. Я хочу истребить квантор существования.
[01:04:47.920 --> 01:05:14.360]  Ну вот, напишу такая что. Как-то умнее не придумал, как это написать. То есть, видите, да? Значит,
[01:05:14.360 --> 01:05:22.120]  у нас есть формула, в которой всего один квантор существования, он в самом верху висит, то есть он
[01:05:22.120 --> 01:05:29.080]  с него к формуле начинается, и потом стоит бескванторная формула. И условие такое, условие Леммы,
[01:05:29.080 --> 01:05:43.720]  что любая такая формула равносильно бескванторной. Тогда модель допускает иллюминацию кванторов.
[01:05:43.720 --> 01:06:13.280]  Ну и я на доске не пишу, на словах скажу, ну и в конспектат напишу, что если в условии написано,
[01:06:13.280 --> 01:06:20.200]  что не просто существует эквивалентная бескванторная B, а есть алгоритм, который по формуле с одним
[01:06:20.200 --> 01:06:24.000]  квантором в сочетании строит вот эту эквивалентную бескванторную, тогда существует эффективная
[01:06:24.000 --> 01:06:29.520]  иллюминация квантора. То есть, по модуле вот этого перехода к этой бескванторной формуле, я сейчас
[01:06:29.520 --> 01:06:39.880]  напишу алгоритм, как для любой формулы строить равносильную в модели бескванторную. И это очень
[01:06:39.880 --> 01:06:49.960]  простой алгоритм. Смотрите, что мы делаем. Вот у нас есть формула какая-то большая, сложная. Мы,
[01:06:49.960 --> 01:07:01.120]  во-первых, первым делом заменяем все кванторы всеобщности на кванторы существования. Ну как
[01:07:01.120 --> 01:07:09.680]  это сделать? У нас в прошлый раз была равносильность. Это не в модели, а вообще просто равносильные
[01:07:09.680 --> 01:07:17.760]  формулы. Это отрицание квантора существования, отрицание формулы A. То есть, применяем левому
[01:07:17.760 --> 01:07:22.480]  о замене. То есть, если у нас есть подформула, которая состоит на вешивании квантора всеобщенности,
[01:07:22.480 --> 01:07:28.120]  мы ее заменяем вот на такую. То есть, у нас остались только кванторы существования. И вот,
[01:07:28.120 --> 01:07:43.080]  после этого мы уже находим самый глубокий квантор. Что это означает? Что вот здесь уже написано
[01:07:43.080 --> 01:07:52.080]  бескванторная формула. Мы находим какой-то квантор, ниже которого уже кванторов нет. Понятно,
[01:07:52.080 --> 01:07:56.800]  что такой должен быть. Потому что, напомню еще раз, по формуле мы строим дерево разбора формулы,
[01:07:56.880 --> 01:08:04.520]  и внутренние вершины помечены булевыми связками и кванторами. Ну вот идем от корня, и на любом пути,
[01:08:04.520 --> 01:08:10.920]  поскольку заканчивается все атомарными формулами, то на любом пути у нас рано или поздно должны
[01:08:10.920 --> 01:08:18.960]  закончиться кванторы. Ниже какого-то квантора уже кванторов нет. Ну вот это и такой квантор
[01:08:18.960 --> 01:08:32.800]  мы находим, и применяем лему к нему. Ну, можно было бы, конечно, вначале сделать
[01:08:32.800 --> 01:08:36.840]  предваренную нормальную форму, но здесь это даже не нужно. Действительно, можно было бы рассуждать
[01:08:36.840 --> 01:08:43.560]  иначе. Давайте приведем формулу к предваренной нормальной форме, заменим там, все равно кванторы
[01:08:43.560 --> 01:08:47.520]  всеобщенности надо будет заменить на кванторы существования, ну и потом вот, начиная с конца,
[01:08:47.520 --> 01:08:52.800]  применим. То есть нам достаточно, можно было бы не рисовать дерево, рисовать такую линейку.
[01:08:52.800 --> 01:09:01.920]  Вот что-то вот такое, и внизу бескванторная форму. Это правильно, это верное рассуждение,
[01:09:01.920 --> 01:09:08.360]  можно дерево не держать в голове, а держать такую линейную структуру, но это мало чего меняет,
[01:09:08.360 --> 01:09:15.440]  потому что мы должны вот применить вот самому глубокому квантору лему, и получить, применить
[01:09:15.440 --> 01:09:20.520]  LEMO, а замене. Тут заметьте, есть такая тонкость, мы теперь LEMO, а замене должны применять не для
[01:09:20.520 --> 01:09:25.600]  равносильных формул, а для равносильных моделей формул. Ну, понятно, что там буквально все
[01:09:25.600 --> 01:09:31.100]  пересказывается, потому что если мы в доказательстве LEMO, а замене будем говорить только о конкретной
[01:09:31.100 --> 01:09:37.440]  модели и произвольных оценках переменных, там буквально ничего не изменится. Лемо, а замене,
[01:09:37.440 --> 01:09:43.140]  верное для формул и для фиксированной модели, то есть замена на равносильную модели формулу,
[01:09:43.140 --> 01:09:45.740]  дает равносильную модель формулы.
[01:09:45.740 --> 01:09:46.740]  Ну и все.
[01:09:46.740 --> 01:09:51.660]  И у нас получается равносильная формула, где уже кванторов
[01:09:51.660 --> 01:09:52.660]  меньше.
[01:09:52.660 --> 01:09:54.740]  Вот эта вот равносильная.
[01:09:54.740 --> 01:09:58.980]  Кванторов стало на единичку меньше.
[01:09:58.980 --> 01:10:03.900]  Потому что равносильная бескванторная формула.
[01:10:03.900 --> 01:10:08.260]  Лемма нам обеспечивает бескванторную формулу.
[01:10:08.260 --> 01:10:10.900]  Продолжаем так несколько шагов, пока кванторы не
[01:10:10.900 --> 01:10:11.900]  закончатся.
[01:10:11.900 --> 01:10:14.460]  Что бескванторная формула?
[01:10:14.460 --> 01:10:17.420]  То есть в сущности вот все, что нужно сделать.
[01:10:17.420 --> 01:10:28.940]  Ну так, ничего сложного, но заметьте, что это нам
[01:10:28.940 --> 01:10:29.940]  упрощает?
[01:10:29.940 --> 01:10:34.020]  Мы теперь должны сосредоточиться только на формулах ограниченного
[01:10:34.020 --> 01:10:35.020]  вида.
[01:10:35.020 --> 01:10:36.940]  Когда квантор всего один, квантор существования,
[01:10:36.940 --> 01:10:40.660]  то есть мы утверждаем что-то бескванторное и говорим,
[01:10:40.700 --> 01:10:43.220]  что надо выполнить условия для какой-то перемены.
[01:10:43.220 --> 01:10:44.860]  У нас есть параметры x1, xn.
[01:10:44.860 --> 01:10:47.660]  И для какой-то переменной вот это бескванторное условие
[01:10:47.660 --> 01:10:48.660]  должно выполняться.
[01:10:48.660 --> 01:10:53.740]  И мы хотим, ну это напоминает решение уравнений.
[01:10:53.740 --> 01:10:55.620]  У нас есть уравнение с параметрами, допустим.
[01:10:55.620 --> 01:10:57.380]  Мы хотим написать условия его разрешимости.
[01:10:57.380 --> 01:11:01.620]  Ну вот это частный случай такой вот замены.
[01:11:01.620 --> 01:11:04.540]  И это не случайный пример, потому что действительно
[01:11:04.540 --> 01:11:07.660]  так обычно это и получается.
[01:11:07.660 --> 01:11:10.540]  Что-то типа, ну не уравнение, конечно чуть сложнее, уравнение
[01:11:10.540 --> 01:11:13.820]  и неравенство систем, в частности для алгебритарского
[01:11:13.820 --> 01:11:14.820]  так получится.
[01:11:14.820 --> 01:11:19.980]  И там поскольку это более сложно, то и доказательство
[01:11:19.980 --> 01:11:20.980]  довольно техническое.
[01:11:20.980 --> 01:11:25.020]  Я, наверное, технические детали пропущу.
[01:11:25.020 --> 01:11:28.620]  Но все равно обычно еще один шаг делается.
[01:11:28.620 --> 01:11:48.060]  Вот смотрите, вообще с точки зрения структуры бескванторные
[01:11:48.060 --> 01:11:50.780]  формулы это обычные булевые формулы, в которых вместо
[01:11:50.780 --> 01:11:52.380]  переменных подставлены атомарные.
[01:11:52.380 --> 01:11:57.820]  И поэтому очень естественно переносить терминологию.
[01:11:57.940 --> 01:11:59.620]  Булевые формулы на такой случай.
[01:11:59.620 --> 01:12:10.140]  Конъюнктом я буду называть конъюнкцию атомарных формул
[01:12:10.140 --> 01:12:13.820]  и отрицание атомарных формул.
[01:12:13.820 --> 01:12:18.980]  Ну вам, наверное, в прошлом году объясняли про DNF, она
[01:12:18.980 --> 01:12:21.700]  составлена как раз как дизюнция конъюнктов.
[01:12:21.700 --> 01:12:24.220]  Ну вот мне тоже сейчас удобно про конъюнкты говорить.
[01:12:24.220 --> 01:12:26.340]  Только теперь у меня будут не переменные булевые,
[01:12:26.340 --> 01:12:28.220]  а атомарные формулы.
[01:12:28.220 --> 01:12:30.220]  Но я буду все равно называть конъюнктом, просто чтобы
[01:12:30.220 --> 01:12:31.220]  короче было.
[01:12:31.220 --> 01:12:42.420]  И лемма усиливается.
[01:12:42.420 --> 01:12:55.580]  Для любого конъюнкта.
[01:12:55.620 --> 01:12:59.580]  Ну и дальше то же самое, если для любого конъюнкта
[01:12:59.580 --> 01:13:11.740]  дальше условия точно такое же, то возможна иллюминация
[01:13:11.740 --> 01:13:12.740]  кванторов.
[01:13:25.580 --> 01:13:30.980]  То есть мы еще сужаем класс формул, для которых
[01:13:30.980 --> 01:13:33.220]  нужно учиться истреблять кванторы.
[01:13:33.220 --> 01:13:36.260]  Здесь это была произвольная, бескванторная, а я говорю,
[01:13:36.260 --> 01:13:39.620]  не нужна произвольная, достаточно конъюнкта, то есть написать
[01:13:39.620 --> 01:13:43.180]  конъюнкции атомарных и отрицаний, но это проще,
[01:13:43.180 --> 01:13:46.660]  поэтому хочется сделать этот шаг в общем случае.
[01:13:46.660 --> 01:13:56.420]  И в приложениях мы будем использовать именно эту
[01:13:56.420 --> 01:13:57.420]  лему.
[01:13:57.420 --> 01:13:58.420]  Это основной инструмент.
[01:13:58.420 --> 01:14:00.660]  Ну потому что это почти что бесплатно, вы сейчас
[01:14:00.660 --> 01:14:05.740]  увидите, что мы в сущности ничего умного для этого
[01:14:05.740 --> 01:14:06.740]  не нужны.
[01:14:06.740 --> 01:14:08.820]  Мы уже доказали вот ту лему, какими-то там рассуждениями
[01:14:08.820 --> 01:14:10.500]  с оценкой формул, а вот тут это уже будет.
[01:14:10.500 --> 01:14:20.220]  Если у нас есть какая-то булева формула, то я ж не
[01:14:20.220 --> 01:14:27.140]  случайно упоминал ДНФ, она равносильна ДНФ, у вас была
[01:14:27.140 --> 01:14:28.140]  такая теория.
[01:14:28.140 --> 01:14:32.100]  Ну ей доказать-то не сложно, ну в общем понятно, поэтому
[01:14:32.100 --> 01:14:39.580]  я беру бескванторную формулу, строю равносильную ДНФ,
[01:14:39.740 --> 01:14:45.220]  а ДНФ у меня выглядит как дизьюнкция конъюнкций
[01:14:45.220 --> 01:14:49.860]  как раз атомарных и их отрицаний.
[01:14:49.860 --> 01:14:52.300]  Давайте как-нибудь тут напишу атомарная формула
[01:14:52.300 --> 01:15:02.300]  и тут вот игж это как-то вот так вот.
[01:15:02.300 --> 01:15:04.380]  Соответственно давайте подставим в эту формулу
[01:15:04.380 --> 01:15:07.420]  с квантором существования всё это дело.
[01:15:07.420 --> 01:15:21.420]  Получается, что она равносильна такой формуле, существует у, дизъюнция, конъюнция и каких-то там атомарных формул, возможно, с отрицанием.
[01:15:21.420 --> 01:15:25.420]  А теперь давайте вспомним, что дизъюнция и кванторсуществование перестановочны.
[01:15:25.420 --> 01:15:28.420]  Мы это в прошлый раз обсуждали.
[01:15:28.420 --> 01:15:36.420]  То есть это равносильно уже, просто равносильно не в модели, а всюду.
[01:15:36.420 --> 01:15:39.420]  И это на самом деле равносильно всюду.
[01:15:43.420 --> 01:15:53.420]  А вот тут уже кванторсуществание с конъюнцией просто так не переставить, поэтому мы должны ограничиться вот тут g, а тут i.
[01:15:53.420 --> 01:15:55.420]  Мы должны ограничиться в этом месте.
[01:15:55.420 --> 01:16:12.420]  Но теперь мы вот это вот, используя условия нашей новой леммы, вот этой основной леммы, мы заменим на бескванторные, уже равносильные в модели.
[01:16:20.420 --> 01:16:23.420]  Ну а дизъюнция бескванторных формул – это бескванторная формула.
[01:16:24.420 --> 01:16:26.420]  Все, закончили.
[01:16:26.420 --> 01:16:29.420]  То есть получается так, что если удастся…
[01:16:29.420 --> 01:16:32.420]  Ну не обязательно у нас есть, помимо DNF, есть KNF.
[01:16:32.420 --> 01:16:36.420]  Если зачем-то удобнее истреблять кванторы…
[01:16:38.420 --> 01:16:42.420]  Ну тогда надо квантор всеобщности брать, надо истреблять другие кванторы.
[01:16:42.420 --> 01:16:44.420]  В общем, тут выигрыша особого нет, если DNF, KNF.
[01:16:44.420 --> 01:16:48.420]  Ну могут быть какие-то другие связки, которые могут оказаться чем-то удобнее.
[01:16:48.420 --> 01:16:51.420]  Я примеров хороших сходу не назову.
[01:16:51.420 --> 01:16:54.420]  Обычно вот так бывают удобные именно конъюнты.
[01:16:54.420 --> 01:16:56.420]  Причем понятно почему.
[01:16:56.420 --> 01:17:09.420]  Вот давайте, осталось немножко времени, я сделаю буквально следующий шаг, потому что разбор конкретных примеров лучше начинать в начале лекции, чтобы не было путаниц.
[01:17:09.420 --> 01:17:13.420]  Сейчас я просто на будущее, на следующий раз скажу, что собственно мы хотим.
[01:17:13.420 --> 01:17:21.420]  Вот смотрите, что такое конъюнция атомарных формул и их отрицаний в той модели, которая рассматривала рациональные числа, сравнения и сложения.
[01:17:21.420 --> 01:17:26.420]  Ну, атомарная формула – это неравенство.
[01:17:26.420 --> 01:17:31.420]  Отрецание неравенства – это тоже неравенство, только отрицание строго неравенства – не строгое неравенство.
[01:17:31.420 --> 01:17:47.420]  Но если мы сразу добавим знак равно, то мы получим, что мы можем выражать буллевым образом строгое неравенство как буллевое условие на нестрогие неравенства и наоборот.
[01:17:47.420 --> 01:18:06.420]  Поэтому фактически, когда у нас есть вот такая формула, конъюнция атомарных и их отрицаний, речь идет фактически о системе линейных неравенств относительно переменных с какими-то константами.
[01:18:06.420 --> 01:18:12.420]  И в эту систему входит переменная, по которой квантор.
[01:18:12.420 --> 01:18:18.420]  И нам нужно решить, я же не случайно говорил, что решение параметрического уравнения для нас типовая задача.
[01:18:18.420 --> 01:18:26.420]  Нам нужно решить такую задачу. Вот есть параметрическая система неравенства, нужно выразить существование ее решения в зависимости от параметров.
[01:18:26.420 --> 01:18:31.420]  Но неравенство от одной переменной – вот что существенно.
[01:18:32.420 --> 01:18:36.420]  У нас будет всего одна переменная, потому что мы же истребляем только один квантор.
[01:18:36.420 --> 01:18:44.420]  Ну а это, наверное, уже сделать можно. В школе это называется метод интервалов.
[01:18:44.420 --> 01:18:52.420]  В науке о линейных неравенствах это называется алгоритм Моцкина.
[01:18:52.420 --> 01:18:59.420]  В принципе, это такая важная практическая задача, поскольку у меня там все равно пару минут осталось, я немножко отвлекусь на неравенство.
[01:18:59.420 --> 01:19:02.420]  Есть система линейных неравенств, проверить, есть ли у нее решение.
[01:19:02.420 --> 01:19:06.420]  А как вообще это сделать? Не очень очевидно.
[01:19:06.420 --> 01:19:12.420]  Моцкин придумал такой способ, что надо исключать переменные. Вы знаете, как решать уравнения исключением переменных.
[01:19:12.420 --> 01:19:14.420]  У нас есть система линейных уравнений.
[01:19:14.420 --> 01:19:22.420]  Берем какое-то уравнение, куда переменная входит с нулевым весом, выражаем эту переменную, из этого уравнения подставляем в остальном.
[01:19:22.420 --> 01:19:27.420]  Так вот, с неравенствами тоже можно исключать переменные, только делать это нужно хитрее.
[01:19:27.420 --> 01:19:35.420]  Получается так, что будет система неравенств, которой неравенств станет гораздо больше.
[01:19:35.420 --> 01:19:42.420]  Вот с уравнениями все хорошо. Мы выразили из одного уравнения переменную, поставили, у нас количество уравнений просто уменьшилось.
[01:19:42.420 --> 01:19:48.420]  А с неравенствами оно увеличится, но переменных станет меньше.
[01:19:48.420 --> 01:19:51.980]  Поэтому мы истребим одну переменную, получим систему
[01:19:51.980 --> 01:19:54.300]  не равен с большим количеством, но с меньшим количеством
[01:19:54.300 --> 01:19:57.380]  переменных, истребим следующую, опять получим и так далее,
[01:19:57.380 --> 01:20:00.820]  и у нас нарастет, в конечном счете получится тривиальная
[01:20:00.820 --> 01:20:04.020]  система не равен с константами, но какого-то очень большого
[01:20:04.020 --> 01:20:05.020]  размера.
[01:20:05.020 --> 01:20:07.300]  Поэтому метод Моцкина, на самом деле, конечно он
[01:20:07.300 --> 01:20:08.300]  непрактичный.
[01:20:08.300 --> 01:20:13.820]  Его на самом деле применять буквально такие алгоритмы,
[01:20:13.820 --> 01:20:15.900]  ну разве что в качестве упражнения кто-то писал,
[01:20:15.900 --> 01:20:17.700]  но они будут работать очень плохо.
[01:20:18.500 --> 01:20:20.660]  Решение систем линейных неравенства — это типовая
[01:20:20.660 --> 01:20:23.460]  задача для индустрии, то есть это то, что называется
[01:20:23.460 --> 01:20:24.940]  задачей линейного программирования.
[01:20:24.940 --> 01:20:27.000]  Она эквивалентна, на самом деле, решению систем линейных
[01:20:27.000 --> 01:20:28.000]  неравенств.
[01:20:28.000 --> 01:20:30.800]  И в жизни нужно решать задачи линейного программирования
[01:20:30.800 --> 01:20:33.940]  сотнями тысяч переменных, и они решаются.
[01:20:33.940 --> 01:20:37.020]  И понятно, что не методом Моцкина, потому что там после
[01:20:37.020 --> 01:20:40.080]  столетий исключений переменных нарастет необъятное количество
[01:20:40.080 --> 01:20:41.080]  неравенств.
[01:20:41.080 --> 01:20:44.120]  Решается другими методами, это отдельная история, но
[01:20:44.120 --> 01:20:45.740]  есть эффективные алгоритмы.
[01:20:45.740 --> 01:20:51.020]  Метод Мотткина зато хорошо ложится на логику, он дает вот как раз вот иллюминацию кванторов.
[01:20:51.260 --> 01:20:55.080]  Да, ну мне пора останавливаться, я немножко заговорился.
