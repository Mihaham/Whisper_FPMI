[00:00.000 --> 00:11.640]  Давайте, наконец-то, давайте перейдем от чего-то мерско-технического к чему-то прекрасному,
[00:11.640 --> 00:17.440]  к геометрии. Это, конечно, может прозвучать как болт иногда, конечно, но что делать?
[00:17.440 --> 00:22.400]  Ну, действительно, на самом деле, действительно, геометрия, конечно, часто сводится к какой-то
[00:22.400 --> 00:28.400]  действительно достаточно мерзкой технике. Ну вот, поэтому иногда становится важного,
[00:28.400 --> 00:32.960]  для чего нам нужен был сегодня? Прямо настолько к физнесу действительно нужен был проект. То есть
[00:32.960 --> 00:37.680]  для того, что сегодня мы какие-то простые вещи все-таки покодим. Потому что там часто бывает,
[00:37.680 --> 00:43.960]  что там, потому что в геометрии бывает много простых вещей. Сыкла, ну понятно, как написать. Ну вот,
[00:43.960 --> 00:48.520]  но как бы часто есть риск, что можно написать их сильно более сложно, чем можно было бы,
[00:48.520 --> 00:54.320]  и при этом запутаться. А геометрия у нас, это, конечно, самая вещь, где действительно очень важно
[00:54.320 --> 00:57.680]  не путаться, очень важно действительно понимать происходящее прям максимально точно,
[00:57.680 --> 01:04.160]  потому что там любое какое-то там соображение, там соображение, виды, ну понятно, что это так,
[01:04.160 --> 01:08.960]  называется, там ждет, потом обернется вам какие-нибудь ВА-37, и вы будете долго думать,
[01:08.960 --> 01:14.160]  почему. А выяснится, что там проблема, что отрезки бывают там чисто вертикальными, там, например,
[01:14.160 --> 01:20.480]  все отрезки могут быть чисто вертикальными. Да, ну иногда они вырожденными бывают. Нет,
[01:20.480 --> 01:24.760]  обычно, ну чаще всего все-таки нет, такое вам явно в виде пропишу, что все отрезки не вырождены.
[01:24.760 --> 01:33.880]  Но там всякое, да, всякое это бывает, то есть тут уже максимальная аккуратность, максимальная точность,
[01:33.880 --> 01:38.400]  поэтому, да, но благо мы сейчас с вами находимся все-таки не там в восьмом классе конч школы,
[01:38.400 --> 01:43.280]  а на втором курсе вуза, это означает, что вы, то есть в принципе, дошедшие до сюда, по идее,
[01:43.280 --> 01:48.320]  сдали экзамен по линалу, поэтому это означает, что видимо какая-то хорошая соображалка по геометрии
[01:48.320 --> 01:55.520]  у вас уже есть. Ну, в частности, вам не нужно прям излишне долго вводить там какие-то базовые
[01:55.520 --> 01:59.760]  объекты. Какие у нас базовые объекты в геометрии? Да, мы будем говорить в первую очередь о двумерной
[01:59.760 --> 02:07.200]  геометрии и, конечно, ключевым у нас является понятие вектора, но вектора не того, как у нас,
[02:07.200 --> 02:12.680]  то есть это вектор, это такой не динамический массив, а вот геометрический вектор. Ну давайте
[02:12.680 --> 02:17.200]  просто, хотя тут, конечно, уже проблемы на уровне определения, а что такое вообще вектор?
[02:17.200 --> 02:23.480]  Класс эквивалентности направленных отрезков. Да, в школе учат вектор, это направленный отрезок,
[02:23.480 --> 02:27.880]  но это, к сожалению, хюжболотное. Да, то есть правильная точность это называется, да,
[02:27.880 --> 02:34.240]  это вектор, это класс эквивалентности направленных отрезков относительно параллельного переноса.
[02:34.240 --> 02:41.440]  Я учил в билетке. Классно, где учил? У нас было, это первое
[02:41.440 --> 02:46.720]  определение с первой лекцией, Полиналыч. Замечательно, замечательно. Ну, тогда вам не надо
[02:46.720 --> 02:52.600]  рассказывать, что вектората можно складывать, вычитать, умножать на число, наверное, да. Но
[02:52.600 --> 02:58.560]  все-таки какие-то вещи, то есть, напомню, применительно к обычно вычислительной геометрии.
[02:58.560 --> 03:03.680]  Потому что вектор можно складывать, можно вычитать, можно умножать на число, причем
[03:03.680 --> 03:10.920]  отрицательная и даже ноль. Вот, ну еще как-то, ну вот, еще у вектора можно искать его длину,
[03:10.920 --> 03:16.920]  а можно искать, чаще, чаще бывает, что нужно искать не длину, а ее квадрат. Это очень приятно,
[03:16.920 --> 03:21.880]  потому что квадрат может быть того же типа, что и сам вектор, а вот корень из него взлетать
[03:21.880 --> 03:26.600]  придется уже точно в каких-то непонятных доблах, ну или там, я не знаю, в каком поле вы живете.
[03:26.600 --> 03:35.360]  Вот. Ну а что у нас еще у векторов есть? Ну, конечно, важно, конечно, отметить, что, то есть,
[03:35.360 --> 03:39.160]  мы действительно как-то хотим иногда сравнивать вектора друг с другом, то есть, какие-то
[03:39.160 --> 03:44.000]  искать взаимоотношения. Ну и важным взаимоотношением, конечно, у векторов является скалярное
[03:44.000 --> 03:48.760]  произведение. Так, вот тут, конечно, да, я тоже рискую повторить, конечно, то, что у вас было
[03:48.760 --> 03:53.480]  на первых лекциях по линалу, но тем не менее. Вот в нашем случае, то есть, допустим, есть,
[03:53.480 --> 04:03.360]  у нас даны два векторов V1 и V2. Ну вот, да, ну, конечно, да, с точки зрения линала скалярным
[04:03.360 --> 04:09.480]  произведением может быть любое отношение между двумя векторами, удовлетворяющее какие-то свойства
[04:09.480 --> 04:19.280]  билинейной формы. Вот, но с точки зрения нашей сугубо прикладной жизни скалярное произведение,
[04:19.280 --> 04:29.160]  то есть, вот V1, V2, это что такое? А вот тут как выводить? На самом деле, у этой штуки можно
[04:29.160 --> 04:34.440]  вводить два определения и доказать, что они эквивалентны, то есть, вывести из одного второго. Мы
[04:34.440 --> 04:41.520]  сделаем вот как. То есть, на самом деле, мы скажем, что по определению скалярное произведение это
[04:41.520 --> 04:59.520]  произведение длин векторов на косинус угла между ними. Вот. Нет, нас это не колышет. Мы живем в
[04:59.520 --> 05:03.600]  обычной 2D геометрии, то есть, мы не изобретаем себе супер линейное пространство повёрнутое
[05:03.600 --> 05:08.000]  какие-то, поэтому для нас длина, это прям вот длина вот этого отрезка, поэтому она потеряем
[05:08.000 --> 05:15.880]  пифагора, корень, язык, квадрат, спецыгры, квадрат, всё. Нет, ну как же, нет, ну как?
[05:15.880 --> 05:21.640]  В вашем определении зависит этот координат. Зависит. Ну, это нормально. Мы живем в декартовой
[05:21.640 --> 05:27.240]  системе координат, как бы всё нормально. Вот. То есть, мы живем в декартовой системе координат,
[05:27.240 --> 05:31.800]  то есть, как бы на одной и той же плоскости их можно вводить, в этом мы и верим. Вот. То есть,
[05:31.800 --> 05:36.640]  поэтому совсем уж в эксиоматику школьной геометрии мы вдаваться не будем. Теоретически, мы, конечно,
[05:36.640 --> 05:40.160]  можем там это вводить. Кажется, что с точки зрения школьной геометрии всё нормально,
[05:40.160 --> 05:45.560]  но если будет как в УЗИ, то уже начинается беда. Нет, то есть, если капнуть, то уж совсем настолько,
[05:45.560 --> 05:50.680]  наверное, капать будем, хотя какую-то вузовскую логику мы применим. Да, в УЗИ мы скорее, мы кость
[05:50.680 --> 05:58.240]  у нас вводили через вот эти вот штуки. О да. Потому что у нас длина это скалярный квадрат, а кость
[05:58.240 --> 06:04.000]  мы ввели так, чтобы у нас поделилась, потому что водитель, как это, длину через скалярное
[06:04.000 --> 06:07.680]  произведение некорректно, как-то она сама, ой, сейчас скалярное произведение через длину некорректно,
[06:07.680 --> 06:12.280]  так как у нас длина произведена через скалярное. Нет, то есть, это глобально абстрактно вводить туда.
[06:12.280 --> 06:16.640]  Но мы сейчас будем пользоваться всё-таки более школьным определением. Ну ладно, если уже
[06:16.640 --> 06:22.760]  рашла речь, давайте вспомним, а что такое косинус вообще? Да, вот тогда самый страшный вопрос,
[06:22.760 --> 06:29.880]  а что такое косинус вообще? Да-да-да-да. Кто-то, кто-то немножко... Частная часть, я в степени ифи.
[06:30.880 --> 06:36.680]  Я сказал школьная, а не прям вот настолько, да, замечательно. Придётся ещё экспоненту там вводить,
[06:36.680 --> 06:43.880]  нет. Ну всё гораздо проще. То есть, мы говорим, что у нас есть действительно плоскость, мы берём
[06:43.880 --> 06:52.880]  единичную окружность, берём вот единичный вектор и поворачиваем его на угол альфа.
[06:52.880 --> 07:02.960]  Да, и тогда оказывается, что абсцисса тогда конца этого вектора будет равна косинусу альфа,
[07:02.960 --> 07:11.880]  а ордината синусу. Это прям определение. Вот. Ну в школе, конечно, в 7 классе дают и более тупое
[07:11.880 --> 07:15.960]  определение, что там что-то там про отношение прилежащего к катераке по тенузе. И это,
[07:15.960 --> 07:22.560]  в общем, тоже, и это согласуется с этим определением в диапазоне от 0 до 90 градусов, конечно. Так,
[07:22.560 --> 07:28.080]  вот. Ну, соответственно, да, и так, длина понятна, нахикосинус понятна, но есть мистическая тема,
[07:28.080 --> 07:34.200]  что нам, конечно, иногда будет очень хотеться вычислить это скалярное произведение. Но оказывается,
[07:34.200 --> 07:41.360]  что она обладает маленьким приятным свойством. Каким? Что, оказывается, её можно выразить очень
[07:41.360 --> 07:50.680]  легко через координаты. Но каким образом? Ну, чтобы это понять, мы обнаружим, что, конечно,
[07:50.680 --> 07:55.520]  эта штука линейна, оказывается. Вот мы пока не знаем, как ее выражать есть корректно, но мы знаем,
[07:55.520 --> 08:01.880]  что она линейна. Ну, потому что она линейна по каждому своих координат, то есть билинейна. Да,
[08:01.880 --> 08:09.560]  то есть, ну, во-первых, заметим, что, во-первых, там v1, v2 равно v2, v1. Давайте я вот стрелочки,
[08:09.560 --> 08:15.960]  уж извините, рисовать не буду. Вот. Хотя, конечно, по-хорошему надо бы. Вот. Ещё известно,
[08:15.960 --> 08:24.240]  что там, скажем, а v1, v2 равно а на v1, v2. Ну, на самом деле, доказательство это факто не так
[08:24.240 --> 08:34.600]  тривиально, как кажется. Потому что, если вы, допустим, v1 домножаете прям на положительное
[08:34.600 --> 08:40.200]  число, то, в общем-то, становится всё очевидно. А если домножаете на отрицательное, то здесь
[08:40.200 --> 08:46.120]  тогда надо аккуратно рассмотреть, что длина увеличилась не в минус три раза, а в три раза,
[08:46.120 --> 08:52.920]  но, то есть, умножение на минус достигается из-за того, что cos p-alpha равен minus cos alpha,
[08:52.920 --> 09:00.000]  как отсюда видно. Вот. Понятно, да? Это понятно, да? Мне кажется, этот билет на ут будет самым
[09:00.000 --> 09:06.200]  другом среди всех. Да ладно. Не, ну, по-моему, сдавшие линал не должны этого пугаться. Так,
[09:06.200 --> 09:11.680]  что у нас ещё есть? Есть, на самом деле, самый нетривиальный фактор из биленейности. Это то,
[09:11.680 --> 09:28.360]  что, там, допустим, v1 на v2 плюс v3 равен v1 v2 плюс v1 v3. И вот тут действительно не всегда n-от. И
[09:28.840 --> 09:36.200]  вот это так, из этого определения не так очевидно. Вот. То есть, тут н-от. Но доказательство здесь
[09:36.200 --> 09:41.080]  оказывается такое, потому что, заметим, на самом деле, следующее. Вот, действительно, давайте
[09:41.080 --> 09:47.080]  вот нарисуем действительно шутку о скалярной произведении v1 на v2, на самом деле. Вот, давайте
[09:47.080 --> 09:54.720]  вот v2 даже подальше нарисуем. То есть, на самом деле, если вы домножите v2 на cos с угла между ними,
[09:54.720 --> 10:03.800]  то вы получите длину проекции с точностью до плюс-минус. Я это буду называть длина
[10:03.800 --> 10:10.040]  ориентированной проекции на заданную прямую. То есть, если проекция со направлена, то она,
[10:10.040 --> 10:14.520]  мы будем смотреть, то тогда она будет положительна. Если разно направлена, то будет отрицательна.
[10:14.520 --> 10:20.560]  Тогда легко убедиться, что у нас, как раз, получается длина такой проекции. Вот. Ну,
[10:21.520 --> 10:28.720]  и действительно тогда несложно видеть, что когда вы складываете v2 с v3, то и проекции тоже
[10:28.720 --> 10:36.600]  складываются. Вот. Причем даже с учетом ориентации, там можно аккуратно все случаи увидеть. Понимаете,
[10:36.600 --> 10:46.520]  да? Вот. Отсюда и получается вот такое утверждение. Вот. То есть, полезно себе его видеть именно так.
[10:46.520 --> 10:53.920]  Итак. Ну, в принципе, да, эти три теория, мы говорят нам о том, что у нас функция,
[10:53.920 --> 11:01.040]  что действительно такое скалярное произведение, это билинейная функция. Но теперь остается только
[11:01.040 --> 11:10.920]  заметить, что скалярное произведение вектора там 1,0 на себя любимого равно 1. Скалярное
[11:10.920 --> 11:20.440]  произведение вектора 1,0 на 0,1 равно 0. И скалярное произведение 0,1, 0,1 равно 1.
[11:20.440 --> 11:24.600]  Ну, можно сказать, что оно симметрично? Ну, точнее.
[11:24.600 --> 11:32.400]  Ну, мы, я и сказал. Нет, 1,0 и 0,1 это раз для вектора. Вот. Ну, скажем так. Присимметрично, а, это первое.
[11:32.400 --> 11:39.800]  Не-не-не. Если бы, как бы, я использовал симметрично, чтобы здесь не писал 0,1 на 1,0. Вот. В принципе,
[11:39.800 --> 11:44.720]  то есть, на самом деле, я утверждаю, что из этих четырех фактов, в принципе, скалярное, там,
[11:44.720 --> 11:50.000]  то есть, это скалярное произведение определяется однозначно. То есть, мы могли сказать по-другому,
[11:50.000 --> 11:55.800]  что скалярное произведение — это такая билинейная функция с вот такими базовыми значениями.
[11:55.800 --> 12:03.640]  Логично, да? Вот. То есть, в принципе, на самом деле, из нее можно вывести. Ну, давайте вот
[12:03.640 --> 12:10.120]  быстренько сделаем это. То есть, отсюда тогда можно вывести, что пусть у меня, допустим,
[12:10.120 --> 12:21.200]  v1 равно, допустим, вот я так скажу, x1 на e1 плюс y1 на e2. Ну, понятно, e1 — это вот там, то есть,
[12:21.200 --> 12:29.160]  понятно, это вектор 1,0, а это вектор 0,1. И тогда что получается? Ну, вот v2, очевидно, тогда тоже
[12:29.160 --> 12:40.640]  будет равно x2 e1 плюс e2 e2. И тогда поехали. Скалярное произведение v1 v2 равно чему? x1 e1
[12:40.640 --> 12:52.240]  плюс e1 e2. И там, соответственно, x2 e1 плюс e2 e2. Это равно. Вот. Но если разложить, то есть,
[12:52.240 --> 13:00.120]  если разложить по вот этому третьему свойству, что смущает? Ну, вот. То есть, если разложить по
[13:00.120 --> 13:11.120]  третьему свойству, то получится, что это равно x1 e1 плюс e1 на e2, запятая x2 e2, плюс x1 e1 плюс
[13:11.120 --> 13:23.480]  x1 e2, запятая, а тут x2 e1, а тут x2 e2, да. Ну, здесь, в общем-то, да, ничего себе. Ну, вот. Ну, в принципе,
[13:23.480 --> 13:27.920]  заметим, что я их могу, что тут есть симметричность, я их могу поменять местами и разложить по второму,
[13:27.920 --> 13:36.160]  и потом поменять их местами обратно. Там получится что-то типа x1 e1, там x2 e1 плюс
[13:36.160 --> 13:51.600]  игрок 1 e2 на x2 e1, плюс x1 e1 на игрок 2 e2, плюс игрок 1 e2 игрок 2 e2. Вот. Ну, теперь давайте
[13:51.600 --> 13:56.800]  вспомним, что у нас еще есть второе свойство, по которому буховку можно выносить из первого
[13:56.800 --> 14:08.320]  аргумента, но с точностью до свапа можно из второго тоже. Получится x1 x2 e1 e1 плюс игрок 1
[14:08.320 --> 14:26.720]  значит x2 на e2 e1, вот, плюс x1 игрок 2 на e1 e2, значит, плюс игрок 1 игрок 2 на e2 e2. Теперь мы замечаем,
[14:26.720 --> 14:33.240]  что теперь мы замечаем конкретно в нашем случае, в случае скалярного произведения, что это у нас,
[14:33.240 --> 14:41.400]  значит, это у нас 1, это 0, это 0, это 1, и получаем, что в случае скалярного произведения у нас
[14:41.400 --> 14:57.480]  получается мистическая формула x1 x2 плюс игрок 1 игрок 2. Вот. Да. То есть вот, собственно, и вывели.
[14:57.480 --> 15:02.640]  Вот. То есть можно было скалярное произведение определить наоборот, определить вот так,
[15:02.640 --> 15:09.120]  а потом неожиданно доказать, что. Доказательство было бы, что, заметим, что скалярное произведение
[15:09.120 --> 15:14.040]  удовлетворяет этим свойствам, вот эта функция обладает вот этим свойством, и, а такая функция
[15:14.040 --> 15:21.240]  одна. Так что, соответственно. Ну, там, как угодно, в общем, можно. Вот. То есть, это, ну, то есть,
[15:21.240 --> 15:24.880]  это в принципе я написал основополагающие такие свойства, которые определяют само скалярное
[15:24.880 --> 15:31.600]  произведение. Ну, вот. Ну, впрочем, оно нам, конечно, ну, то есть оно нам вообще чем приятно? Оно приятно тем,
[15:31.600 --> 15:36.840]  что, в общем-то, в том же, если вы храните вектора в каком-то типе, типе t, то, в общем-то, скалярное
[15:36.840 --> 15:43.040]  произведение вычисляется ровно в том же типе, без всяких там доблов. Что можно сделать со скалярным
[15:43.040 --> 15:49.960]  произведением? Ну, самый тупой пример, конечно, то есть какие-нибудь там свойства еще можно там
[15:49.960 --> 15:58.200]  написать. Какие можно свойства написать? Ну, можно написать, что там, допустим, мы можем написать,
[15:58.200 --> 16:09.520]  что v1, v2 равно нулю тогда и только тогда, когда v1 перпендикулярно v2. То есть, если нам задача
[16:09.520 --> 16:15.840]  проверить верно ли, что там вектора перпендикулярные, то, соответственно, надо просто вычислить скалярное
[16:15.840 --> 16:24.080]  произведение и проверить не ноль ли это. Вот. Да, ну, на эту тему, в принципе, можно вообще сделать
[16:24.080 --> 16:32.200]  еще вывод, что там, допустим, минус yx всегда перпендикулярен вектору xy, на самом деле. То есть,
[16:32.200 --> 16:38.000]  если ваша задача повернуть вектор xy до 90 градусов, вы просто рисуете минус yx. Почему? А вот потому,
[16:38.000 --> 16:49.360]  что подходит. Вот. Так. Какие там у нас еще, что еще можно сделать с скалярным произведением? Так-так-так-так-так-так-так-так-так.
[16:49.360 --> 16:55.200]  Что-то, наверное, можно. Какие там еще свойства были? А, ну, конечно, заметим, что у нас не только
[16:55.200 --> 17:03.880]  про перпендикулярность можно говорить. Про скалярное произведение можно еще понять уже на
[17:03.880 --> 17:09.440]  уровне скалярного произведения. Если вектора не перпендикулярны, то какой угол между ними?
[17:09.440 --> 17:21.640]  Острый или тупой? Как это сделать? Ну, вот. Ну, на самом деле, да. Можно заметить, что скалярное
[17:21.640 --> 17:33.160]  произведение положительно тогда и только тогда, когда угол между v1, v2 острый и, соответственно,
[17:33.160 --> 17:39.800]  меньше нуля, когда тупой. То есть, обратите внимание, вот очень важно, что чтобы узнать
[17:39.800 --> 17:45.000]  угол острый или тупой, не нужно вычислять какой-то косинус, что-то там делать. Боже упаси. То есть,
[17:45.000 --> 17:51.240]  надо просто вычислить скалярное произведение и проверить, является ли угол. То есть, что
[17:51.240 --> 17:57.560]  получилось? Ноль больше нуля меньше. То есть, это делается абсолютно точно. Да. Ну, на всякий
[17:57.560 --> 18:02.240]  случай, когда я говорю абсолютно точно, то есть, я имею в виду, в первую очередь, я имею в виду
[18:02.240 --> 18:10.000]  какое-нибудь поле. То есть, как я уже этим рассказывал, то есть, я там, собственно, в своей
[18:10.000 --> 18:19.120]  какой-то научной работе писал всю эту геометрию, но там все жилось в поле a плюс b. Ну, например,
[18:19.120 --> 18:26.240]  a плюс b не из двух, где а и b – рациональные числа. Рациональные числа писал в питоне, поэтому там
[18:26.240 --> 18:32.600]  конкретные длины числителей и знаменателей не принципиально. И тогда просто чем это приятно?
[18:32.600 --> 18:38.360]  Это приятно тем, что такие числа можно складывать, вычитать, умножать и делить, и все, что укладывалось
[18:38.360 --> 18:43.280]  в эту парадигму, делалось абсолютно точно. То есть, я не мог абсолютно точно вычислить, конечно,
[18:43.280 --> 18:49.800]  длину вектора, но квадраты ее длины я абсолютно точно вычислить мог. Но всякие вот эти скалярные
[18:49.800 --> 18:56.480]  произведения, векторные произведения я, конечно, мог вычислить без проблем. Вот. Но, кстати,
[18:56.480 --> 19:00.000]  в принципе, уже идея в том, что, как минимум, вот, то есть, еще, конечно, приятное свойство,
[19:00.000 --> 19:05.800]  что вы, если вам нужно вычислить косинус угла, именно косинус, то его можно вычислить вот таким
[19:05.800 --> 19:14.600]  нехитрым образом, правда, это уже не абсолютно точно. Но, тем не менее, ну да, если они, ну,
[19:14.600 --> 19:20.600]  если мечта, мечта. Обычно это не так. И более того, даже если изначально это так,
[19:20.600 --> 19:26.040]  то там погрешность начинает накапливаться. Поэтому иногда их приходится нормировать. Но,
[19:26.040 --> 19:33.880]  впрочем, об этом позже. Вот. Так, но, конечно, у нашего скалярного произведения есть замечательный
[19:33.880 --> 19:46.200]  напарник. Напарник называется... Тензорное произведение. Вау! Не, ну не настолько. Нет,
[19:46.200 --> 19:50.440]  если в тензорное. Нет, то, что я имею в виду, обычно мы его будем называть, это, конечно,
[19:50.440 --> 19:55.360]  некорректно абсолютно, но мы будем называть его векторным произведением. Да, это, конечно,
[19:55.360 --> 19:58.520]  некорректно, потому что, на самом деле, векторового произведения, как вы уже знаете, в двумерной
[19:58.520 --> 20:02.840]  геометрии не существует, да. Оно существует только в трехмерной геометрии, в семимерной,
[20:03.480 --> 20:09.920]  геометрии. По-моему, там были какие-то приколы или что. Вот. И вообще, то, что я сейчас напишу,
[20:09.920 --> 20:14.120]  это будет вообще официально называется псевдовекторное произведение или даже
[20:14.120 --> 20:20.320]  косое произведение. Но мы его будем называть вектором. Итак, что же это такое? Это будет
[20:20.320 --> 20:39.920]  V1, V2 присвоить. Ну, абсолютно то же самое, но на синус. Че? Че? В чём вопрос? В чём? Окей. Вот.
[20:39.920 --> 20:49.600]  Это у нас такое скалярное. Так, господи. Не, вопрос какой-то интересный, что-то Миша завис.
[20:49.600 --> 20:58.760]  Ладно. Так, ладно, пока не заморачивайся. Ладно. Значит, смотрите. Так, ребят. Теперь давайте
[20:58.760 --> 21:06.840]  смотреть, что верно про векторное произведение. Ну, заметим, на самом деле следующее, что векторовое
[21:06.840 --> 21:15.600]  произведение симметричность не верно, но антисимметричность верна. Да, смотрите, тут очень важно заметить,
[21:15.600 --> 21:25.080]  что когда мы говорим угол, нам важно, в какую сторону он ориентирован. Потому что если мы альфа
[21:25.080 --> 21:31.600]  заменим на минус альфа, то и векторное произведение от этого поменяет знак. Поэтому мы будем говорить,
[21:31.600 --> 21:37.960]  что в1, в2... То есть мы будем говорить, что когда мы говорим векторное произведение в1, в2,
[21:37.960 --> 21:42.200]  мы будем иметь в виду тот угол альфа, на который надо повернуть в1 против часовой стрелки,
[21:42.200 --> 21:49.240]  чтобы он с в2 составился. Да. Здесь, конечно, стоит оговориться, что мы имеем в виду по умолчанию,
[21:49.240 --> 21:57.320]  конечно, систему... То есть вот такую систему координат, где как бы есть... То есть такой как
[21:57.320 --> 22:01.600]  это называется обычно там что-то типа правостороннее, левостороннее. В общем, короче говоря, ту, в которой
[22:01.600 --> 22:09.160]  1, 0 надо повернуть на 90 градусов против часовой стрелки, чтобы получить 0, 1. Да, заметьте, в общем
[22:09.160 --> 22:14.960]  случае это не так. Потому что в принципе иногда бывает, что я могу ось Х отправить туда, а ось Y
[22:14.960 --> 22:21.760]  вниз, и тогда у нас там повороты по и против немножко перепутаются. Ну, с точки зрения знака, конечно.
[22:21.760 --> 22:29.040]  Вот. Но обычно мы будем предъявлять себе вот что-то подобное. Или если имеем в виду что-то другое,
[22:29.040 --> 22:35.240]  то там уж будем явно проговаривать, впрочем, это нам будет неудобно. Так. Но заметим следующее. Да,
[22:35.240 --> 22:41.920]  первое свойство такое превращается в антисимметричность. Вот. Значит, но второе
[22:41.920 --> 22:45.960]  свойство, очевидно, верно. То есть более того, выносить можно, очевидно, не только из первой
[22:45.960 --> 22:50.560]  скобочки, но и из второй. Потому что вы можете их посвапать со знаком минус, вынести ашечку,
[22:50.560 --> 22:56.360]  а потом посвапать еще раз и убить старый минус. Ну, потому что минус на минус дает плюс, как говорится.
[22:56.360 --> 23:05.200]  Вот. Самое, конечно, не тривиальное может быть это то, что у нас вот такая линейность. То есть,
[23:05.200 --> 23:15.400]  как это называется, дистрибует, видимо, не дистрибутивность. Ну, хорошо. Ну, не важно.
[23:15.400 --> 23:20.920]  Значит, заметим, что действительно, короче говоря, вот это свойство все еще верно. Правда,
[23:20.920 --> 23:26.560]  как это доказывать? Ну, идея на самом деле та же. Просто заметим, что такое векторное произведение.
[23:26.560 --> 23:36.880]  Это когда у вас есть вектор V1. Вот. Как-то вот так вот, да. Это вектор V1. И на самом деле,
[23:36.880 --> 23:43.920]  что такое V2? Это проведен такой ориентированный перпендикуляр, повернутый до 90 градусов против
[23:43.920 --> 23:53.720]  часовой стрелки. И тогда что получается? И тогда я утверждаю, что тогда V2 на синус — это длина тоже
[23:53.720 --> 23:59.560]  ориентированной проекции на этот ориентированный перпендикуляр. Ну, отсюда, в общем-то, вот эта
[23:59.560 --> 24:09.160]  линейность тоже очевидна. Понятно? Вот. То есть, видим, что эта штука тоже линейна. Осталось только
[24:09.160 --> 24:26.920]  задать ее базисное значение. Почему? Нет, почему? Все. Не, положительность тут не нужна никакая.
[24:26.920 --> 24:31.560]  Потому что, нет, из этого вот вывод. То есть, на самом деле, нам нужна только базисное значение,
[24:31.560 --> 24:40.040]  чтобы вывод, в общем-то, не поменялся от слова «никак». И все. Ну, антисимметрическое. А это
[24:40.040 --> 24:49.280]  не важно. Смотри, она, я утверждаю так, она билинейная, ну, как сказать, билинейная,
[24:49.280 --> 24:53.720]  коссимметрическая. То есть, из того, что она билинейная, ее можно разложить вот в таком виде.
[24:53.720 --> 25:05.400]  Но мы ее задаем базисными значениями. Просто их, по-хорошему, их надо не три, а четыре. Мы четвертое
[25:05.400 --> 25:10.520]  выводим из симметричности или антисимметричности. Кстати, здесь это принципиально. Потому что здесь
[25:10.520 --> 25:18.360]  мы вместо единицы пишем 0, здесь мы пишем единицу, имея в виду, что 0,1 на 1,0 будет минус 1. А здесь будет
[25:18.360 --> 25:27.680]  0. В результате, то есть, если я тут пишу рыжим, то тут получается 0, тут получается минус 1. Ну,
[25:27.680 --> 25:33.480]  тут я понятно, что я тут пишу абсолютно то же самое. То есть, везде вместо скалярда, то есть, там,
[25:33.480 --> 25:43.040]  по линейности я все разложить могу, могу, могу, могу, могу, могу, могу, могу, могу, могу, могу,
[25:43.040 --> 26:02.840]  вот я тут могу, могу, могу, тут не могу, вот тут могу, вот тут могу, вот тут могу. Вот. Но тогда
[26:02.840 --> 26:09.560]  получается неожиданно, и тогда здесь получается наоборот, вот эти штуки уничтожаются, и здесь
[26:09.560 --> 26:30.400]  тогда получается x1, y2, минус x2, y1. Вот так. То есть, вывод абсолютно такой же. Вот. И так,
[26:30.400 --> 26:36.920]  да, то есть, вот такие вот два наших просто великих произведения, из которых мы живем.
[26:36.920 --> 26:42.920]  Но векторное произведение имеет таких базовых свойств куда больше, на самом деле, чем скалярд.
[26:42.920 --> 26:49.680]  Определитель. Определитель. Ну, да, ну, ну, скажем так, для нас это пока будет не более чем,
[26:49.680 --> 26:56.160]  заметим шо, если мы запишем x1, x2, x2 в матрицу, то это будет ее определитель. Ага, как интересно.
[26:56.160 --> 27:05.320]  Вот. Хотя, конечно, формально говоря, да. Мы получаем для нмерных векторов. Нет, для нмерных
[27:05.320 --> 27:10.440]  векторов мы не получаем. Ну, там нужда, чтобы квадратная матрица получалась. То есть, да,
[27:10.440 --> 27:14.640]  в трехмерии там получится в один ряд, придется запихать три базисных вектора, и тогда получится
[27:14.640 --> 27:22.160]  определитель этой матрицы просто. Да. Это мы, да. Но, погодите, давайте не как бы забирать себе прям
[27:22.160 --> 27:27.400]  излишне в трехмерную геометрию. Нам сейчас тут надо с этим разобраться. То есть, у нас с вами
[27:27.400 --> 27:34.960]  прикладные приземленные цели. То есть, мы сейчас это, как бы в супер-какую-то великость сейчас не
[27:34.960 --> 27:43.040]  лезем. То есть, нам бы тут, то есть, нам бы тут хотя бы вот там называются базовые вещи разобрать.
[27:43.040 --> 27:48.640]  Значит, давайте смотреть, какие у нас свойства есть. Ну, во-первых, конечно, что означает,
[27:48.640 --> 27:56.280]  что векторное произведение равно нулю? Ну, в принципе, да. То есть, давайте вот сразу пишем,
[27:56.280 --> 28:02.280]  давайте. Рыжие, да, были у нас фиолетовые свойства, теперь у нас рыжие свойства. Рыжие свойства такие,
[28:02.280 --> 28:12.360]  что v1 параллелен v2, именно параллелен, тогда и только тогда, когда скалярное произведение равно нулю.
[28:12.360 --> 28:18.520]  Векторное произведение равно нулю, параллелен. Но обратите внимание, да, то есть под это подходят
[28:18.520 --> 28:23.840]  как случаи, когда они со направлены, так и когда они разно направлены. Вот, кстати, давайте это
[28:23.840 --> 28:29.680]  поймем. А как понять в этом случае вектора со направлены или разно направлены?
[28:29.680 --> 28:44.540]  Не понятно. Нет, давайте реально. Ну, типа у нас либо 0, либо 180 угол. Ну, да. Так, и как
[28:44.540 --> 28:58.500]  отличить 0 от 180? И что? Ну, что-то черное, рыжие, фиолетовое. Ну, какая-то скобочка перекрешена в рыжий
[28:58.500 --> 29:09.260]  цвет. И что? Так, это давайте, ты сейчас снарк это не включай. Это у нас снарк очень любит, это
[29:09.260 --> 29:13.780]  действительно явно там это сказать водическую фразу в расчете на то, что у вас как бы щелкнет
[29:13.780 --> 29:18.500]  какой-то мем и вы поймете, что он имеет в виду. Да, как вам, в сожалению, не все мемы, которые он
[29:18.500 --> 29:25.540]  имеет в виду, считываются на раз и вообще известны, поэтому вот не надо так делать. Вот. То есть давайте
[29:25.540 --> 29:29.900]  скажем в явном виде, чтобы определиться направленность, разнооправленность, то есть нужно,
[29:29.900 --> 29:38.820]  то есть нужно в самый надежный способ это тупо взять скалярное произведение. Да, тут очень
[29:38.820 --> 29:43.300]  опасно, потому что тут начинаются всякие места, где там какая-то ребенка скажет, ну понятно,
[29:43.300 --> 29:48.460]  как это делать, надо просто там посмотреть, а верно ли, что тут, скажем, х у этих векторов одинакового
[29:48.460 --> 29:54.860]  знака или разного. И рассматривает так, если тут больше нуля, тут больше нуля, значит они
[29:54.860 --> 30:01.340]  сонаправлены. Если тут больше нуля, тут меньше нуля, значит они разно направлены. Все. Говорит ребенок,
[30:01.340 --> 30:06.700]  нет, хуже, я еще не спросил, а если этот меньше нуля, а этого х меньше нуля, а у этого больше нуля,
[30:06.700 --> 30:13.300]  тогда что? Ну, то есть понятно, что в этом случае можно рассмотреть, но просто ребеночек его забыл.
[30:13.300 --> 30:19.420]  Это как минимум это, это я только навскидку. То есть если вот этот меньше, этот меньше, то он
[30:19.420 --> 30:24.140]  тоже его забыл или очи прятался где-нибудь, да. Это я еще молчу про случай, когда оба вектора
[30:24.140 --> 30:31.260]  вертикальные. Вот. То есть тогда это сейчас приводит там какие-то бесконечные ва, то есть в этом
[30:31.260 --> 30:38.060]  месте ребенок начинает плакать и начинает просто там делать вид, что задач по геометрии не существует.
[30:44.060 --> 30:50.180]  Ой-ой-ой. Да, ну можно развлекаться как угодно, но на самом деле так, шутки шутками, но на самом деле
[30:50.180 --> 30:54.140]  это именно поэтому на самом деле я сейчас вот прям вот так жестко хотел экран, потому что какие-то
[30:54.140 --> 31:02.540]  вот сейчас простые вещи мы будем с вами просто прописывать, потому что там вот в геометрии
[31:02.540 --> 31:06.940]  действительно от того как вы пишете сильно зависит просто степень там количества ошибок,
[31:06.940 --> 31:12.380]  которые вы можете допустить. Вот. То есть потому что вот лучше всего мыслить о терминах векторов
[31:12.380 --> 31:16.500]  скалярного произведения, ну по моему опыту конечно, то есть мы тут с вами можем обсуждать самые разные
[31:16.500 --> 31:21.620]  подходы, но в скалярном произведении все надежно, потому что чем приятны вот векторные скалярные
[31:21.620 --> 31:27.420]  произведения, они не зависят от того, что вы повернете континент на 57 градусов. То есть помните, да?
[31:27.420 --> 31:32.660]  То есть ваши рассуждения желательно не должны зависеть от того, повернете ли вы картинку на 57
[31:32.660 --> 31:41.220]  градусов или на 90 градусов или до чего-нибудь еще. То есть вот поэтому нужно быть максимально надежным.
[31:41.220 --> 31:45.220]  Поэтому самая надежная проверка сонаправленности разнонаправленности это вот скалярное
[31:45.220 --> 31:50.340]  произведение больше нуля или меньше нуля. Тогда плевать, вектора там горизонтальные,
[31:50.340 --> 32:00.340]  там вертикальные, там сколько угодно косые, как угодно. Ну конечно да. Обычно конечно да. Ну
[32:00.340 --> 32:05.220]  вообще да, мы конечно во всех свойствах конечно начинаем подразумевать, что вектора не нулевые,
[32:05.220 --> 32:10.700]  потому что нулевой вектор с любым вектором, конечно скалярный вектор надаст ноль, тут без
[32:10.700 --> 32:17.740]  вариантов. Но угол с ним не будет ни 90 градусов, ни 0 градусов, нет просто такого понятия. Но если
[32:17.740 --> 32:23.420]  вектора заведомы не нулевые, то оба то такие свойства верны. Так, это у нас как минимум
[32:23.420 --> 32:33.500]  сонаправленность. Более того, на самом деле, то есть на самом деле можно еще определять маленькую
[32:33.500 --> 32:38.980]  приятную вещь. То есть вот это вот что-то типа вот этого круга можно на самом деле нарисовать
[32:38.980 --> 32:46.540]  для на самом деле произвольных векторов v1, v2. Смотрите, потому что если я нарисую какой-нибудь
[32:46.540 --> 32:52.260]  абсолютно произвольный вектор v1, то я могу через него провести вот такую прямую, а могу
[32:52.260 --> 32:59.260]  провести вот такую еще вертикальную, значит, ориентацию. Тогда смотрите, если у меня v2 указывает
[32:59.260 --> 33:05.260]  вот в эту нот, то есть оказывается, если у меня v2 указывает какую-то вот влевую полуплоскость
[33:05.260 --> 33:15.860]  относительно вектора v1, то это эквивалентно тому, что v1, v2 больше нуля. А если я отправлю
[33:15.860 --> 33:25.020]  вектор v2 куда-нибудь вот сюда, то здесь v1, v2 меньше нуля. Вот, понимаете, да? То есть это,
[33:25.020 --> 33:30.420]  кстати, очень удобно. То есть по вектору можно смотреть, v2 смотрит слева. Вот мы это будем
[33:30.420 --> 33:37.420]  называть как, что v2 будет смотреть слева от v1 или справа. То есть это будет означать так,
[33:37.420 --> 33:42.540]  что мы идем смотрим вот вдоль v1. Вот все, вот это вот есть прямая, вот есть полуплоскость слева,
[33:42.540 --> 33:48.500]  вот полуплоскость справа по ходу моего движения. Ну вот, или вот, ну можно говорить, да, для меня
[33:48.500 --> 33:54.820]  противчасовой и там подчасовой, ну я но-то, а можно слева-справа тут. Вот, и это очень удобно,
[33:54.820 --> 33:59.220]  то есть как компьютеру объявить, что находится слева, а что справа. То есть проверять у кого
[33:59.220 --> 34:05.820]  там меньше x или y, это естественно не сработает от слова никак и ни в каком виде. Вот, то есть
[34:05.820 --> 34:11.740]  а тут у нас v1, v2, то есть оказывается так. То есть более того, в принципе, видите, то есть можно на
[34:11.740 --> 34:16.220]  самом деле поделить получается полуплоскость на такие четыре четверти, в которой сказать,
[34:16.220 --> 34:23.460]  что в этой полуплоскости v1, v2 больше нуля, а скалярное произведение значит тоже больше нуля.
[34:23.580 --> 34:29.280]  Здесь получается, что скалярное произведение больше нуля, то есть векторное произведение больше нуля,
[34:29.280 --> 34:35.300]  а скалярное меньше нуля. Здесь получается наоборот. Тут векторное меньше нуля, а скалярное меньше ноля,
[34:35.300 --> 34:43.580]  а тут получается векторное меньше, скалярное больше. Вот. То есть такая вот идея. Ну и естественно,
[34:43.580 --> 34:48.860]  на самих прямых какие-то пограничные случаи, да, то есть если вектор сюда ett, то будет так. Понятно,
[34:48.860 --> 34:59.020]  да вот что-то вот так какие у нас там какие еще так свойства забыл а нет в общем-то никакие
[34:59.020 --> 35:06.020]  основные я в общем-то и рассказал хотя конечно ну не ну сейчас сейчас сейчас вот ну план вот
[35:06.020 --> 35:13.700]  ну да ну да не до площади каких-то там чего-то мы еще доживем вот так так так так так хотя
[35:13.700 --> 35:19.580]  хотя нет в этом месте в принципе можно уже нет в этом месте на самом деле можно уже и кодить
[35:19.580 --> 35:25.820]  да погодите вы нет как сам по себе угол сказать это мы отдельно поговорим на самом деле это как бы
[35:25.820 --> 35:33.260]  вещь такая ладно давайте немножко покодим значит для этого давайте поймем так ну давайте так что
[35:33.260 --> 35:39.300]  нам вообще понадобится ну заранее скажем что по include нам потребуется конечно какой-нибудь c
[35:39.300 --> 35:45.980]  мат и ну тут по-разному на самом деле где где-то такая константа есть где-то константа п есть где-то
[35:45.980 --> 35:54.540]  нет не вовсе нет каких-то там каких-то компиляторов надо ее там прописывать каких-то не надо там
[35:54.540 --> 35:58.620]  поэтому я обычно не заморачиваюсь и пишу стандарта так ну во-первых я пишу неудобно
[35:58.620 --> 36:11.420]  тейп дефолонг дабл какой-нибудь там лд и конст там лд п равно а коз л от минус 1
[36:11.420 --> 36:28.340]  ну сложно ну ну могут быть и другие способы да хорошо не так не буду на это я не буду
[36:28.340 --> 36:34.180]  божью по семью утверждать что это единственный способ но обычно так и пишу но тогда здесь еще
[36:34.180 --> 36:40.620]  обратив внимание до как вы уже догадываясь с мать есть такие функции как кос там sin там и так далее
[36:40.620 --> 36:50.700]  там какой-нибудь там кота ну и так далее есть конечно функция а коз на коз это ну это не вот
[36:50.700 --> 36:58.900]  этот вот предмет с компьютерами да вот собственно аркосин но здесь отметим что еще видимо старых
[36:58.900 --> 37:03.700]  стандартов осталась еще такая функция а коз селл которая советом и принимает только вон дабл
[37:03.700 --> 37:10.100]  ну на самом деле с вами по камере современных версиях а коз тоже а коз от лунг дабла тоже будет
[37:10.100 --> 37:16.020]  жить в лунг дабла но вообще да то есть там пом перегруженная функция то есть для даблов даблы
[37:16.020 --> 37:22.820]  для лунг даблов даблы там для флота флота и так далее вот но по умолчанию он будет кастовать в
[37:22.820 --> 37:29.460]  даблы то есть если я просто писала коз минус один то я боюсь что это вы получили дабл то есть
[37:29.460 --> 37:34.180]  надо либо это кастануть к лунг даблу либо вот я люблю просто сразу писать l и не париться
[37:34.180 --> 37:49.020]  но здесь кстати еще подляну еще должен предупредить что если кто-то любит писать
[37:49.020 --> 37:54.060]  вежаке то как бы есть одна проблема тут вот одна но вот одна командочка на полуфинале так
[37:54.060 --> 37:59.620]  предпологу заняла девятое место вместо второго только из-за того что посылала подвижу подвижуалкой
[37:59.620 --> 38:06.460]  как выяснилось если тот же код послать было под там каким гнушным компилятором то все бы работала
[38:06.460 --> 38:15.860]  то то где это место превратилось бы во второе ну по-моему не ну там нет это была по-моему это
[38:15.860 --> 38:22.260]  была по-моему нет но это была какая-то команда им групповым с календаром да на то да на тот
[38:22.260 --> 38:28.620]  моментом у них конкурент ну там по конкурентом за звук кто-то мгну по-моему не было вот но просто
[38:28.620 --> 38:34.260]  но вопрос не в этом вопрос том почему так произошло потому что должен предупредить вообще то есть
[38:34.260 --> 38:39.820]  надо предупредить о типах потому что вообще говоря лунг дабл по идее весит в два раза больше
[38:39.820 --> 38:47.740]  чем дабл ну типичная диспозиция дабл 8 байт по моему а лунг дабл 16 да вот но это означает что
[38:47.740 --> 38:55.900]  повышается в два раза точность ну так у вас же уже ако сбыло но относительно то есть да ну
[38:55.900 --> 39:02.180]  например ну по иноплеем но должна быть примерно да но смотрите ну давайте вспомним нет ну можно
[39:02.180 --> 39:07.060]  прям максимально точно посмотреть конечно размер мантисы вот но давайте еще вспомним так у вас
[39:07.060 --> 39:12.180]  акос был вот но наверное просто на первом занятии акоса должны были рассказывать как устроены
[39:12.180 --> 39:18.820]  типа как минимум да прям сразу да но давайте вспоминать вот давайте спросим как устроены
[39:18.820 --> 39:32.820]  вообще дробные типы давайте вспомним в т++ как минимум да и везде в общем-то там 52 11 знак то есть
[39:32.820 --> 39:39.700]  что это означает это означает что мы представляем наш любой дабл видя какого-то числа значит там
[39:39.700 --> 39:45.040]  между единицей двойкой единиц electrical двойка не включительно да умножить на два в какой-то
[39:45.040 --> 39:51.060]  степени да то есть в какой степени это называется экспонента и и соответственно swimroot а само это
[39:51.060 --> 39:56.060]  значение там пишется там в виде 1 точка бла бла бла на 1 точку не пишется потому что понятшую
[39:56.060 --> 39:58.100]  один точка а бла бла бла занимает 52 байт то есть получается относительно то есть число сюда
[39:58.100 --> 40:06.340]  в habían с понадобить наслаждается с относительной точностью там dark labs какой-то относительно
[40:06.340 --> 40:12.480]  точностью что-то типа не менее чем 2 в минус 52 и получается вот на абсолютная
[40:12.480 --> 40:16.160]  точность может разница потому что она конечно зависит от того собственно от
[40:16.160 --> 40:24.720]  экспонента вот но очи заметь но да да это дабл он весит 8 байт лонг дабл он
[40:24.720 --> 40:29.400]  весит 16 байт там может зависеть от их текстуры потому что понятно что
[40:29.400 --> 40:33.920]  точность должна быть ну где-то уж уж каким-нибудь где-нибудь там 100 бит там
[40:33.920 --> 40:40.880]  найдется ну плюс-минус хотя вот но просто да но просто фишка в том что
[40:40.880 --> 40:46.940]  визжаке по мистическим причинам лонг дабл и дабл это одинаковые типы вот именно
[40:46.940 --> 40:53.280]  визжаке именно визжал студии вот то есть оказывается вот в нормальных
[40:53.280 --> 40:56.920]  компиляторах этого нет то есть там обычно там лонг дабл сильно помогает
[40:56.920 --> 41:01.160]  кстати неожиданное преимущество перед джава и типа языком джава кстати потому что
[41:01.160 --> 41:08.560]  в языке джава нет типа лонг дабл есть только дабл вот но не ну вот это все но
[41:08.560 --> 41:14.080]  ин 128 формально говоря все плюс прессе нету но как бы но формально говоря тогда
[41:14.080 --> 41:18.680]  и пбд со все плюс прессе нету это да ну потому что он не является стандартом
[41:18.680 --> 41:26.240]  си плюс плюс то есть это как ну да ну нет вот там нет там что там ну то есть они
[41:26.240 --> 41:30.520]  не будут уже там уже говорите конкретно что нет но обычно действительно этого
[41:30.520 --> 41:33.700]  всего нету то есть конечно дайся в компиляторе компилятор это поставляет
[41:33.700 --> 41:37.080]  по свое там потому что он так хочет это конечно рех этим не пользоваться но
[41:37.080 --> 41:41.560]  соответственно так вот ладно это про лонг дабл поговорили надо было говорится
[41:41.560 --> 41:49.320]  так вот так это вот лонг дабл но с другой стороны давайте мы так сделаем то есть
[41:49.320 --> 41:53.080]  обычно конечно ну точки часто пишут cpld но с другой стороны в большинстве
[41:53.080 --> 41:57.320]  случаев задач по геометрии на самом деле вам вычисления в целых числах на
[41:57.320 --> 42:01.360]  самом деле вот так достаточно и это кстати будьте внимательны то есть как
[42:01.360 --> 42:04.080]  что всегда кажется вот геометрии с большой соблазна считают что если у вас
[42:04.080 --> 42:08.200]  вау ну значит там что-то с точностью не то что-то мелочь хотя бы в подавляющей
[42:08.200 --> 42:12.480]  большинстве случаев там на самом деле там ваши ва 7 к точности не имеют никакого
[42:12.480 --> 42:17.200]  отношения скорее это будет либо вы случай не учли либо просто поверили в
[42:17.200 --> 42:20.720]  какой-то алгоритм потому что там подумали три минуты что там подумали по
[42:20.720 --> 42:24.840]  принципу так вот есть алгоритм я там за 30 секунд обсуждения там обдумывание не
[42:24.840 --> 42:29.720]  понял почему он не работает значит он верный как знаете знаете это такая
[42:29.720 --> 42:32.840]  женская логика по колмогорову он что-то считал что женская логика заключается
[42:32.840 --> 42:40.320]  в том что если из а следует б и б приятно то а верно вот я не знаю вопрос
[42:40.320 --> 42:45.440]  к академику колмогорову почему он так считал вот но вот соответственно в этом
[42:45.440 --> 42:49.240]  отношении но не в смысле что он конкретно так считал конечно да явно но
[42:50.240 --> 42:55.240]  вот но такой вот сталкиваюсь но вот но как бы был как бы в геометрии то есть ну
[42:55.240 --> 42:58.440]  в олимпиадном программиру я все принципе иногда очень хочется так думать да я
[42:58.440 --> 43:02.160]  придумал алгоритм он вроде как работает давайте его писать да да что
[43:02.160 --> 43:06.400]  доказывать господи вы что с ума сошли так доказательств путь математики
[43:06.400 --> 43:11.040]  занимаются мы программисты вы просто напишем получим акцент но вот ну так как
[43:11.040 --> 43:14.400]  то есть самое страшное до какого-то момента это действительно работает но
[43:14.400 --> 43:18.760]  исключительно до какого-то момента так сейчас я прошу
[43:18.760 --> 43:25.280]  и так значит пишем диаметрию и так начито будем считать что у нас
[43:25.280 --> 43:38.000]  координат тип координат будет какой-нибудь аккорд допустим да а что такое ну
[43:38.800 --> 43:44.520]  не но там просто разные типы бывают но обычно типичный поэтом point он же на
[43:44.520 --> 43:49.240]  самом деле геометрический вектор вот мы сейчас мы там не будем писать супер
[43:49.240 --> 43:54.080]  идеальную реализацию в которой там по интей вектор это разные классы да ну
[43:54.080 --> 44:05.800]  вот поэтому так начитая коорд так что-то не так вы пишем да эх ну да значит но
[44:05.800 --> 44:10.720]  вот так ну что с этим поэтом можно делать но первое что обычно с ним нужно
[44:10.720 --> 44:18.960]  сделать это вот оператор плюс а то знаете некоторые любят когда там хотят поскладывать
[44:18.960 --> 44:22.040]  вектор или там что-то с ними делать делать все время в каждой строчки писать
[44:22.040 --> 44:28.320]  отдельно по иксам отдельно по игрокам то есть как это классик называл а это
[44:28.320 --> 44:44.840]  геометрия без функций да вот да да да да да но вот а для себе для симметричности так ну мне
[44:44.840 --> 44:49.080]  вот как-то почему-то мне удобно удобней уже складываю все-таки точку с точку они к
[44:49.080 --> 44:53.840]  точке прибавляют точку для меня как-то все-таки плюс это внешний оператор если я писал плюс
[44:53.840 --> 45:07.000]  равно конечно имело бы смысл писать его внутри это да ну по какому-то код стайлу
[45:07.000 --> 45:12.920]  наверное не надо нет но мне кажется ну просто так вот пока не рекрасивши так
[45:12.920 --> 45:24.160]  ой ой а ну а ну в этой реализации данчим да да ничего не поделаешь в этот раз придется
[45:24.160 --> 45:28.280]  что-что
[45:28.280 --> 45:45.800]  так ну вы можете поставить ну короче да ну да ну сложно конечно так хотя согласно ладно
[45:45.800 --> 45:58.520]  нет но на самом деле так нет вот так вы будем пушей то есть концерт до влада то есть у меня нет
[45:58.520 --> 46:02.320]  цели написать прям идеальный код потому что понятно что цели бывают разданку интернпиаде
[46:02.320 --> 46:19.640]  там шаблоны вы писать вряд ли будете ну да ну а в принципе да но желает описать то что ты
[46:19.640 --> 46:37.560]  сдал раз уж ты сдал именно его но вот а хочется чтобы не был так так вот так смотрите вот так что
[46:37.560 --> 46:42.520]  насчет дальше так дальше на сцену скалярное векторное произведение но здесь я люблю дел так
[46:43.520 --> 46:49.760]  но здесь оставили параде там на самом деле тут как бы у разных авторов по-разному я люблю чтобы
[46:49.760 --> 47:01.400]  у меня умножение было вектором произведение вот так честно и пишем по один ножник с плюс п2
[47:01.400 --> 47:08.440]  ноши на игрок минус по один точка и как у нас на п2 точка x но и конечно его величество скалярное
[47:08.440 --> 47:23.880]  произведение каким значком пометить его правильно к сор да вот но как говорится а мы учимся по другому
[47:23.880 --> 47:33.440]  так так то ли а так я еще забыл предупредить до шоу звать у нас на лекциях не принято так это
[47:33.440 --> 47:48.440]  стрелять ты давай вот все пришел сидеть пиши давай и но ты то по делу так вот что еще здесь но
[47:48.440 --> 47:52.680]  здесь на самом деле конечно надо договориться что конечно вот есть у вас т-корт это какой-нибудь
[47:52.680 --> 47:58.400]  целый тип это там лонг-лонг чаще всего чаще всего в геометрии помогает как и странно лонг-лонг но
[47:58.400 --> 48:04.760]  если вы пишете какой-нибудь лд то тут возникают проблемы что там часто вам то есть вот вам уже
[48:04.760 --> 48:15.000]  например говорят то есть там равны или допустим два вектора да вот например бул а и квал допустим
[48:15.000 --> 48:22.960]  но вот а вот тут просто потому что тут как раз вот маленькая проблема из-за которой это
[48:22.960 --> 48:31.880]  почему-то рука не поворачивается реализовать как оператор равно если если бы если бы не одно
[48:31.880 --> 48:35.760]  для меня оператор равно он должен быть все-таки транзитиве но тут транзитивность все-таки
[48:35.760 --> 48:46.200]  такая шаткая очень поэтому я тут предпочитаю все-таки функцию а и квал если у вас типа ошибка
[48:46.640 --> 48:54.040]  если у вас на пограничном случае то у вас и само решение работать не будет потому что
[48:54.040 --> 49:02.960]  ну в принципе можно как сказать и так дать мне но вот но не задумею но скажем так мою
[49:02.960 --> 49:08.800]  чувство прекрасного требует так не настаиваю то есть как бы то есть я как-то что-то я показываю
[49:08.800 --> 49:13.520]  просто как это вот можно писать его смотри это как бы имеет определенные какие-то преимущества да
[49:13.520 --> 49:21.120]  это может иметь какие-то недостатки то есть конечно же но поэтому тут вот аккурат вот да как
[49:21.120 --> 49:25.920]  она обычно работает давайте я покажу в даблах даблах она обычно ну пишет что пишет эпсилон какой-нибудь
[49:25.920 --> 49:34.080]  ну один из самых типичных эпсилонов 1 и минус 12 ну бывает 12 бывает 10 там по ситуации нет нормально
[49:34.080 --> 49:45.680]  ну 10 вот ну там ладно 10 хорошо ну но по ситуации там от задачи зависит ну вот и обычно там начинают
[49:45.680 --> 49:51.720]  писать то есть можно тут то есть если уж поставить себе цель написать прям красивую библиотечку то
[49:51.720 --> 50:01.760]  можно сказать так то есть вопрос являет как написать является ли число нулём нет но скажем
[50:01.760 --> 50:07.760]  так я покажу с одной стороны как все красивую библиотечку ну как вы смотрите потому что как
[50:07.760 --> 50:14.760]  бы во первых ну вот нет ну и тем не менее все-таки скажем так я покажу какие-то приемы которые
[50:14.760 --> 50:20.160]  помогут вам и в олимпиадной жизни и в какой-то жизни там более адекватной поэтому соответственно
[50:20.160 --> 50:27.960]  вот вот то сейчас вот чтобы проверить является ли число нулём вы вспоминает вот такую функцию
[50:27.960 --> 50:33.200]  фапсал да обратите внимание да есть такая геометрическая функция но геометрическая
[50:33.200 --> 50:37.360]  функция ну геометрическая функция просто функция фапс ну фапс это означает что он
[50:37.360 --> 50:47.520]  это модуль какого-то дробного числа ну тут вот надо смотреть современном мире скорее всего
[50:47.520 --> 50:53.040]  работает а у меня а у меня бывали в люке старых компиляторах то есть нет современном-то мире
[50:53.040 --> 50:57.480]  наверное там скорее всего работает да куда же деваться но обычно для конкретно даблов
[50:57.480 --> 51:02.080]  используется фапсал вот фапс или вот для лонг дабла фапсал ну как бы я в этом смысле
[51:02.080 --> 51:09.680]  старая я поступил на фистех до того как появился 11 стандарт да так так же сами понимаете вот
[51:09.680 --> 51:17.840]  вот поэтому тут появляются функции из зиро более того в принципе можно не только зир теперь
[51:17.840 --> 51:28.520]  можно сравнивать то есть если я хочу сравнить два числа то обычных сравнивают через разницу
[51:28.520 --> 51:41.800]  вот более того появляются еще какие-нибудь там то есть еще оказывается иногда полезно даже
[51:41.800 --> 51:50.600]  ввести функцию int c просто вывести знак план даже не здесь наверное надо делать вот
[51:50.600 --> 52:05.480]  то есть ну и тогда тут надо честно написать что если это 0 то как бы то есть если то вернуть 0
[52:05.480 --> 52:11.720]  то есть l за ретурн там соответственно
[52:11.720 --> 52:23.120]  уже нет так
[52:23.120 --> 52:40.400]  ну нет ну как сказать просто как бы это опять же из чувства прекрасного что как бы случай
[52:40.400 --> 52:57.720]  случай типа равноправно вот за сам по сей факт а за после ретурна никогда не слышал нет ну как бы
[52:57.720 --> 53:01.960]  скажи так у каждой у каждой компании в этом месте может быть свое мнение свои привычки
[53:01.960 --> 53:06.600]  свои чувства прекрасного как-то готов разные код стайлы в гектаре код стайла вообще требует
[53:06.600 --> 53:18.960]  чтобы у вас извините там типа назывались не с большой буквы то ли а так значит соответственно
[53:18.960 --> 53:29.720]  чего не слышу а
[53:29.720 --> 53:38.000]  а пардон неправ неправ неправ да
[53:38.000 --> 53:53.720]  хорошо хорошо вот че еще так это у нас r equal то есть можно написать какие-нибудь теперь с
[53:53.720 --> 54:03.480]  помощью сигнала можно еще написать boo из less than или в других переводах less than так но чтобы
[54:03.480 --> 54:15.080]  она была за два то здесь надо просто написать ретурн сигнум от z 1 минус 2 меньше нуля не там
[54:15.080 --> 54:20.760]  точка запятой ну хорошо да но понятно смотрите тут очень удобно теперь потому что можно теперь
[54:20.760 --> 54:33.000]  написать из морзен там допустим морор и квал зен вот ну и так далее остальные три функции писать
[54:33.000 --> 54:48.720]  не буду вот то есть вот такое вот бла бла бла но вот супер вот да оператор называют так так вот
[54:48.720 --> 54:55.720]  но это вот но это если вот и говорится то есть что делать если вы координаты в даблах хранить
[54:55.720 --> 54:59.920]  то есть в большинстве случаев кстати вам не требует хранить координаты в даблах то есть
[54:59.920 --> 55:05.440]  многие там и сравнивать что-то в даблах то есть в реальности вам требуется на самом деле только
[55:05.440 --> 55:10.520]  то есть обучить и в целых числах то этого всего естественно не надо и желательно чтобы вас чем
[55:10.520 --> 55:19.800]  меньше даблов в геометрическом коде тем лучше вот так что еще надо сделать оно не помешает конечно
[55:19.800 --> 55:29.320]  знаменитая функция лен 2 у вектора то есть вот это имеет смысл сделать методом да обычно очень
[55:29.320 --> 55:33.640]  полезно оказывается там чтобы не вызывать лишних проблем с компиляции чтобы лен 2 был
[55:33.640 --> 55:40.280]  констант почему он должен быть константом знаете тут есть неожиданная подлянка потому что например
[55:40.280 --> 55:47.920]  вот очень хочется написать такой вот данные две точки найдите квадрат расстояния да вот например
[55:48.920 --> 56:01.840]  дист 2 и тогда вот что хочется написать ну хочется написать конечно по 2 минус по 1 точка точка лен 2
[56:07.840 --> 56:11.920]  все абсолютно нормально но я вам просто да тут просто вообще компилироваться ничего не
[56:11.920 --> 56:16.160]  компилируется но если вы тут константу берете там он он как-то вы запит
[56:16.160 --> 56:28.800]  но проблема в том что почему-то очень почему-то очень не любит вызов неконстантных методов у
[56:28.800 --> 56:36.760]  каких-то вот вот этих вот время там каких-то вот каких-то вот этих вот временных перемен ну я не
[56:41.920 --> 57:09.680]  я просто говорю на что напарывался если что поэтому обычно тут там помогает просто там
[57:09.680 --> 57:19.840]  просто пишите тут будет просто пишите константе не парьтесь вот мы конечно а да вот можно еще
[57:19.840 --> 57:32.360]  написать еще так можно там соответственно лен но его уже придется реально в лонг дабла тут тут
[57:32.360 --> 57:58.920]  уже ничего не поделаешь вот так вот то есть вот такие вот вещи значит тут еще вот такие
[57:58.920 --> 58:13.400]  технические вещи есть так ну что есть ли тут еще какие-то вопросы еще ищешь и сейчас
[58:13.400 --> 58:27.280]  ну вот нет смотрите нет просто я так скажу начинает с этого момента то есть на самом деле
[58:27.280 --> 58:31.600]  давайте так я буду все-таки предполагать что у меня т-корт это какой-то целый тип поэтому я
[58:31.600 --> 58:36.840]  сейчас вот с этими вот из моря злес заморачиваться не буду то есть будем дальше всегда иметь в виду
[58:36.840 --> 58:41.800]  что когда сравниваем что-то то как бы если даблы то сравниваем как-то с эпсилом если без даблов
[58:41.800 --> 58:48.920]  то сравниваем честно вот давайте напишем нашу первую функцию ну первую такой адекватную функцию
[58:48.920 --> 59:00.560]  бул а и квал тьфу пардон аку не не это не дай это не та первая функция вот это первых так
[59:00.560 --> 59:09.880]  даны два вектора по 1 по 2 внимание вопрос коллинярный ли они да или нет как мне это написать
[59:18.920 --> 59:24.680]  но ну нет коллинярный вот давайте вдавьи мать и вопрос коллинярный параллельный
[59:24.680 --> 59:40.640]  ну и по каким определением ну хорошо ладно ну давай так являются вектора но давайте но
[59:40.640 --> 59:48.840]  нас спросили другой являются ли вектора коллинярными коллинярные это обычно два вектора если так вот давайте
[59:48.840 --> 59:53.480]  так вот у нас есть понятие коллинярные вектора они коллинярные если они как бы как бы тут уже
[59:53.480 --> 01:00:00.440]  наоборот и со направленный разом направлен нас обычно устраивает поэтому приколи ничего поэтому
[01:00:00.440 --> 01:00:03.400]  в данном случае мы пишем что давайте продиктуйте мне код
[01:00:03.400 --> 01:00:20.840]  так давай скалярная произведение у нас это ксочек
[01:00:20.840 --> 01:00:35.120]  так прям так и пишем до по один к сорпедуа равно ну я уже сказал мы начинается этот момент и
[01:00:35.120 --> 01:00:39.540]  считаем что там случай еще все числа адекватно целые или там или это какой-нибудь там поле
[01:00:40.540 --> 01:00:58.340]  там сравнение проходит абсолютно точно вот такая красота меня бы у меня такие проблемы были
[01:00:58.340 --> 01:01:10.740]  вполне вероятно нет а ну почему нет рвелью в каком-то виде было то есть какое-то понятие
[01:01:10.740 --> 01:01:22.060]  на чем то есть конечно так ладно ладно не ребят тут более страшные проблемы какой код на самом
[01:01:22.060 --> 01:01:30.180]  деле этот код не работает не поэтому дать но давайте что вектора коллинярные если они
[01:01:30.180 --> 01:01:38.020]  ну словно говоря лежат на одной прямой мы с них отложить от точки 0 и допустим
[01:01:38.020 --> 01:02:03.700]  но я предчувствую что на фигне определение нет нет нет нет подлянка не они вообще не в этом
[01:02:03.700 --> 01:02:17.580]  какой скалярное произведение вы чего ты скалярная сказал я явно видим услышал
[01:02:17.580 --> 01:02:23.500]  слово скалярная произведение вы да ну ладно конечно да не мне конечно предъявить проблему
[01:02:23.500 --> 01:02:31.780]  что я там понятно что я имел ввиду подумаешь я сказал другое конечно да но но да но кросс у
[01:02:31.780 --> 01:02:40.860]  нас это умножение потому что вы только что смотрели как я их вводил но мне очень
[01:02:40.860 --> 01:02:51.020]  жаль что подобные вещи для вас не интуитивно да но но не но для меня вот так нет уж да извините
[01:02:51.020 --> 01:02:58.740]  да я пишу через умножение через умножение к соке вот так что да давайте привыкаем тут
[01:02:58.740 --> 01:03:09.700]  у нас векторное произведение так вот неожиданная функция из онлайн то есть дана прямая то есть
[01:03:09.700 --> 01:03:17.300]  у меня есть прямая которая задана точками а и б внимание вопрос лежит ли точка п на прямой
[01:03:17.460 --> 01:03:29.220]  да или нет да естественно можно даже написать что ассет но вот то есть там скажем называется
[01:03:29.220 --> 01:03:39.540]  не а там там не арик вол там допустим а бы хотя конкретно здесь можно было уже и ввести
[01:03:39.540 --> 01:03:44.620]  оператор конечно хорошо хорошо пожалуйста
[01:03:44.620 --> 01:03:54.300]  но это крыша в реальном коде сложит такой опасно такой писать потому что это конечно увеличит
[01:03:54.300 --> 01:04:01.300]  время работ но каждый раз когда в смысле если напишите ассет то как бы каждый раз когда будет
[01:04:01.300 --> 01:04:14.620]  вызываться функции она будет а не нет конечно не не ну это согласен так и так давайте как же
[01:04:14.620 --> 01:04:32.140]  мне написать функцию из онлайн так а может так и нот перенесем а в начало координат проверим
[01:04:32.140 --> 01:04:39.460]  что вектора п и б неожиданно к линиарной дем или что то же самое а давайте просто проверим что
[01:04:39.460 --> 01:04:51.540]  вектора п минус а и б минус а к линиарной ну да да но напоминаем у нам как бы мы тут как бы
[01:04:51.540 --> 01:04:55.460]  сейчас код пишем поэтому как бы сейчас вот будьте внимательны то есть она сейчас то есть на нас
[01:04:55.460 --> 01:05:00.780]  сейчас задача максимально эффективно это реализовать то есть а не из цикла ну понятно как
[01:05:00.780 --> 01:05:10.180]  делать а как вы там напишите не важно тут к сожалению важно поэтому пишем там п1 минус а умножить на
[01:05:10.180 --> 01:05:23.940]  б минус а должно быть равно нулю да да можно писать так но просто на эти тут как бы олимпиадный
[01:05:23.940 --> 01:05:30.140]  подход или такой подход если вы будете как бы если вы напишите там у себя в темную будьте супер
[01:05:30.140 --> 01:05:34.520]  красивую библиотеку это будет красиво да просто до первой задачи на контесте который вы хотите
[01:05:34.520 --> 01:05:38.580]  свою помощью сдать потому что пока потому что вы там столько времени потратите на перевбивание
[01:05:38.580 --> 01:05:48.140]  библиотеки что больше и пользоваться не хотите говорю личный опыт вот ну вот сейчас они пишут
[01:05:48.140 --> 01:05:51.660]  сейчас их скорее это просто мы каждую конкретную задачку думаем как их писать то есть можно
[01:05:51.660 --> 01:06:03.180]  написать так или можно писать там ритурн арко линьер от p там p минус а б минус а ну в данном
[01:06:03.180 --> 01:06:06.900]  случае как бы то есть как бы с точки зрения идеальной библиотеки конечно надо было вот это
[01:06:06.900 --> 01:06:10.500]  написать но с точки зрения олимпиад ну с точки зрения олимпиад вы вообще не будете писать
[01:06:10.500 --> 01:06:15.140]  функцию из онлайн скорее всего то есть скорее всего хотя рекомендуется это все-таки сделать
[01:06:15.140 --> 01:06:22.500]  но да но да но лучше такие функции кэш прописывать неважно как они там вызываются друзьям важно
[01:06:22.500 --> 01:06:27.740]  просто чтобы как вы помните да чем более код похож на там ли ваш язык похож на литературно
[01:06:27.740 --> 01:06:32.220]  английский тем как бы легче объяснить соседу что там находится да и самому себе через полтора часа
[01:06:32.220 --> 01:06:40.340]  тоже вот если вы напишите функцию из онлайн и тут написали что у вас тут будет написано
[01:06:40.660 --> 01:06:46.500]  то как бы сосед скажет я конечно не понимаю в геометрии но по моему в минус б равно нулю
[01:06:46.500 --> 01:06:53.460]  или там что-то еще в этом вроде вот и так почему это кстати вот важный момент то есть особенно
[01:06:53.460 --> 01:06:56.900]  если вы кстати в последний час пишете когда там какую-то геометрию это очень полезно когда
[01:06:56.900 --> 01:07:02.460]  человек начнется на если его что вбивает геометрию соответственно в там ком но там когда после
[01:07:02.460 --> 01:07:07.220]  некоторого момента просто берет и распечатывает ассокамандники идут и читают чтобы просто
[01:07:07.220 --> 01:07:11.540]  проверить что проверить что да он правильно вообще вбил геометрию потому что она по на пятом
[01:07:11.540 --> 01:07:15.900]  числу как бы там очи пятаться или перепутать вектор и пределиться скалярным можно везде
[01:07:15.900 --> 01:07:21.820]  вот то есть придет так что рекомендую то есть помните чем более то ближе к делу тем больше вы
[01:07:21.820 --> 01:07:30.460]  там должны помогать друг другу если там избавиться от лишних баров да нет это как бы нет так что тут
[01:07:30.460 --> 01:07:35.260]  соответственно так что еще так ну и конечно вот функция которые все вот начинают писать по разному
[01:07:35.260 --> 01:07:51.900]  хотя но был из он сегмент дан отрезок аб скажите пожалуйста лежит ли точка п на отрезке аб на
[01:07:51.900 --> 01:08:13.700]  этот раз кстати отрезок аб может быть уничтожен но да а ведь действительно смотрите да то есть
[01:08:13.700 --> 01:08:20.140]  давайте посмотрим какая какая-то маленькая подлянка есть соблазн написать из он уайн ну
[01:08:20.300 --> 01:08:27.380]  проверим что п лежит напрямой а теперь как проверить что п лежит между а и б но такая
[01:08:27.380 --> 01:08:31.660]  не детская реализация который все очень любит давайте проверим что п лежит в баунденбоксе от
[01:08:31.660 --> 01:08:38.260]  а и б ну там типа п лежит там между х а и б проверить что-либо между игроками и так далее
[01:08:38.260 --> 01:08:44.180]  то есть дети любят так писать но быстро выяснять что там надо тогда рассматривать
[01:08:45.020 --> 01:08:53.740]  а если от очко x но а если а точка x больше чем бы точка икс а ну тогда так ладно пишем у нас
[01:08:53.740 --> 01:08:58.620]  было написано там а точка x меньше либо равно п точка из пточке смешали в ps C тоже самое с
[01:08:58.620 --> 01:09:04.020]  игроком но давайте это скопи пастим из-за ней меньше ли равно на больше левые в этом дети с
[01:09:04.020 --> 01:09:08.340]  удивлением узнают что оказывается бывают случаи когда в точку икс больше чем бы точка
[01:09:08.340 --> 01:09:12.340]  а точка игр меньше, чем b точка игр.
[01:09:12.340 --> 01:09:15.340]  Эти случаи тоже надо рассматривать, оказывается.
[01:09:15.340 --> 01:09:17.340]  Даже такую технологию можно написать, конечно,
[01:09:17.340 --> 01:09:18.340]  сильно эффективнее.
[01:09:18.340 --> 01:09:21.340]  Ну, вынести функцию проверки, лежит ли число
[01:09:21.340 --> 01:09:23.340]  между двумя другими в отдельную функцию,
[01:09:23.340 --> 01:09:26.340]  внутри делать свапы правильные.
[01:09:26.340 --> 01:09:28.340]  Но на самом деле необходимости в этом нет.
[01:09:28.340 --> 01:09:30.340]  То есть колярные векторные произведения вам
[01:09:30.340 --> 01:09:31.340]  помогут этого избежать.
[01:09:31.340 --> 01:09:33.340]  Потому что здесь bounding box.
[01:09:33.340 --> 01:09:35.340]  Здесь этого надо избегать.
[01:09:35.340 --> 01:09:36.340]  Поэтому какой вариант?
[01:09:36.340 --> 01:09:38.340]  Ну вот предлагается следующее.
[01:09:38.340 --> 01:09:40.340]  Хочется сказать, что нам нужно,
[01:09:40.340 --> 01:09:42.340]  что точка P лежит относительно точки A
[01:09:42.340 --> 01:09:44.340]  с той же стороны, что и B.
[01:09:44.340 --> 01:09:46.340]  Как же это проверить?
[01:09:46.340 --> 01:09:48.340]  Ну да.
[01:09:48.340 --> 01:09:52.340]  P-A XOR B-A
[01:09:52.340 --> 01:09:54.340]  должно быть больше либо равно 0.
[01:09:54.340 --> 01:09:56.340]  Обратите внимание, больше либо равно,
[01:09:56.340 --> 01:09:58.340]  потому что если P совпало с A,
[01:09:58.340 --> 01:10:00.340]  нас вполне устраивает.
[01:10:00.340 --> 01:10:02.340]  Да.
[01:10:02.340 --> 01:10:04.340]  Но это как бы, ну вот.
[01:10:04.340 --> 01:10:06.340]  Ну и проверить то же самое относительно B.
[01:10:06.340 --> 01:10:08.340]  P-B,
[01:10:08.340 --> 01:10:10.340]  A-B.
[01:10:10.340 --> 01:10:12.340]  Вот.
[01:10:14.340 --> 01:10:16.340]  Да.
[01:10:16.340 --> 01:10:18.340]  Ну вот теперь да.
[01:10:18.340 --> 01:10:20.340]  Ну теперь вот задача.
[01:10:20.340 --> 01:10:22.340]  У этого кода есть маленькая подлянка.
[01:10:22.340 --> 01:10:24.340]  Так, ну Миша знает, ребята.
[01:10:24.340 --> 01:10:26.340]  Видите, в чем тут?
[01:10:26.340 --> 01:10:28.340]  В чем тут подлянка у этого кода?
[01:10:32.340 --> 01:10:34.340]  Вот.
[01:10:52.340 --> 01:10:54.340]  Вот.
[01:10:54.340 --> 01:10:56.340]  Теоретически, в принципе,
[01:10:56.340 --> 01:10:58.340]  отрезок может оказаться вырожденным.
[01:10:58.340 --> 01:11:00.340]  И заметим,
[01:11:00.340 --> 01:11:02.340]  что если A совпало B,
[01:11:02.340 --> 01:11:04.340]  то на самом деле у нас
[01:11:04.340 --> 01:11:06.340]  здесь true будет практически всегда.
[01:11:08.340 --> 01:11:10.340]  Ну вот.
[01:11:10.340 --> 01:11:12.340]  Действительно, практически.
[01:11:12.340 --> 01:11:14.340]  Просто всегда.
[01:11:14.340 --> 01:11:16.340]  Из онлайн, конечно,
[01:11:16.340 --> 01:11:18.340]  тут осеркнется, конечно.
[01:11:18.340 --> 01:11:20.340]  Вот.
[01:11:20.340 --> 01:11:22.340]  Да.
[01:11:22.340 --> 01:11:24.340]  То есть он, конечно, неожиданно осеркнется.
[01:11:24.340 --> 01:11:26.340]  Но часто,
[01:11:26.340 --> 01:11:28.340]  если мы не возобьем,
[01:11:28.340 --> 01:11:30.340]  то тогда вот как бы вот это условие
[01:11:30.340 --> 01:11:32.340]  вернет true, и вот эти оба условия
[01:11:32.340 --> 01:11:34.340]  тоже вернут true. Поэтому небезопасно.
[01:11:34.340 --> 01:11:36.340]  То есть да.
[01:11:36.340 --> 01:11:38.340]  Есть такой случай.
[01:11:38.340 --> 01:11:40.340]  Нет.
[01:11:42.340 --> 01:11:44.340]  Ну когда, ну давайте.
[01:11:44.340 --> 01:11:46.340]  Ну или по крайней мере попробуем тогда мое решение.
[01:11:46.340 --> 01:11:48.340]  Просто я обычно пишу
[01:11:48.340 --> 01:11:50.340]  вот что.
[01:11:54.340 --> 01:11:56.340]  Я вот так пишу.
[01:11:58.340 --> 01:12:00.340]  Да.
[01:12:14.340 --> 01:12:16.340]  Да.
[01:12:16.340 --> 01:12:18.340]  То есть обратите внимание, видите, если там
[01:12:18.340 --> 01:12:20.340]  P совпало с A и B будет 0, если
[01:12:20.340 --> 01:12:22.340]  A лежит строго между A и B,
[01:12:22.340 --> 01:12:24.340]  то получится меньше нуля.
[01:12:24.340 --> 01:12:26.340]  То есть вектора разнонаправленные будут.
[01:12:26.340 --> 01:12:28.340]  А если точка лежит
[01:12:28.340 --> 01:12:30.340]  где-то вне, то получится больше нуля.
[01:12:30.340 --> 01:12:32.340]  Более того, если A и B совпадают,
[01:12:32.340 --> 01:12:34.340]  то тогда это скалярдопроизведение
[01:12:34.340 --> 01:12:36.340]  тоже окажется больше нуля.
[01:12:36.340 --> 01:12:38.340]  Ну если, конечно, P не совпадет.
[01:12:38.340 --> 01:12:40.340]  То есть получается магическим
[01:12:40.340 --> 01:12:42.340]  образом, то есть магическим образом
[01:12:42.340 --> 01:12:44.340]  все сработало.
[01:12:46.340 --> 01:12:48.340]  Ну, кстати, да.
[01:12:48.340 --> 01:12:50.340]  Ну хорошо, да.
[01:12:50.340 --> 01:12:52.340]  В принципе, да, в реальном
[01:12:52.340 --> 01:12:54.340]  олимпиадном коде, наверное, вы не будете
[01:12:54.340 --> 01:12:56.340]  там прям сводить изон сербинг
[01:12:56.340 --> 01:12:58.340]  изонлайн и напишете
[01:12:58.340 --> 01:13:00.340]  вот скорее вот
[01:13:00.340 --> 01:13:02.340]  то есть на олимпиаде я бы скорее вот так
[01:13:02.340 --> 01:13:04.340]  написал.
[01:13:04.340 --> 01:13:06.340]  Вот видите, одно вектор, когда
[01:13:06.340 --> 01:13:08.340]  на скалярдой никаких этих ваших баунден боксов
[01:13:08.340 --> 01:13:10.340]  и никаких этих ваших уравнений
[01:13:10.340 --> 01:13:12.340]  прямой там каких-нибудь еще.
[01:13:12.340 --> 01:13:14.340]  Кто-то любит...
[01:13:14.340 --> 01:13:16.340]  Ой, ну мы ее будем
[01:13:16.340 --> 01:13:18.340]  избегать. Да.
[01:13:18.340 --> 01:13:20.340]  Вот.
[01:13:20.340 --> 01:13:22.340]  А, ну, окей.
[01:13:22.340 --> 01:13:24.340]  Ладно.
[01:13:24.340 --> 01:13:26.340]  Значит, это у нас
[01:13:26.340 --> 01:13:28.340]  изон сербинг.
[01:13:30.340 --> 01:13:32.340]  Так, ну давайте так.
[01:13:32.340 --> 01:13:34.340]  Так, ладно, по этой функции вопрос какие-нибудь есть?
[01:13:36.340 --> 01:13:38.340]  Хорошо.
[01:13:38.340 --> 01:13:40.340]  Так.
[01:13:40.340 --> 01:13:42.340]  Что нам еще надо сделать? Давайте
[01:13:42.340 --> 01:13:44.340]  проверим. Даны две
[01:13:44.340 --> 01:13:46.340]  прямые. Да, заметьте, я стараюсь, я сознательно
[01:13:46.340 --> 01:13:48.340]  пытаюсь вот
[01:13:48.340 --> 01:13:50.340]  parallel or equal.
[01:13:50.340 --> 01:13:52.340]  Вот. Да, вот
[01:13:52.340 --> 01:13:54.340]  правильно было отмечено, что формально говоря
[01:13:54.340 --> 01:13:56.340]  параллельными называются прямые, которые не пересекаются.
[01:13:56.340 --> 01:13:58.340]  Да, это приводит нас к той ситуации,
[01:13:58.340 --> 01:14:00.340]  что прямая не параллельна самой себе.
[01:14:00.340 --> 01:14:02.340]  Поэтому, говорит,
[01:14:02.340 --> 01:14:04.340]  хочется проверить.
[01:14:04.340 --> 01:14:06.340]  То есть, но интуитивно нам, как бы
[01:14:06.340 --> 01:14:08.340]  иногда мы очень любим...
[01:14:08.340 --> 01:14:10.340]  Да,
[01:14:10.340 --> 01:14:12.340]  как-то интердитивность тоже.
[01:14:12.340 --> 01:14:14.340]  И вообще считать, что прямая параллельна
[01:14:14.340 --> 01:14:16.340]  сама себе, потому что она как бы типа в одну
[01:14:16.340 --> 01:14:18.340]  там они в одном направлении идут.
[01:14:18.340 --> 01:14:20.340]  Итак, даны две прямые. A1B1 и A2B2.
[01:14:20.340 --> 01:14:22.340]  Скажите, пожалуйста, верно ли, что они
[01:14:22.340 --> 01:14:24.340]  параллельны или совпадают?
[01:14:26.340 --> 01:14:28.340]  Спрашивается, как мне
[01:14:28.340 --> 01:14:30.340]  это сделать?
[01:14:30.340 --> 01:14:32.340]  А сейчас у вас уравнение
[01:14:32.340 --> 01:14:34.340]  прямое есть или нет? Нет.
[01:14:34.340 --> 01:14:36.340]  Нет, у меня есть только то, что я
[01:14:36.340 --> 01:14:38.340]  вот в коде написал.
[01:14:38.340 --> 01:14:40.340]  То есть, как бы мы с вами
[01:14:40.340 --> 01:14:42.340]  это ген, да, это ген тулимск
[01:14:42.340 --> 01:14:44.340]  сделаем все с нуля своими руками.
[01:14:44.340 --> 01:14:46.340]  А вы не хотите создать структуру прямая? Нет.
[01:14:46.340 --> 01:14:48.340]  Не хочу.
[01:14:48.340 --> 01:14:50.340]  Или вы хотите ее сделать с уравнением
[01:14:50.340 --> 01:14:52.340]  3 глава? Нет.
[01:14:52.340 --> 01:14:54.340]  Чаще всего в подавляющем большинстве
[01:14:54.340 --> 01:14:56.340]  в задачах обычно именно
[01:14:56.340 --> 01:14:58.340]  задача вам прямая скорее всего
[01:14:58.340 --> 01:15:00.340]  задается двумя точками, которые вы
[01:15:00.340 --> 01:15:02.340]  откуда-то взяли, там пересеченничу.
[01:15:02.340 --> 01:15:04.340]  Вы должны взять 3 числа. Так, Толя,
[01:15:04.340 --> 01:15:06.340]  пиши давай.
[01:15:06.340 --> 01:15:08.340]  Можно в структуру положить 2
[01:15:08.340 --> 01:15:10.340]  эти, 2 поэнта.
[01:15:10.340 --> 01:15:12.340]  Ну, можно положить, но обычно...
[01:15:12.340 --> 01:15:14.340]  Чтобы не писать 4 поэнта,
[01:15:14.340 --> 01:15:16.340]  поэнта негативно странно.
[01:15:16.340 --> 01:15:18.340]  Нет, ну да. Ну, не знаю.
[01:15:18.340 --> 01:15:20.340]  Нет, прямая А1,
[01:15:20.340 --> 01:15:22.340]  Б1, прямая 2, Б2.
[01:15:22.340 --> 01:15:24.340]  Как проверить меня? В параллелье
[01:15:24.340 --> 01:15:26.340]  ли эти прямые?
[01:15:26.340 --> 01:15:28.340]  Или там совпадают?
[01:15:28.340 --> 01:15:30.340]  В параллельность направляющих фекторов.
[01:15:30.340 --> 01:15:32.340]  Так, параллельность направляющих фекторов.
[01:15:32.340 --> 01:15:34.340]  А как проверить параллельность направляющих
[01:15:34.340 --> 01:15:36.340]  фекторов?
[01:15:36.340 --> 01:15:38.340]  Ну вот. Ну да, с точки
[01:15:38.340 --> 01:15:40.340]  зрения Олимпиад мы должны, конечно, написать
[01:15:40.340 --> 01:15:42.340]  return r colinear,
[01:15:42.340 --> 01:15:44.340]  там B1-A1
[01:15:44.340 --> 01:15:46.340]  и B2-A2.
[01:15:46.340 --> 01:15:48.340]  Ну а на Олимпиаде
[01:15:48.340 --> 01:15:50.340]  мы бы честно написали
[01:15:50.340 --> 01:15:52.340]  B1-A1
[01:15:52.340 --> 01:15:54.340]  умножить на B2-A2
[01:15:58.340 --> 01:16:00.340]  равно 0.
[01:16:04.340 --> 01:16:06.340]  Так.
[01:16:08.340 --> 01:16:10.340]  Ну вот начинается
[01:16:10.340 --> 01:16:12.340]  вообще неожиданная функция.
[01:16:12.340 --> 01:16:14.340]  Смотрите.
[01:16:18.340 --> 01:16:20.340]  А теперь неожиданно нам пришли
[01:16:20.340 --> 01:16:22.340]  две прямые. Гарантирует
[01:16:22.340 --> 01:16:24.340]  значит, как мы будем?
[01:16:24.340 --> 01:16:26.340]  Point A1, Point
[01:16:26.340 --> 01:16:28.340]  B1.
[01:16:28.340 --> 01:16:30.340]  Тут у вас уже Point, может быть, круглого
[01:16:30.340 --> 01:16:32.340]  типа. Чего?
[01:16:32.340 --> 01:16:34.340]  У вас Point, типа
[01:16:34.340 --> 01:16:36.340]  мы, например, рассматриваем Point
[01:16:36.340 --> 01:16:38.340]  типа int, а пересечение
[01:16:38.340 --> 01:16:40.340]  типа double. Может быть.
[01:16:40.340 --> 01:16:42.340]  Но сейчас
[01:16:42.340 --> 01:16:44.340]  вот. Но обычно в таких случаях мы везде
[01:16:44.340 --> 01:16:46.340]  пишем long double и не заморачиваемся.
[01:16:48.340 --> 01:16:50.340]  Но чаще всего так. Поэтому сейчас
[01:16:50.340 --> 01:16:52.340]  я подозреваю, что T-coord это какое-то адекватное
[01:16:52.340 --> 01:16:54.340]  поле, в котором
[01:16:54.340 --> 01:16:56.340]  деление существует.
[01:16:56.340 --> 01:16:58.340]  Но вопрос, какое деление
[01:16:58.340 --> 01:17:00.340]  делать? Да, начнем
[01:17:00.340 --> 01:17:02.340]  с того, что
[01:17:04.340 --> 01:17:06.340]  то есть проверим, что, во-первых, чтобы искать
[01:17:06.340 --> 01:17:08.340]  пересечение оно было точкой, нужно гарантировать,
[01:17:08.340 --> 01:17:10.340]  что прямые не параллельны.
[01:17:16.340 --> 01:17:18.340]  Ну это я тут так пишу, конечно, в реальном коде вы так
[01:17:18.340 --> 01:17:20.340]  писать не будете.
[01:17:22.340 --> 01:17:24.340]  Все можно. Итак, даны прямые.
[01:17:24.340 --> 01:17:26.340]  Как мне найти их точку
[01:17:26.340 --> 01:17:28.340]  пересечения?
[01:17:32.340 --> 01:17:34.340]  Вы не хотите решать систему?
[01:17:34.340 --> 01:17:36.340]  Нет. Даже
[01:17:36.340 --> 01:17:38.340]  памятую, что вы там это знаете правила
[01:17:38.340 --> 01:17:40.340]  крамора, все равно не хочу.
[01:17:40.340 --> 01:17:42.340]  Да, черная магия, определитель
[01:17:42.340 --> 01:17:44.340]  какой-то нет.
[01:17:44.340 --> 01:17:46.340]  Ну его там надо, возможно, еще надо
[01:17:46.340 --> 01:17:48.340]  помнить, надо это. На самом деле тут
[01:17:48.340 --> 01:17:50.340]  я всегда агитирую немножко
[01:17:50.340 --> 01:17:52.340]  за другой способ.
[01:17:52.340 --> 01:17:54.340]  Который этого всего вам
[01:17:54.340 --> 01:17:56.340]  не требует.
[01:17:58.340 --> 01:18:00.340]  Смотрите немножко
[01:18:02.340 --> 01:18:04.340]  сейчас будет немножко
[01:18:04.340 --> 01:18:06.340]  магии.
[01:18:18.340 --> 01:18:20.340]  Я делаю особую уличную
[01:18:20.340 --> 01:18:22.340]  магию. Хотите посмотреть немного магии?
[01:18:26.340 --> 01:18:28.340]  Значит, смотрите.
[01:18:28.340 --> 01:18:30.340]  Итак, даны
[01:18:30.340 --> 01:18:32.340]  две прямые.
[01:18:32.340 --> 01:18:34.340]  Прямая A1B1
[01:18:34.340 --> 01:18:36.340]  и прямая
[01:18:36.340 --> 01:18:38.340]  A2B2.
[01:18:44.340 --> 01:18:46.340]  Вот даны точки A1B1, а как
[01:18:46.340 --> 01:18:48.340]  бы мне записать прямую A1B1
[01:18:48.340 --> 01:18:50.340]  как множество точек.
[01:18:52.340 --> 01:18:54.340]  Структура, просто направляющий
[01:18:54.340 --> 01:18:56.340]  вектор. Ну да.
[01:18:56.340 --> 01:18:58.340]  Ну так и напишем. Мы это
[01:18:58.340 --> 01:19:00.340]  напишем вот в таком виде. Это множество точек
[01:19:00.340 --> 01:19:02.340]  вида A1
[01:19:02.340 --> 01:19:04.340]  плюс B1-A1
[01:19:04.340 --> 01:19:06.340]  умножить на T.
[01:19:06.340 --> 01:19:08.340]  Вот, кстати, забыли написать, что мы, оказывается,
[01:19:08.340 --> 01:19:10.340]  вектора еще на число умеем домножать.
[01:19:12.340 --> 01:19:14.340]  Вот. По
[01:19:14.340 --> 01:19:16.340]  всем,
[01:19:16.340 --> 01:19:18.340]  где T пробирает все действительные значения.
[01:19:20.340 --> 01:19:22.340]  Это вот прямая
[01:19:22.340 --> 01:19:24.340]  первая.
[01:19:24.340 --> 01:19:26.340]  А как мне записать теперь вторую прямую?
[01:19:30.340 --> 01:19:32.340]  Ну угадайте.
[01:19:34.340 --> 01:19:36.340]  Сразу скажу так же неправильно.
[01:19:38.340 --> 01:19:40.340]  Да, мы напишем неожиданно по-другому.
[01:19:40.340 --> 01:19:42.340]  Вторая прямая.
[01:19:42.340 --> 01:19:44.340]  Это множество таких точек
[01:19:44.340 --> 01:19:46.340]  P, что
[01:19:46.340 --> 01:19:48.340]  векторное произведение P-A2
[01:19:48.340 --> 01:19:50.340]  на B2-A2
[01:19:50.340 --> 01:19:52.340]  равно 0.
[01:19:58.340 --> 01:20:00.340]  Теперь что нам нужно? Нам нужно
[01:20:00.340 --> 01:20:02.340]  попытаться найти такое T, чтобы
[01:20:02.340 --> 01:20:04.340]  вот эта точка легла на вторую прямую,
[01:20:04.340 --> 01:20:06.340]  правда? Так давайте
[01:20:06.340 --> 01:20:08.340]  подставим.
[01:20:08.340 --> 01:20:10.340]  Что получится?
[01:20:10.340 --> 01:20:12.340]  A1 плюс B1
[01:20:12.340 --> 01:20:14.340]  минус A1
[01:20:14.340 --> 01:20:16.340]  на T-A2
[01:20:16.340 --> 01:20:18.340]  B2-A2
[01:20:18.340 --> 01:20:20.340]  равно 0.
[01:20:20.340 --> 01:20:22.340]  То есть вместо того, чтобы решать систему
[01:20:22.340 --> 01:20:24.340]  уравнений, двух уравнений с двумя
[01:20:24.340 --> 01:20:26.340]  неизвестными, мы решаем одно
[01:20:26.340 --> 01:20:28.340]  линейное уравнение с одним
[01:20:28.340 --> 01:20:30.340]  неизвестным.
[01:20:32.340 --> 01:20:34.340]  Вот.
[01:20:34.340 --> 01:20:36.340]  Так и сказать.
[01:20:38.340 --> 01:20:40.340]  Ну нет, если
[01:20:40.340 --> 01:20:42.340]  как сказать, конечно,
[01:20:42.340 --> 01:20:44.340]  если расписывать там действительно, что
[01:20:44.340 --> 01:20:46.340]  там что-то, то есть понятно, что как бы
[01:20:46.340 --> 01:20:48.340]  это подразумевает, что у нас, нет, ну не совсем
[01:20:48.340 --> 01:20:50.340]  почему, это одно линейное уравнение, в чем проблема.
[01:20:54.340 --> 01:20:56.340]  Хотя, ну вот, но вектор
[01:20:58.340 --> 01:21:00.340]  супер, да, ну просто вектор и произведение
[01:21:00.340 --> 01:21:02.340]  это число.
[01:21:02.340 --> 01:21:04.340]  То есть если я это распишу,
[01:21:04.340 --> 01:21:06.340]  если я честно как бы раскрою значение
[01:21:06.340 --> 01:21:08.340]  вектора произведения и там
[01:21:08.340 --> 01:21:10.340]  сожму все подобное, то у меня получится линейное
[01:21:10.340 --> 01:21:12.340]  уравнение.
[01:21:14.340 --> 01:21:16.340]  Да.
[01:21:16.340 --> 01:21:18.340]  Да это было бы, конечно,
[01:21:18.340 --> 01:21:20.340]  векторное, да.
[01:21:20.340 --> 01:21:22.340]  Потому что в трехмерной геометрии, конечно,
[01:21:22.340 --> 01:21:24.340]  векторное произведение, векторное вектор, это вектор,
[01:21:24.340 --> 01:21:26.340]  это да. Но мы
[01:21:26.340 --> 01:21:28.340]  живем в славном, чарующем,
[01:21:28.340 --> 01:21:30.340]  упалительном двумерном мире, в котором
[01:21:30.340 --> 01:21:32.340]  векторе произведения это число.
[01:21:32.340 --> 01:21:34.340]  Вот. Более того, линейность этого
[01:21:34.340 --> 01:21:36.340]  уравнения выводится из
[01:21:36.340 --> 01:21:38.340]  линейности самого векторного произведения.
[01:21:38.340 --> 01:21:40.340]  Ну я просто сразу могу написать, что
[01:21:40.340 --> 01:21:42.340]  t на там
[01:21:42.340 --> 01:21:44.340]  b1-a1
[01:21:44.340 --> 01:21:46.340]  b2-a2
[01:21:46.340 --> 01:21:48.340]  плюс
[01:21:48.340 --> 01:21:50.340]  a1-a2
[01:21:50.340 --> 01:21:52.340]  b2-a2
[01:21:52.340 --> 01:21:54.340]  равно нулю.
[01:21:58.340 --> 01:22:00.340]  Вот. И смотрите, какая магия.
[01:22:00.340 --> 01:22:02.340]  В чем все еще сразу укладывается.
[01:22:02.340 --> 01:22:04.340]  Вот это векторное произведение
[01:22:04.340 --> 01:22:06.340]  заведомо не равно нулю. Почему?
[01:22:06.340 --> 01:22:08.340]  Потому что оно равно нулю тогда
[01:22:08.340 --> 01:22:10.340]  и только тогда, когда эти прямые как раз параллельные
[01:22:10.340 --> 01:22:12.340]  совпадают. Удобно, да?
[01:22:12.340 --> 01:22:14.340]  То есть даже наоборот,
[01:22:14.340 --> 01:22:16.340]  если они не параллельные,
[01:22:16.340 --> 01:22:18.340]  то не параллельные
[01:22:18.340 --> 01:22:20.340]  не совпадают, то оказывается, что
[01:22:20.340 --> 01:22:22.340]  решение этого уравнения существует
[01:22:22.340 --> 01:22:24.340]  единственно. Понятно, да?
[01:22:26.340 --> 01:22:28.340]  И мы автоматически пишем, что t
[01:22:28.340 --> 01:22:30.340]  равно минус
[01:22:30.340 --> 01:22:32.340]  a1-a2
[01:22:32.340 --> 01:22:34.340]  минус a2.
[01:22:34.340 --> 01:22:36.340]  Ну, да, я могу посвапать, но я
[01:22:36.340 --> 01:22:38.340]  не люблю этого делать просто.
[01:22:38.340 --> 01:22:40.340]  Ну, на самом деле так.
[01:22:40.340 --> 01:22:42.340]  Если вы распишете это
[01:22:42.340 --> 01:22:44.340]  через x и через y, то на самом
[01:22:44.340 --> 01:22:46.340]  деле скорее всего получится буквально то же самое.
[01:22:46.340 --> 01:22:48.340]  Ну, почти.
[01:22:48.340 --> 01:22:50.340]  t равно вот это, да, и ответ
[01:22:50.340 --> 01:22:52.340]  на задачу это на самом деле
[01:22:52.340 --> 01:22:54.340]  ответ на задачу это конечно не t,
[01:22:54.340 --> 01:22:56.340]  ответ на задачу это a1 плюс
[01:22:56.340 --> 01:22:58.340]  b1-a1 умножить
[01:22:58.340 --> 01:23:00.340]  на t.
[01:23:00.340 --> 01:23:02.340]  Ну, по факту, да.
[01:23:02.340 --> 01:23:04.340]  Ну, по факту,
[01:23:04.340 --> 01:23:06.340]  надо признать, что это действительно
[01:23:06.340 --> 01:23:08.340]  очень похоже на
[01:23:08.340 --> 01:23:10.340]  правила Крамера. Это да.
[01:23:10.340 --> 01:23:12.340]  Особенно, если вы распишете
[01:23:12.340 --> 01:23:14.340]  как вы из этих a1 и b1
[01:23:14.340 --> 01:23:16.340]  из точек реально сделаете уравнение
[01:23:16.340 --> 01:23:18.340]  прямой.
[01:23:18.340 --> 01:23:20.340]  Ну, потому что как делается обычно уравнение прямой?
[01:23:20.340 --> 01:23:22.340]  Разность игроков минус разность
[01:23:22.340 --> 01:23:24.340]  иксов. Можно через
[01:23:24.340 --> 01:23:26.340]  искалярного произведения это еще и вывести.
[01:23:26.340 --> 01:23:28.340]  Но не будем сейчас этого делать.
[01:23:28.340 --> 01:23:30.340]  Вот. То есть можно так.
[01:23:30.340 --> 01:23:32.340]  То есть формулы-то в общем-то
[01:23:32.340 --> 01:23:34.340]  просто по-разному записаны и там
[01:23:34.340 --> 01:23:36.340]  примерно одни и те же, но просто можно
[01:23:36.340 --> 01:23:38.340]  с сильно разных точек зрения это сделать.
[01:23:38.340 --> 01:23:40.340]  Я вот люблю такую точку зрения.
[01:23:40.340 --> 01:23:42.340]  Чтоб там никаких систем уравнений не вводить.
[01:23:44.340 --> 01:23:46.340]  В результате это нас приводит
[01:23:46.340 --> 01:23:48.340]  к тому, что...
[01:23:48.340 --> 01:23:50.340]  Так, ну я забыл, что надо
[01:23:50.340 --> 01:23:52.340]  точки умножать уметь.
[01:23:52.340 --> 01:23:54.340]  Я вот сделаю это вот как.
[01:23:58.340 --> 01:24:00.340]  Вот.
[01:24:00.340 --> 01:24:02.340]  И еще я, конечно, сразу люблю тут
[01:24:02.340 --> 01:24:04.340]  сделать небольшую копипасту.
[01:24:14.340 --> 01:24:16.340]  А тут занятия будут?
[01:24:16.340 --> 01:24:18.340]  Нет, просто я так поняла, что надо
[01:24:18.340 --> 01:24:20.340]  это все закрыть.
[01:24:20.340 --> 01:24:22.340]  Ну, я не знаю.
[01:24:22.340 --> 01:24:24.340]  Я не знаю.
[01:24:24.340 --> 01:24:26.340]  Я не знаю.
[01:24:26.340 --> 01:24:28.340]  Я поняла, что надо это все закрыть.
[01:24:28.340 --> 01:24:30.340]  А у вас до скальки вообще будет?
[01:24:30.340 --> 01:24:32.340]  Ну, вообще до...
[01:24:32.340 --> 01:24:34.340]  Да.
[01:24:34.340 --> 01:24:36.340]  Я так понимаю, что Алексей надо будет уходить.
[01:24:36.340 --> 01:24:38.340]  У них как это?
[01:24:38.340 --> 01:24:40.340]  Хранилище данных.
[01:24:40.340 --> 01:24:42.340]  Нет, ну скажи так.
[01:24:42.340 --> 01:24:44.340]  Если там будет работать, то как бы...
[01:24:44.340 --> 01:24:46.340]  Нет, в смысле, если там вот мой ноут
[01:24:46.340 --> 01:24:48.340]  подключится, то как бы без проблем.
[01:24:48.340 --> 01:24:50.340]  Ну это не программа.
[01:24:50.340 --> 01:24:52.340]  Тут мы по кабелю сидим.
[01:24:52.340 --> 01:24:54.340]  Вот по ВГАшечке.
[01:24:54.340 --> 01:24:56.340]  Вот, да.
[01:24:56.340 --> 01:24:58.340]  Нет, а там с программой не получилось в итоге.
[01:24:58.340 --> 01:25:00.340]  Ну, собственно, ровно поэтому и пересели вообще.
[01:25:00.340 --> 01:25:02.340]  Ага.
[01:25:02.340 --> 01:25:04.340]  Да.
[01:25:04.340 --> 01:25:06.340]  Так вот.
[01:25:06.340 --> 01:25:08.340]  Да, но здесь просто я люблю такую копипасту,
[01:25:08.340 --> 01:25:10.340]  потому что иногда бывает удобно умножать
[01:25:10.340 --> 01:25:12.340]  не вектор на число, а число на вектор.
[01:25:12.340 --> 01:25:14.340]  То есть я вот
[01:25:14.340 --> 01:25:16.340]  чистого для этого делаю.
[01:25:16.340 --> 01:25:18.340]  Можно совсем избавиться от копипасты
[01:25:18.340 --> 01:25:20.340]  и написать тут прям.
[01:25:20.340 --> 01:25:22.340]  То есть вместо вот этого вот так честно
[01:25:22.340 --> 01:25:24.340]  все.
[01:25:24.340 --> 01:25:26.340]  Все.
[01:25:26.340 --> 01:25:28.340]  Но это уже
[01:25:28.340 --> 01:25:30.340]  не принципиально.
[01:25:30.340 --> 01:25:32.340]  Вот, так вот.
[01:25:32.340 --> 01:25:34.340]  Значит, научились умножать.
[01:25:34.340 --> 01:25:36.340]  Ну и так и пишем.
[01:25:36.340 --> 01:25:38.340]  Теперь Т-корд.
[01:25:38.340 --> 01:25:40.340]  Или там может быть лонг дабл, я не знаю там
[01:25:40.340 --> 01:25:42.340]  по-разному. Т равно.
[01:25:42.340 --> 01:25:44.340]  Так, что у нас там по формуле получилось?
[01:25:44.340 --> 01:25:46.340]  Так, минус
[01:25:48.340 --> 01:25:50.340]  А1 минус
[01:25:50.340 --> 01:25:52.340]  А2.
[01:25:52.340 --> 01:25:54.340]  Значит умножить на
[01:25:54.340 --> 01:25:56.340]  B. Что там было?
[01:25:56.340 --> 01:25:58.340]  B2 минус
[01:25:58.340 --> 01:26:00.340]  A2.
[01:26:02.340 --> 01:26:04.340]  Делить на
[01:26:06.340 --> 01:26:08.340]  там что-то умножить на что-то.
[01:26:08.340 --> 01:26:10.340]  В роли
[01:26:10.340 --> 01:26:12.340]  что-то. Так, B2 минус
[01:26:12.340 --> 01:26:14.340]  A2.
[01:26:14.340 --> 01:26:16.340]  И что-то еще.
[01:26:20.340 --> 01:26:22.340]  Вот.
[01:26:22.340 --> 01:26:24.340]  Красота.
[01:26:24.340 --> 01:26:26.340]  Так, что
[01:26:26.340 --> 01:26:28.340]  при все имеющиеся
[01:26:28.340 --> 01:26:30.340]  структуры, которые вы скорее всего реализуете.
[01:26:32.340 --> 01:26:34.340]  Ну скажи так. Идея
[01:26:34.340 --> 01:26:36.340]  то же самое. Но есть
[01:26:36.340 --> 01:26:38.340]  как бы не знаю.
[01:26:38.340 --> 01:26:40.340]  Да?
[01:26:40.340 --> 01:26:42.340]  Ну окей.
[01:26:42.340 --> 01:26:44.340]  Ну тогда это сдавай.
[01:26:46.340 --> 01:26:48.340]  Ну супер.
[01:26:48.340 --> 01:26:50.340]  Ну супер.
[01:26:50.340 --> 01:26:52.340]  Ну ты прямо и дерево написал,
[01:26:52.340 --> 01:26:54.340]  две задачи я писал.
[01:26:54.340 --> 01:26:56.340]  Дерево написал?
[01:26:56.340 --> 01:26:58.340]  Дерево написано.
[01:26:58.340 --> 01:27:00.340]  Дерево написано.
[01:27:00.340 --> 01:27:02.340]  Окей. Отлично.
[01:27:02.340 --> 01:27:04.340]  Ну тогда все.
[01:27:04.340 --> 01:27:06.340]  Что?
[01:27:06.340 --> 01:27:08.340]  Ну сейчас
[01:27:08.340 --> 01:27:10.340]  если я отвечу на карту.
[01:27:10.340 --> 01:27:12.340]  Так что пока
[01:27:12.340 --> 01:27:14.340]  спокойно.
[01:27:14.340 --> 01:27:16.340]  Ну да.
[01:27:16.340 --> 01:27:18.340]  Осталось только придумать
[01:27:18.340 --> 01:27:20.340]  адекватную альтернативу.
[01:27:22.340 --> 01:27:24.340]  Знаешь, это типичная ситуация.
[01:27:24.340 --> 01:27:26.340]  Лучше не придумал.
[01:27:26.340 --> 01:27:28.340]  Так.
[01:27:28.340 --> 01:27:30.340]  Вот. Ладно.
[01:27:30.340 --> 01:27:32.340]  И так. Значит это вот так.
[01:27:32.340 --> 01:27:34.340]  До свидания. Давай удачи.
[01:27:34.340 --> 01:27:36.340]  Да.
[01:27:36.340 --> 01:27:38.340]  Да.
[01:27:38.340 --> 01:27:40.340]  Вот так вот, да.
[01:27:40.340 --> 01:27:42.340]  Как говорится, то ли засветился на камеру.
[01:27:42.340 --> 01:27:44.340]  Да.
[01:27:44.340 --> 01:27:46.340]  Вот.
[01:27:46.340 --> 01:27:48.340]  И так.
[01:27:48.340 --> 01:27:50.340]  Так. Что нам еще надо?
[01:27:50.340 --> 01:27:52.340]  Так. Ну ладно. Тут как-то так.
[01:27:52.340 --> 01:27:54.340]  Ну соответственно.
[01:27:54.340 --> 01:27:56.340]  Тут какие-нибудь вопросы еще есть?
[01:27:56.340 --> 01:27:58.340]  Знаете что, можно будет сесть
[01:27:58.340 --> 01:28:00.340]  в 43-43-43 там.
[01:28:00.340 --> 01:28:02.340]  Там все свободно.
[01:28:02.340 --> 01:28:04.340]  Там подключается.
[01:28:04.340 --> 01:28:06.340]  Да. Классно.
[01:28:06.340 --> 01:28:08.340]  Ой.
[01:28:08.340 --> 01:28:10.340]  Ну хорошо. Опять будем камеру перетаскивать.
[01:28:10.340 --> 01:28:12.340]  Да.
[01:28:12.340 --> 01:28:14.340]  Да. Не. Ну ладно. Камеру перетаскиваем.
[01:28:14.340 --> 01:28:16.340]  Хорошо.
[01:28:16.340 --> 01:28:18.340]  Камеру перетасчиваем.
[01:28:18.340 --> 01:28:20.340]  Это мы сделаем.
[01:28:20.340 --> 01:28:22.340]  Так. Ну что?
[01:28:22.340 --> 01:28:24.340]  Так. Кстати, господа.
[01:28:24.340 --> 01:28:26.340]  Это оригинально звучит вопрос.
[01:28:26.340 --> 01:28:28.340]  Не пришло ли в Риме сделать перерыв?
[01:28:28.340 --> 01:28:30.340]  Или сегодня уже нет смысла?
[01:28:30.340 --> 01:28:32.340]  Сегодня?
[01:28:32.340 --> 01:28:34.340]  Вообще по плану у нас два перерыва за пару.
[01:28:34.340 --> 01:28:36.340]  Ну это да.
[01:28:36.340 --> 01:28:38.340]  С другой стороны, учитывая, что у нас там в первой паре
[01:28:38.340 --> 01:28:40.340]  начали на час позже.
[01:28:40.340 --> 01:28:42.340]  Так, и перерыв делается не для того, чтобы
[01:28:42.340 --> 01:28:44.340]  меньше пройти,
[01:28:44.340 --> 01:28:46.340]  а для того, чтобы отдохнуть после непрерывного.
[01:28:46.340 --> 01:28:48.340]  Ну это да.
[01:28:48.340 --> 01:28:50.340]  Ну можете сказать, что у нас тут сейчас было
[01:28:50.340 --> 01:28:52.340]  неприятно. Ну ладно. Нет. Ну как хотите.
[01:28:52.340 --> 01:28:54.340]  Давайте можем. Да, можем.
[01:28:54.340 --> 01:28:56.340]  Например, через действительный перерыв.
[01:28:56.340 --> 01:28:58.340]  И тогда у нас есть один перерыв.
[01:28:58.340 --> 01:29:00.340]  Но в целом как раз.
[01:29:00.340 --> 01:29:02.340]  Нет. Ну в принципе, если считать,
[01:29:02.340 --> 01:29:04.340]  что мы начали в три, то прошло час сорок.
[01:29:04.340 --> 01:29:06.340]  На самом деле.
[01:29:06.340 --> 01:29:08.340]  А когда дальше какая-то глобальная новая тема идет?
[01:29:08.340 --> 01:29:10.340]  Да не то чтобы.
[01:29:10.340 --> 01:29:12.340]  Нет, ну несколько функций мы еще напишем.
[01:29:12.340 --> 01:29:14.340]  Ну давай так. Сейчас надо написать
[01:29:14.340 --> 01:29:16.340]  еще две функции, связанные с всякими
[01:29:16.340 --> 01:29:18.340]  пересечениями.
[01:29:18.340 --> 01:29:20.340]  То есть следующая функция, которую я хочу написать,
[01:29:20.340 --> 01:29:22.340]  это дан отрезок,
[01:29:22.340 --> 01:29:24.340]  дана прямая. Пересекает ли отрезок прямую,
[01:29:24.340 --> 01:29:26.340]  да или нет.
[01:29:26.340 --> 01:29:28.340]  И будет, конечно, еще
[01:29:28.340 --> 01:29:30.340]  пересечения. Пересекаются ли
[01:29:30.340 --> 01:29:32.340]  два отрезка, да или нет.
[01:29:32.340 --> 01:29:34.340]  Ну то самое в целых числах, естественно.
[01:29:34.340 --> 01:29:36.340]  Да, ну в принципе логично, потому что после этого
[01:29:36.340 --> 01:29:38.340]  у меня начнутся там работы, там всякие работы
[01:29:38.340 --> 01:29:40.340]  с углами, поэтому да.
[01:29:40.340 --> 01:29:42.340]  Это будет логично. Хорошо. Итак, задача.
[01:29:44.340 --> 01:29:46.340]  То есть тут, это вот такая классика.
[01:29:46.340 --> 01:29:48.340]  Das Segment
[01:29:48.340 --> 01:29:50.340]  Intersects
[01:29:50.340 --> 01:29:52.340]  Line
[01:29:52.340 --> 01:29:54.340]  Итак, дан отрезок,
[01:29:56.340 --> 01:29:58.340]  я его буду называть
[01:30:00.340 --> 01:30:02.340]  там S1,
[01:30:02.340 --> 01:30:04.340]  L2 у него точки будут, да.
[01:30:04.340 --> 01:30:06.340]  А на прямой точки
[01:30:06.340 --> 01:30:08.340]  будут, допустим,
[01:30:08.340 --> 01:30:10.340]  L1, L2.
[01:30:14.340 --> 01:30:16.340]  Вот как мне узнать,
[01:30:16.340 --> 01:30:18.340]  пересекает ли отрезок прямую,
[01:30:18.340 --> 01:30:20.340]  да или нет.
[01:30:20.340 --> 01:30:22.340]  Ну там все в целых числах, да.
[01:30:26.340 --> 01:30:28.340]  Ну глупый вариант
[01:30:28.340 --> 01:30:30.340]  донатить пересечения, проверить отрезок прямой.
[01:30:30.340 --> 01:30:32.340]  Ну в том-то, но тут даже в школе
[01:30:32.340 --> 01:30:34.340]  уже обычно приплакают, что хочется это сделать
[01:30:34.340 --> 01:30:36.340]  в целых числах, без всяких там этих даблов каких-то
[01:30:36.340 --> 01:30:38.340]  лишних.
[01:30:38.340 --> 01:30:40.340]  Не говоря уже о другой подляночке.
[01:30:42.340 --> 01:30:44.340]  Есть еще маленькая подляночка, на самом деле
[01:30:44.340 --> 01:30:46.340]  заключается в том, что отрезок может быть
[01:30:46.340 --> 01:30:48.340]  и параллелен прямой.
[01:30:48.340 --> 01:30:50.340]  Или лежать на ней.
[01:30:50.340 --> 01:30:52.340]  И тогда понятие точки
[01:30:52.340 --> 01:30:54.340]  пересечения не получится.
[01:30:54.340 --> 01:30:56.340]  Ну можно заевать, что они параллельны?
[01:30:56.340 --> 01:30:58.340]  Ну понятно.
[01:30:58.340 --> 01:31:00.340]  Ну можно. Нет, можно заевать.
[01:31:00.340 --> 01:31:02.340]  Но давайте тогда подумаем вот о чем.
[01:31:02.340 --> 01:31:04.340]  А как хорошо, предположим, что мы знаем,
[01:31:04.340 --> 01:31:06.340]  что отрезок не параллелен прямой.
[01:31:06.340 --> 01:31:08.340]  Как нам тогда
[01:31:08.340 --> 01:31:10.340]  выяснить,
[01:31:10.340 --> 01:31:12.340]  пересекает ли
[01:31:12.340 --> 01:31:14.340]  отрезок прямую?
[01:31:20.340 --> 01:31:22.340]  Можно взять бесконечно удаленная точка справа
[01:31:22.340 --> 01:31:24.340]  на прямой, бесконечно удаленная точка слева
[01:31:24.340 --> 01:31:26.340]  на прямой, пересекаются ли
[01:31:26.340 --> 01:31:28.340]  отрезки? Нет, проверить, что
[01:31:28.340 --> 01:31:30.340]  кросс имеет разный знак.
[01:31:32.340 --> 01:31:34.340]  А бесконечно удаленную точку прям
[01:31:34.340 --> 01:31:36.340]  надо?
[01:31:36.340 --> 01:31:38.340]  Да, потому что у нас может быть
[01:31:38.340 --> 01:31:40.340]  две точки, которые раздаются прямая, могут лежать
[01:31:40.340 --> 01:31:42.340]  с одной стороны отрезка.
[01:31:42.340 --> 01:31:44.340]  Так, так, так, так.
[01:31:44.340 --> 01:31:46.340]  Слушай, как интересно.
[01:31:46.340 --> 01:31:48.340]  Дай-ка мы это даже нарисуем.
[01:31:48.340 --> 01:31:50.340]  Также лабала прямая.
[01:31:50.340 --> 01:31:52.340]  Вот прямая.
[01:31:52.340 --> 01:31:54.340]  L1, L2.
[01:31:54.340 --> 01:31:56.340]  Так.
[01:31:56.340 --> 01:31:58.340]  И вот нарисуйте отрезок
[01:31:58.340 --> 01:32:00.340]  снизу от нее.
[01:32:00.340 --> 01:32:02.340]  Допустим, давай.
[01:32:02.340 --> 01:32:04.340]  Там какой-нибудь
[01:32:04.340 --> 01:32:06.340]  S1, S2 и
[01:32:06.340 --> 01:32:08.340]  Теперь если мы L1 угоним далеко влево,
[01:32:08.340 --> 01:32:10.340]  а L2 далеко вправо,
[01:32:10.340 --> 01:32:12.340]  и что поменяется?
[01:32:12.340 --> 01:32:14.340]  Тогда они будут по разные стороны
[01:32:14.340 --> 01:32:16.340]  от S2-S1.
[01:32:16.340 --> 01:32:18.340]  А прям надо, чтобы они были
[01:32:18.340 --> 01:32:20.340]  Векторное произведение S2 и
[01:32:20.340 --> 01:32:22.340]  Нет, а зачем нам нужно, чтобы L1, L2
[01:32:22.340 --> 01:32:24.340]  были с одной стороны относительно
[01:32:24.340 --> 01:32:26.340]  S1, S2?
[01:32:26.340 --> 01:32:28.340]  Сейчас, что я вообще говорю?
[01:32:28.340 --> 01:32:30.340]  Нет, ну
[01:32:30.340 --> 01:32:32.340]  ты хочешь поречь, чтобы L1, L2 были по
[01:32:32.340 --> 01:32:34.340]  разные стороны от S1, S2?
[01:32:34.340 --> 01:32:36.340]  Ладно, я че сказал?
[01:32:36.340 --> 01:32:38.340]  Но я бы сказал наоборот. Нас интересует
[01:32:38.340 --> 01:32:40.340]  верно ли, что S1, S2 находятся по
[01:32:40.340 --> 01:32:42.340]  разные стороны относительно L1, L2?
[01:32:42.340 --> 01:32:44.340]  Логично.
[01:32:44.340 --> 01:32:46.340]  А как выяснить сторону?
[01:32:46.340 --> 01:32:48.340]  Ну, на самом деле, я заметил, что в некотором смысле
[01:32:48.340 --> 01:32:50.340]  сторона, на которой находится точка относительно прямой
[01:32:50.340 --> 01:32:52.340]  ориентированной прямой, допустим,
[01:32:52.340 --> 01:32:54.340]  в эту сторону, это, как вы уже
[01:32:54.340 --> 01:32:56.340]  выяснили, знак Векторного
[01:32:56.340 --> 01:32:58.340]  произведения L1, L2 на L1, S1,
[01:32:58.340 --> 01:33:00.340]  правда? Понимаете, да?
[01:33:00.340 --> 01:33:02.340]  Вот в данном случае
[01:33:02.340 --> 01:33:04.340]  это Векторное, это на это будет меньше 0,
[01:33:04.340 --> 01:33:06.340]  это на это тоже меньше 0, поэтому мы точно
[01:33:06.340 --> 01:33:08.340]  знаем, что отрезок целиком лежит в правой
[01:33:08.340 --> 01:33:10.340]  полуплоскости.
[01:33:10.340 --> 01:33:12.340]  Если бы он был больше 0, то они бы
[01:33:12.340 --> 01:33:14.340]  тоже тут лежали. Понятно, да? То есть, по сути, нас
[01:33:14.340 --> 01:33:16.340]  интересует, чтобы сигнумы были
[01:33:16.340 --> 01:33:18.340]  какие?
[01:33:18.340 --> 01:33:20.340]  Ну, хочется сказать, что различные.
[01:33:20.340 --> 01:33:22.340]  С точностью до нуля.
[01:33:22.340 --> 01:33:24.340]  Да, но с точностью до нуля. То есть, если они оба
[01:33:24.340 --> 01:33:26.340]  не нули, то эти точки не лежат напрямой,
[01:33:26.340 --> 01:33:28.340]  то нас, то по идее, надо просто
[01:33:28.340 --> 01:33:30.340]  сказать, чтобы они были.
[01:33:30.340 --> 01:33:32.340]  Но здесь, да. Но, на самом деле,
[01:33:32.340 --> 01:33:34.340]  заметил, что есть еще вот такие случаи.
[01:33:34.340 --> 01:33:36.340]  То есть, в такой случае, тогда
[01:33:36.340 --> 01:33:38.340]  один 0, а другой положительный нас устраивает.
[01:33:38.340 --> 01:33:40.340]  Или один 0, другой отрицательный нас тоже
[01:33:40.340 --> 01:33:42.340]  устраивает. А если оба нуля, то
[01:33:42.340 --> 01:33:44.340]  нас это тоже устраивает.
[01:33:44.340 --> 01:33:46.340]  Поэтому смотрите тут.
[01:33:46.340 --> 01:33:48.340]  Поэтому, на самом деле, если очень аккуратно писать,
[01:33:48.340 --> 01:33:50.340]  то получается очень красивый вариант.
[01:33:54.340 --> 01:33:56.340]  То есть, можно писать
[01:33:56.340 --> 01:33:58.340]  сигнум от
[01:33:58.340 --> 01:34:00.340]  л2 минус
[01:34:00.340 --> 01:34:02.340]  l1 умножить на
[01:34:02.340 --> 01:34:04.340]  s1 минус
[01:34:04.340 --> 01:34:06.340]  l1
[01:34:06.340 --> 01:34:08.340]  умножить на сигнум
[01:34:08.340 --> 01:34:10.340]  умножить на
[01:34:10.340 --> 01:34:12.340]  то же самое
[01:34:14.340 --> 01:34:16.340]  l2 минус l1
[01:34:16.340 --> 01:34:18.340]  и s2 минус l1.
[01:34:18.340 --> 01:34:20.340]  Так вот, произведение
[01:34:20.340 --> 01:34:22.340]  двух сигнумов должно быть меньше,
[01:34:22.340 --> 01:34:24.340]  чем 0. Почему я пишу именно сигнум?
[01:34:24.340 --> 01:34:26.340]  Это вот тот опасность.
[01:34:26.340 --> 01:34:28.340]  Потому что, смотрите, потому что дело в том,
[01:34:28.340 --> 01:34:30.340]  что есть у вас вектора, допустим,
[01:34:30.340 --> 01:34:32.340]  то есть, все координаты до какого-то,
[01:34:32.340 --> 01:34:34.340]  то есть, ну, они обычно не происходят какого-то числа
[01:34:34.340 --> 01:34:36.340]  c.
[01:34:36.340 --> 01:34:38.340]  Тогда векторное произведение, ну, проговорим давайте все-таки,
[01:34:38.340 --> 01:34:40.340]  тогда векторное произведение, модуль его может быть
[01:34:40.340 --> 01:34:42.340]  что-то типа 2c квадрат, правда?
[01:34:42.340 --> 01:34:44.340]  Ну, если вы 2c квадрат
[01:34:44.340 --> 01:34:46.340]  переносите
[01:34:46.340 --> 01:34:48.340]  другое, получите 4c4.
[01:34:48.340 --> 01:34:50.340]  То есть, если там c хотя бы миллион,
[01:34:50.340 --> 01:34:52.340]  то вы уже ожребли
[01:34:52.340 --> 01:34:54.340]  переполнение типа.
[01:34:54.340 --> 01:34:56.340]  Поэтому надо с этим быть очень
[01:34:56.340 --> 01:34:58.340]  аккуратным.
[01:34:58.340 --> 01:35:00.340]  Вот, кстати, нет, на эту тему, кстати, еще тут надо быть
[01:35:00.340 --> 01:35:02.340]  аккуратным, потому что мы тут на разборе
[01:35:02.340 --> 01:35:04.340]  одного этапа кубка МФ3
[01:35:04.340 --> 01:35:06.340]  недавно нагрелись.
[01:35:06.340 --> 01:35:08.340]  Тут возникает вопрос.
[01:35:08.340 --> 01:35:10.340]  Тут возникает вопрос.
[01:35:10.340 --> 01:35:12.340]  То есть, если у нас, допустим, точки целые,
[01:35:12.340 --> 01:35:14.340]  возникает вопрос,
[01:35:14.340 --> 01:35:16.340]  насколько
[01:35:16.340 --> 01:35:18.340]  то есть там,
[01:35:18.340 --> 01:35:20.340]  возникает вопрос, насколько далеко
[01:35:20.340 --> 01:35:22.340]  от двух этих отрезков может находиться
[01:35:22.340 --> 01:35:24.340]  точка пересечения?
[01:35:24.340 --> 01:35:26.340]  Вот, допустим, все
[01:35:26.340 --> 01:35:28.340]  координаты в 1b1, a2b2 не
[01:35:28.340 --> 01:35:30.340]  происходят с.
[01:35:30.340 --> 01:35:32.340]  Какой порядок тогда может быть у
[01:35:32.340 --> 01:35:34.340]  ноты?
[01:35:34.340 --> 01:35:36.340]  Или у точки пересечения?
[01:35:36.340 --> 01:35:38.340]  Нет.
[01:35:38.340 --> 01:35:40.340]  А, ну, квадрат.
[01:35:40.340 --> 01:35:42.340]  Вот, у меня тоже была такая абсолютно
[01:35:42.340 --> 01:35:44.340]  психологическая уверенность, но нет.
[01:35:44.340 --> 01:35:46.340]  Вот у t-шки, вот по этой формуле,
[01:35:46.340 --> 01:35:48.340]  действительно квадрат, это правда.
[01:35:48.340 --> 01:35:50.340]  Заметим, да,
[01:35:50.340 --> 01:35:52.340]  что тут.
[01:35:52.340 --> 01:35:54.340]  Знаменатели у нас целые,
[01:35:54.340 --> 01:35:56.340]  поэтому получается тут квадрат.
[01:35:56.340 --> 01:35:58.340]  Но когда мы вот это вычисляем, получается куб.
[01:36:00.340 --> 01:36:02.340]  Поэтому, в принципе,
[01:36:02.340 --> 01:36:04.340]  точка может уйти куда-нибудь на куб,
[01:36:04.340 --> 01:36:06.340]  и это нам было принципиально.
[01:36:06.340 --> 01:36:08.340]  Нет, стоп, сейчас.
[01:36:12.340 --> 01:36:14.340]  Кажется...
[01:36:16.340 --> 01:36:18.340]  Кажется, не должно.
[01:36:18.340 --> 01:36:20.340]  Ну, вопрос самый хороший случай.
[01:36:20.340 --> 01:36:22.340]  Если у нас есть pounding box
[01:36:22.340 --> 01:36:24.340]  размера c,
[01:36:24.340 --> 01:36:26.340]  мы взяли почти параллельно верхнюю основанию,
[01:36:26.340 --> 01:36:28.340]  чуть-чуть ниже, и почти
[01:36:28.340 --> 01:36:30.340]  параллельно верхнюю, нижнюю основанию,
[01:36:30.340 --> 01:36:32.340]  чуть-чуть выше.
[01:36:32.340 --> 01:36:34.340]  И?
[01:36:34.340 --> 01:36:36.340]  Тогда у нас, если точки целые,
[01:36:36.340 --> 01:36:38.340]  если точки целые, тогда мы
[01:36:38.340 --> 01:36:40.340]  за 20 шагов
[01:36:40.340 --> 01:36:42.340]  вычитаем хотя бы один.
[01:36:42.340 --> 01:36:44.340]  А пертикальный размер тоже
[01:36:44.340 --> 01:36:46.340]  c.
[01:36:52.340 --> 01:36:54.340]  Ну, я не верю, что это оптимальный случай.
[01:36:56.340 --> 01:36:58.340]  Потому что, может быть, можно подобрать два
[01:36:58.340 --> 01:37:00.340]  определенных вектора в других направлениях,
[01:37:00.340 --> 01:37:02.340]  которые, как бы, за, допустим,
[01:37:02.340 --> 01:37:04.340]  c по x будут передвигаться не на 1,
[01:37:04.340 --> 01:37:06.340]  а на что-то еще.
[01:37:06.340 --> 01:37:08.340]  Потому что никто же не сказал, что там
[01:37:08.340 --> 01:37:10.340]  эти вектора обязаны за c передвигаться именно на целую часть.
[01:37:10.340 --> 01:37:12.340]  То есть, может, они
[01:37:12.340 --> 01:37:14.340]  передвигаются на не целые части, причем там
[01:37:14.340 --> 01:37:16.340]  как-то отличающиеся от нуля,
[01:37:16.340 --> 01:37:18.340]  но на очень мало.
[01:37:18.340 --> 01:37:20.340]  Они, в принципе, по-видимому, они могут
[01:37:20.340 --> 01:37:22.340]  отличаться там на как раз ту самую 1 миллионную.
[01:37:24.340 --> 01:37:26.340]  Я говорю про то, что теоретически, конечно, следует,
[01:37:26.340 --> 01:37:28.340]  но если у нас bx1-a1
[01:37:28.340 --> 01:37:30.340]  большое,
[01:37:30.340 --> 01:37:32.340]  то мы и делим нам многое.
[01:37:32.340 --> 01:37:34.340]  Но с другой стороны, смотри, с точки модулей,
[01:37:34.340 --> 01:37:36.340]  ну, там, по идее, модули на косинусов,
[01:37:36.340 --> 01:37:38.340]  у нас единственное, что здесь происходит, это вот
[01:37:38.340 --> 01:37:40.340]  модуль b1-a1 сокращается с вот этим
[01:37:40.340 --> 01:37:42.340]  модулем, да?
[01:37:42.340 --> 01:37:44.340]  И так, и сокращается еще что по величине?
[01:37:44.340 --> 01:37:46.340]  Там, с одной стороны, вот этот модуль с вот этим
[01:37:46.340 --> 01:37:48.340]  модулем. Что у нас остается?
[01:37:48.340 --> 01:37:50.340]  a1-a2 и 2-синуса.
[01:37:50.340 --> 01:37:52.340]  Но как там относятся друг к другу эти 2-синуса?
[01:37:52.340 --> 01:37:54.340]  Хрен его знает.
[01:37:54.340 --> 01:37:56.340]  Ну вот, короче,
[01:37:56.340 --> 01:37:58.340]  кажется, что вот мы получили оценку
[01:37:58.340 --> 01:38:00.340]  на куб, но кажется, что она может быть сильно
[01:38:00.340 --> 01:38:02.340]  избыточная, в плане
[01:38:08.340 --> 01:38:10.340]  То есть хочется все равно доказывать, что квадрат,
[01:38:10.340 --> 01:38:12.340]  но либо привести пример каких-то конкретных факторов,
[01:38:12.340 --> 01:38:14.340]  которые, естественно, мало отличаются.
[01:38:18.340 --> 01:38:20.340]  Ну да. Ну правда, самый простой
[01:38:20.340 --> 01:38:22.340]  пример, который можно привести, да.
[01:38:22.340 --> 01:38:24.340]  Самый простой, это который у меня,
[01:38:24.340 --> 01:38:26.340]  но он на квадрат. И не очень понятно,
[01:38:26.340 --> 01:38:28.340]  как его улучшать.
[01:38:28.340 --> 01:38:30.340]  Может быть можно, но как?
[01:38:36.340 --> 01:38:38.340]  Ну вот. Ну не, ну самый-то
[01:38:46.340 --> 01:38:48.340]  Не, ну самый тупой вариант, это взять,
[01:38:48.340 --> 01:38:50.340]  допустим, сет, там, сколько у вас там
[01:38:50.340 --> 01:38:52.340]  получается цепки четвертых векторов,
[01:38:52.340 --> 01:38:54.340]  отсортировать их и попытаться смотреть на два
[01:38:54.340 --> 01:38:56.340]  соседних.
[01:38:56.340 --> 01:38:58.340]  И откладывать их от каких-то
[01:38:58.340 --> 01:39:00.340]  точек, там, удаленных
[01:39:00.340 --> 01:39:02.340]  друг от друга под подальше.
[01:39:04.340 --> 01:39:06.340]  Ну да, ну не совсем перебрать, а
[01:39:06.340 --> 01:39:08.340]  перебрать, отсортировать, чтобы брать
[01:39:08.340 --> 01:39:10.340]  вектора максимально сонаправленные друг с другом.
[01:39:12.340 --> 01:39:14.340]  Может быть.
[01:39:20.340 --> 01:39:22.340]  Ага, если вообще
[01:39:22.340 --> 01:39:24.340]  математическое ожидание можно было это
[01:39:24.340 --> 01:39:26.340]  умножать и делить.
[01:39:28.340 --> 01:39:30.340]  Была бы красота.
[01:39:30.340 --> 01:39:32.340]  Ну вот.
[01:39:32.340 --> 01:39:34.340]  Да, тем не менее. То есть гарантия у нас нет.
[01:39:34.340 --> 01:39:36.340]  Ну да, просто гарантия только. Ну просто,
[01:39:36.340 --> 01:39:38.340]  по-моему, мы нагревали, чтобы кто-то пытался
[01:39:38.340 --> 01:39:40.340]  расписать такое решение, которое
[01:39:40.340 --> 01:39:42.340]  рассчитывало, что там уходит не более чем
[01:39:42.340 --> 01:39:44.340]  на квадрат, и там получался какой-то тейль.
[01:39:46.340 --> 01:39:48.340]  Ну вот, потому что там ограничение
[01:39:48.340 --> 01:39:50.340]  было такие, что как бы, если бы уходило на квадрат,
[01:39:50.340 --> 01:39:52.340]  то как бы должно залетать без вопросов.
[01:39:54.340 --> 01:39:56.340]  Не, ну подожди.
[01:39:56.340 --> 01:39:58.340]  А, но это правда, это не кубка в ты,
[01:39:58.340 --> 01:40:00.340]  это был там командный контест.
[01:40:02.340 --> 01:40:04.340]  Нет, там, да, ну более того, можно, ладно,
[01:40:04.340 --> 01:40:06.340]  могу даже и рассказать, раз уж к слову пришлось.
[01:40:06.340 --> 01:40:08.340]  Там задача была такая.
[01:40:08.340 --> 01:40:10.340]  Короче, там, ну там,
[01:40:10.340 --> 01:40:12.340]  что-то дан выпуклый многоугольник.
[01:40:14.340 --> 01:40:16.340]  Из целых точек, целые точки, там все
[01:40:16.340 --> 01:40:18.340]  тоже не превосходят, по-моему,
[01:40:18.340 --> 01:40:20.340]  там тоже какой-то тысячки помнится.
[01:40:22.340 --> 01:40:24.340]  И что самое приятное, многоугольник сам размера
[01:40:24.340 --> 01:40:26.340]  50. Скажите,
[01:40:26.340 --> 01:40:28.340]  я хочу добавить в него
[01:40:28.340 --> 01:40:30.340]  одну вершину так, чтобы
[01:40:30.340 --> 01:40:32.340]  строго выпуклый многоугольник оказался,
[01:40:32.340 --> 01:40:34.340]  строго выпуклый, продолжил быть строго выпуклым
[01:40:34.340 --> 01:40:36.340]  многоугольником, значит,
[01:40:36.340 --> 01:40:38.340]  и на одну вершину, и эта точка
[01:40:38.340 --> 01:40:40.340]  тоже должна быть целой. Внимание
[01:40:40.340 --> 01:40:42.340]  вопрос, сколькими способами я могу это
[01:40:42.340 --> 01:40:44.340]  сделать?
[01:40:46.340 --> 01:40:48.340]  Да, это самая сложная задача контеста была,
[01:40:48.340 --> 01:40:50.340]  между прочим.
[01:40:50.340 --> 01:40:52.340]  Нет, ну там
[01:40:52.340 --> 01:40:54.340]  люди писали, как бы понятно, там чемпионы
[01:40:54.340 --> 01:40:56.340]  в этом контесте как бы принимали
[01:40:56.340 --> 01:40:58.340]  участие действующие чемпионы мира,
[01:40:58.340 --> 01:41:00.340]  ну эти китайцы из MIT, да?
[01:41:00.340 --> 01:41:02.340]  Это был там американский какой-то,
[01:41:02.340 --> 01:41:04.340]  видимо, то ли четвертфинал, то скорее четвертфинал,
[01:41:04.340 --> 01:41:06.340]  видимо, чем полуфинал, но все-таки.
[01:41:06.340 --> 01:41:08.340]  Ну понятно, да, идея на решение понятна,
[01:41:08.340 --> 01:41:10.340]  что давайте вот там, то есть надо
[01:41:10.340 --> 01:41:12.340]  просто рассмотреть вот эти вот треугольники и посмотреть
[01:41:12.340 --> 01:41:14.340]  сколько точек внутри них лежит.
[01:41:14.340 --> 01:41:16.340]  Да, если бы каждая вот эта точка
[01:41:16.340 --> 01:41:18.340]  пересечения была целой, мы вообще могли
[01:41:18.340 --> 01:41:20.340]  формулы Пика пользоваться в принципе,
[01:41:20.340 --> 01:41:22.340]  но, увы, точка,
[01:41:22.340 --> 01:41:24.340]  к сожалению, ну вот. Поэтому
[01:41:24.340 --> 01:41:26.340]  какое напрашивается решение? Ну самое тупое
[01:41:26.340 --> 01:41:28.340]  решение, так как цена небольшая, ну так давайте
[01:41:28.340 --> 01:41:30.340]  тут по х честно идти и поддерживать
[01:41:30.340 --> 01:41:32.340]  какие тут игроки находятся.
[01:41:32.340 --> 01:41:34.340]  То есть прям в идеале
[01:41:34.340 --> 01:41:36.340]  прям мне очень хотел честно идти,
[01:41:36.340 --> 01:41:38.340]  пока мы до пересечения не дойдем.
[01:41:38.340 --> 01:41:40.340]  Есть одна маленькая проблема.
[01:41:40.340 --> 01:41:42.340]  То есть если пересечение было порядка квадрата,
[01:41:42.340 --> 01:41:44.340]  идем до миллион, получаем там решение
[01:41:44.340 --> 01:41:46.340]  за миллион на пятьдесят.
[01:41:46.340 --> 01:41:48.340]  Но если оно до куба, то извините, это ТЛ.
[01:41:48.340 --> 01:41:50.340]  То это ТЛе придется думать.
[01:41:50.340 --> 01:41:52.340]  Ну, смотрите, там же не миллион,
[01:41:52.340 --> 01:41:54.340]  а четыре миллиона.
[01:41:56.340 --> 01:41:58.340]  Ну четыре, и что?
[01:41:58.340 --> 01:42:00.340]  А поддерживаете вы за сколько?
[01:42:00.340 --> 01:42:02.340]  За лог, небось?
[01:42:02.340 --> 01:42:04.340]  Нету, почему нету, я могу аккуратно
[01:42:04.340 --> 01:42:06.340]  двумя указателями идти.
[01:42:06.340 --> 01:42:08.340]  В правильном направлении, так что это для меня.
[01:42:08.340 --> 01:42:10.340]  Кажется, что все равно может быть ТЛ и не за куба.
[01:42:10.340 --> 01:42:12.340]  Может.
[01:42:12.340 --> 01:42:14.340]  Нет, ну там...
[01:42:16.340 --> 01:42:18.340]  Нет, ну там будет про нод.
[01:42:18.340 --> 01:42:20.340]  По-моему, там проблемы были
[01:42:20.340 --> 01:42:22.340]  с кубом.
[01:42:22.340 --> 01:42:24.340]  Интересно придумать два вектора, которые находятся в кубе.
[01:42:24.340 --> 01:42:26.340]  Да, это конечно да.
[01:42:26.340 --> 01:42:28.340]  Понятно, что задача
[01:42:28.340 --> 01:42:30.340]  в принципе на самом деле не сильно сложная,
[01:42:30.340 --> 01:42:32.340]  она решается и без этого.
[01:42:32.340 --> 01:42:34.340]  Потому что на самом деле заметим, что
[01:42:34.340 --> 01:42:36.340]  направляющие вектора адекватные.
[01:42:36.340 --> 01:42:38.340]  То есть понятно, что если они очень далеко уйдут,
[01:42:38.340 --> 01:42:40.340]  то на самом деле тут...
[01:42:40.340 --> 01:42:42.340]  Ну понятно, что задача на самом деле связывается
[01:42:42.340 --> 01:42:44.340]  к методу трапеции,
[01:42:44.340 --> 01:42:46.340]  которая говорит, мне интересно, сколько целых точек в этой трапеции,
[01:42:46.340 --> 01:42:48.340]  минус сколько целых точек в этой трапеции.
[01:42:48.340 --> 01:42:50.340]  А для каждой конкретной трапеции
[01:42:50.340 --> 01:42:52.340]  я уже могу честно идти вот так
[01:42:52.340 --> 01:42:54.340]  и заметим, что если я пройду
[01:42:54.340 --> 01:42:56.340]  не более чем тысячу координат, я пройду
[01:42:56.340 --> 01:42:58.340]  ровно по этому направляющему вектору.
[01:42:58.340 --> 01:43:00.340]  И если я тут вычислю, сколько у меня тут точек,
[01:43:00.340 --> 01:43:02.340]  то в следующем векторе
[01:43:02.340 --> 01:43:04.340]  дальше следующие вектора будут
[01:43:04.340 --> 01:43:06.340]  давать графметическую прогрессию,
[01:43:06.340 --> 01:43:08.340]  которая сворачивается. То есть останется нам
[01:43:08.340 --> 01:43:10.340]  только за тысячу пройти вот эту вот финалочку.
[01:43:14.340 --> 01:43:16.340]  Это у нас вот такое было,
[01:43:16.340 --> 01:43:18.340]  что еще вы неожиданно можете обсудить,
[01:43:18.340 --> 01:43:20.340]  если на разборы вы таки будете ходить.
[01:43:20.340 --> 01:43:22.340]  Да.
[01:43:26.340 --> 01:43:28.340]  Чего?
[01:43:30.340 --> 01:43:32.340]  Нет.
[01:43:32.340 --> 01:43:34.340]  В четверг не будет никакого разбора.
[01:43:34.340 --> 01:43:36.340]  Не знаю.
[01:43:36.340 --> 01:43:38.340]  А, ну ладно, значит
[01:43:38.340 --> 01:43:40.340]  тогда напишу еще раз. Нет, как мы тут уже договорились,
[01:43:40.340 --> 01:43:42.340]  что на этой неделе ничего не будет.
[01:43:42.340 --> 01:43:44.340]  Более того, даже кубоком в три продляется
[01:43:44.340 --> 01:43:46.340]  неделя.
[01:43:46.340 --> 01:43:48.340]  Ну с тренами тоже я бы посвел
[01:43:48.340 --> 01:43:50.340]  это аккуратнее.
[01:43:50.340 --> 01:43:52.340]  Если вы хотите написать трены, уверены, что она
[01:43:52.340 --> 01:43:54.340]  не заставит вас потом прийти в воскресенье
[01:43:54.340 --> 01:43:56.340]  мертвыми, то пожалуйста.
[01:43:56.340 --> 01:43:58.340]  Но уставшими.
[01:43:58.340 --> 01:44:00.340]  Но как бы, смотрите, ваша цель сейчас
[01:44:00.340 --> 01:44:02.340]  в воскресенье прийти максимально во всеоружие.
[01:44:02.340 --> 01:44:04.340]  Часто бывает, что принято
[01:44:04.340 --> 01:44:06.340]  даже за неделю до конца уже обычно
[01:44:06.340 --> 01:44:08.340]  ничего не делаем, просто чтобы не уставать.
[01:44:08.340 --> 01:44:10.340]  Пятница в субботу?
[01:44:10.340 --> 01:44:12.340]  Ну это уже, пожалуйста, да.
[01:44:12.340 --> 01:44:14.340]  Ну просто, скорее всего, вам и так на неделю есть, чем заняться,
[01:44:14.340 --> 01:44:16.340]  наверное, да.
[01:44:16.340 --> 01:44:18.340]  Нет, я вас не отговорю. Если у вас есть
[01:44:18.340 --> 01:44:20.340]  прям силы и желание написать четверг тренировку,
[01:44:20.340 --> 01:44:22.340]  то пожалуйста.
[01:44:22.340 --> 01:44:24.340]  Я хочу все-таки парочку тренировок написать.
[01:44:24.340 --> 01:44:26.340]  Ну пожалуйста.
[01:44:26.340 --> 01:44:28.340]  Но я говорю, с этой поусталость. Если вы будете
[01:44:28.340 --> 01:44:30.340]  чувствовать, что вам нужно
[01:44:30.340 --> 01:44:32.340]  сильно преодолевать себя, то может быть даже и не надо.
[01:44:32.340 --> 01:44:34.340]  На самом деле.
[01:44:34.340 --> 01:44:36.340]  Ну то есть вот.
[01:44:36.340 --> 01:44:38.340]  Так что поаккуратнее с этим.
[01:44:38.340 --> 01:44:40.340]  Вот.
[01:44:40.340 --> 01:44:42.340]  Так что нет, но тут как всегда, это уже на ваш.
[01:44:42.340 --> 01:44:44.340]  Так вот.
[01:44:48.340 --> 01:44:50.340]  А, вы английский скипните.
[01:44:50.340 --> 01:44:52.340]  Ну вы поаккуратнее.
[01:44:52.340 --> 01:44:54.340]  Ага.
[01:44:54.340 --> 01:44:56.340]  Ой, достайте на это.
[01:44:56.340 --> 01:44:58.340]  Нет, это было.
[01:44:58.340 --> 01:45:00.340]  Да-да-да.
[01:45:00.340 --> 01:45:02.340]  Что лучше, бутылка?
[01:45:02.340 --> 01:45:04.340]  Что лучше, бутылка пива или
[01:45:04.340 --> 01:45:06.340]  мексиканский сериал?
[01:45:06.340 --> 01:45:08.340]  Конечно, мексиканский сериал.
[01:45:08.340 --> 01:45:10.340]  Конечно, только с ним вы можете начать
[01:45:10.340 --> 01:45:12.340]  настоящую мексиканскую драму.
[01:45:12.340 --> 01:45:14.340]  Вы когда-нибудь говорили, друзья, всем по мексиканскому
[01:45:14.340 --> 01:45:16.340]  сериалу я угощаю.
[01:45:16.340 --> 01:45:18.340]  Как говорится,
[01:45:18.340 --> 01:45:20.340]  рекламы моего детства это называется.
[01:45:20.340 --> 01:45:22.340]  А или там что лучше, пиво или зубная паста?
[01:45:22.340 --> 01:45:24.340]  Конечно, зубная паста.
[01:45:24.340 --> 01:45:26.340]  С ней ваши зубы будут
[01:45:26.340 --> 01:45:28.340]  достигнуть идеальной белизны и будут здоровыми.
[01:45:28.340 --> 01:45:30.340]  Но вы когда-нибудь играли с друзьями в боулинг
[01:45:30.340 --> 01:45:32.340]  на ящик зубной пасты.
[01:45:32.340 --> 01:45:34.340]  Ну вот что-то такое.
[01:45:34.340 --> 01:45:36.340]  Вот.
[01:45:36.340 --> 01:45:38.340]  Ой, ладно.
[01:45:38.340 --> 01:45:40.340]  А то звучит, как будто я уже пиво рекламирую.
[01:45:40.340 --> 01:45:42.340]  Вот.
[01:45:42.340 --> 01:45:44.340]  Ладно.
[01:45:44.340 --> 01:45:46.340]  Давайте последнюю функцию и пойдем на перерыв.
[01:45:46.340 --> 01:45:48.340]  Функция, как вы уже догадались,
[01:45:48.340 --> 01:45:50.340]  а segments intersecting.
[01:45:50.340 --> 01:45:52.340]  Ну вот тут
[01:45:52.340 --> 01:45:54.340]  уже проблема.
[01:45:54.340 --> 01:45:56.340]  Давайте, тут уже отрезки
[01:45:56.340 --> 01:45:58.340]  1x1.
[01:46:00.340 --> 01:46:02.340]  Но подлянка в том, что, к сожалению,
[01:46:02.340 --> 01:46:04.340]  красивого способа избежать случаев
[01:46:04.340 --> 01:46:06.340]  я здесь не знаю.
[01:46:08.340 --> 01:46:10.340]  Потому что да, очень хочется
[01:46:10.340 --> 01:46:12.340]  написать вот эти вот два произведения сигнума
[01:46:12.340 --> 01:46:14.340]  и сказать, что
[01:46:14.340 --> 01:46:16.340]  если они оба меньше либо равно нуля, то мы победили.
[01:46:16.340 --> 01:46:18.340]  Но это работает,
[01:46:18.340 --> 01:46:20.340]  это, видимо, работает, если отрезки
[01:46:20.340 --> 01:46:22.340]  не параллельны.
[01:46:22.340 --> 01:46:24.340]  А что делать, если они параллельны?
[01:46:24.340 --> 01:46:26.340]  Тогда это, конечно, сигнумы будут равны нулю.
[01:46:26.340 --> 01:46:28.340]  Но, к сожалению, вот единственный случай,
[01:46:28.340 --> 01:46:30.340]  когда эти штуки там меньше
[01:46:30.340 --> 01:46:32.340]  либо равны нуля отрезки не параллельны,
[01:46:32.340 --> 01:46:34.340]  это когда они лежат на одной прямой,
[01:46:34.340 --> 01:46:36.340]  но при этом не пересекаются, сволочь.
[01:46:42.340 --> 01:46:44.340]  Так, давайте, когда это может ломаться?
[01:46:44.340 --> 01:46:46.340]  Пока это вот эти пятки.
[01:46:56.340 --> 01:46:58.340]  Но утверждается, что да.
[01:47:04.340 --> 01:47:06.340]  Да, то есть, конечно, если они не лежат
[01:47:06.340 --> 01:47:08.340]  на одной прямой, то, конечно, вы просто берете
[01:47:08.340 --> 01:47:10.340]  вот две вот такие проверки
[01:47:10.340 --> 01:47:12.340]  в две стороны
[01:47:12.340 --> 01:47:14.340]  и не заморачивайтесь.
[01:47:16.340 --> 01:47:18.340]  Ну, так считайте, если они не параллельны,
[01:47:18.340 --> 01:47:20.340]  если они параллельны, ну, если они
[01:47:20.340 --> 01:47:22.340]  лежат на разных прямых, то сразу фейл,
[01:47:22.340 --> 01:47:24.340]  а если лежат на одной,
[01:47:24.340 --> 01:47:26.340]  то...
[01:47:28.340 --> 01:47:30.340]  Ну, а теперь давайте думать.
[01:47:30.340 --> 01:47:32.340]  Ну, давайте так, если, допустим,
[01:47:32.340 --> 01:47:34.340]  R, давайте так напишем, R параллел,
[01:47:38.340 --> 01:47:40.340]  там параллел,
[01:47:40.340 --> 01:47:42.340]  как там... А, у нас было так.
[01:47:52.340 --> 01:47:54.340]  Ну, давайте. Ну, пораду можно и так.
[01:47:54.340 --> 01:47:56.340]  Давай так, если они параллельны,
[01:47:56.340 --> 01:47:58.340]  то делаем одно.
[01:48:02.340 --> 01:48:04.340]  Ну, по-разному, ну, смотря, как напишется.
[01:48:04.340 --> 01:48:06.340]  Иначе return
[01:48:06.340 --> 01:48:08.340]  does segments
[01:48:08.340 --> 01:48:10.340]  segment intersects line
[01:48:12.340 --> 01:48:14.340]  A1, B1, A2,
[01:48:14.340 --> 01:48:16.340]  B2,
[01:48:16.340 --> 01:48:18.340]  end-end
[01:48:18.340 --> 01:48:20.340]  Ну, очевидно, то же самое.
[01:48:20.340 --> 01:48:22.340]  Только
[01:48:24.340 --> 01:48:26.340]  B2, A1, B1.
[01:48:26.340 --> 01:48:28.340]  Да, то есть, вот этот случай, конечно, очевиден.
[01:48:28.340 --> 01:48:30.340]  А если они параллельны, то что делать?
[01:48:32.340 --> 01:48:34.340]  Параллельны не совпадают даже.
[01:48:34.340 --> 01:48:36.340]  Да, конечно, что
[01:48:36.340 --> 01:48:38.340]  первое надо проверить, что если они не совпадают,
[01:48:38.340 --> 01:48:40.340]  то до свидания.
[01:48:40.340 --> 01:48:42.340]  А как проверить, кстати, даны два отрезка,
[01:48:42.340 --> 01:48:44.340]  которые заведомо лежат на одной прямой?
[01:48:44.340 --> 01:48:46.340]  Скажите, пожалуйста, пересекаются ли они?
[01:48:46.340 --> 01:48:48.340]  Да или нет?
[01:48:56.340 --> 01:48:58.340]  Да, вот, вестическое утверждение.
[01:48:58.340 --> 01:49:00.340]  Если отрезки лежат на одной прямой,
[01:49:00.340 --> 01:49:02.340]  то они пересекаются тогда и только тогда, когда
[01:49:02.340 --> 01:49:04.340]  один из концов одного из отрезков
[01:49:04.340 --> 01:49:06.340]  лежит на другом отрезке.
[01:49:08.340 --> 01:49:10.340]  То есть, не может быть так, что они пересекаются
[01:49:10.340 --> 01:49:12.340]  какими-то внутренними частями.
[01:49:12.340 --> 01:49:14.340]  Вот.
[01:49:14.340 --> 01:49:16.340]  Поэтому тут можно написать return
[01:49:16.340 --> 01:49:18.340]  is on segment
[01:49:18.340 --> 01:49:20.340]  A1, B2,
[01:49:20.340 --> 01:49:22.340]  A2, B2
[01:49:22.340 --> 01:49:24.340]  или
[01:49:24.340 --> 01:49:26.340]  is on segment
[01:49:28.340 --> 01:49:30.340]  B1, A2,
[01:49:30.340 --> 01:49:32.340]  B2
[01:49:32.340 --> 01:49:34.340]  или
[01:49:34.340 --> 01:49:36.340]  что там еще?
[01:49:36.340 --> 01:49:38.340]  Ну да, четыре случая.
[01:49:38.340 --> 01:49:40.340]  Ладно, формально можно показать,
[01:49:40.340 --> 01:49:42.340]  что реально достаточно трех любых,
[01:49:42.340 --> 01:49:44.340]  но...
[01:49:46.340 --> 01:49:48.340]  Ну да, нормально,
[01:49:48.340 --> 01:49:50.340]  по-моему.
[01:49:50.340 --> 01:49:52.340]  Ну можете просто более короткие названия писать.
[01:49:52.340 --> 01:49:54.340]  Причем, заметим, что эта функция сработает,
[01:49:54.340 --> 01:49:56.340]  если прямые реально параллельны.
[01:49:56.340 --> 01:49:58.340]  Параллельны не совпадают,
[01:49:58.340 --> 01:50:00.340]  тогда эти IF автоматически вылетят.
[01:50:02.340 --> 01:50:04.340]  Кроме того, я в принципе написал бы
[01:50:04.340 --> 01:50:06.340]  даже
[01:50:06.340 --> 01:50:08.340]  могу теперь вообще написать
[01:50:08.340 --> 01:50:10.340]  даже без if и else
[01:50:10.340 --> 01:50:12.340]  а могу теперь написать вообще вот так.
[01:50:20.340 --> 01:50:22.340]  Во.
[01:50:32.340 --> 01:50:34.340]  Угу.
[01:50:34.340 --> 01:50:36.340]  Так, проблема.
[01:50:36.340 --> 01:50:38.340]  Так, ну хорошо.
[01:50:38.340 --> 01:50:40.340]  Так, дай.
[01:50:40.340 --> 01:50:42.340]  Ладно, все, ладно, не могу, хорошо,
[01:50:42.340 --> 01:50:44.340]  хорошо, ничего я не могу безобразить.
[01:50:44.340 --> 01:50:46.340]  Вот так.
[01:50:48.340 --> 01:50:50.340]  Вот.
[01:50:50.340 --> 01:50:52.340]  Да, придется так писать.
[01:51:02.340 --> 01:51:04.340]  Угу.
[01:51:18.340 --> 01:51:20.340]  Не, ну с доты одной точки,
[01:51:20.340 --> 01:51:22.340]  с двумя концами другого отрезка
[01:51:22.340 --> 01:51:24.340]  это зависит куда, это даст вам куда
[01:51:24.340 --> 01:51:26.340]  падает проекция.
[01:51:26.340 --> 01:51:28.340]  Но там, тогда все там,
[01:51:28.340 --> 01:51:30.340]  но кажется это никак не коррелирует
[01:51:30.340 --> 01:51:32.340]  пересечением, потому что
[01:51:32.340 --> 01:51:34.340]  там
[01:51:34.340 --> 01:51:36.340]  потому что допустим там
[01:51:36.340 --> 01:51:38.340]  потому что в принципе вот
[01:51:38.340 --> 01:51:40.340]  то есть отрезок может быть там вот такой
[01:51:40.340 --> 01:51:42.340]  там вот такой.
[01:51:46.340 --> 01:51:48.340]  Не, ну а куда еще проще?
[01:51:48.340 --> 01:51:50.340]  Вот.
[01:51:50.340 --> 01:51:52.340]  Ну и шо?
[01:51:54.340 --> 01:51:56.340]  А че?
[01:51:56.340 --> 01:51:58.340]  Ну не знаю.
[01:51:58.340 --> 01:52:00.340]  Ну не знаю, мне нормально.
[01:52:08.340 --> 01:52:10.340]  Не, ну причем более того еще и видно откуда.
[01:52:10.340 --> 01:52:12.340]  То есть как бы чтобы убедиться,
[01:52:12.340 --> 01:52:14.340]  что как бы случай разорваный, давайте утверждение.
[01:52:14.340 --> 01:52:16.340]  То есть мы верим просто в утверждение,
[01:52:16.340 --> 01:52:18.340]  что если отрезки лежат на одной прямой
[01:52:18.340 --> 01:52:20.340]  и пересекаются, то один из концов одного
[01:52:20.340 --> 01:52:22.340]  из отрезков лежит на другом.
[01:52:22.340 --> 01:52:24.340]  Да, как выглядит доказательство?
[01:52:24.340 --> 01:52:26.340]  Доказательство выглядит так. Рассмотрим эту прямую
[01:52:26.340 --> 01:52:28.340]  и вот у нас точка пересечения. Давайте двигаться
[01:52:28.340 --> 01:52:30.340]  из нее в одну сторону до тех пор,
[01:52:30.340 --> 01:52:32.340]  пока не наткнемся на что-то.
[01:52:32.340 --> 01:52:34.340]  То есть пока мы находимся в пересечении.
[01:52:36.340 --> 01:52:38.340]  Ну что нам может помешать? Но остановиться
[01:52:38.340 --> 01:52:40.340]  очевидно можем только когда наткнемся на
[01:52:40.340 --> 01:52:42.340]  конец какого-то отрезка. Пока мы не наткнемся на один конец
[01:52:42.340 --> 01:52:44.340]  отрезка, мы на обоих отрезках лежим.
[01:52:44.340 --> 01:52:46.340]  Правда?
[01:52:46.340 --> 01:52:48.340]  Ну значит натыкаемся на первую эту точку конец
[01:52:48.340 --> 01:52:50.340]  какого-то отрезка, но заметим, что этот конец лежит
[01:52:50.340 --> 01:52:52.340]  и на другом. Все.
[01:52:52.340 --> 01:52:54.340]  В принципе из этого же следует
[01:52:54.340 --> 01:52:56.340]  практически что
[01:52:58.340 --> 01:53:00.340]  это если есть внутренние пересечения,
[01:53:00.340 --> 01:53:02.340]  то есть там есть какая-то
[01:53:02.340 --> 01:53:04.340]  бывают пересечения всяких вот такого рода,
[01:53:04.340 --> 01:53:06.340]  то есть вот
[01:53:06.340 --> 01:53:08.340]  здесь тогда очевидно.
[01:53:08.340 --> 01:53:10.340]  Я знаю кажется, как упростить.
[01:53:10.340 --> 01:53:12.340]  Нужно вести на точках
[01:53:12.340 --> 01:53:14.340]  оператор меньше, интуитивно
[01:53:14.340 --> 01:53:16.340]  образом,
[01:53:16.340 --> 01:53:18.340]  что мы сравниваем парик с координацией, потом поедем
[01:53:18.340 --> 01:53:20.340]  к координациям.
[01:53:20.340 --> 01:53:22.340]  Потом можно будет,
[01:53:22.340 --> 01:53:24.340]  если они на одной прямой лежат,
[01:53:24.340 --> 01:53:26.340]  то как пресечение двух отрезков на прямой,
[01:53:26.340 --> 01:53:28.340]  что максимум больше,
[01:53:28.340 --> 01:53:30.340]  меньше, больше, чем минимум?
[01:53:30.340 --> 01:53:32.340]  Ну да, более известный,
[01:53:32.340 --> 01:53:34.340]  но понятно, более известный, когда пересекаются
[01:53:34.340 --> 01:53:36.340]  пересекаются или баундед бокс,
[01:53:36.340 --> 01:53:38.340]  ну можно
[01:53:38.340 --> 01:53:40.340]  правда не забыть, что надо
[01:53:40.340 --> 01:53:42.340]  все максимины надо сравнивать
[01:53:42.340 --> 01:53:44.340]  не только по иксу, но и по игроку,
[01:53:44.340 --> 01:53:46.340]  а еще их
[01:53:46.340 --> 01:53:48.340]  да, да, да, а еще надо
[01:53:48.340 --> 01:53:50.340]  эти максимуминимумы с двух сторон сравнивать.
[01:53:50.340 --> 01:53:52.340]  Нет.
[01:53:52.340 --> 01:53:54.340]  Либо максимум по иксу
[01:53:54.340 --> 01:53:56.340]  б1 меньше, чем минимум из иксов.
[01:53:56.340 --> 01:53:58.340]  Нет, нет, нет. Я определяю на точках
[01:53:58.340 --> 01:54:00.340]  оператор меньше, который сначала
[01:54:00.340 --> 01:54:02.340]  сравнивает иксы, а потом эрики.
[01:54:02.340 --> 01:54:04.340]  Потом я беру
[01:54:04.340 --> 01:54:06.340]  потом я беру как просто на прямой
[01:54:06.340 --> 01:54:08.340]  беру максимум
[01:54:08.340 --> 01:54:10.340]  из левой границы.
[01:54:10.340 --> 01:54:12.340]  И он должен быть
[01:54:12.340 --> 01:54:14.340]  больше, чем минимум из правой границы.
[01:54:14.340 --> 01:54:16.340]  Да смотри, маленькая проблема,
[01:54:16.340 --> 01:54:18.340]  желать только оператор меньше
[01:54:18.340 --> 01:54:20.340]  на точках обычно не определяют,
[01:54:20.340 --> 01:54:22.340]  то есть обычно, если его определяют, его определяют принципиально
[01:54:22.340 --> 01:54:24.340]  другим образом.
[01:54:24.340 --> 01:54:26.340]  По векторному произведению.
[01:54:26.340 --> 01:54:28.340]  Чего?
[01:54:28.340 --> 01:54:30.340]  То в клоболочку люди
[01:54:30.340 --> 01:54:32.340]  так строят.
[01:54:32.340 --> 01:54:34.340]  Ну я всегда определяю просто
[01:54:34.340 --> 01:54:36.340]  идутимым образом.
[01:54:36.340 --> 01:54:38.340]  Но это называется разные компораторы.
[01:54:38.340 --> 01:54:40.340]  Обычно оператор меньше, обычно все-таки
[01:54:40.340 --> 01:54:42.340]  к счастью популярному углу делают.
[01:54:42.340 --> 01:54:44.340]  Никогда в жизни не видел.
[01:54:44.340 --> 01:54:46.340]  Ну окей.
[01:54:46.340 --> 01:54:48.340]  Ну бывает.
[01:54:48.340 --> 01:54:50.340]  Ну
[01:54:50.340 --> 01:54:52.340]  может и так.
[01:54:52.340 --> 01:54:54.340]  Но не стоит важно.
[01:54:54.340 --> 01:54:56.340]  Если лень 54 проверки,
[01:54:56.340 --> 01:54:58.340]  можете написать 3. Хотя конечно твой метод
[01:54:58.340 --> 01:55:00.340]  будет лучше, что там ни одного умножения не надо делать.
[01:55:00.340 --> 01:55:02.340]  Это да.
[01:55:02.340 --> 01:55:04.340]  Это кстати реально преимущество.
[01:55:04.340 --> 01:55:06.340]  Вот.
[01:55:06.340 --> 01:55:08.340]  Так, ну хорошо. Значит это вот что касается
[01:55:08.340 --> 01:55:10.340]  всяких прямых отрезков и их там пересечений,
[01:55:10.340 --> 01:55:12.340]  натешений друг от друга, вот это мы все и
[01:55:12.340 --> 01:55:14.340]  написали.
[01:55:14.340 --> 01:55:16.340]  Ладно, дальше надо будет говорить, дальше будем говорить
[01:55:16.340 --> 01:55:18.340]  немножко про углы площади и даже
[01:55:18.340 --> 01:55:20.340]  многоугольники.
[01:55:20.340 --> 01:55:22.340]  Вот.
[01:55:22.340 --> 01:55:24.340]  Поэтому вот сейчас уже точно пришло время
[01:55:24.340 --> 01:55:26.340]  сделать перерыв.
[01:55:26.340 --> 01:55:28.340]  Давайте перейдем к углу.
[01:55:28.340 --> 01:55:30.340]  Смотрите.
[01:55:30.340 --> 01:55:32.340]  Начнем с того, ну зачем с того простого.
[01:55:32.340 --> 01:55:34.340]  Даны два вектора, найдите пожалуйста
[01:55:34.340 --> 01:55:36.340]  ориентированный угол между ними.
[01:55:36.340 --> 01:55:38.340]  Ну как его найти?
[01:55:38.340 --> 01:55:40.340]  Так, ну начнем с того, смотря что вам надо
[01:55:40.340 --> 01:55:42.340]  найти. Если вам не нужен
[01:55:42.340 --> 01:55:44.340]  угол, потому что часто бывает, что
[01:55:44.340 --> 01:55:46.340]  вы говорите, я хочу найти угол. Зачем?
[01:55:46.340 --> 01:55:48.340]  Чтобы посчитать его там косинус, синус и так далее.
[01:55:48.340 --> 01:55:50.340]  Вот тут будьте внимательны. Если вам
[01:55:50.340 --> 01:55:52.340]  не нужен сам угол как число, нужен только
[01:55:52.340 --> 01:55:54.340]  косинус и синус, то векторное и скалярное
[01:55:54.340 --> 01:55:56.340]  произведение вас приветствует.
[01:55:56.340 --> 01:55:58.340]  Вот.
[01:55:58.340 --> 01:56:00.340]  Но если вам нужен сам угол, просто именно как
[01:56:00.340 --> 01:56:02.340]  число, то, ну здесь да, как это делать?
[01:56:02.340 --> 01:56:04.340]  Да, многие маленькие дети
[01:56:04.340 --> 01:56:06.340]  начинают в этом месте говорить, ну давайте посчитаем
[01:56:06.340 --> 01:56:08.340]  косинус и возьмем оркосинус.
[01:56:08.340 --> 01:56:10.340]  Действительно, почему нет?
[01:56:10.340 --> 01:56:12.340]  Почему нельзя?
[01:56:12.340 --> 01:56:14.340]  Да, почему нет? Потому что проблема в том, что пока вы
[01:56:14.340 --> 01:56:16.340]  не начинали, если вы хотите прям честный угол
[01:56:16.340 --> 01:56:18.340]  сделать, то с оркосинусом
[01:56:18.340 --> 01:56:20.340]  проблем не будет, это будет прям идеально.
[01:56:20.340 --> 01:56:22.340]  Да, потому что оркосинус
[01:56:22.340 --> 01:56:24.340]  это та функция, которая возвращает кисло от
[01:56:24.340 --> 01:56:26.340]  нуля до пика, вы помните, да?
[01:56:26.340 --> 01:56:28.340]  Ну правда, маленькие дети могут захотеть,
[01:56:28.340 --> 01:56:30.340]  а давайте возьмем векторное и орксинус.
[01:56:30.340 --> 01:56:32.340]  Ну тогда у вас проблемы.
[01:56:32.340 --> 01:56:34.340]  Их, могут быть небольшие.
[01:56:34.340 --> 01:56:36.340]  Потому что в зависимости от того,
[01:56:36.340 --> 01:56:38.340]  в каком порядке возьмете вектора, там будет плюс-минус.
[01:56:38.340 --> 01:56:40.340]  И для тупых углов будут проблемы.
[01:56:40.340 --> 01:56:42.340]  А, все нормально.
[01:56:42.340 --> 01:56:44.340]  Это оркосинус тупые углы не выдаст.
[01:56:44.340 --> 01:56:46.340]  Оркосинус, да.
[01:56:46.340 --> 01:56:48.340]  Но это если вы хотите угол прям вот этот честный.
[01:56:48.340 --> 01:56:50.340]  В детском смысле.
[01:56:52.340 --> 01:56:54.340]  Вот понимаете, кодовое слово
[01:56:54.340 --> 01:56:56.340]  геометрия это та вещь,
[01:56:56.340 --> 01:56:58.340]  где мы с очень большой опаской
[01:56:58.340 --> 01:57:00.340]  должны относиться к понятию
[01:57:00.340 --> 01:57:02.340]  понятно как сделать.
[01:57:02.340 --> 01:57:04.340]  То есть да, понятно надо
[01:57:04.340 --> 01:57:06.340]  разобрать случаи, я даже верю, что
[01:57:06.340 --> 01:57:08.340]  каждый из вас может действительно это сделать
[01:57:08.340 --> 01:57:10.340]  аккуратненько, но
[01:57:10.340 --> 01:57:12.340]  с другой стороны, там за паре контестов
[01:57:12.340 --> 01:57:14.340]  или еще чего-то ошибиться легко.
[01:57:14.340 --> 01:57:16.340]  Ладно, подстава в этом коде.
[01:57:16.340 --> 01:57:18.340]  Ну ладно. То есть на самом деле
[01:57:18.340 --> 01:57:20.340]  можно, понятно, что надо там
[01:57:20.340 --> 01:57:22.340]  то есть мы уже с вами изучали, что
[01:57:22.340 --> 01:57:24.340]  в какой четверти лежит этот угол, можно
[01:57:24.340 --> 01:57:26.340]  и по скалярному поверхному произведению, по их знакам
[01:57:26.340 --> 01:57:28.340]  определить. Да. Можно эти четыре
[01:57:28.340 --> 01:57:30.340]  случая аккуратно разобрать и там плюс-пи-минус.
[01:57:30.340 --> 01:57:32.340]  Чего?
[01:57:32.340 --> 01:57:34.340]  Ну, я сказал,
[01:57:34.340 --> 01:57:36.340]  как минимум четыре можно рассмотреть, а на самом деле
[01:57:36.340 --> 01:57:38.340]  многие схлопываются, да.
[01:57:38.340 --> 01:57:40.340]  Но на самом деле просто угол
[01:57:40.340 --> 01:57:42.340]  просто так не ищут.
[01:57:42.340 --> 01:57:44.340]  Тут редкий для меня случай, но я буду
[01:57:44.340 --> 01:57:46.340]  сейчас говорить из цикла, что вот просто дети
[01:57:46.340 --> 01:57:48.340]  выучите, угол ищется
[01:57:48.340 --> 01:57:50.340]  вот так.
[01:57:50.340 --> 01:57:52.340]  Ну, скажем так, у меня
[01:57:52.340 --> 01:57:54.340]  с бэши, где я искал угол, вот так,
[01:57:54.340 --> 01:57:56.340]  зашла нормально.
[01:57:56.340 --> 01:57:58.340]  Ну да, но все-таки обычно
[01:57:58.340 --> 01:58:00.340]  обычно все-таки
[01:58:00.340 --> 01:58:02.340]  считается оптимальным
[01:58:02.340 --> 01:58:04.340]  следующим образом.
[01:58:14.340 --> 01:58:16.340]  Вот.
[01:58:16.340 --> 01:58:18.340]  То есть официально
[01:58:18.340 --> 01:58:20.340]  оптимальным способом нахождения угла
[01:58:20.340 --> 01:58:22.340]  по двум векторам считается вот такое заклинание.
[01:58:24.340 --> 01:58:26.340]  У нас тангенс не всегда определен.
[01:58:26.340 --> 01:58:28.340]  А это не тангенс, это аттан-2.
[01:58:28.340 --> 01:58:30.340]  Аттан-2 функция,
[01:58:30.340 --> 01:58:32.340]  которая, вообще говоря, никакой тангенс
[01:58:32.340 --> 01:58:34.340]  вам не вычисляет.
[01:58:34.340 --> 01:58:36.340]  Значит, да.
[01:58:36.340 --> 01:58:38.340]  То есть, конечно, чтобы это было
[01:58:38.340 --> 01:58:40.340]  меньшим заклинанием, значит, расскажу, что это за функция
[01:58:40.340 --> 01:58:42.340]  вообще.
[01:58:42.340 --> 01:58:44.340]  Формально говоря, то есть это функция вместо
[01:58:44.340 --> 01:58:46.340]  того, чтобы делать, вы там разбирали случаи
[01:58:46.340 --> 01:58:48.340]  с этими актангенсами, которые тоже, кстати, от
[01:58:48.340 --> 01:58:50.340]  минус пипа ламда, пипа ламда.
[01:58:50.340 --> 01:58:52.340]  То есть, на самом деле, аттан-2
[01:58:52.340 --> 01:58:54.340]  это такая функция.
[01:58:54.340 --> 01:58:56.340]  Аттан-2
[01:58:56.340 --> 01:58:58.340]  х
[01:59:00.340 --> 01:59:02.340]  это, значит, да,
[01:59:02.340 --> 01:59:04.340]  обратите внимание, да, вот именно от х.
[01:59:04.340 --> 01:59:06.340]  Это
[01:59:06.340 --> 01:59:08.340]  ну вот,
[01:59:08.340 --> 01:59:10.340]  ну вот, это
[01:59:12.340 --> 01:59:14.340]  ориентированный угол,
[01:59:16.340 --> 01:59:18.340]  вот так напишу,
[01:59:18.340 --> 01:59:20.340]  между вектором 1, 0
[01:59:20.340 --> 01:59:22.340]  и х игр.
[01:59:26.340 --> 01:59:28.340]  Почему я не написал
[01:59:28.340 --> 01:59:30.340]  полярный угол, казалось бы, да,
[01:59:30.340 --> 01:59:32.340]  стандартное слово сочетание в этом месте?
[01:59:32.340 --> 01:59:34.340]  Видимо, другие границы.
[01:59:34.340 --> 01:59:36.340]  Ну, потому что полярный, потому что
[01:59:36.340 --> 01:59:38.340]  здесь ориентированный угол, он будет
[01:59:38.340 --> 01:59:40.340]  возвращаться, по-моему, в
[01:59:40.340 --> 01:59:42.340]  от минус пи до пи.
[01:59:42.340 --> 01:59:44.340]  В чем от минус пи? Почему-то не включить.
[01:59:44.340 --> 01:59:46.340]  Ну, понятно. Почему?
[01:59:46.340 --> 01:59:48.340]  Почему минус?
[01:59:48.340 --> 01:59:50.340]  У нас пи не минус пи.
[01:59:50.340 --> 01:59:52.340]  Да, эквивалентно.
[01:59:52.340 --> 01:59:54.340]  Да, это да. Но это отвечает
[01:59:54.340 --> 01:59:56.340]  на вопрос, почему
[01:59:56.340 --> 01:59:58.340]  это полуинтервал и не отрезок,
[01:59:58.340 --> 02:00:00.340]  но почему это полуинтервал именно в эту сторону,
[02:00:00.340 --> 02:00:02.340]  это не отвечает. Ну, окей.
[02:00:02.340 --> 02:00:04.340]  На самом деле, смотрите,
[02:00:04.340 --> 02:00:06.340]  если я хочу, значит, полярный угол,
[02:00:06.340 --> 02:00:08.340]  это то же самое,
[02:00:08.340 --> 02:00:10.340]  то есть, как бы,
[02:00:10.340 --> 02:00:12.340]  то же самое, но только
[02:00:12.340 --> 02:00:14.340]  от нуля до 2 пи.
[02:00:14.340 --> 02:00:16.340]  Поэтому если у вас будет задача найти полярный угол,
[02:00:16.340 --> 02:00:18.340]  то задач будет, возьмите вот этот угол,
[02:00:18.340 --> 02:00:20.340]  если он отрицательный, прибавьте 2 пи.
[02:00:20.340 --> 02:00:22.340]  То есть, тут тоже придется
[02:00:22.340 --> 02:00:24.340]  ифчик поставить.
[02:00:24.340 --> 02:00:26.340]  Ну, вообще, вот атан-2
[02:00:26.340 --> 02:00:28.340]  занимается вот этим.
[02:00:28.340 --> 02:00:30.340]  Это прям официальное определение.
[02:00:30.340 --> 02:00:32.340]  Значит, считается, что эта функция уже устроена так,
[02:00:32.340 --> 02:00:34.340]  что она сработает просто
[02:00:34.340 --> 02:00:36.340]  эффективнее и точнее, чем если вы там будете
[02:00:36.340 --> 02:00:38.340]  развлекаться саркосинусами.
[02:00:38.340 --> 02:00:40.340]  Ну, собственно,
[02:00:40.340 --> 02:00:42.340]  поэтому считается, что вот
[02:00:42.340 --> 02:00:44.340]  пишите угол вот так, не ошибетесь.
[02:00:46.340 --> 02:00:48.340]  Вот.
[02:00:48.340 --> 02:00:50.340]  Но это, как бы, если вы ищете что-то похожее
[02:00:50.340 --> 02:00:52.340]  на полярный угол.
[02:00:52.340 --> 02:00:54.340]  А почему пишем вот так?
[02:00:54.340 --> 02:00:56.340]  Потому что
[02:00:56.340 --> 02:00:58.340]  что такое y и x?
[02:00:58.340 --> 02:01:00.340]  По сути, заметим, что если
[02:01:00.340 --> 02:01:02.340]  у нас ответ равен альфа,
[02:01:02.340 --> 02:01:04.340]  то тогда мы замечаем,
[02:01:04.340 --> 02:01:06.340]  что y равно, это
[02:01:06.340 --> 02:01:08.340]  длина нашего вектора на синус
[02:01:08.340 --> 02:01:10.340]  альфа
[02:01:10.340 --> 02:01:12.340]  и длина на
[02:01:12.340 --> 02:01:14.340]  косинус альфа.
[02:01:14.340 --> 02:01:16.340]  Логично, да?
[02:01:16.340 --> 02:01:18.340]  То есть, по сути, получается так.
[02:01:18.340 --> 02:01:20.340]  Вы передаете ватан-2
[02:01:20.340 --> 02:01:22.340]  синус альфа и косинус альфа,
[02:01:22.340 --> 02:01:24.340]  умноженное на положительную константу,
[02:01:24.340 --> 02:01:26.340]  он вам в ответ возвращает альфа.
[02:01:26.340 --> 02:01:28.340]  Ну, тогда, смотрите.
[02:01:28.340 --> 02:01:30.340]  Ну, тогда теперь, когда мы
[02:01:30.340 --> 02:01:32.340]  передаем векторное произведение
[02:01:32.340 --> 02:01:34.340]  и скалярное, вы передаете как
[02:01:34.340 --> 02:01:36.340]  синус альфа и косинус альфа,
[02:01:36.340 --> 02:01:38.340]  только умноженное на
[02:01:38.340 --> 02:01:40.340]  произведение
[02:01:40.340 --> 02:01:42.340]  длин этих векторов.
[02:01:42.340 --> 02:01:44.340]  Так что вот такой
[02:01:44.340 --> 02:01:46.340]  неожиданный чит.
[02:01:46.340 --> 02:01:48.340]  Понятно?
[02:01:48.340 --> 02:01:50.340]  Вот.
[02:01:50.340 --> 02:01:52.340]  Так что вот такая
[02:01:52.340 --> 02:01:54.340]  вот штука есть.
[02:01:54.340 --> 02:01:56.340]  Поэтому тут угол принято считать
[02:01:56.340 --> 02:01:58.340]  таким образом, то есть
[02:01:58.340 --> 02:02:00.340]  как бы желательно это просто
[02:02:00.340 --> 02:02:02.340]  выучить во все темноутбуки, записать
[02:02:02.340 --> 02:02:04.340]  и, собственно, больше
[02:02:04.340 --> 02:02:06.340]  не думать об этом.
[02:02:06.340 --> 02:02:08.340]  Тем более, что, знаете,
[02:02:08.340 --> 02:02:10.340]  как еще полезно было, чем меньше вы думаете
[02:02:10.340 --> 02:02:12.340]  о подобных базовых вещах, тем больше
[02:02:12.340 --> 02:02:14.340]  как бы там мозговой энергии
[02:02:14.340 --> 02:02:16.340]  у вас остается на то, чтобы там
[02:02:16.340 --> 02:02:18.340]  решать реально сложные задачи.
[02:02:18.340 --> 02:02:20.340]  Потому что сложные задачи они...
[02:02:20.340 --> 02:02:22.340]  Что такое сложные задачи? Сложное обычно слово
[02:02:22.340 --> 02:02:24.340]  сложенное. То есть вам надо из кучи таких
[02:02:24.340 --> 02:02:26.340]  кирпичиков составить какое-то решение.
[02:02:26.340 --> 02:02:28.340]  Правда? Нет.
[02:02:28.340 --> 02:02:30.340]  Ну, вот. Ну, жизненно видимо.
[02:02:30.340 --> 02:02:32.340]  Все отходки трудные задачи,
[02:02:32.340 --> 02:02:34.340]  но не сложные. Ну,
[02:02:34.340 --> 02:02:36.340]  скажи так, это другой вид сложных
[02:02:36.340 --> 02:02:38.340]  задач, да.
[02:02:38.340 --> 02:02:40.340]  Но вообще говорят, да.
[02:02:40.340 --> 02:02:42.340]  Сложные обычно от слова сложенные.
[02:02:42.340 --> 02:02:44.340]  То есть обычно, да. Хотя
[02:02:44.340 --> 02:02:46.340]  вот, да, бывают отходки, конечно, да, что задачи
[02:02:46.340 --> 02:02:48.340]  сложные с цикла, заметим что,
[02:02:48.340 --> 02:02:50.340]  но тогда... Ну, правда, это если
[02:02:50.340 --> 02:02:52.340]  сложность только в том, чтобы придумать какую-то идею,
[02:02:52.340 --> 02:02:54.340]  после которой решение становится простое, то как бы
[02:02:54.340 --> 02:02:56.340]  кому кар, потом придет какой-нибудь там
[02:02:56.340 --> 02:02:58.340]  туда... Вы завалитесь,
[02:02:58.340 --> 02:03:00.340]  а потом придет какой-нибудь восьмиклассник и скажет, что задача
[02:03:00.340 --> 02:03:02.340]  очевидна. Почему? Потому что лично ему эта идея
[02:03:02.340 --> 02:03:04.340]  пришла в голову сразу.
[02:03:04.340 --> 02:03:06.340]  Почему те или иные идеи
[02:03:06.340 --> 02:03:08.340]  кому-то приходят в голову быстро, а кому-то медленно.
[02:03:08.340 --> 02:03:10.340]  Иногда
[02:03:10.340 --> 02:03:12.340]  это одному богу известно.
[02:03:12.340 --> 02:03:14.340]  Вот.
[02:03:14.340 --> 02:03:16.340]  Соответственно.
[02:03:16.340 --> 02:03:18.340]  Так вот.
[02:03:18.340 --> 02:03:20.340]  Это у нас действительно значит,
[02:03:20.340 --> 02:03:22.340]  как найти угол.
[02:03:22.340 --> 02:03:24.340]  Так, где у меня тут?
[02:03:24.340 --> 02:03:26.340]  Ну вот,
[02:03:26.340 --> 02:03:28.340]  так что тут вот действительно важно это
[02:03:28.340 --> 02:03:30.340]  подчеркнуть.
[02:03:30.340 --> 02:03:32.340]  Хотя вот я не знаю, это настолько важно,
[02:03:32.340 --> 02:03:34.340]  что иногда ощущение, что геометрию надо на самом деле
[02:03:34.340 --> 02:03:36.340]  переносить в первый семестр,
[02:03:36.340 --> 02:03:38.340]  пока все еще ходят.
[02:03:38.340 --> 02:03:40.340]  Мне сказал Максим, что вы им в первом
[02:03:40.340 --> 02:03:42.340]  семестре читали.
[02:03:42.340 --> 02:03:44.340]  В прошлом году.
[02:03:44.340 --> 02:03:46.340]  В прошлом году я в первом семестре читал потоки,
[02:03:46.340 --> 02:03:48.340]  а не геометрию.
[02:03:48.340 --> 02:03:50.340]  Да.
[02:03:50.340 --> 02:03:52.340]  Нет, ну там просто программа первого семестра,
[02:03:52.340 --> 02:03:54.340]  первого курса закончилась, поэтому я так перешел к потокам.
[02:03:56.340 --> 02:03:58.340]  В нашем случае
[02:03:58.340 --> 02:04:00.340]  я не читал потоки
[02:04:00.340 --> 02:04:02.340]  на первом курсе, только по той причине, что мы
[02:04:02.340 --> 02:04:04.340]  до них не успели дойти.
[02:04:04.340 --> 02:04:06.340]  Ну вот.
[02:04:06.340 --> 02:04:08.340]  Так вот, идем дальше.
[02:04:08.340 --> 02:04:10.340]  Если это был financial, то у нас дальше.
[02:04:10.340 --> 02:04:12.340]  Так.
[02:04:14.340 --> 02:04:16.340]  Ну вот.
[02:04:16.340 --> 02:04:18.340]  Следующая функция, что-то у меня тут
[02:04:18.340 --> 02:04:20.340]  странное что-то написано,
[02:04:20.340 --> 02:04:22.340]  из counterclockwise почему-то.
[02:04:22.340 --> 02:04:24.340]  Понятно.
[02:04:24.340 --> 02:04:26.340]  Правда ли, что
[02:04:26.340 --> 02:04:28.340]  многоугольник по часовой стрелке?
[02:04:28.340 --> 02:04:30.340]  Точно, это многоугольник, да.
[02:04:30.340 --> 02:04:32.340]  Но нет, рано.
[02:04:32.340 --> 02:04:34.340]  Про многоугольник мне еще рано говорить.
[02:04:34.340 --> 02:04:36.340]  Я скажу по-другому.
[02:04:36.340 --> 02:04:38.340]  Потому что у меня еще есть важная интересная функция.
[02:04:38.340 --> 02:04:40.340]  Я хочу повернуть
[02:04:40.340 --> 02:04:42.340]  вектор
[02:04:44.340 --> 02:04:46.340]  на угол альфа.
[02:04:48.340 --> 02:04:50.340]  Ну смотрите, как я это сделаю.
[02:04:52.340 --> 02:04:54.340]  Я буду передавать не сам угол альфа,
[02:04:54.340 --> 02:04:56.340]  а вот мне очень хочется
[02:04:56.340 --> 02:04:58.340]  передавать косинус и синус.
[02:05:00.340 --> 02:05:02.340]  Не одна задача из контекста
[02:05:02.340 --> 02:05:04.340]  не сдается этим методам.
[02:05:06.340 --> 02:05:08.340]  Стала.
[02:05:08.340 --> 02:05:10.340]  Ну.
[02:05:10.340 --> 02:05:12.340]  Ну.
[02:05:12.340 --> 02:05:14.340]  Ну как сказать, я боюсь так.
[02:05:14.340 --> 02:05:16.340]  Если бы я на каждый мой чих, который я рассказывал
[02:05:16.340 --> 02:05:18.340]  до лекции, продавал хотя бы по одной задаче,
[02:05:18.340 --> 02:05:20.340]  я боюсь, вы бы застрелились.
[02:05:20.340 --> 02:05:22.340]  Шутка.
[02:05:22.340 --> 02:05:24.340]  Это решение одной задачи в домашних.
[02:05:24.340 --> 02:05:26.340]  Так.
[02:05:26.340 --> 02:05:28.340]  Ну это технический момент.
[02:05:28.340 --> 02:05:30.340]  Да.
[02:05:30.340 --> 02:05:32.340]  Но просто чаще всего бывает,
[02:05:32.340 --> 02:05:34.340]  что вы косинус и синус угла
[02:05:34.340 --> 02:05:36.340]  или хотя бы что-то одно из них,
[02:05:36.340 --> 02:05:38.340]  знаете раньше, чем сам угол а.
[02:05:38.340 --> 02:05:40.340]  И сам угол вам даже не нужен.
[02:05:40.340 --> 02:05:42.340]  Но как же это?
[02:05:42.340 --> 02:05:44.340]  Но как же вообще это сделать?
[02:05:46.340 --> 02:05:48.340]  Курс линала в полночь?
[02:05:48.340 --> 02:05:50.340]  Ну как сказать, да.
[02:05:50.340 --> 02:05:52.340]  Из курса линала,
[02:05:52.340 --> 02:05:54.340]  бывает, или просто,
[02:05:54.340 --> 02:05:56.340]  вы знаете, на какую матричку надо намножить.
[02:05:56.340 --> 02:05:58.340]  Иксы и как, да.
[02:05:58.340 --> 02:06:00.340]  Но как бы тут остается вопрос,
[02:06:00.340 --> 02:06:02.340]  откуда мы эту матричку вообще взяли.
[02:06:04.340 --> 02:06:06.340]  Ну на самом деле...
[02:06:06.340 --> 02:06:08.340]  Комплексные экспоненты, вроде, оттуда должны образоваться.
[02:06:08.340 --> 02:06:10.340]  Да, отлично.
[02:06:10.340 --> 02:06:12.340]  Но на самом деле все гораздо проще.
[02:06:12.340 --> 02:06:14.340]  Дело в том, что вектор В,
[02:06:14.340 --> 02:06:16.340]  это можно проделать,
[02:06:16.340 --> 02:06:18.340]  это равен
[02:06:18.340 --> 02:06:20.340]  E1 умножить на х
[02:06:20.340 --> 02:06:22.340]  плюс E2 умножить на у.
[02:06:22.340 --> 02:06:24.340]  То есть в принципе,
[02:06:24.340 --> 02:06:26.340]  на самом деле, если я поверну
[02:06:26.340 --> 02:06:28.340]  базисные вектора E1 и E2 на угол а,
[02:06:28.340 --> 02:06:30.340]  то я к ним просто применяю этот
[02:06:30.340 --> 02:06:32.340]  x и y, и у меня получается. Правда?
[02:06:32.340 --> 02:06:34.340]  А теперь давайте...
[02:06:34.340 --> 02:06:36.340]  Ну вот.
[02:06:36.340 --> 02:06:38.340]  То есть ас равно.
[02:06:38.340 --> 02:06:40.340]  Теперь у меня что-то на х
[02:06:40.340 --> 02:06:42.340]  плюс что-то на у.
[02:06:42.340 --> 02:06:44.340]  А теперь давайте думать.
[02:06:44.340 --> 02:06:46.340]  Я хочу повернуть
[02:06:46.340 --> 02:06:48.340]  вектор 1.0
[02:06:48.340 --> 02:06:50.340]  базисный
[02:06:50.340 --> 02:06:52.340]  на угол альфа.
[02:06:52.340 --> 02:06:54.340]  Что у меня получится?
[02:06:58.340 --> 02:07:00.340]  Вот задача.
[02:07:00.340 --> 02:07:02.340]  Повернуть вектор 1.0
[02:07:02.340 --> 02:07:04.340]  на угол альфа против часовой стрелки.
[02:07:04.340 --> 02:07:06.340]  Вектор с какими координатами у меня получится?
[02:07:08.340 --> 02:07:10.340]  Да. По определению понятия
[02:07:10.340 --> 02:07:12.340]  косинус и синус.
[02:07:12.340 --> 02:07:14.340]  Прошу заметить.
[02:07:18.340 --> 02:07:20.340]  Ну нам, видимо, нужно что-то начать.
[02:07:22.340 --> 02:07:24.340]  Может...
[02:07:24.340 --> 02:07:26.340]  Нет, проявляю, что не так.
[02:07:26.340 --> 02:07:28.340]  Не знаю.
[02:07:28.340 --> 02:07:30.340]  Ну да, да.
[02:07:30.340 --> 02:07:32.340]  Вот.
[02:07:32.340 --> 02:07:34.340]  Так.
[02:07:34.340 --> 02:07:36.340]  Сейчас мы увидим, откуда
[02:07:36.340 --> 02:07:38.340]  это берется.
[02:07:38.340 --> 02:07:40.340]  А давайте подумаем.
[02:07:40.340 --> 02:07:42.340]  А E2, базисный вектор 0.1.
[02:07:42.340 --> 02:07:44.340]  Ну я просто тут горизонтально
[02:07:44.340 --> 02:07:46.340]  просто вектор пишу, а не вектор.
[02:07:46.340 --> 02:07:48.340]  Горизонтально я просто вектор пишу, а не вертикально.
[02:07:48.340 --> 02:07:50.340]  Поэтому могут быть коллизии.
[02:07:50.340 --> 02:07:52.340]  Но как бы по-хорошему
[02:07:52.340 --> 02:07:54.340]  я должен написать вот этот столбец
[02:07:54.340 --> 02:07:56.340]  умножить на X, этот столбец умножить на Y.
[02:07:56.340 --> 02:07:58.340]  Поэтому все нормально.
[02:07:58.340 --> 02:08:00.340]  А теперь давайте вот, кстати, об этом.
[02:08:00.340 --> 02:08:02.340]  А как повернуть вектор 0.1
[02:08:02.340 --> 02:08:04.340]  на угол альфа?
[02:08:04.340 --> 02:08:06.340]  Давайте. Задача чуть
[02:08:06.340 --> 02:08:08.340]  посложнее.
[02:08:10.340 --> 02:08:12.340]  Ну можно написать
[02:08:12.340 --> 02:08:14.340]  косинус альфа плюс 90, синус альфа плюс 90?
[02:08:14.340 --> 02:08:16.340]  Ну вообще да.
[02:08:16.340 --> 02:08:18.340]  То есть вообще
[02:08:18.340 --> 02:08:20.340]  по-хорошему да. А плюс 90.
[02:08:20.340 --> 02:08:22.340]  Ну ладно, в нашем
[02:08:22.340 --> 02:08:24.340]  случае pi пополам.
[02:08:24.340 --> 02:08:26.340]  А плюс
[02:08:26.340 --> 02:08:28.340]  pi пополам. Ну теперь давайте вспоминать.
[02:08:28.340 --> 02:08:30.340]  Чему равен косинус
[02:08:30.340 --> 02:08:32.340]  а плюс pi пополам?
[02:08:40.340 --> 02:08:42.340]  Ну мы знаем ответ, поэтому не очень
[02:08:42.340 --> 02:08:44.340]  по-разному.
[02:08:44.340 --> 02:08:46.340]  Но на самом деле
[02:08:46.340 --> 02:08:48.340]  давайте вообразим в себе картинку.
[02:08:48.340 --> 02:08:50.340]  То есть такие вещи нужно
[02:08:50.340 --> 02:08:52.340]  брать бумажка,
[02:08:52.340 --> 02:08:54.340]  рисовать картинка.
[02:08:56.340 --> 02:08:58.340]  Смотрите.
[02:08:58.340 --> 02:09:00.340]  Смотрите.
[02:09:00.340 --> 02:09:02.340]  То есть если вы тут
[02:09:02.340 --> 02:09:04.340]  вот.
[02:09:04.340 --> 02:09:06.340]  То есть смотрите.
[02:09:06.340 --> 02:09:08.340]  Если вот это косинус,
[02:09:08.340 --> 02:09:10.340]  вот это синус.
[02:09:10.340 --> 02:09:12.340]  А теперь вы неожиданно взяли
[02:09:12.340 --> 02:09:14.340]  и повернули на 90 градусов.
[02:09:14.340 --> 02:09:16.340]  Ну тогда
[02:09:16.340 --> 02:09:18.340]  смотрите. То есть вот это вот должно перейти
[02:09:18.340 --> 02:09:20.340]  вот сюда. То есть вот
[02:09:20.340 --> 02:09:22.340]  это вот должно быть теперь
[02:09:22.340 --> 02:09:24.340]  косинус а. Правда?
[02:09:24.340 --> 02:09:26.340]  Видите, да?
[02:09:26.340 --> 02:09:28.340]  И вот этот вот отрезок
[02:09:28.340 --> 02:09:30.340]  теперь, вот этот вот должен
[02:09:30.340 --> 02:09:32.340]  перейти теперь вот сюда.
[02:09:32.340 --> 02:09:34.340]  Но только тут он был в плюс, откладывался,
[02:09:34.340 --> 02:09:36.340]  а тут минус. Тут получается минус
[02:09:36.340 --> 02:09:38.340]  синус альфа. То есть получается
[02:09:38.340 --> 02:09:40.340]  отсюда из картинки получается,
[02:09:40.340 --> 02:09:42.340]  что косинус альфа плюс
[02:09:42.340 --> 02:09:44.340]  пи пополам
[02:09:44.340 --> 02:09:46.340]  равен чему? Правильно.
[02:09:46.340 --> 02:09:48.340]  Синус альфа.
[02:09:48.340 --> 02:09:50.340]  Только минус.
[02:09:50.340 --> 02:09:52.340]  Ну а соответственно
[02:09:52.340 --> 02:09:54.340]  как уже догадывается,
[02:09:54.340 --> 02:09:56.340]  синус альфа плюс пи пополам
[02:09:56.340 --> 02:09:58.340]  равен косинус.
[02:09:58.340 --> 02:10:00.340]  Вот.
[02:10:00.340 --> 02:10:02.340]  Синус, косинус. Все просто.
[02:10:02.340 --> 02:10:04.340]  Вот.
[02:10:04.340 --> 02:10:06.340]  Так что в результате
[02:10:06.340 --> 02:10:08.340]  этих несложных
[02:10:10.340 --> 02:10:12.340]  преобразований получается
[02:10:12.340 --> 02:10:14.340]  минус синус а и косинус а.
[02:10:16.340 --> 02:10:18.340]  Вот.
[02:10:20.340 --> 02:10:22.340]  То есть в результате я пишу
[02:10:36.340 --> 02:10:38.340]  вот такое заклинание
[02:10:38.340 --> 02:10:40.340]  в итоге пишу.
[02:10:44.340 --> 02:10:46.340]  Да, да, да.
[02:10:48.340 --> 02:10:50.340]  Вот. Ну и здесь
[02:10:50.340 --> 02:10:52.340]  здесь у нас вот так.
[02:10:54.340 --> 02:10:56.340]  Понятно?
[02:10:56.340 --> 02:10:58.340]  Вот.
[02:10:58.340 --> 02:11:00.340]  Так что вот такая красота.
[02:11:00.340 --> 02:11:02.340]  Вот. Ну то есть по-разному
[02:11:02.340 --> 02:11:04.340]  можно делать.
[02:11:04.340 --> 02:11:06.340]  Или вот.
[02:11:06.340 --> 02:11:08.340]  Ну может в принципе просто.
[02:11:08.340 --> 02:11:10.340]  Чаще конечно помнят ответ по-другому.
[02:11:10.340 --> 02:11:12.340]  То есть помнят ответ, что на самом деле
[02:11:12.340 --> 02:11:14.340]  там в виде x' и x'
[02:11:14.340 --> 02:11:16.340]  равно на самом деле
[02:11:16.340 --> 02:11:18.340]  косинус а, минус синус а.
[02:11:18.340 --> 02:11:20.340]  Значит
[02:11:20.340 --> 02:11:22.340]  синус а косинус а
[02:11:22.340 --> 02:11:24.340]  на x.
[02:11:26.340 --> 02:11:28.340]  Вот.
[02:11:28.340 --> 02:11:30.340]  Можно вот.
[02:11:30.340 --> 02:11:32.340]  Часто ответ помнят еще вот в таком виде.
[02:11:32.340 --> 02:11:34.340]  Ну как легко убедиться.
[02:11:34.340 --> 02:11:36.340]  Что она по большому счету.
[02:11:36.340 --> 02:11:38.340]  То есть на самом деле здесь можно так.
[02:11:38.340 --> 02:11:40.340]  То есть на самом деле можно еще, если вы не очень хорошо
[02:11:40.340 --> 02:11:42.340]  разбираетесь в линале,
[02:11:42.340 --> 02:11:44.340]  то можно это делать по-другому. Я помню примерно
[02:11:44.340 --> 02:11:46.340]  формулу, но я ее в случае чего могу доказать.
[02:11:46.340 --> 02:11:48.340]  Как мне доказать
[02:11:48.340 --> 02:11:50.340]  эту формулу, если я ничего не понимаю в линале?
[02:11:52.340 --> 02:11:54.340]  Очень просто.
[02:11:54.340 --> 02:11:56.340]  Давайте докажем, что этот ответ
[02:11:56.340 --> 02:11:58.340]  правильный.
[02:11:58.340 --> 02:12:00.340]  Что нужно, чтобы доказать, что вот
[02:12:00.340 --> 02:12:02.340]  вектор v,
[02:12:02.340 --> 02:12:04.340]  что вектор v' это как бы тот же
[02:12:04.340 --> 02:12:06.340]  самый вектор v, только повернутый на угол альфы.
[02:12:06.340 --> 02:12:08.340]  Что нужно для этого?
[02:12:10.340 --> 02:12:12.340]  Ну, во-первых,
[02:12:12.340 --> 02:12:14.340]  должно быть, что
[02:12:14.340 --> 02:12:16.340]  модуль v в квадрате
[02:12:16.340 --> 02:12:18.340]  даже равно модуль v' в квадрате.
[02:12:18.340 --> 02:12:20.340]  То есть во-первых, у них длины
[02:12:20.340 --> 02:12:22.340]  совпадают.
[02:12:22.340 --> 02:12:24.340]  Что еще?
[02:12:24.340 --> 02:12:26.340]  А еще
[02:12:26.340 --> 02:12:28.340]  нужно проверить, что
[02:12:28.340 --> 02:12:30.340]  длины совпадают и угол
[02:12:30.340 --> 02:12:32.340]  между ними адекватный.
[02:12:32.340 --> 02:12:34.340]  Но углы совпадают
[02:12:34.340 --> 02:12:36.340]  только тогда, когда совпадают их
[02:12:36.340 --> 02:12:38.340]  косинусы и синусы.
[02:12:38.340 --> 02:12:40.340]  А косинусы и синусы можно проверить даже с помощью
[02:12:40.340 --> 02:12:42.340]  скалярных и векторных произведений.
[02:12:42.340 --> 02:12:44.340]  То есть идея такая.
[02:12:44.340 --> 02:12:46.340]  То есть я просто напишу, что
[02:12:46.340 --> 02:12:48.340]  скалярное произведение равно
[02:12:48.340 --> 02:12:50.340]  модуль v в квадрате
[02:12:50.340 --> 02:12:52.340]  на косинус альфа
[02:12:54.340 --> 02:12:56.340]  и v на v'
[02:12:56.340 --> 02:12:58.340]  равно
[02:12:58.340 --> 02:13:00.340]  модуль v в квадрате
[02:13:00.340 --> 02:13:02.340]  синус альфа.
[02:13:02.340 --> 02:13:04.340]  То есть по сути остается только взять эту
[02:13:04.340 --> 02:13:06.340]  систему и очень-очень-очень
[02:13:06.340 --> 02:13:08.340]  аккуратно это проверить.
[02:13:08.340 --> 02:13:10.340]  Ну, воспоминая
[02:13:10.340 --> 02:13:12.340]  мистические формулы.
[02:13:12.340 --> 02:13:14.340]  Что?
[02:13:14.340 --> 02:13:16.340]  Ну да, мне тоже нравится.
[02:13:16.340 --> 02:13:18.340]  Вот.
[02:13:18.340 --> 02:13:20.340]  Ну, в принципе, да.
[02:13:20.340 --> 02:13:22.340]  Более того, если не сошлось, то вы еще можете
[02:13:22.340 --> 02:13:24.340]  подогнать, где тут минус синус надо,
[02:13:24.340 --> 02:13:26.340]  где-то плюс синус.
[02:13:26.340 --> 02:13:28.340]  То есть, в принципе, если у вас будет не сходиться,
[02:13:28.340 --> 02:13:30.340]  то вы еще и будете помнить, а где тут надо
[02:13:30.340 --> 02:13:32.340]  что-то подставить, чтобы сошлось.
[02:13:32.340 --> 02:13:34.340]  Это так на случай, если вы случайно формулу
[02:13:34.340 --> 02:13:36.340]  забыли. Ну, лучше ее, конечно, не забывать,
[02:13:36.340 --> 02:13:38.340]  но, как бы, давайте, то есть часто скажем,
[02:13:38.340 --> 02:13:40.340]  на олимпиаде полезный скилл как бы
[02:13:40.340 --> 02:13:42.340]  перепроверять. Знаете, даже на соревнованиях
[02:13:42.340 --> 02:13:44.340]  по шахматам этот скилл применяют.
[02:13:44.340 --> 02:13:46.340]  Нет. Да.
[02:13:46.340 --> 02:13:48.340]  Сейчас, наоборот, там же какой-то
[02:13:48.340 --> 02:13:50.340]  грозместие говорил шахматный,
[02:13:50.340 --> 02:13:52.340]  что
[02:13:52.340 --> 02:13:54.340]  ты должен доверять себе,
[02:13:54.340 --> 02:13:56.340]  читать один раз, потому что, если
[02:13:56.340 --> 02:13:58.340]  два раза читать, то еще... Да, но я не об этом.
[02:13:58.340 --> 02:14:00.340]  Дело вот в чем. Нет,
[02:14:00.340 --> 02:14:02.340]  я имею в виду следствие. С одной стороны, да.
[02:14:02.340 --> 02:14:04.340]  Но с другой стороны, несколько первых ходов
[02:14:04.340 --> 02:14:06.340]  обычно игроки делают
[02:14:06.340 --> 02:14:08.340]  по домашнему, по уже известной им
[02:14:08.340 --> 02:14:10.340]  теории. То есть, первые
[02:14:10.340 --> 02:14:12.340]  ходы совсем стандартные дебюты, а дальше
[02:14:12.340 --> 02:14:14.340]  они определяются тем, в какие конкретно
[02:14:14.340 --> 02:14:16.340]  направления теории
[02:14:16.340 --> 02:14:18.340]  они хотят привести партию.
[02:14:18.340 --> 02:14:20.340]  Вот.
[02:14:20.340 --> 02:14:22.340]  Но дальше, поэтому
[02:14:22.340 --> 02:14:24.340]  периодически игроков озекает следующее,
[02:14:24.340 --> 02:14:26.340]  что человек там явно знает теорию,
[02:14:26.340 --> 02:14:28.340]  он по идее знает, куда надо ходить, но он
[02:14:28.340 --> 02:14:30.340]  перепроверяет.
[02:14:30.340 --> 02:14:32.340]  Потому что он не просто так знает, что туда надо ходить,
[02:14:32.340 --> 02:14:34.340]  не просто потому, что ему там умные дяди
[02:14:34.340 --> 02:14:36.340]  сказали.
[02:14:36.340 --> 02:14:38.340]  Ну да, что не перепутал,
[02:14:38.340 --> 02:14:40.340]  потому что можно пытаться играть
[02:14:40.340 --> 02:14:42.340]  быстро, но бывает такой
[02:14:42.340 --> 02:14:44.340]  специфик, называется перепутал порядок ходов.
[02:14:44.340 --> 02:14:46.340]  И тогда бывает, что там, если
[02:14:46.340 --> 02:14:48.340]  ходы сделать не в том порядке, то противник этим
[02:14:48.340 --> 02:14:50.340]  будет очень сильно воспользоваться.
[02:14:50.340 --> 02:14:52.340]  Ну вот. То есть, поэтому там
[02:14:52.340 --> 02:14:54.340]  в шахматах такое встречается.
[02:14:54.340 --> 02:14:56.340]  Вот.
[02:14:56.340 --> 02:14:58.340]  Еще если нашел выигрыш, его можно проверять
[02:14:58.340 --> 02:15:00.340]  сколько угодно времени.
[02:15:00.340 --> 02:15:02.340]  Если он правильный, то выиграли,
[02:15:02.340 --> 02:15:04.340]  а если не правильный,
[02:15:04.340 --> 02:15:06.340]  то вы это поймете раньше,
[02:15:06.340 --> 02:15:08.340]  чем мы.
[02:15:08.340 --> 02:15:10.340]  Ну да.
[02:15:10.340 --> 02:15:12.340]  В шахматах это не актуально, потому что там
[02:15:12.340 --> 02:15:14.340]  выигрыш обычно в несколько ходов,
[02:15:14.340 --> 02:15:16.340]  либо очень длинный, но понятный.
[02:15:16.340 --> 02:15:18.340]  А, ну да.
[02:15:18.340 --> 02:15:20.340]  Ну да.
[02:15:20.340 --> 02:15:22.340]  Но не будем сейчас копать.
[02:15:22.340 --> 02:15:24.340]  Ладно. Так вот.
[02:15:24.340 --> 02:15:26.340]  Проверите это.
[02:15:26.340 --> 02:15:28.340]  Не будем сейчас с вами расписывать, как это проверять.
[02:15:28.340 --> 02:15:30.340]  Ну я сказал, просто честно,
[02:15:30.340 --> 02:15:32.340]  тут все расписываете, сворачиваете,
[02:15:32.340 --> 02:15:34.340]  сокращаете лишнее.
[02:15:34.340 --> 02:15:36.340]  Помните, основное трагометрическое
[02:15:36.340 --> 02:15:38.340]  трождество, вот это что, косинус квадрат
[02:15:38.340 --> 02:15:40.340]  плюс инус квадрат равно 1.
[02:15:40.340 --> 02:15:42.340]  Ну, то есть, конечно, там какой-то базовый школьный
[02:15:42.340 --> 02:15:44.340]  геометр обычно все-таки полет там.
[02:15:44.340 --> 02:15:46.340]  Но помнить, увы, надо.
[02:15:46.340 --> 02:15:48.340]  Вот.
[02:15:48.340 --> 02:15:50.340]  Так что это вот мы тоже разобрали.
[02:15:50.340 --> 02:15:52.340]  Так, ну хорошо.
[02:15:52.340 --> 02:15:54.340]  Это были углы.
[02:15:54.340 --> 02:15:56.340]  Ладно, теперь давайте перейдем к чему-нибудь еще.
[02:15:56.340 --> 02:15:58.340]  Например, многоугольник.
[02:16:00.340 --> 02:16:02.340]  Вот.
[02:16:02.340 --> 02:16:04.340]  Ну вот, действительно, что такое обычно многоугольник?
[02:16:04.340 --> 02:16:06.340]  Ну, многоугольник обычно
[02:16:06.340 --> 02:16:08.340]  это просто вектор
[02:16:08.340 --> 02:16:10.340]  точек, правда?
[02:16:10.340 --> 02:16:12.340]  Вот.
[02:16:12.340 --> 02:16:14.340]  То есть, обычно это вот какой-то просто
[02:16:14.340 --> 02:16:16.340]  вектор точек.
[02:16:16.340 --> 02:16:18.340]  Ну, про него, ну, обычно, конечно, мы рассматриваем
[02:16:18.340 --> 02:16:20.340]  в первую очередь простые многоугольники,
[02:16:20.340 --> 02:16:22.340]  там без всяких самопересечений и
[02:16:22.340 --> 02:16:24.340]  самокасаний.
[02:16:24.340 --> 02:16:26.340]  Ну, а давайте первую нот.
[02:16:26.340 --> 02:16:28.340]  Первое, что мы хотим сделать, это, например,
[02:16:28.340 --> 02:16:30.340]  ну, можно попробовать, скажем,
[02:16:30.340 --> 02:16:32.340]  найти его площадь.
[02:16:34.340 --> 02:16:36.340]  Теперь внимание и вопрос.
[02:16:36.340 --> 02:16:38.340]  Как найти площадь?
[02:16:38.340 --> 02:16:40.340]  Как найти площадь?
[02:16:42.340 --> 02:16:44.340]  Ну, на самом деле, тут, конечно, полезно знать
[02:16:44.340 --> 02:16:46.340]  два метода.
[02:16:46.340 --> 02:16:48.340]  Да, ну, во-первых, да. Начнем, конечно,
[02:16:48.340 --> 02:16:50.340]  с простого. Давайте предположим, что
[02:16:50.340 --> 02:16:52.340]  многоугольник выпуклый.
[02:16:56.340 --> 02:16:58.340]  Ну, это потом выяснится,
[02:16:58.340 --> 02:17:00.340]  что никакой.
[02:17:00.340 --> 02:17:02.340]  Ну, визуально, ну, вот.
[02:17:02.340 --> 02:17:04.340]  Так, ну, на самом деле, можно начать с чего?
[02:17:04.340 --> 02:17:06.340]  Как найти площадь треугольника?
[02:17:08.340 --> 02:17:10.340]  Векторное произведение.
[02:17:10.340 --> 02:17:12.340]  Да, модуль векторного, ну, если прям
[02:17:12.340 --> 02:17:14.340]  честно, то модуль векторного
[02:17:14.340 --> 02:17:16.340]  произведения пополам, правда?
[02:17:16.340 --> 02:17:18.340]  Ну, помним школьную формулу, да, что
[02:17:18.340 --> 02:17:20.340]  площадь треугольника это половина
[02:17:20.340 --> 02:17:22.340]  произведения двухстороннего синуса угла
[02:17:22.340 --> 02:17:24.340]  между ними, да?
[02:17:24.340 --> 02:17:26.340]  Ну, вот.
[02:17:26.340 --> 02:17:28.340]  Ну, понятно, что через высоту, но, как вы
[02:17:28.340 --> 02:17:30.340]  поняли, тут проблема, да, что
[02:17:30.340 --> 02:17:32.340]  когда мы это пишем, мы должны это помнить,
[02:17:32.340 --> 02:17:34.340]  а не, там, понятно, как это
[02:17:34.340 --> 02:17:36.340]  выводить через высоту, там, это понятно,
[02:17:36.340 --> 02:17:38.340]  но, помнить, к сожалению,
[02:17:38.340 --> 02:17:40.340]  но это, как бы, надо именно помнить.
[02:17:40.340 --> 02:17:42.340]  Ну, нет.
[02:17:42.340 --> 02:17:44.340]  Каждый раз это можно выводить за 5 секунд.
[02:17:44.340 --> 02:17:46.340]  Нет, ты знаешь, но для того, чтобы
[02:17:46.340 --> 02:17:48.340]  выводить, нужно знать, что это есть.
[02:17:48.340 --> 02:17:50.340]  Потому что, как бы, тут фишка бывает,
[02:17:50.340 --> 02:17:52.340]  да, вы, как бы, знаешь, как это бывает?
[02:17:52.340 --> 02:17:54.340]  Если тебе поставить такую задачу, ты это выведешь,
[02:17:54.340 --> 02:17:56.340]  да, но, как бы, чтобы
[02:17:56.340 --> 02:17:58.340]  решить задачи на олимпиаде,
[02:17:58.340 --> 02:18:00.340]  или где-нибудь еще, нужно было, чтоб ты
[02:18:00.340 --> 02:18:02.340]  откуда-то вспомнил про эту формулу, вообще.
[02:18:02.340 --> 02:18:04.340]  Вот. Так вот.
[02:18:04.340 --> 02:18:06.340]  Но это если площадь.
[02:18:06.340 --> 02:18:08.340]  Как посчитать площадь выпуклого угольника?
[02:18:08.340 --> 02:18:10.340]  Ну, на то он и выпуклый,
[02:18:10.340 --> 02:18:12.340]  что можно его просто поделить
[02:18:12.340 --> 02:18:14.340]  вот так диагоналями на треугольнике,
[02:18:14.340 --> 02:18:16.340]  скажем, вот, а это будет, пусть, нулевая
[02:18:16.340 --> 02:18:18.340]  точка какая-нибудь там,
[02:18:18.340 --> 02:18:20.340]  там, п0. И, честно сказать, что
[02:18:20.340 --> 02:18:22.340]  у нас площадь равна
[02:18:22.340 --> 02:18:24.340]  чему? То есть
[02:18:24.340 --> 02:18:26.340]  s равна,
[02:18:26.340 --> 02:18:28.340]  то есть, там, допустим, 1 вторая
[02:18:28.340 --> 02:18:30.340]  сумма по всем
[02:18:30.340 --> 02:18:32.340]  и равно, там, допустим, от 1 до
[02:18:32.340 --> 02:18:34.340]  n минус 2,
[02:18:34.340 --> 02:18:36.340]  там, p и t,
[02:18:36.340 --> 02:18:38.340]  там, минус
[02:18:38.340 --> 02:18:40.340]  p0,
[02:18:40.340 --> 02:18:42.340]  ну вот, на
[02:18:42.340 --> 02:18:44.340]  p и плюс 1 минус
[02:18:44.340 --> 02:18:46.340]  p0.
[02:18:46.340 --> 02:18:48.340]  Вот. Можно, в принципе, написать
[02:18:48.340 --> 02:18:50.340]  модуль. Видно, да?
[02:18:50.340 --> 02:18:52.340]  А можно не писать.
[02:18:52.340 --> 02:18:54.340]  Потому что, в принципе,
[02:18:54.340 --> 02:18:56.340]  если я напишу вот так, то что получится?
[02:18:56.340 --> 02:18:58.340]  То получится, казалось бы,
[02:18:58.340 --> 02:19:00.340]  та же площадь.
[02:19:00.340 --> 02:19:02.340]  Ну вот. Но с оговоркой.
[02:19:02.340 --> 02:19:04.340]  Если многоугольник
[02:19:04.340 --> 02:19:06.340]  ориентирован
[02:19:06.340 --> 02:19:08.340]  против
[02:19:08.340 --> 02:19:10.340]  часовой стрелки,
[02:19:12.340 --> 02:19:14.340]  тогда легко заметить, что
[02:19:14.340 --> 02:19:16.340]  тогда все эти треугольники будут,
[02:19:16.340 --> 02:19:18.340]  у всех треугольников
[02:19:18.340 --> 02:19:20.340]  пекторонапресение будет давать нужный
[02:19:20.340 --> 02:19:22.340]  знак, да?
[02:19:22.340 --> 02:19:24.340]  Но, с другой стороны, заметим, что
[02:19:24.340 --> 02:19:26.340]  если многоугольник идет против часовой
[02:19:26.340 --> 02:19:28.340]  стрелки, то тогда окажется
[02:19:28.340 --> 02:19:30.340]  вот эта штука окажется отрицательной.
[02:19:30.340 --> 02:19:32.340]  Вот. То есть, обычно
[02:19:32.340 --> 02:19:34.340]  это называют, то есть, тут вводится понятие
[02:19:34.340 --> 02:19:36.340]  ориентированная площадь.
[02:19:38.340 --> 02:19:40.340]  Ориентированная
[02:19:40.340 --> 02:19:42.340]  площадь.
[02:19:44.340 --> 02:19:46.340]  То есть, что это означает?
[02:19:46.340 --> 02:19:48.340]  Мы хотим, чтобы у нас площадь, она была
[02:19:48.340 --> 02:19:50.340]  со знаком плюс, если многоугольник
[02:19:50.340 --> 02:19:52.340]  ориентирован против часовой стрелки,
[02:19:52.340 --> 02:19:54.340]  и меньше 0, если ориентирован
[02:19:54.340 --> 02:19:56.340]  по часовой стрелке.
[02:19:58.340 --> 02:20:00.340]  Правда, возникает естественный вопрос.
[02:20:00.340 --> 02:20:02.340]  А что такое по часовой стрелке, а что
[02:20:02.340 --> 02:20:04.340]  такое против часовой стрелки?
[02:20:04.340 --> 02:20:06.340]  Если площадь больше 0?
[02:20:06.340 --> 02:20:08.340]  Да. Обычно это сводит
[02:20:08.340 --> 02:20:10.340]  к определению,
[02:20:10.340 --> 02:20:12.340]  кто-то может написать, но
[02:20:12.340 --> 02:20:14.340]  для нас это все-таки хочется что-то более
[02:20:14.340 --> 02:20:16.340]  общее. Вот.
[02:20:16.340 --> 02:20:18.340]  Ну, действительно, просто тут еще проблема в том, что интуитивно
[02:20:18.340 --> 02:20:20.340]  это понятно, если многоугольник выпуклый,
[02:20:20.340 --> 02:20:22.340]  но если он, скажем,
[02:20:22.340 --> 02:20:24.340]  какая-то гадость,
[02:20:24.340 --> 02:20:26.340]  вот вы его сейчас как рисуете?
[02:20:28.340 --> 02:20:30.340]  То как бы непонятно,
[02:20:30.340 --> 02:20:32.340]  это как бы по часовой стрелке?
[02:20:32.340 --> 02:20:34.340]  Вот что, какое направление тут будет?
[02:20:34.340 --> 02:20:36.340]  Если индекс вращения положительный,
[02:20:36.340 --> 02:20:38.340]  то по часовой, если
[02:20:38.340 --> 02:20:40.340]  отрицательный, то против.
[02:20:40.340 --> 02:20:42.340]  Что такое
[02:20:42.340 --> 02:20:44.340]  индекс вращения?
[02:20:44.340 --> 02:20:46.340]  Относительно точки внутри.
[02:20:46.340 --> 02:20:48.340]  О господи.
[02:20:48.340 --> 02:20:50.340]  Индекс, ну вообще да.
[02:20:50.340 --> 02:20:52.340]  Хотя да, наверное, так по умному называется.
[02:20:52.340 --> 02:20:54.340]  Да, действительно, очень хотелось бы,
[02:20:54.340 --> 02:20:56.340]  чтобы у нас была точка, скажем,
[02:20:56.340 --> 02:20:58.340]  внутри многоугольника. Ой, а что
[02:20:58.340 --> 02:21:00.340]  такое внутри многоугольника, кстати?
[02:21:00.340 --> 02:21:02.340]  Вот эти так вот.
[02:21:02.340 --> 02:21:04.340]  У нас по какой-то
[02:21:04.340 --> 02:21:06.340]  все время жардано.
[02:21:06.340 --> 02:21:08.340]  Да.
[02:21:08.340 --> 02:21:10.340]  Одна из них будет конечная.
[02:21:10.340 --> 02:21:12.340]  Нет, не конечная, а ограниченная.
[02:21:12.340 --> 02:21:14.340]  Ну, да. Одна ограниченная,
[02:21:14.340 --> 02:21:16.340]  другая нет. Да. Так что ограниченная называется
[02:21:16.340 --> 02:21:18.340]  внутри, остальная снаружи.
[02:21:18.340 --> 02:21:20.340]  А, то я сказал эту байку, видимо.
[02:21:20.340 --> 02:21:22.340]  Нет? Нет?
[02:21:22.340 --> 02:21:24.340]  Ну ладно, не важно. На самом деле,
[02:21:24.340 --> 02:21:26.340]  может быть. Я люблю рассказывать, потому что утверждалось,
[02:21:26.340 --> 02:21:28.340]  что там стародавниво времена, когда в ВУЗы
[02:21:28.340 --> 02:21:30.340]  поступали с помощью устных
[02:21:30.340 --> 02:21:32.340]  экзаменов, вот иногда
[02:21:32.340 --> 02:21:34.340]  была такая практика. То есть, предположим, что вам
[02:21:34.340 --> 02:21:36.340]  какого-то талантливого абитуриента надо завалить.
[02:21:36.340 --> 02:21:38.340]  И тогда ему можно задавать подобного рода
[02:21:38.340 --> 02:21:40.340]  вопрос. Ну, там
[02:21:40.340 --> 02:21:42.340]  можно начать просто с каких-то еще хотя бы вопросов.
[02:21:42.340 --> 02:21:44.340]  Почему бесектриса угла в треугольнике
[02:21:44.340 --> 02:21:46.340]  пересекает там противоположную сторону,
[02:21:46.340 --> 02:21:48.340]  например?
[02:21:48.340 --> 02:21:50.340]  Или там что-нибудь еще
[02:21:50.340 --> 02:21:52.340]  в этом роде. В общем, там
[02:21:52.340 --> 02:21:54.340]  что такое внутри? И там вот учили,
[02:21:54.340 --> 02:21:56.340]  что такие вопросы, что если внутри, вы должны
[02:21:56.340 --> 02:21:58.340]  сказать заклинания. Вот, по теоремы
[02:21:58.340 --> 02:22:00.340]  Жардана любая, санкнутая,
[02:22:00.340 --> 02:22:02.340]  не самопересекающаяся кривая,
[02:22:02.340 --> 02:22:04.340]  делит плоскость
[02:22:04.340 --> 02:22:06.340]  за исключение саму себя на две
[02:22:06.340 --> 02:22:08.340]  связанные части, одна из которых является
[02:22:08.340 --> 02:22:10.340]  ограниченной, другая нет.
[02:22:10.340 --> 02:22:12.340]  Вот, доказательства теоремы Жардана
[02:22:12.340 --> 02:22:14.340]  выходят за рамки школьной
[02:22:14.340 --> 02:22:16.340]  программы. Вот там какие-то такие заклинания
[02:22:16.340 --> 02:22:18.340]  были.
[02:22:18.340 --> 02:22:20.340]  У тебя не завалили, что ты EG сдавал?
[02:22:20.340 --> 02:22:22.340]  Отчасти,
[02:22:22.340 --> 02:22:24.340]  это была отчасти одним из других методов,
[02:22:24.340 --> 02:22:26.340]  почему EG вообще ввели.
[02:22:26.340 --> 02:22:28.340]  Потому что вот это вот...
[02:22:28.340 --> 02:22:30.340]  Нет, так-то да,
[02:22:30.340 --> 02:22:32.340]  ты ответил правильно.
[02:22:32.340 --> 02:22:34.340]  Ну, там они попытались
[02:22:34.340 --> 02:22:36.340]  завалить другими средствами.
[02:22:36.340 --> 02:22:38.340]  Там была бы попытка, они
[02:22:38.340 --> 02:22:40.340]  просто дали тебе задачу, в которую ты бы почти
[02:22:40.340 --> 02:22:42.340]  заведомо не решил, просто, но
[02:22:42.340 --> 02:22:44.340]  потом ты бы никому никогда не смог доказать,
[02:22:44.340 --> 02:22:46.340]  что эта задача сложная.
[02:22:48.340 --> 02:22:50.340]  Потому что у всех этих задач
[02:22:50.340 --> 02:22:52.340]  очень тупое решение, но просто
[02:22:52.340 --> 02:22:54.340]  оно там...
[02:22:54.340 --> 02:22:56.340]  очень тупое, но просто вот почему-то
[02:22:56.340 --> 02:22:58.340]  очень-очень-очень-очень
[02:22:58.340 --> 02:23:00.340]  немногие почему-то могут эту задачу с нуля
[02:23:00.340 --> 02:23:02.340]  решить. Вот просто вот бывают такие подлые задачи.
[02:23:04.340 --> 02:23:06.340]  То есть как бы если показать задачу и решение,
[02:23:06.340 --> 02:23:08.340]  никому в жизни не докажешь, что задача была
[02:23:08.340 --> 02:23:10.340]  сложная. Или там
[02:23:10.340 --> 02:23:12.340]  требовало какие-то знания, больше там
[02:23:12.340 --> 02:23:14.340]  знаний из школьной программы.
[02:23:16.340 --> 02:23:18.340]  Так что тут...
[02:23:18.340 --> 02:23:20.340]  Ну, тут
[02:23:20.340 --> 02:23:22.340]  мы вам все, что мы можем предложить. Вот вам примерный
[02:23:22.340 --> 02:23:24.340]  список таких задач. Тренируйтесь.
[02:23:24.340 --> 02:23:26.340]  Вот.
[02:23:26.340 --> 02:23:28.340]  Ну, против лады, сейчас
[02:23:28.340 --> 02:23:30.340]  не актуально, потому что... Ну ладно, тут у вас
[02:23:30.340 --> 02:23:32.340]  ЕГ, а у вас ЕГ, у вас
[02:23:32.340 --> 02:23:34.340]  в СЕРС, в общем-то, так что...
[02:23:34.340 --> 02:23:36.340]  Так что в этом смысле да.
[02:23:36.340 --> 02:23:38.340]  Так вот. Ну ладно,
[02:23:38.340 --> 02:23:40.340]  на тему внутри-снаружи, вот поняли?
[02:23:40.340 --> 02:23:42.340]  Действительно. Хочется, если уж точка внутри,
[02:23:42.340 --> 02:23:44.340]  то идея действительно такая.
[02:23:44.340 --> 02:23:46.340]  Тут бывает полезно еще воображать
[02:23:46.340 --> 02:23:48.340]  себе это. Может быть умное слово индекс
[02:23:48.340 --> 02:23:50.340]  вращения. Часто его там
[02:23:50.340 --> 02:23:52.340]  вообще в курсе математики могут вести как
[02:23:52.340 --> 02:23:54.340]  правильный интеграл. То есть какой-то там интеграл
[02:23:54.340 --> 02:23:56.340]  чего-нибудь, а потом заметим, что
[02:23:56.340 --> 02:23:58.340]  этот интеграл это всегда делится на 2П.
[02:24:00.340 --> 02:24:02.340]  Хотя смысл тут очень простой. Жила
[02:24:02.340 --> 02:24:04.340]  была точка, которая идет по многоугольнику.
[02:24:04.340 --> 02:24:06.340]  А вот идея такая,
[02:24:06.340 --> 02:24:08.340]  вы стоите в какой-то точке, допустим,
[02:24:08.340 --> 02:24:10.340]  в какой-то точке, и на нее смотрите.
[02:24:10.340 --> 02:24:12.340]  И когда точка двигается, вы
[02:24:12.340 --> 02:24:14.340]  поворачиваете. Иногда поворачиваетесь
[02:24:14.340 --> 02:24:16.340]  как бы вот. То есть вот она так идет, вы
[02:24:16.340 --> 02:24:18.340]  поворачиваетесь налево,
[02:24:18.340 --> 02:24:20.340]  и еще она идет, поворачиваетесь
[02:24:20.340 --> 02:24:22.340]  направо и так далее.
[02:24:22.340 --> 02:24:24.340]  Видимо, обычно под индексом
[02:24:24.340 --> 02:24:26.340]  вращения подразумевается ровно вот это.
[02:24:26.340 --> 02:24:28.340]  И вам теперь жутко интересно,
[02:24:28.340 --> 02:24:30.340]  когда эта точка...
[02:24:30.340 --> 02:24:32.340]  если вот эта точка,
[02:24:32.340 --> 02:24:34.340]  за которой вы следите, пройдет по
[02:24:34.340 --> 02:24:36.340]  многоугольнику. На какой угол вы повернетесь?
[02:24:38.340 --> 02:24:46.340]  Но есть подозрение, понятно, что угол, на который вы повернетесь, он будет делиться на 2p, очевидно, правда?
[02:24:46.340 --> 02:24:52.340]  Но другой вопрос, он будет 0 или что-то нетривиальное?
[02:24:52.340 --> 02:25:02.340]  Вот, ну хочется обычно так, то есть оказывается так, что если точка лежит вне многоугольника, то этот угол будет 0.
[02:25:03.340 --> 02:25:07.340]  Утверждение. Если точка вне многоугольника, то он будет 0.
[02:25:07.340 --> 02:25:16.340]  Если она будет внутри многоугольника и точка шла, кажется, против часовой стрелки, то он будет положить, то он будет ровно 2p.
[02:25:16.340 --> 02:25:22.340]  А если по часовой стрелке, то минус 2p. Правда, остался только выяснить маленький интересный момент.
[02:25:22.340 --> 02:25:29.340]  А что такое против часовой стрелки, а что такое по? Вот в этом вот экзотическом случае.
[02:25:30.340 --> 02:25:39.340]  Ну здесь я просто скажу простое определение. Мы будем говорить, что мы идем против часовой стрелки, если когда мы идем по границе,
[02:25:39.340 --> 02:25:46.340]  как бы сам многоугольник остается слева. Ну как сам многоугольник?
[02:25:46.340 --> 02:25:50.340]  Нет, понятно, что когда мы вот тут идем, да у нас тут и слева и справа есть все что угодно, да?
[02:25:50.340 --> 02:26:00.340]  Но здесь вот это будет так, что если мы вот прямо на столечко отойдем лево, мы должны быть в многоугольнике.
[02:26:00.340 --> 02:26:06.340]  А если на столечко отойдем в другую сторону, то мы должны быть вне многоугольника.
[02:26:06.340 --> 02:26:12.340]  Может наверно еще определить, что существует сторона слева, от которой есть многоугольник?
[02:26:19.340 --> 02:26:28.340]  Ну можно наверно сказать и так. Но это когда-нибудь может быть где-то существует. Она бы хочется прямо вот локально это понимать.
[02:26:28.340 --> 02:26:33.340]  Ну тут просто это как угодно. То есть по сути мы идем так.
[02:26:33.340 --> 02:26:40.340]  По сути мы как бы идем не по самой этой стороне, а как бы мы идем чуть-чуть слева от этой стороны и как бы касаемся этой стены.
[02:26:40.340 --> 02:26:48.340]  То есть просто вот идем и утверждается, что когда мы вот так обходим, то мы как бы идем...
[02:26:48.340 --> 02:26:55.340]  То есть если мы таким образом вот именно вот по правую руку у нас стена и мы так идем, то получается мы идем против часовой стрелки.
[02:26:55.340 --> 02:27:03.340]  Согласуюсь с тем, что выпукло в многоугольнике это как раз против часовой стрелки будет, а подчасовой наоборот это если мы левый.
[02:27:05.340 --> 02:27:11.340]  Вот тут такая идея. На самом деле полезная такая визуализация, которая в целом бывает очень полезна.
[02:27:12.340 --> 02:27:13.340]  Понятно, да?
[02:27:14.340 --> 02:27:15.340]  Вот.
[02:27:16.340 --> 02:27:21.340]  Так вот. Но теперь у нас есть вопрос. А можно ли это утверждение доказать?
[02:27:22.340 --> 02:27:23.340]  Что конкретно?
[02:27:24.340 --> 02:27:25.340]  Ну про ноль, два пи и минус два пи.
[02:27:26.340 --> 02:27:29.340]  А то может там четыре пи, восемь пи, мало ли.
[02:27:30.340 --> 02:27:40.340]  Ну тут как бы аккуратно, а то я тут, по-моему, а то пока я тут ходил, тут был один преподаватель, который в этом месте мог вам начать очень сильно визаться.
[02:27:41.340 --> 02:27:42.340]  Вот.
[02:27:43.340 --> 02:27:44.340]  Но видимо вы его не знаете.
[02:27:45.340 --> 02:27:46.340]  Вот.
[02:27:47.340 --> 02:27:48.340]  9 утра тут был?
[02:27:49.340 --> 02:27:53.340]  Ну я не знаю, кто тут был в 9 утра. Может и он.
[02:27:54.340 --> 02:27:55.340]  Вот.
[02:27:56.340 --> 02:27:57.340]  Так вот.
[02:27:58.340 --> 02:28:03.340]  Ну просто там Аркадий Борисович Критков известен тем, что он в этом месте начинает визаться очень сильно.
[02:28:04.340 --> 02:28:08.340]  То есть настолько сильно, просто у меня по камере когда-то была репутация, что я очень сильно вижусь в доказательствах.
[02:28:09.340 --> 02:28:10.340]  Ну сейчас наверно уже нет, но все-таки.
[02:28:11.340 --> 02:28:17.340]  Ну вот так вот. В любом случае даже я в свои, так сказать, лучшие годы, видимо, по сомнению с Аркадием Борисовичем я там просто принимаю доказательства на халяву.
[02:28:18.340 --> 02:28:19.340]  В любом случае.
[02:28:20.340 --> 02:28:21.340]  Вот.
[02:28:22.340 --> 02:28:23.340]  Так вот.
[02:28:24.340 --> 02:28:27.340]  Ну давайте смотреть. Ну во-первых начнем с того, что пусть у нас точка лежит вне многоугольника.
[02:28:28.340 --> 02:28:31.340]  Ну интуитивно заметим маленькую приятную вещь.
[02:28:32.340 --> 02:28:35.340]  Если у меня этот, если я этот, вот пусть у меня есть функция.
[02:28:36.340 --> 02:28:39.340]  F от X это типа мы вот обошли многоугольник, сколько у меня угол получился, да?
[02:28:40.340 --> 02:28:43.340]  Наверное интуитивно очевидно, что это функция непрерывная, правда?
[02:28:44.340 --> 02:28:45.340]  Какая еще раз функция?
[02:28:45.340 --> 02:28:46.340]  Какая еще раз функция?
[02:28:47.340 --> 02:28:50.340]  Ну на какой угол мы повернулись, глядя на точку, обошедшую вокруг многоугольника?
[02:28:51.340 --> 02:28:52.340]  Обошедшую, что?
[02:28:53.340 --> 02:28:54.340]  В плане пока пошли по границе?
[02:28:55.340 --> 02:29:00.340]  Ну вот жила-была муха, летела она вокруг многоугольника. Мы на ней, мы стояли вот тут и смотрели, да?
[02:29:01.340 --> 02:29:02.340]  На какой угол мы суммарно повернулись?
[02:29:03.340 --> 02:29:04.340]  Вот пусть у меня эта функция.
[02:29:05.340 --> 02:29:11.340]  Муха не поворачивалась, муха летела вдоль границы. Поворачивались мы, глядя на нее.
[02:29:12.340 --> 02:29:13.340]  А, ну да.
[02:29:14.340 --> 02:29:17.340]  И вот это как бы функция от точки, где мы стояли, да?
[02:29:18.340 --> 02:29:23.340]  Так вот, заметим, что эта функция, она вне многоугольника явно непрерывна, правда?
[02:29:24.340 --> 02:29:26.340]  Не на границе, ну да.
[02:29:27.340 --> 02:29:28.340]  Нет, ну она как минимум непрерывна.
[02:29:29.340 --> 02:29:35.340]  Потому что угол, на который мы повернемся, пока муха летит, допустим, от начала ребра к концу, явно непрерывна.
[02:29:35.340 --> 02:29:45.340]  Но заметим следующее, что у нас функция имеет какие-то определенные значения дискретные.
[02:29:46.340 --> 02:29:51.340]  То есть там только 0, 2p, 4p, 6p и т.д. Ну и минус 2p, минус 4p и т.д. Правда?
[02:29:52.340 --> 02:29:53.340]  Мы это, кстати говоря, строго догадали?
[02:29:54.340 --> 02:29:55.340]  Чего? Что функция непрерывна?
[02:29:56.340 --> 02:29:57.340]  Нет, что имеет дискретные значения вот эти.
[02:29:58.340 --> 02:30:05.340]  Ну потому что мы смотрели вот в эту точку, да, и после того, как она облетит, мы будем смотреть ровно туда же.
[02:30:06.340 --> 02:30:09.340]  Ну как бы, то есть мы смотрели в точку, повернулись на какой-то угол и смотрим туда же.
[02:30:10.340 --> 02:30:14.340]  Но отсюда очевидно, что угол делится на 2p, ровно отсюда и очевидно.
[02:30:15.340 --> 02:30:22.340]  То есть да, может быть кто-то, как я уже сказал, формальной математике может такое не примут, потому что это типа отсылка к какому-то там лично вашему визуальному образу.
[02:30:23.340 --> 02:30:25.340]  Но, как по мне, этот образ достаточно точен.
[02:30:26.340 --> 02:30:27.340]  Поэтому я его и рассказываю.
[02:30:28.340 --> 02:30:29.340]  Но для любой точки не на границе.
[02:30:30.340 --> 02:30:32.340]  Нет, ну в смысле.
[02:30:33.340 --> 02:30:39.340]  Ну да, пока мы, ну вот, скажем так, да, то есть мы можем говорить, что функция непрерывна и для точек, ну вот.
[02:30:40.340 --> 02:30:44.340]  Ну тогда для точек она непрерывна на области вне границы и на области внутри границы.
[02:30:45.340 --> 02:30:48.340]  Но тогда из этого следует, что она и вне границы и внутри границы она константа.
[02:30:51.340 --> 02:30:52.340]  А, ну да.
[02:30:52.340 --> 02:30:59.340]  Ну потому что она не может, чтобы перейти от 0 до 2p, она должна принять все значения между 0 и 2p, допустим, да, а этого не бывает.
[02:31:00.340 --> 02:31:05.340]  Но отсюда только остается только увидеть, что давайте эту точку уберем максимально далеко.
[02:31:06.340 --> 02:31:08.340]  Просто настолько, настолько, настолько далеко.
[02:31:09.340 --> 02:31:10.340]  Так, не знаю, ладно, видно меня-то.
[02:31:11.340 --> 02:31:12.340]  Вот.
[02:31:13.340 --> 02:31:14.340]  Нет, прям настолько, да.
[02:31:15.340 --> 02:31:21.340]  Ну вот, настолько далеко, что как бы я уже понимаю, что у меня весь многоугольник лежит в каком-то вот маленьком угле.
[02:31:22.340 --> 02:31:24.340]  То есть в таком угле я вот так вот поворачиваюсь.
[02:31:25.340 --> 02:31:26.340]  Чуть-чуть.
[02:31:27.340 --> 02:31:32.340]  Ну очевидно, что если я тут вот смотрел куда-то и тут наповорачивался, очевидно, никакие 2p меня уже не вылезут.
[02:31:33.340 --> 02:31:36.340]  Чтобы у меня было 2p, я тут должен как-то переоборачиваться, а назад я не повернусь.
[02:31:37.340 --> 02:31:39.340]  Это уже начинает напоминать клемму до аломера.
[02:31:40.340 --> 02:31:41.340]  Возможно.
[02:31:42.340 --> 02:31:43.340]  Возможно.
[02:31:44.340 --> 02:31:45.340]  Вот.
[02:31:46.340 --> 02:31:47.340]  Поэтому здесь получается 0.
[02:31:47.340 --> 02:31:56.340]  Более сложно доказать, что если я внутри многоугольника, то есть если я как-то нахожусь внутри многоугольника, то вот при подчасовой стрелке получится реально 2p.
[02:31:59.340 --> 02:32:00.340]  Вот.
[02:32:01.340 --> 02:32:02.340]  Тут, конечно, вот.
[02:32:03.340 --> 02:32:11.340]  Наверное, хочется встать очень близко к какой-то вершине, и тогда у меня весь многоугольник к внешней вершине.
[02:32:12.340 --> 02:32:13.340]  Ну вот.
[02:32:14.340 --> 02:32:18.340]  И тогда весь многоугольник, кроме нее, будет лежать по одну сторону от нас.
[02:32:27.340 --> 02:32:28.340]  Ну, возможно.
[02:32:30.340 --> 02:32:34.340]  Нет, ну можно, наверное, и так, но можно по-другому, значит можно тут по-разному.
[02:32:35.340 --> 02:32:38.340]  На самом деле в многоугольнике есть такая не самая тривиальная теория.
[02:32:39.340 --> 02:32:40.340]  Мало кто знает, но внутри что?
[02:32:41.340 --> 02:32:45.340]  Но внутри любого многоугольника можно провести диагональ, которая лежит полностью внутри.
[02:32:48.340 --> 02:32:49.340]  Ну вот.
[02:32:50.340 --> 02:32:51.340]  И это тоже.
[02:32:52.340 --> 02:32:53.340]  Ну вот.
[02:32:54.340 --> 02:32:55.340]  Как такую диагональ найти?
[02:32:56.340 --> 02:32:57.340]  Ну, такой тупой, доказывается, такое.
[02:32:58.340 --> 02:33:01.340]  Ну, во-первых, заметим, что будет, то есть найдется какая-нибудь такая вершина, например.
[02:33:02.340 --> 02:33:04.340]  Ну, например, рассмотрим там какую-нибудь самую верхнюю вершину, например, многоугольника.
[02:33:05.340 --> 02:33:06.340]  То есть максимальную появление.
[02:33:06.340 --> 02:33:12.340]  И заметим, что угол внутри нее, вот тут по камере в эпсилонокрестности целиком, лишит внутри многоугольника.
[02:33:13.340 --> 02:33:14.340]  Вот.
[02:33:15.340 --> 02:33:16.340]  Ну, тогда получается следующее.
[02:33:17.340 --> 02:33:18.340]  Рассмотрим вот эту диагональ, соединяющую две соседние вершины.
[02:33:19.340 --> 02:33:20.340]  Может, нам повезет, и это и есть хорошая диагональ.
[02:33:21.340 --> 02:33:22.340]  А может, не повезет.
[02:33:23.340 --> 02:33:27.340]  То есть, потому что тут вот кто-то сюда, он от такой еще заходить будет.
[02:33:28.340 --> 02:33:29.340]  Что тогда сделать?
[02:33:30.340 --> 02:33:31.340]  Ну, тогда идея такая.
[02:33:31.340 --> 02:33:37.340]  Давайте тогда, так как у нас, тогда у нас внутри этого треугольника образовались какие-то вершины.
[02:33:38.340 --> 02:33:39.340]  То есть какие-то отрезки, какие-то вершины.
[02:33:40.340 --> 02:33:45.340]  Давайте через все вершины проведем прямую параллельную вот этой типа потенциальной диагонали.
[02:33:46.340 --> 02:33:50.340]  И найдем, и выберем из этих вершин, у которых это прямая ближе всех к этой точке.
[02:33:53.340 --> 02:33:56.340]  Да, вот будьте внимательны, просто самую близкую точку выбрать может не сойтись.
[02:33:56.340 --> 02:34:01.340]  Потому что там может быть точка, может быть у вас там какая-нибудь самая длинная.
[02:34:02.340 --> 02:34:08.340]  То есть там может быть самая близкая, но там, но ее там будет пересекать вот какая-нибудь такая мерзкая диагональ.
[02:34:09.340 --> 02:34:12.340]  Что тут будет ближе к чему. То есть это будет вот точка ближе к чему вот эта, но проблема.
[02:34:17.340 --> 02:34:18.340]  А, да, я понял.
[02:34:19.340 --> 02:34:23.340]  Да, на самом деле даже вот такая будет более точная картинка с тупым углом.
[02:34:26.340 --> 02:34:27.340]  Вот.
[02:34:28.340 --> 02:34:30.340]  Ну то есть вот какой-то вот такой случай.
[02:34:31.340 --> 02:34:33.340]  То есть вы хотите взять вот эту точку и вас ждет фейл.
[02:34:36.340 --> 02:34:41.340]  Поэтому вот лучше, поэтому берем прямую параллельную вот эту и тут тоже очевидно адекватно.
[02:34:44.340 --> 02:34:45.340]  Вот.
[02:34:46.340 --> 02:34:48.340]  А я просто это к чему.
[02:34:48.340 --> 02:34:52.340]  Так вот, давайте, ну заметим, что я могу тут двигаться внутри многоугольника как угодно.
[02:34:53.340 --> 02:34:56.340]  И в принципе вот этот вот поворот от этого не меняется, как вы выяснили.
[02:34:57.340 --> 02:35:00.340]  Так вот, давайте проведем какую-нибудь диагональ.
[02:35:02.340 --> 02:35:04.340]  Нет, Том, вы не доказали тиремму.
[02:35:05.340 --> 02:35:08.340]  Нет, тиремма была о том, что можно провести диагональ сначала.
[02:35:09.340 --> 02:35:10.340]  Эту мы доказали.
[02:35:11.340 --> 02:35:12.340]  Потому что вот она диагональ.
[02:35:12.340 --> 02:35:13.340]  Она диагональ.
[02:35:17.340 --> 02:35:18.340]  А, диагональ.
[02:35:19.340 --> 02:35:20.340]  Да.
[02:35:21.340 --> 02:35:23.340]  Ну короче, не обязательно треугольник отсекается.
[02:35:24.340 --> 02:35:25.340]  Да, абсолютно не обязательно.
[02:35:26.340 --> 02:35:27.340]  Да.
[02:35:28.340 --> 02:35:32.340]  Давайте я подвигаю точку, возьму эту диагональ, подвигаю точку в многоугольнике так, чтобы она на этой диагональ не попала.
[02:35:34.340 --> 02:35:36.340]  Тогда смотрите, многоугольник разбился.
[02:35:37.340 --> 02:35:42.340]  Ну, точнее так, к этому обходу, заметим, к этому обходу, скажем, против часовой стрелки,
[02:35:43.340 --> 02:35:45.340]  то есть можно сказать, что многоугольник разбился на два,
[02:35:46.340 --> 02:35:51.340]  но при этом таких, что сумма обходов относительно этой точки вот этого многоугольника и вот этого многоугольника,
[02:35:52.340 --> 02:35:54.340]  она идентична исходному обходу, правда?
[02:35:55.340 --> 02:35:59.340]  Почему? Потому что мы тут добавили плюс угол, а тут добавили минус тот же самый угол, и они поубивались.
[02:36:01.340 --> 02:36:02.340]  Саня, вы прошли туда-обратно?
[02:36:03.340 --> 02:36:04.340]  Да.
[02:36:05.340 --> 02:36:11.340]  Ну, это просто привело к тому, что я могу теперь рассмотреть вот этот обход и вот этот обход, вот этот вот обход, да?
[02:36:13.340 --> 02:36:16.340]  И так сумма этих обходов – это просто один вот этот обход.
[02:36:34.340 --> 02:36:36.340]  Окей, я понял.
[02:36:47.340 --> 02:36:48.340]  Вот, ребята, вы поняли?
[02:36:50.340 --> 02:36:51.340]  Есть кто-нибудь? Ну вот.
[02:36:52.340 --> 02:36:53.340]  Так вот, для чего я это сделал?
[02:36:55.340 --> 02:36:59.340]  Вот. Ну, сделал я очевидно для того, чтобы действительно тут проводить нот,
[02:37:00.340 --> 02:37:05.340]  чтобы сказать, что понятно, что точка лежит в одном из этих многоугольников и вне другого,
[02:37:06.340 --> 02:37:11.340]  поэтому ту, которую внутри мы убиваем, почему убиваем? Потому что обход по ней дал вклад ноль.
[02:37:13.340 --> 02:37:17.340]  То есть, на самом деле, то есть по факту, кстати, можно еще интерпретировать тот же результат тем же образом,
[02:37:18.340 --> 02:37:22.340]  что вот рассмотреть, на какой угол мы повернулись за этот обход – это то же самое, чтобы посмотреть,
[02:37:23.340 --> 02:37:24.340]  на какой угол мы повернулись, пройдя по этому ребру.
[02:37:25.340 --> 02:37:29.340]  То есть, видите, пути могут быть разные, но если вы начали в этой точке и закончили вот в этой,
[02:37:30.340 --> 02:37:32.340]  то как бы угол в итоге будет один.
[02:37:33.340 --> 02:37:37.340]  Ну, точнее так, один с точностью до вот этих вот поворотов, да?
[02:37:38.340 --> 02:37:44.340]  То есть, здесь как бы это можно аккуратненько там… Получается так, эту штуку можно сдуть, не задевая вот это.
[02:37:45.340 --> 02:37:48.340]  То есть, если я тут поставлю вместо себя штырь и начну тут вот эту веревочку натягивать,
[02:37:49.340 --> 02:37:51.340]  то как бы в штырь веревочка не упрется.
[02:37:51.340 --> 02:37:53.340]  Да, еще такой визуальный образ, да.
[02:37:54.340 --> 02:37:56.340]  Вот. Ну, так вот, что мы сделали?
[02:37:57.340 --> 02:37:59.340]  Ну, сделали мы… Да, сейчас. Чего?
[02:38:00.340 --> 02:38:03.340]  Ну, так мы сейчас сделали маленькую приятную вещь, мы уменьшили количество вершин многоугольника.
[02:38:04.340 --> 02:38:11.340]  В такой локе можно было взять просто наш многугольник, надуть его до окружности и заметить…
[02:38:12.340 --> 02:38:14.340]  Ну, как бы взять исходный многугольник, надуть до окружности…
[02:38:15.340 --> 02:38:19.340]  Ну, подожди, надуть не получится, потому что, извиняюсь у тебя, если просто тупо надуть,
[02:38:19.340 --> 02:38:24.340]  то у тебя надо думать, как сделать так, чтобы вот это вот не в одну и ту же точку пошло.
[02:38:25.340 --> 02:38:27.340]  Ну, то есть, она будет… Вот эта штука, она будет выдаваться.
[02:38:28.340 --> 02:38:30.340]  Ну, вот да, вот желательно аккуратно сделать так, что так можно, да.
[02:38:31.340 --> 02:38:32.340]  Тогда мы либо внутри окружности, либо снаружи.
[02:38:33.340 --> 02:38:35.340]  Ну, неважно. Значит, смотрите, важно другое.
[02:38:36.340 --> 02:38:40.340]  Ну, на самом деле так, утверждается такое, что, в общем, таким вот образом берем диагональ,
[02:38:41.340 --> 02:38:44.340]  то есть мы, получается, свели задачу вроде как к меньшему количеству вершин, правда?
[02:38:46.340 --> 02:38:47.340]  Да.
[02:38:47.340 --> 02:38:48.340]  Да.
[02:38:49.340 --> 02:38:50.340]  Вот.
[02:38:51.340 --> 02:38:55.340]  Ну, раз тогда у нас меньше число вершин, тогда, получается, рано или поздно,
[02:38:56.340 --> 02:38:59.340]  я утверждаю так, рано или поздно мы попадем в выпуклый многугольник.
[02:39:00.340 --> 02:39:01.340]  В треугольник.
[02:39:02.340 --> 02:39:03.340]  Да, ну, можно сказать, что рано или поздно мы просто попадем в треугольник.
[02:39:04.340 --> 02:39:06.340]  Ну, а в треугольнике уже очевидно, что если был обход против часовой стрелки,
[02:39:07.340 --> 02:39:09.340]  то будет плюс два π, если по-частовой, то минус два π.
[02:39:10.340 --> 02:39:13.340]  То есть, в принципе, вот таким образом, на самом деле, это можно доказать.
[02:39:14.340 --> 02:39:15.340]  Отдатка.
[02:39:15.340 --> 02:39:16.340]  Вот.
[02:39:19.340 --> 02:39:26.340]  То есть, как бы, угол, можно, то есть, по идее, обратите внимание, то есть,
[02:39:27.340 --> 02:39:30.340]  угол, который мы тут рассматриваем, можно действительно вот таким образом и найти.
[02:39:31.340 --> 02:39:38.340]  Но самое смешное, что это отчасти может быть таким же образом,
[02:39:39.340 --> 02:39:41.340]  на самом деле, можно найти и площадь.
[02:39:45.340 --> 02:39:47.340]  Потому что, на самом деле, есть мистический факт.
[02:39:48.340 --> 02:39:51.340]  Вот мы говорим, что для выпуклого многугольника можно найти площадь вот таким образом.
[02:39:54.340 --> 02:39:57.340]  Ну, во-первых, заметим, что давайте я напишу вот так.
[02:39:59.340 --> 02:40:04.340]  Я напишу, что тут от 0 до n минус 1 и будем считать, что pn тождественно равно p0.
[02:40:06.340 --> 02:40:07.340]  А теперь заметим следующее.
[02:40:08.340 --> 02:40:13.340]  Я утверждаю, то есть, рассмотрим функцию f от точки A,
[02:40:14.340 --> 02:40:16.340]  которая будет равна, ну, допустим, той же самой функции.
[02:40:17.340 --> 02:40:23.340]  И равно 0, n минус 1, pi минус A, pi плюс 1 минус A.
[02:40:26.340 --> 02:40:27.340]  Рассмотрим вот такую функцию.
[02:40:31.340 --> 02:40:34.340]  Так вот, мистическое утверждение.
[02:40:35.340 --> 02:40:38.340]  f от A равно константе.
[02:40:42.340 --> 02:40:45.340]  То есть, оно от самой точки A не зависит никак, только от многугольника.
[02:40:59.340 --> 02:41:02.340]  Ну, доказать это, на самом деле, очень просто, смотрите.
[02:41:02.340 --> 02:41:07.340]  То есть, сейчас я просто проделаю, чтобы вы увидели, что никакой магии тут нет.
[02:41:09.340 --> 02:41:12.340]  Да, pi минус A, pi плюс 1 минус A.
[02:41:13.340 --> 02:41:15.340]  Ну, понятно, одну вторую я убью, потому что понятно.
[02:41:16.340 --> 02:41:18.340]  Так что давайте честно раскладываем по линейности.
[02:41:19.340 --> 02:41:24.340]  Что у меня получается? n минус 1, pi, там pi, pi плюс 1.
[02:41:25.340 --> 02:41:30.340]  Минус сумма по всем i равно от n минус 1.
[02:41:31.340 --> 02:41:34.340]  Значит, вектор, например, pi на A.
[02:41:35.340 --> 02:41:37.340]  Минус такая же сумма, но наоборот.
[02:41:38.340 --> 02:41:39.340]  A на pi.
[02:41:40.340 --> 02:41:45.340]  Ну, можно, ладно, давайте вот, могу по-честному написать A, i плюс 1.
[02:41:46.340 --> 02:41:51.340]  Плюс сумма по всем i от 0 до n минус 1, минус A, минус A.
[02:41:54.340 --> 02:41:58.340]  Вот я просто предельно честно разложил вот это векторное произведение.
[02:42:01.340 --> 02:42:02.340]  Ну, теперь что заметим?
[02:42:03.340 --> 02:42:05.340]  Ну, во-первых, шлёп.
[02:42:06.340 --> 02:42:10.340]  Потому что векторное произведение вектора на самого себя равно по любому 0.
[02:42:11.340 --> 02:42:15.340]  А ещё заметим, шлёп, шлёп.
[02:42:16.340 --> 02:42:21.340]  Потому что, во-первых, я здесь суммирую по точкам немножко в другом порядке,
[02:42:21.340 --> 02:42:24.340]  но от пристановки без слагаемых суммы не меняется.
[02:42:25.340 --> 02:42:27.340]  А во-вторых, заметим, что вот это то же самое, шлёп, это только на минус 1.
[02:42:30.340 --> 02:42:31.340]  Ну всё.
[02:42:32.340 --> 02:42:35.340]  То есть получается, это всегда равно тому же самому, как если бы вместо точки A
[02:42:36.340 --> 02:42:37.340]  подставили начало координат.
[02:42:40.340 --> 02:42:46.340]  То есть поэтому оказывается, что для выпуклованного угольника площадь можно
[02:42:46.340 --> 02:42:48.340]  найти ориентированную площадь.
[02:42:49.340 --> 02:42:52.340]  В общем, именно ориентированную площадь можно найти вот по такой формуле,
[02:42:53.340 --> 02:42:55.340]  причём абсолютно плевать, где находится точка 0.0.
[02:42:56.340 --> 02:42:59.340]  Вне многоугольника, внутри многоугольника или даже на границе.
[02:43:02.340 --> 02:43:03.340]  Понятно, да?
[02:43:04.340 --> 02:43:10.340]  То есть если многоугольник, то есть ещё раз, если многоугольник выпуклый, то ура.
[02:43:10.340 --> 02:43:11.340]  Но вот вопрос.
[02:43:12.340 --> 02:43:15.340]  А что, если он невыпуклый?
[02:43:19.340 --> 02:43:21.340]  То есть, что если он невыпуклый?
[02:43:24.340 --> 02:43:25.340]  А теперь мистический факт.
[02:43:26.340 --> 02:43:31.340]  Для невыпуклого многоугольника верна абсолютно та же формула.
[02:43:33.340 --> 02:43:37.340]  В чём, опять же, тоже вот прям как и у нас, у нас есть такая формула,
[02:43:38.340 --> 02:43:41.340]  в чём, опять же, тоже вот прям честные те же векторные произведения.
[02:43:42.340 --> 02:43:43.340]  То есть, обетим, никаких модулей.
[02:43:44.340 --> 02:43:45.340]  То есть нам важно, когда плюс, а когда минус.
[02:43:47.340 --> 02:43:52.340]  Потому что когда плюс, это будет означать, что многоугольник мы обходили против часовой стрелки.
[02:43:53.340 --> 02:43:54.340]  А если это минус, то по.
[02:43:55.340 --> 02:43:56.340]  Как-то доказывать это можно самыми разными средствами.
[02:43:57.340 --> 02:43:58.340]  Нет, но мы доказали, что константа.
[02:43:59.340 --> 02:44:01.340]  Да, но опять очевидно, что константа.
[02:44:02.340 --> 02:44:03.340]  Нет, ну не совсем так.
[02:44:04.340 --> 02:44:05.340]  Можно по-разному это делать.
[02:44:05.340 --> 02:44:08.340]  Понятно, что константа, но доказывать можно так.
[02:44:09.340 --> 02:44:11.340]  Если цель просто как-то доказать, то картинка вот перед глазами на самом деле.
[02:44:12.340 --> 02:44:16.340]  Потому что давайте, пусть многоугольник, если многоугольник выпуклый, то мы знаем, что это правда.
[02:44:17.340 --> 02:44:21.340]  Если многоугольник невыпуклый, проведём в нём диагональ.
[02:44:22.340 --> 02:44:27.340]  И скажем, что как бы ориентированная площадь всего многоугольника – это сумма ориентированных площадей.
[02:44:28.340 --> 02:44:33.340]  В чём заметим, что прибавив вот это, прибавив вот это, то есть вот к этой сумме добавился 0.
[02:44:33.340 --> 02:44:34.340]  Это 0, правда?
[02:44:36.340 --> 02:44:37.340]  Понимаете, да?
[02:44:38.340 --> 02:44:44.340]  То есть вот эта исходная сумма оказалась сумме вот этих многоугольников, то есть просто плюс-минус.
[02:44:45.340 --> 02:44:50.340]  Ну и всё, теперь остаётся только свести дальше и идти по индукции по числу вершин.
[02:44:52.340 --> 02:44:55.340]  Потому что внутри каждого многоугольника, то есть по сути будет так.
[02:44:56.340 --> 02:45:01.340]  Мы просто многоугольник вот этим методом распиливаем на треугольники, в каждом треугольнике формула верна.
[02:45:01.340 --> 02:45:07.340]  А когда мы это всё просуммировали, получили ориентированную площадь многоугольника, в которой там все внутренние рёбры поубивались.
[02:45:12.340 --> 02:45:22.340]  Ориентированную площадь мы так и определили, что если мы обходили многоугольник, если вершины многоугольника заданы в порядке против часовой стрелки, то площадь должна быть положительная.
[02:45:23.340 --> 02:45:25.340]  А если они идут по часовой стрелке, то отрицательная.
[02:45:28.340 --> 02:45:29.340]  Чего?
[02:45:29.340 --> 02:45:58.580]  равно площади, но со знаком в зависимости от порядка обхода, что там с обходами все в порядке, ну типа того, но впрочем понять это можно по-другому, то есть есть более полезное доказательство, ну по сложности примерно такое же, но просто тут важны в том числе и идеи, поэтому с какой стороны смотреть, потому что чаще это доказывают по-другому, вот мы доказали, что это константа,
[02:45:58.580 --> 02:46:15.820]  поэтому давайте возьмем какую-нибудь точку где-нибудь вне многоугольника, значит тогда вот у нас многоугольник, я не буду сейчас сильно много сторон рисовать, и теперь смотрите, это многоугольник,
[02:46:15.820 --> 02:46:44.860]  так, да вот синий макер, да как-то вот у тебя слово синий, какое это член предложения, синий, ну сам ты синий, так, значит идея такая, давайте идем против часовой стрелки, тогда у нас получаются шумы, ну вот, то есть получается идем как бы, как бы по сути получается такая продвинутая,
[02:46:44.860 --> 02:47:13.700]  то есть у нас есть такая вот муха, которая тут летит, мы ее держим на веревочке такой вот, которая всегда натянута правда, ну поводок такой классический, знаете, ну знаете у собачьего такой поводок, что он может быть всегда натянут, то есть она там когда-то убегает, он как бы удлиняется, потом это сжимается и так далее, вот допустим у вас такая собачка бегает, и вы говорите, что вы тут замощаете какую-то площадь, но как бы эту площадь вы замощаете, если вы и поворачиваетесь против часовой стрелки, вы замощаетесь со знаком минус,
[02:47:13.700 --> 02:47:38.540]  а если замощаете подчасовой, то есть наоборот подчасовой стрелка с знаком минус, а тут со знаком плюс, вот, ну вот, чего, о боже, законы Кеплера, боже мой, так,
[02:47:38.540 --> 02:48:06.380]  да, да, да, ну там, да, там, да, там замечают такое вот, да, делается какое-то заметим, что, так, ну давайте вот так, ну вот, я примерно так вот это изображу, да, вот, значит там просто идея, ну ладно, да, даже я слишком много нарисовал, пожалуй, давайте я попроще нарисую, вот, давайте хотя бы флажок нарисую, вот, идея такая теперь,
[02:48:09.380 --> 02:48:32.380]  давайте вот так даже нарисую, вот так, вот так, вот так, так вот так, теперь смотрите, когда я прохожу по вот этому, в эту сторону, я как бы у всех вот этих вот триугольничков рисую минусики, да, потом прохожу по этим и рисую, тогда замощаю как бы, так, это был минусик, а тут теперь рисую плюсик,
[02:48:32.380 --> 02:48:37.900]  вот тут плюсик и вот тут плюсик то есть видите как бы вот эти части как бы взаимоуничтожились
[02:48:37.900 --> 02:48:55.860]  вот видите да что они так не видите а что не нравится нет а что тебе не нравится то ну нет
[02:48:55.860 --> 02:49:00.700]  ну возможно надо найти хотя иногда да строгость начинает включать строгость иногда начинает
[02:49:01.440 --> 02:49:10.080]  мы не верим нарисованной картинке да то есть не верим таки образу это называется так значит
[02:49:10.080 --> 02:49:16.900]  что тут еще тут еще получается так и плюсики плюсики плюсики плюсики так и тут мы когда шли
[02:49:16.900 --> 02:49:21.540]  тут у нас получается этот плюсик плюсик а вот в общем-то и все но теперь можно легко заметить
[02:49:21.540 --> 02:49:27.940]  легко заметить что как бы все части которые у нас тут получились внутри многоугольника
[02:49:27.940 --> 02:49:33.340]  получились со знаком плюс ровно одним, а все остальные части поуничтожались.
[02:49:33.340 --> 02:49:43.380]  В случае этого многоугольника получилось, заметим что. Но на самом деле, конечно,
[02:49:43.380 --> 02:49:50.500]  доказательства можно провести и более строго. Потому что давайте в общем случае возьмем нашу
[02:49:50.500 --> 02:49:56.300]  точку где-нибудь достаточно далеко. Мы знаем, что функция константа, поэтому точку возьмем где-то
[02:49:56.300 --> 02:50:02.300]  подальше. А теперь давайте возьмем ее где-нибудь далеко. То есть тогда мы знаем, что весь
[02:50:02.300 --> 02:50:08.500]  многоугольник у нас лежит в одном угле. Этот уголочек у нас как-то разбивается на какие-то углы,
[02:50:08.500 --> 02:50:18.100]  вот эти маленькие. Такое, что внутри каждого из этих углов нет ни одной вершины. Так вот,
[02:50:18.100 --> 02:50:25.900]  давайте посмотрим, как эта функция будет смотреть на площади пересечения многоугольника и каждого из
[02:50:25.900 --> 02:50:33.060]  уголков. Заметим, по сути, следующее. Но там будет происходить так. То есть у нас есть просто
[02:50:33.060 --> 02:50:38.020]  несколько сторон, которые пересекают этот угол. Как пересекать, какие-то вершины могут на самих
[02:50:38.020 --> 02:50:42.900]  сторонах угла лежать, понятно. Там могут быть вообще экзотические все случаи, вот эти вот все,
[02:50:42.900 --> 02:50:51.580]  вот это вот и так далее. Но это нам не важно. А важно нам другое. Смотрите, нам важно как эти
[02:50:51.580 --> 02:51:03.940]  все стороны были учтены. Во-первых, начнем с того, что этих сторон четное количество. Почему четное?
[02:51:03.940 --> 02:51:09.820]  Потому что мы можем прямо по бисектрисе этого угла вот из этой вершины просто честно идти.
[02:51:09.820 --> 02:51:14.340]  Сначала мы находимся вне многоугольника и каждый раз, когда пересекаем сторону,
[02:51:15.340 --> 02:51:23.100]  если были вне, то стали внутри, если стали внутри, то стали вне. Но так как в конце мы должны
[02:51:23.100 --> 02:51:28.140]  выйти в бесконечный аут, то получается, что сторон должно быть конечное количество.
[02:51:28.140 --> 02:51:38.500]  Не просто конечное, но четное. Конечно оно будет, потому что у нас многоугольник конечный. Но более
[02:51:38.500 --> 02:51:45.540]  того, смотрите как интересно. Я утверждаю, что если у нас многоугольник ориентирован против
[02:51:45.540 --> 02:51:50.020]  часовой стрелки, то смотрите как интересно. Тогда относительно нас первая встреченная
[02:51:50.020 --> 02:51:57.900]  сторона будет смотреть вправо. Ну для того, чтобы у нас как бы, потому что у нас тут было пусто,
[02:51:57.900 --> 02:52:03.300]  а тут густо. А вот это наоборот слева, потому что слева от нее тут как раз внутренности,
[02:52:03.300 --> 02:52:09.900]  и тут они так чередуются, справа слева, справа слева. Но тогда смотрите, когда муха проходила
[02:52:09.900 --> 02:52:17.060]  именно по этим ребрам, смотрим вот внутри этого угла, то смотрите, мы не знаем даже в каком порядке
[02:52:17.060 --> 02:52:24.100]  муха проходила по этим ребрам, порядок может быть самый разный. Вполне вероятно, что она ходила
[02:52:24.100 --> 02:52:38.820]  как угодно. То есть там вложенность отрезков может быть какая угодно. То есть там гарантировать
[02:52:38.820 --> 02:52:43.460]  можно, что там скорее всего будет что-то похожее на... То есть какая-то вложенность там иметь
[02:52:43.460 --> 02:52:56.460]  место будет. Хотя нет, не факт, там какая-то спиралька может быть. Ну да, я имею ввиду,
[02:52:56.460 --> 02:53:00.620]  я просто хотел показать, что порядок может быть любым, но это неважно. Потому что когда мы видим
[02:53:00.620 --> 02:53:06.460]  вот этот отрезок, понятно, мы тут рисуем минус. Когда мы видим этот отрезок, мы рисуем плюс-плюс,
[02:53:06.460 --> 02:53:12.460]  в общем тут рисуем минус-минус-минус. Ну в общем суть понятна. То есть, очевидно,
[02:53:12.460 --> 02:53:19.980]  что каждая часть, над которой находится четное число отрезков, уничтожается, а над которой не
[02:53:19.980 --> 02:53:27.860]  четное, там останется ровно на один плюсик больше, чем минусик. То есть, по-моему, уже достаточно
[02:53:27.860 --> 02:53:33.340]  строго получилось даже. Но тут, конечно, пришлось ради этого пописать, сказать, что функция не зависит
[02:53:33.340 --> 02:53:38.140]  от точек, поэтому точку где-нибудь подальше отнесли. Хотя, в общем-то, не то, чтобы мы прям сильно
[02:53:38.140 --> 02:53:43.740]  глубоко пользовались тем, что точка находится даже не просто далеко от угольника, а просто,
[02:53:43.740 --> 02:53:50.980]  что она вне его находится. Вне мы пользовались, чтобы тут мы начинали с аута, это да. Но в принципе,
[02:53:50.980 --> 02:53:55.780]  если бы точка была внутри, рассуждение было бы такие же, только их тут было бы нечетное количество.
[02:53:55.780 --> 02:54:18.580]  Ну, хочется типа сделать какую-то, ну типа мы можем, если она где-то внутри многугольника,
[02:54:18.580 --> 02:54:26.180]  мы можем ее обходить внезапно. И что? По неучтенной, ну, то есть, мы вот так прошли,
[02:54:26.180 --> 02:54:33.980]  потом вот здесь обошли, еще раз вот так прошли, и вот это, кажется, может что-то ломать. Ну, вряд ли.
[02:54:33.980 --> 02:54:44.260]  Ну, особо не должно ломать по одной простой причине. Смотри, ты вот смотришь в каком-то
[02:54:44.260 --> 02:54:51.580]  направлении и видишь какие-то отрезки. Ну, потому что когда ты пересек границу,
[02:54:51.580 --> 02:54:56.620]  наверное, ты вышел из вне многоугольника, внутри многоугольника или наоборот. Это по-любому.
[02:54:56.620 --> 02:55:08.780]  Вот. Нет, ну как сказать, нет. Формально, конечно, придется доказать, что у тебя этот лучик
[02:55:08.780 --> 02:55:15.220]  действительно там вышел из внутри многоугольника, а вне многоугольника, конечно. То есть там типа
[02:55:15.220 --> 02:55:21.420]  рассмотрим ребро, рассмотрим очень близкие точки с двух сторон от ребра. Докажите, что как бы нельзя
[02:55:21.420 --> 02:55:27.820]  пройти от одной точки до другой, не пересекая ногу. Кстати, мы как-то в школе, в школе мы с кем-то
[02:55:27.820 --> 02:55:32.860]  пытались доказать, можно доказать, правда, используя понятие какие-то непрерывности, но доказать
[02:55:32.860 --> 02:55:38.620]  как-то можно, но это больно. В плане очевидно, что это очень плохо доказывается, но это не та
[02:55:38.620 --> 02:55:47.780]  проблема, на которую нам нужно обращаться. Нет, ну тут какого момента строгости? Можно как бы в конце
[02:55:47.780 --> 02:55:52.140]  готовы просто умным дядям поверить, что это работает. Ну как умным дядям, вы, собственно,
[02:55:52.140 --> 02:55:57.540]  сами, думаю, неоднократно эту формулу в жизни использовали, правда? Какую? Вот эту, что вы плывете.
[02:55:57.540 --> 02:56:04.860]  Отлично. Ну нет, ну есть, подождите, когда вы пишете задачи по геометрии, там с площадями,
[02:56:04.860 --> 02:56:11.060]  то, наверное, площадь многоугольника вы вот так ищете. Да, и сколько в школе вообще бывает задач
[02:56:11.060 --> 02:56:17.220]  по геометрии, да. Окей. Ну а на самом деле, конечно, тут важно отметить, что это не единственный
[02:56:17.220 --> 02:56:21.140]  способ. То есть, в принципе, нет, это на самом деле приятности в качестве дополнительного бонуса,
[02:56:21.140 --> 02:56:26.140]  это вам считает то, что как определить, многоугольник идет против часовой стрелки или по. Вычислим ориентированную
[02:56:26.140 --> 02:56:38.300]  площадь и посмотрим на ее знак. Приятно, да? Вот. Соответственно. А если вы вместо площади
[02:56:38.300 --> 02:56:43.500]  у каждых двух векторов ищете атан-2 и его суммируете, то вы можете еще и заодно определить, лежит ли
[02:56:43.500 --> 02:56:53.500]  точка внутри многоугольника или вне многоугольника. А может, я к вам третий вопрос. Давай. Я правильно понимаю, что если точка лежит на границе,
[02:56:53.500 --> 02:57:12.500]  то ее так называемый индекс обхода получится пи или минус пи. Да. Ну на самом деле, да. Ну там просто, ну как сказать, формально
[02:57:12.500 --> 02:57:16.940]  надо сказать, что индекс обхода тут не определен, потому что в какой-то момент муха придет в нас и у нас получится.
[02:57:16.940 --> 02:57:33.260]  Ну там получается, да. Там плюс-минус пи, да. Вот. Да. Вот. Ну правда, с этим индексом подлянка, но с другой стороны,
[02:57:33.260 --> 02:57:37.140]  причем самое страшное, вот действительно, так можно определять лежит ли точка внутри многоугольника,
[02:57:37.140 --> 02:57:45.100]  но самое для меня страшное, что, по-моему, кто-то реально эту задачу так решал. Вот реальный индекс
[02:57:45.100 --> 02:57:51.340]  обхода. Ну реально, то есть задача лежит, ну потому что есть стандартная задача, лежит ли точка внутри
[02:57:51.340 --> 02:57:59.540]  многоугольника, одна точка внутри одного многоугольника, да. Так, вот все. Вот меня
[02:57:59.540 --> 02:58:08.900]  очень пугает, что есть люди, которые реально считают, что она так решается. Ну, не знаю,
[02:58:08.900 --> 02:58:14.920]  мне что-то ощущение, что такие люди как-то, знаете, обрезают, то есть, так, ну знаете, как-то опыты
[02:58:14.920 --> 02:58:19.180]  учителя геометрии, как бы, знаете, иногда, смотря, как ты решаешь какую-то задачу, понимают, что какие-то
[02:58:19.180 --> 02:58:25.900]  более сложные задачи ты не решишь в принципе. Почему? Потому что мыслишь неправильно. Ну вот, то есть,
[02:58:25.900 --> 02:58:31.500]  нет, это, конечно, то есть, более формально так, ты не знаешь каких-то более простых идей, на базе которых
[02:58:31.500 --> 02:58:38.500]  решаются более сложные задачи. Нет, с точки зрения, если была там одна задача, да. Но нет, ну тут
[02:58:38.500 --> 02:58:42.980]  называется это кабу-как. Но на самом деле, если говорить о реальных минусах, то минус будет
[02:58:42.980 --> 02:58:47.740]  заключаться в том, что ты будешь 10 в шестой раз вызывать атан-2. Это по Константе не очень.
[02:58:47.740 --> 02:59:01.300]  Потому что атан-2 это жирная операция. Ну вот, все-таки, да. Поэтому, конечно, это, поэтому задача
[02:59:01.300 --> 02:59:04.620]  лежит ли точка многоугольника решается по-другому. Но я еще про площадей не договорил.
[02:59:04.620 --> 02:59:12.420]  Да, у нас, конечно, занятия. А, ну, можно, конечно, да. А выпуклых, да. А выпуклых,
[02:59:12.420 --> 02:59:19.060]  не выпуклых и точек внутри можно, конечно. Ой, жаль, конечно. Хорошо было бы сегодня, но что делать?
[02:59:19.060 --> 02:59:24.780]  Да, будем надеяться, что на четверг финале не будет задачи, когда лежит ли точка внутри многоугольника.
[02:59:24.780 --> 02:59:38.500]  Нет, ну, писать легко, но как бы вы уж сами убедились. Ну, там по-разному. Там, на самом деле,
[02:59:38.500 --> 02:59:43.260]  об этой задачи можно там бесконечно говорить, поэтому еще не будем пока не говорить. Там просто,
[02:59:43.260 --> 02:59:48.860]  там куча разных решений есть, на самом деле. И их можно очень по-разному обыкнуть.
[02:59:48.860 --> 02:59:54.820]  Согласна, что если задача состоит в следующем, написать наиболее быстро в код, наиболее простой,
[02:59:54.820 --> 03:00:02.740]  то это хорошая реализация? Ну, более-менее, да. У меня была задача в этом, потому что это была задача на концовку.
[03:00:02.740 --> 03:00:08.780]  Ну да, но чаще всего, но чаще всего у тебя будет задача написать, использовать это в качестве под
[03:00:08.780 --> 03:00:16.380]  задачи. Я вот это использовал, чтобы стрессы написать. А, ну, с точки зрения быстрого кода,
[03:00:16.380 --> 03:00:22.700]  конечно, да, это классно, это без вопросов, да, окей. Да, никто не против, да. Никто не
[03:00:22.700 --> 03:00:27.100]  спорит с тем, что это решение быстро пишется и хорошо работает. Ну, просто тут напоминаю,
[03:00:27.100 --> 03:00:33.340]  курс по геометрии, то есть, как вы знаете, то есть, курс по геометрии, как бы иногда бывает там,
[03:00:33.340 --> 03:00:38.300]  что там иногда просто, как бы в каких-то местах просто нужно знать там более оптимальные подходы.
[03:00:38.300 --> 03:00:42.940]  Потому что если вы зафиксировались, что я могу вот это придумать, то как вот, то есть, как вы знаете,
[03:00:43.260 --> 03:00:48.060]  есть у вас подход, что я попытаюсь пользоваться тем, что я сам придумал. Да, это, конечно, классно,
[03:00:48.060 --> 03:00:53.380]  действительно это круто, это как бы там, то есть, это действительно дает вам возможность придумать
[03:00:53.380 --> 03:00:58.540]  какие-то там более крутые задачи и вообще поднять себе ЧСВ там и все такое. Но минус будет, то если
[03:00:58.540 --> 03:01:02.860]  вы будете слишком этим увлекаться и вообще не обсуждая никогда ни с кем, а как еще можно было
[03:01:02.860 --> 03:01:07.380]  решить эту задачу, то как бы минус, но вот, то тогда в какой-то момент неожиданно выяснишь,
[03:01:07.380 --> 03:01:12.620]  что просто выяснишь какие-то задачи вы умеете хорошо решать, какие-то плохо. Почему? Просто потому,
[03:01:12.620 --> 03:01:17.020]  что те идеи, которые вы придумаете, они там либо не приводят к решениям, либо приводят к
[03:01:17.020 --> 03:01:22.140]  эффективным решениям. Каким-то менее эффективным решением, чем есть у ваших соседей, которые просто
[03:01:22.140 --> 03:01:29.180]  знают другие идеи. Ну или просто придумали другие идеи. Да, это на самом деле еще одна, да, то есть,
[03:01:29.180 --> 03:01:33.420]  с этой точки зрения, кстати, да, почему вообще на разборы контестов ходить полезно, даже если вы
[03:01:33.420 --> 03:01:39.580]  там все решили. Ну или хотя бы обсуждать. То есть, да, понятно, действительно, желания, конечно, тратить
[03:01:39.580 --> 03:01:44.540]  на это время особо нет, то есть понятно, да, это фистеха, это осень, это ноябрь, это коронавирус,
[03:01:44.540 --> 03:01:51.740]  не говоря уже о остальных там всех обстоятельствах, называется, нашей жизни, это да. Да, он еще
[03:01:51.740 --> 03:02:01.420]  существует. Да, найдите его, да, в смысле лишнее, да, да, да, да, да, да, да, да, почему-то если кто-то,
[03:02:01.420 --> 03:02:07.740]  да, по-моему, называется, да, один лысый чувак из Кирова, потому почему-то это предъявлял. Уберите
[03:02:07.740 --> 03:02:23.780]  лишние из логического ряда. Грязь, мрак, там называется ужас, тверь. Угадайте, какой, по его мнению,
[03:02:23.780 --> 03:02:31.180]  правильный ответ. Мрак, потому что он непостоянный. Неправильный. Он меняется. Нет, там все проще.
[03:02:31.180 --> 03:02:38.060]  Там все было гораздо правильнее. Правильный ответ. Там нет ничего лишнего. Да, я не знаю,
[03:02:38.060 --> 03:02:47.980]  чем лично этому мужику из Кирова не угодила тверь. Все слишком, слушай, слишком сложно. Слушай,
[03:02:47.980 --> 03:02:52.300]  речь идет о энергетическом номере в КВН, вот не надо там слишком сложно мыслить. Конечно,
[03:02:52.300 --> 03:02:56.020]  там наоборот, если у тебя шутка базируется на чем-то слишком сложном, то лучше ее не говорить,
[03:02:56.020 --> 03:03:06.980]  потому что зал не поймет. Если ты хочешь сказать шутку из пяти слов из зала,
[03:03:06.980 --> 03:03:09.940]  поэтому нужно прочитать лекцию о том, что значит каждое из этих пяти слов,
[03:03:09.940 --> 03:03:22.260]  значит лучше шутку не говорить. Или как-то по-другому сдавать. По-разному. Так, ладно,
[03:03:22.260 --> 03:03:25.700]  давайте я последнее расскажу, что я хотел рассказать, потом после этого можно и про юмор
[03:03:25.700 --> 03:03:30.100]  поговорить уже. Там пока будем собираться. Просто я хотел сказать следующее, что как выясняется,
[03:03:30.100 --> 03:03:33.060]  как минимум в спортивном программировании, да и вообще глобально, полезно помнить,
[03:03:33.060 --> 03:03:42.380]  что площадь ищется и другим способом. Способ называется метод трапеции. Вместо того, чтобы
[03:03:42.380 --> 03:03:49.980]  искать ее вот так, ее любят искать следующим образом. Давайте себе вообразим, что многоугольник
[03:03:49.980 --> 03:03:59.980]  лежит выше оси Х. Тогда идея такая. Делаем примерно то же самое. Идем по многоугольнику и для
[03:03:59.980 --> 03:04:06.660]  каждого ребра прибавляем к площади вот такую трапецию. Площадь такой трапеции, к чему она равна?
[03:04:06.660 --> 03:04:14.900]  Она равна, очевидно, одна вторая на произведение вот этой разности по Х на полусумму икоков,
[03:04:14.900 --> 03:04:23.220]  правда? Да, я два раза одну вторую сказал. То есть как бы мы суммируем игроки, берем разность
[03:04:23.220 --> 03:04:30.820]  иксов и домножаем на двое и прибавляем. Но при этом важный момент. Разность иксов мы берем
[03:04:30.820 --> 03:04:34.580]  прям тоже ориентированно. То есть если там этот икс, то есть мы берем вот этот икс,
[03:04:34.580 --> 03:04:40.100]  минус этот икс. Чтобы когда мы идем вот в эту сторону, у нас был со знаком минус, а если в эту,
[03:04:40.100 --> 03:04:45.620]  то со знаком плюс. И тогда можно абсолютно тем же самым способом убедиться, что это тоже площадь,
[03:04:45.620 --> 03:04:54.740]  причем тоже ориентированная. Но типа того. Вот. Ну, то есть там получится разность иксов,
[03:04:54.740 --> 03:05:00.940]  разность икоков, но там легко заметить, что если вы прибавите к многоугольнику ко всем игрокам
[03:05:00.940 --> 03:05:09.700]  какую-то константу или вычтите, то как бы сумма не поменяется. Вот. Но там просто она не поменяется,
[03:05:09.700 --> 03:05:15.940]  потому что она увеличится на c на сумму разности иксов, может на 2, а сумма разности иксов полноугольнику
[03:05:15.940 --> 03:05:22.100]  очевидно слопнется в ноль. Вот. И это, ну вот. Но оказывается, да, то есть идея как бы то же самое,
[03:05:22.100 --> 03:05:26.540]  но знаете, в какой-то момент неожиданно в лоше встретилась задача, в которой действительно этот
[03:05:26.540 --> 03:05:35.140]  метод был очень полезен. Задача была такая. Значит, плоскость покрасили вот таким вот способом. То
[03:05:35.140 --> 03:05:42.820]  есть провели все вертикальные прямые. Вертикальные прямые, там x равно чему-то целому. А полосы
[03:05:42.820 --> 03:05:49.220]  между ними покрасили вот в шахматном порядке. Черный-белый, черный-белый и так далее. Так вот
[03:05:49.220 --> 03:05:56.060]  задача. Дан многоугольник с целыми вершинами, найдите, пожалуйста, черную часть его площади.
[03:05:56.060 --> 03:06:04.180]  Вот. То есть задача очень сложная, пока вы не вспоминаете метод трапеции. Потому что метод
[03:06:04.180 --> 03:06:08.220]  трапеции решается абсолютно так же, только для трапеции нужно найти площадь черной трапеции,
[03:06:08.220 --> 03:06:13.900]  а не черную часть площади трапеции, а не всю трапецию. Ну там, конечно, точки до 10 в 9,
[03:06:13.900 --> 03:06:19.620]  поэтому вам там повозиться как-то там с какими-то арифметическими прогрессиями придется,
[03:06:19.620 --> 03:06:27.020]  но как бы идея на задачу уже становится простой. Вот. То есть это вот действительно полезно. То есть
[03:06:27.180 --> 03:06:34.660]  ну как всегда, да, что такое олипиады? Это когда просто посмотрели какие-то стандартные вещи под
[03:06:34.660 --> 03:06:42.340]  неожиданным углом. По крайней мере, неожиданным для вас. Вот. Так что получается, площади
[03:06:42.340 --> 03:06:47.060]  действительно ищутся так. Да, жалко. Жалко, что на этом придется остановиться. К сожалению,
[03:06:47.060 --> 03:06:49.540]  улезло у нас сегодня занятие, но...
