[00:00.000 --> 00:04.960]  Блоку про геометрию, скорее всего, всё до конца семестра
[00:04.960 --> 00:09.000]  включительно будет про неё, вот, ну и по просьбам трудящихся
[00:09.000 --> 00:11.480]  начнём сегодня прям с самых простых вещей, там что
[00:11.480 --> 00:12.480]  такое точка и так далее.
[00:12.480 --> 00:18.800]  Вот, ну нет, это, да, это я загнул, конечно, да-да,
[00:18.800 --> 00:19.800]  хороший вопрос.
[00:19.800 --> 00:22.720]  Окей, что такое точка мы определить не будем, но
[00:22.720 --> 00:24.400]  как с ними работать мы посмотрим.
[00:24.400 --> 00:29.480]  Значит, ну, во-первых, давайте немножко такую вводную
[00:29.480 --> 00:34.120]  часть про точность, про то, что в геометрии часто
[00:34.120 --> 00:40.400]  возникают проблемы с, ну скажем так, точными вычислениями.
[00:40.400 --> 00:43.200]  Да, то есть, даже если вам надо просто пересечь две
[00:43.200 --> 00:46.320]  прямые, если у них координаты, скажем, ну какие-то были
[00:46.320 --> 00:49.560]  целые, там, если прямые как-то заданы с помощью каких-то
[00:49.560 --> 00:53.760]  целых чисел, то уже при пересечении вы получаете,
[00:53.760 --> 00:56.240]  ну, скорее всего, дробные какие-то числа, да, в виде,
[00:56.240 --> 01:00.160]  ну, если у вас коэффициенты были целочисленные, то
[01:00.160 --> 01:02.640]  точка будет рациональной, ну, там, типа, обе координаты
[01:02.640 --> 01:03.640]  вражаются дробями.
[01:03.640 --> 01:06.200]  И это, в принципе, еще не очень страшно, но если
[01:06.200 --> 01:09.440]  вас просят, например, опустить перпендикуляры с точки напрямую,
[01:09.440 --> 01:12.720]  то там уже надо извлекать корень, ну, чтобы расстояние
[01:12.720 --> 01:15.320]  посчитать, и надо извлекать уже корень, и поэтому точка
[01:15.320 --> 01:19.160]  у вас в точно виде представиться не сможет никак, ну, потому
[01:19.160 --> 01:21.040]  что там извлечь корень, в любом случае будет какая-то
[01:21.040 --> 01:26.200]  ошибка погрешности округления, потому что в, ну, например,
[01:26.200 --> 01:29.800]  и сейчас я просто скажу, да, значит, ну, потому что
[01:29.800 --> 01:33.440]  мы не можем там корни из чисел, из которых не извлекаются
[01:33.440 --> 01:35.600]  корни, короче, и рациональные числа мы не можем с призвольной
[01:35.600 --> 01:38.000]  точностью хранить, в любом случае какие-то погрешности
[01:38.000 --> 01:39.000]  будут.
[01:39.000 --> 01:42.400]  Ну, и, например, там, если у нас задача такая, опустите
[01:42.400 --> 01:45.040]  перпендикуляры с точки на одну прямую и проверить,
[01:45.040 --> 01:47.240]  что эта точка, которая вот основания перпендикуляра,
[01:47.240 --> 01:48.240]  лежит на другой прямой.
[01:48.240 --> 01:50.880]  Да, понятно тогда, что мы не можем просто подставить
[01:50.880 --> 01:53.240]  вот эту точку основания перпендикуляра в уравнение
[01:53.240 --> 01:55.720]  второй прямой, ну, потом, ну, и как бы проверить, что
[01:55.720 --> 01:58.840]  коэффициенты сходятся, потому что у нас уже есть погрешность
[01:58.840 --> 02:01.600]  и сравнивать, что там это число равно нулю какое-то,
[02:01.600 --> 02:04.400]  да, там, характеристическое уравнение прямой, если поставить
[02:04.400 --> 02:07.440]  в него точку, надо сравнивать не с нулем, а, ну, примерно
[02:07.440 --> 02:09.800]  с нулем, потому что у вас накопилась погрешность,
[02:09.800 --> 02:12.040]  на самом деле, если вы подставите, то будет что-то типа там
[02:12.040 --> 02:16.440]  0, 0, 0, 0, 0, 0, 0, 1, 2, 3 и так далее, ну, короче, в каких-то
[02:16.440 --> 02:19.720]  знаках далеко после запятой будет погрешность, и поэтому
[02:19.720 --> 02:23.400]  все сравнения, да, если вы выходите там, если вы решаете
[02:23.400 --> 02:26.680]  все в доблах, то все сравнения надо делать с точностью
[02:26.680 --> 02:29.560]  до какого-то маленького эпсилона, типа, ну, вы там
[02:29.560 --> 02:33.960]  возьмем какой-нибудь эпсилон, обычно 10-9 изгодится, и дальше
[02:33.960 --> 02:37.960]  все проверки делаем с точностью 10-9, чтобы проверить, что
[02:37.960 --> 02:41.480]  точка лежит на прямой, я не просто проверяю, что,
[02:41.480 --> 02:45.640]  скажем, ax плюс by плюс c равно нулю, я проверяю, скорее,
[02:45.640 --> 02:48.280]  что модуль этой величины не больше эпсилона, ну,
[02:48.280 --> 02:50.320]  где эпсилон какая-то вот точность, которую мы считаем,
[02:50.320 --> 02:54.160]  то с такой точностью у нас точно все будет посчитано,
[02:54.160 --> 02:57.160]  вот, поэтому, как бы, если мы пишем в доблах, да, если
[02:57.160 --> 03:01.240]  мы явным образом вычитаем все координаты, то вот всякие
[03:01.240 --> 03:03.200]  сравнения надо делать с точностью до эпсилона, ну,
[03:03.200 --> 03:07.000]  обычно, почти всегда, вот, либо же, да, как правильно
[03:07.000 --> 03:09.600]  сказали, если у нас задача позволяет, можно решать
[03:09.600 --> 03:12.960]  ее в целых числах, или же, скажем, там, написать какой-то
[03:12.960 --> 03:18.960]  свой класс rational, да, класс дроби рациональной, и, скажем,
[03:18.960 --> 03:21.080]  то есть, пересечение прямых можно будет посчитать как
[03:21.080 --> 03:23.760]  дробь по x, дробь по y, вот, ну, и дальше с этими дробями
[03:23.760 --> 03:27.440]  работать, ну, тут уже, в общем, зависит от задачи, я рекомендую
[03:27.440 --> 03:31.120]  как бы старайтесь не переходить к вещественным типам данных,
[03:31.120 --> 03:33.040]  то есть, к доблам не переходить, чтобы вот не было проблем
[03:33.040 --> 03:35.360]  с точностью, что вы понимали, что у вас решение точно
[03:35.360 --> 03:38.720]  всегда правильно работает, нет никаких ошибок округления,
[03:38.720 --> 03:41.360]  потому что, ну, там, как вот анализировать, насколько
[03:41.360 --> 03:45.360]  точно у вас опустился пермедикулярный прямой, ну, Бог его знает,
[03:45.360 --> 03:50.640]  можно там как-то, но это, короче, неприятно, вот, поэтому,
[03:50.640 --> 03:54.800]  если можно, пишите в целых, да, или в дробях, если нельзя,
[03:54.800 --> 03:57.200]  да, если там явным образом надо корни извлекать или
[03:57.200 --> 04:00.600]  синусы-костинусы извлекать, то, ну, ничего не поделаешь,
[04:00.600 --> 04:02.800]  придется возиться с точностью, но про нее не забывайте.
[04:02.800 --> 04:08.720]  Ну, к сожалению, нет, к сожалению, не поможет.
[04:08.720 --> 04:12.840]  Вот, хорошо, значит, теперь давайте поговорим про стандартные
[04:12.840 --> 04:13.840]  примитивы.
[04:13.840 --> 04:19.120]  Ну, то есть, первый примитив – это точка, точка или вектор.
[04:19.120 --> 04:23.600]  Вот, ну, мы живем пока что на обычной координатной
[04:23.600 --> 04:27.080]  плоскости двумерной.
[04:27.080 --> 04:29.360]  Каждая точка задается, собственно, своими координатами по
[04:29.360 --> 04:30.360]  х и по у.
[04:30.360 --> 04:33.560]  А, и то же самое, можно любой вектор задать двумя координатами
[04:33.560 --> 04:34.560]  х и у.
[04:34.560 --> 04:37.320]  То есть, с одной стороны, как бы, можно извести такую
[04:37.320 --> 04:41.360]  сущность P, которая одновременно отвечает точке с данными
[04:41.360 --> 04:44.960]  координатами х и у на плоскости, и она же отвечает вот такому
[04:44.960 --> 04:47.640]  вектору из точки 0, 0 в точку P.
[04:47.640 --> 04:51.360]  Собственно, радиус вектор, да, из нуля в эту точку P.
[04:51.360 --> 04:53.720]  Вот, мы будем как бы их перемешивать, у меня будет
[04:53.720 --> 04:55.680]  одна структура, которая одновременно будет и точкой
[04:55.680 --> 04:56.680]  и вектором.
[04:56.680 --> 04:59.720]  Наверное, с точки зрения хорошего программиста это
[04:59.720 --> 05:04.560]  кринж, но я буду так делать, потому что так часто удобно.
[05:04.560 --> 05:06.640]  Ну, потому что как бы мне надо хранить два поля, точка
[05:06.640 --> 05:08.760]  это или вектор, я в зависимости от необходимости буду считать
[05:08.760 --> 05:09.760]  точкой это или вектор.
[05:10.240 --> 05:15.400]  То есть, грубо говоря, у меня будет какой-то структ-пойнт,
[05:15.400 --> 05:16.960]  где внутри будет два поля х и у.
[05:16.960 --> 05:23.400]  Ну, пусть, пусть, пусть.
[05:23.400 --> 05:26.880]  Это уже ваши проблемы, не мои.
[05:26.880 --> 05:33.880]  Вот, не, х и у, кстати, можно в этих координатах точек,
[05:33.880 --> 05:37.160]  это можно, х и у, з даже можно, но это спойлер.
[05:37.560 --> 05:43.560]  Ну, два х не надо, да.
[05:43.560 --> 05:48.560]  Вот, хорошо, значит, понятно, да?
[05:48.560 --> 05:50.800]  Значит, дальше давайте скажем, ну, например, как построить
[05:50.800 --> 05:54.160]  вектор по двум точкам, вот есть у вас одна точка а,
[05:54.160 --> 05:56.760]  есть у вас другая точка б, как построить вектор между
[05:56.760 --> 05:57.760]  ними?
[05:57.760 --> 06:01.120]  Ну, надо там вычесть какие-то координатки, да, конец-минус-начало,
[06:01.120 --> 06:02.120]  вот.
[06:02.120 --> 06:05.440]  Значит, можно вести, скажем, оператор минус.
[06:05.440 --> 06:12.000]  Значит, он принимает две точки а и b, ну и возвращает
[06:12.000 --> 06:15.880]  понятно, типа там х равно bx минус ах, у равно bx минус
[06:15.880 --> 06:16.880]  ау.
[06:16.880 --> 06:18.280]  Давайте я вот так напишу.
[06:18.280 --> 06:30.600]  Вот, правда же, вроде правда, ну то есть, мы получили
[06:30.600 --> 06:33.160]  вот такой вот вектор между двумя точками, если бы
[06:33.160 --> 06:35.880]  мы хотели, наоборот, вектора, скажем, складывать, вот
[06:35.880 --> 06:40.760]  есть два вектора, скажем, у и в, нам нужна их сумма,
[06:40.760 --> 06:43.960]  да, то есть, вот строится в них параллограмм, тогда
[06:43.960 --> 06:46.960]  сумма это будет, видимо, вот этот вектор, у плюс в.
[06:46.960 --> 06:50.200]  Ну, аналогично, можно написать оператор плюс, который складывает
[06:50.200 --> 06:52.760]  координаты по х, складывает координаты по у, и получается,
[06:52.760 --> 06:55.520]  собственно, вот этот вектор, равный диагонали в таком
[06:55.520 --> 07:04.560]  параллограмме, аналогично, оператор плюс, вот, бывает
[07:04.560 --> 07:07.440]  еще полезно умножать вектор на константу, вот есть какой-то
[07:07.440 --> 07:11.760]  вектор v, вы хотите его взять, ну там, раздуть вк раз, нарисовать
[07:11.760 --> 07:15.920]  вот такой вот вектор, vk, ну тогда давайте напишем оператор
[07:15.920 --> 07:23.240]  умножения на число, оператор умножения вектора на число
[07:23.240 --> 07:27.400]  vk, ну и тогда надо просто обе кернаты раздуть вк раз,
[07:27.400 --> 07:36.480]  да, нормально, ну типа, я спросил, я спросил, вы хотите
[07:36.480 --> 07:44.040]  это послушать, мне сказали, да, так что, вот, так, ну
[07:44.040 --> 07:48.880]  хорошо, хорошо, значит, давайте пойдем дальше, давайте посмотрим
[07:49.720 --> 07:59.960]  на произведения всякие, скалярные, векторные, вот, представьте,
[07:59.960 --> 08:06.280]  есть два вектора, мы совмешаем их начало, вектор, давайте
[08:06.280 --> 08:10.000]  по ику я их назову, есть два вектора по ику, мы хотим
[08:10.000 --> 08:14.320]  найти их скалярные произведения, ну, значит, скалярные произведения,
[08:14.520 --> 08:21.400]  вот так назову x1, y1, x2, y2, вот, значит, тогда их скалярные
[08:21.400 --> 08:32.800]  произведения это x1, x2, y1, y2, и оно же равно, значит, если
[08:32.800 --> 08:38.280]  это вектор a, это вектор b, между ними угол phi, то это произведение
[08:38.280 --> 08:43.920]  длин векторов, накосим с угла между ними, вот такое
[08:43.920 --> 08:51.840]  открытие, значит, ну, обычно, да, то есть, если у вас есть
[08:51.840 --> 08:53.520]  два вектора, посчитать их скалярные произведения,
[08:53.520 --> 08:55.280]  то есть, как бы, грубо говоря, по умолчанию формула вот
[08:55.280 --> 09:00.480]  такая, но, конечно, считать лучше так, она просто по
[09:00.480 --> 09:05.240]  компонентное произведение, координаты, сложения, вот,
[09:05.240 --> 09:07.240]  но зато, смотрите, что из этого можно извлечь, отсюда
[09:07.240 --> 09:10.800]  можно извлечь, например, какой у вас тип угла между
[09:10.800 --> 09:14.040]  векторами, между векторами a и b, зная, на самом деле,
[09:14.040 --> 09:16.960]  просто знак скалярного произведения, мы понимаем
[09:16.960 --> 09:21.800]  угол между ними тупой, острый или прямой, то есть, если,
[09:21.800 --> 09:35.880]  скажем, скалярное произведение больше нуля, то угол phi острый,
[09:35.880 --> 09:39.720]  то есть, он меньше 90 градусов, на счастье, эта штука равна
[09:39.720 --> 09:46.600]  нулю, то угол прямой, то есть, равен 90 градусам,
[09:46.600 --> 09:49.640]  и векторы перпендикулярны друг к другу, но если он
[09:49.640 --> 09:51.920]  отрицательен, да, если скалярное произведение отрицательно,
[09:51.920 --> 10:02.680]  то угол тупой, и, соответственно, больше 90, вот, но здесь угол
[10:02.680 --> 10:05.120]  считается неориентированным, просто угол вот между двумя
[10:05.120 --> 10:07.560]  векторами, есть какие-то два вектора, в такой картинке
[10:07.560 --> 10:09.160]  он будет положительным, скалярное произведение
[10:09.160 --> 10:11.800]  будет положительным, но это просто следует из-за
[10:11.800 --> 10:14.520]  того, что cos phi такие знаки принимает, если phi острый,
[10:14.520 --> 10:19.840]  то cos положительный, если прямой, то ноль, если тупой,
[10:19.840 --> 10:24.720]  то меньше нуля, cos будет, соответственно, да, там картинка
[10:24.720 --> 10:30.240]  здесь какая-нибудь такая будет, когда они перпендикулярны,
[10:30.240 --> 10:34.240]  или когда они образуют тупой угол, ну, что-то вот такое,
[10:34.360 --> 10:37.480]  здесь угол тупой, то есть по знаку скалярного произведения
[10:37.480 --> 10:55.680]  можно понимать тип угла между векторами. Так, следующее
[10:55.680 --> 10:58.960]  произведение, я буду дальше говорить всегда векторное,
[10:58.960 --> 11:10.160]  но на самом деле оно псевдовекторное, я буду линейце говорить псевдовекторное,
[11:10.160 --> 11:13.040]  у меня будет всегда просто векторное. Это следующее,
[11:13.040 --> 11:21.800]  это x1y2-x2y1, и оно же можно доказать, что это произведение
[11:21.800 --> 11:25.760]  длин на синус угла между векторами, вот, где здесь
[11:25.760 --> 11:33.320]  на этот раз уже угол phi-ориентированный, угол phi-ориентированный в направлении
[11:33.320 --> 11:49.320]  от вектора a к вектору b, phi-ориентированный угол от a к b, вот, ну, то есть, ну, например,
[11:49.320 --> 11:54.040]  если у меня, давайте какую-нибудь картинку сделаем, грубо говоря, если бы a был вот здесь,
[11:54.200 --> 11:59.320]  а b вот здесь, то у меня угол между ними, в этом случае ориентированный угол, брался бы не вот
[11:59.320 --> 12:06.800]  такой вот, а вот такой вот, ну, типа, потому что я его считаю против часовой стрелки, скажем так,
[12:06.800 --> 12:23.440]  то есть phi против часовой стрелки, вот, ну, собственно, только при таком понимании угла phi здесь
[12:23.440 --> 12:30.040]  будет равенство, и это нам дает на этот раз понимание, в каком, как бы, в каком соотношении
[12:30.040 --> 12:34.360]  эти векторы соотносятся, типа, они образуют левую тройку или правую тройку, в том смысле,
[12:34.360 --> 12:38.880]  что поворот от а к b, в какую сторону короче, в сторону против часовой стрелки, как на этой картинке,
[12:38.880 --> 12:43.440]  или в сторону по часовой стрелке. Например, если корמן по часовой стрелке, значит,
[12:43.440 --> 12:47.000]  против часовой стрелки, будет вот такой длинный, развернутый угол, больше 180°,
[12:47.000 --> 12:52.860]  и, соответственно, короче, синус будет отрицательный, да, потому что синус,
[12:52.860 --> 12:58.740]  когда больше 180, он отрицательный, вот. Поэтому по знаку этого векторного произведения, на самом
[12:58.740 --> 13:02.000]  деле, псевдо-векторного, потому что векторный этот, какой-то вектор в Р3, но не важно,
[13:02.000 --> 13:10.000]  По знаку этого произведения можно сказать, в какую сторону ближайший поворот одного вектора к другому.
[13:10.000 --> 13:19.000]  Соответственно, если такое произведение больше 0, тогда поворот атак-б идет против часовой стрелки,
[13:19.000 --> 13:26.000]  как на этой картинке. Если я встаю сюда, моя цель это повернуть вектор а и совместить его с вектором b по направлению,
[13:26.000 --> 13:30.000]  то здесь мне нужно поворачивать его против часовой стрелки.
[13:30.000 --> 13:41.000]  Это случай положительного векторного произведения. Поворот а к b против часовой стрелки.
[13:45.000 --> 13:49.000]  Ну, кратчайше имеется в виду, конечно, да, кратчайше, кратчайше, спасибо.
[13:49.000 --> 13:53.000]  То есть поворот-то всегда есть, но вопрос какой из них короче.
[13:53.000 --> 14:03.000]  Дальше, если вектор равен нулю, это значит, что векторы со направлены или же противонаправлены.
[14:03.000 --> 14:08.000]  То есть синус равен нулю, когда угол 0 или 180, то есть эта картинка такая.
[14:08.000 --> 14:14.000]  Либо они просто смотрят в одну сторону вот так вот, либо они смотрят вот так вот.
[14:14.000 --> 14:19.000]  В обоих случаях будет синус 0, поэтому все, что мы можем сказать, это то, что только они корениарны,
[14:19.000 --> 14:23.000]  но на одной прямой лежат. То есть они либо со направлены, либо противонаправлены,
[14:23.000 --> 14:26.000]  но в любом случае коллинеарны.
[14:32.000 --> 14:37.000]  Ну вот, а если меньше нуля, то значит кратчайший поворот идет по часовой стрелке.
[14:39.000 --> 14:47.000]  Кратчайший поворот а к b по часовой.
[14:49.000 --> 15:08.000]  Так, согласны? Вот, хорошо.
[15:12.000 --> 15:16.000]  Ну давайте еще посмотрим на, что можно сделать с векторным произведением, вот этим вот.
[15:16.000 --> 15:18.000]  С его помощью можно считать всякие площади.
[15:18.000 --> 15:28.000]  Ну, например, если мы просто нарисуем такие два вектора, a и b, то что такое псевдовекторное произведение?
[15:28.000 --> 15:33.000]  Вот в этих терминах, это на самом деле площадь, площадь параллограмма на них натянутого.
[15:33.000 --> 15:43.000]  Если это a, это b, ну просто ab, длина вектора на длину вектора на синус угла между ними,
[15:43.000 --> 15:46.000]  это там почти по определению площадь параллограмма.
[15:46.000 --> 15:51.000]  Вот эта вот площадь, это есть значение векторного произведения.
[15:51.000 --> 15:55.000]  Ну она может быть положительна, может быть отрицательна, то есть это скорее такая ориентированная площадь,
[15:55.000 --> 16:01.000]  что если вектор один, ну короче, если они в правильном порядке, то площадь положительная, иначе отрицательна.
[16:01.000 --> 16:04.000]  Но по модулю в любом случае это будет площадь вот такого параллограмма.
[16:04.000 --> 16:21.000]  Ну то есть модуль векторного произведения есть площадь параллограмма, площадь параллограмма.
[16:21.000 --> 16:27.000]  Вот, и с помощью этого можно считать площади, например, всяких многоугольников.
[16:27.000 --> 16:34.000]  Представьте, у вас есть произвольник, это многоугольник на плоскости, ну что-то вот такое.
[16:38.000 --> 16:41.000]  Значит тогда можно с помощью векторного произведения считать его площадь, очень просто.
[16:41.000 --> 16:46.000]  Смотрите, ну я доказывать не буду, потому что не умею.
[16:47.000 --> 16:50.000]  Давайте сделаем следующее, давайте мы встанем в точку 0,0,
[16:50.000 --> 16:54.000]  значит давайте я занумирую все вершины многоугольника как-то,
[16:54.000 --> 16:58.000]  p0, p1, p2 и так далее.
[16:58.000 --> 17:02.000]  Вот, давайте мы проведем радиус вектора из нуля во все эти точки,
[17:04.000 --> 17:07.000]  и посчитаем векторное произведение всех пар соседей.
[17:07.000 --> 17:13.000]  То есть я посчитаю вот это произведение от p0 к p1, это будет там площадь какого-то параллограмма, грубо говоря.
[17:13.000 --> 17:20.000]  Давайте я сразу скажу так, что я буду считать половину всех этих площадей, чтобы считать площадь этого треугольника.
[17:20.000 --> 17:27.000]  Ну то есть понятно, что если я проведу такую диагональ, то параллограмма называется на два одинаковых,
[17:27.000 --> 17:29.000]  и площадь вот здесь вот эта половинка от общей площади.
[17:29.000 --> 17:33.000]  Поэтому, когда я беру половину вот такого векторного произведения p0 на p1,
[17:33.000 --> 17:36.000]  я по факту получаю ориентированную площадь такого треугольника.
[17:37.000 --> 17:42.000]  Дальше я беру вот эти два вектора, получаю ориентированную площадь такого треугольника.
[17:42.000 --> 17:46.000]  Дальше, p2, p3, получаю ориентированную площадь вот такого треугольника.
[17:47.000 --> 17:54.000]  Вот. Ну и, как можно заметить, у меня вот эти вот внешние, лишние части треугольников, они как бы все уничтожатся.
[17:54.000 --> 18:01.000]  Потому что вот здесь вот я провел, его как бы добавил к ответу, а потом, когда p2 превращалось в p3, я вот эту часть всю вычел.
[18:01.000 --> 18:04.000]  Ну и, соответственно, как бы у меня были вот это с плюсом, это с плюсом, потом это вычилось.
[18:04.000 --> 18:12.000]  И, короче, можно показать, что все вот эти вот лишние части, которые здесь рисую от нуля к границам треугольника, они все там друг с другом хорошо сокращаться.
[18:12.000 --> 18:16.000]  И с плюсом останется только то, что внутри треугольника.
[18:16.000 --> 18:27.000]  Вот. Ну, то есть давайте напишем, что площадь всего, это всего-напросто сумма, ну давайте так, напишу, векторных произведений.
[18:27.000 --> 18:34.000]  Кросспродакт это называется. Давайте там, кросспродакт. Да, спасибо.
[18:34.000 --> 18:43.000]  От пар p и p и плюс один процент n для всех и от нуля до n минус одного.
[18:43.000 --> 18:50.000]  То есть я все пары соседних векторов перебираю, включая вот эти вот два последние, там p последнее и p нулевое.
[18:50.000 --> 18:55.000]  Я такое векторное произведение тоже считаю от p и n минус один к p ноль.
[18:55.000 --> 18:58.000]  Все суммирую и получаю площадь.
[18:58.000 --> 19:06.000]  Вот. Ну, на самом деле, то есть еще раз, да, я сказал, что все вот это вот лишнее, вне границы, вне многогольника, оно возьмется с плюсом, потом с минусом, то есть сократится.
[19:06.000 --> 19:10.000]  Все внутри будет только с плюсом. На самом деле, не обязательно, может быть, наоборот.
[19:10.000 --> 19:18.000]  Да, может быть, все, что все здесь возьмется с минусом. Ну, на самом деле, тогда надо написать, что площадь по модулю равна вот этой штуке.
[19:18.000 --> 19:31.000]  Вот. Значит, это с одной стороны, с другой стороны это будет тогда, на самом деле, ориентированная площадь, ориентированная площадь многоугольника.
[19:35.000 --> 19:40.000]  Вот. И она заодно, если мы не будем брать ее по модулю, она заодно нам даст в каком-то смысле его ориентацию.
[19:40.000 --> 19:48.000]  То есть, в каком порядке вот эти вот вершины p0, p1, p2, p3, в каком порядке они обходят многоугольник? В порядке противчасовой или в порядке почасовой?
[19:48.000 --> 19:58.000]  Ну, то есть, ну, кажется, что s, вот это вот, которое мы так посчитали, больше нуля, если и только если порядок обхода идет противчасовой.
[19:58.000 --> 20:07.000]  Значит, порядок обхода противчасовой стрелки. Ну, в положительном направлении.
[20:10.000 --> 20:18.000]  То есть, ну, грубо говоря, если бы я инвертировал порядок обхода всех вершин, да, сделал бы его не в таком порядке, а, наоборот, ну, как бы в противоположном,
[20:18.000 --> 20:24.000]  тогда у меня все площади вылезли бы с противоположным знаком, потому что я поменял порядок всех пар средних векторов.
[20:24.000 --> 20:29.000]  Соответственно, площадь бы поменяла знак, но это как раз значит, что там в каком направлении я похожу многоугольник.
[20:29.000 --> 20:34.000]  Вот так вот или вот так вот. Иногда бывает полезно понять, в каком именно порядке он ориентирован.
[20:34.000 --> 20:38.000]  Вот, если нет, то можно просто это посчитать, взять модуль, это будет площадь многоугольника.
[20:38.000 --> 20:40.000]  Ага.
[20:40.000 --> 20:44.000]  Она же может быть сначала найдет почасовую, потом обратно?
[20:44.000 --> 20:48.000]  Ну, собственно, тут так и происходит, да? Ну, сейчас.
[20:49.000 --> 20:54.000]  Это, ну, это хороший вопрос. На самом деле, смотрите, что значит по или против собой, да?
[20:54.000 --> 20:59.000]  То есть вот как здесь, мы сначала типа туда вращаемся, потом туда, потом сюда.
[20:59.000 --> 21:01.000]  Сейчас скажу.
[21:05.000 --> 21:08.000]  Ну, вот типа вот, да, вот типа вместе. На самом деле, что такое по или против?
[21:08.000 --> 21:15.000]  Это значит, что вот если вы возьмете, короче, если вы в гвоздик поставите внутреннего угольника
[21:15.000 --> 21:20.000]  и начнете, проведете вот такую вот веревку, короче, ниточку вот такую сделаете,
[21:20.000 --> 21:23.000]  начнете ею проводить по границам многоугольника,
[21:23.000 --> 21:29.000]  то у вас в конце ниточка, она как бы сделает оборот вокруг этого гвоздика.
[21:29.000 --> 21:32.000]  Ну, сейчас прям очень неформально, но как есть.
[21:32.000 --> 21:35.000]  То есть еще раз, вот здесь гвоздик, вы ниточку ведете вдоль границы,
[21:35.000 --> 21:39.000]  у вас ниточка вот так вот закручивается, и в итоге делает поворот 2p,
[21:39.000 --> 21:42.000]  полный поворот круга вокруг этого гвоздика.
[21:42.000 --> 21:47.000]  Вот, но если поворот был противчасовой, то, собственно, и обход был противчасовой, иначе почасовой.
[21:49.000 --> 21:55.000]  Ну, он может дергаться как-то, но рано или поздно вы все равно, как бы вы, ну, вы из этой точки, вы обходите,
[21:55.000 --> 22:00.000]  то есть представьте, что вы человек вот здесь стоите, вы смотрите глазами вот так вот вдоль границы многоугольника.
[22:00.000 --> 22:05.000]  Вот так вот просто идете, иногда у вас взгляд туда-сюда дергается, как вот здесь, да, скажем.
[22:05.000 --> 22:08.000]  Сначала, так, ну тут плохая картинка, ну вот, не знаю.
[22:09.000 --> 22:14.000]  Ну, что-то вот такое, вы сначала вот здесь вот смотрели туда, на эту границу,
[22:14.000 --> 22:17.000]  потом начали смотреть вниз, то есть, ну, иногда дергается.
[22:17.000 --> 22:23.000]  Но суммарный вот этот вот обход, когда вы, когда вы всю ниточку вокруг всего многоугольника проведете,
[22:23.000 --> 22:25.000]  она полный круг сделает.
[22:27.000 --> 22:31.000]  Не последний, а суммарный поворот, суммарный вот поворот всех углов, которые вы делаете.
[22:31.000 --> 22:33.000]  Можно сказать, что это определение просто?
[22:33.000 --> 22:38.000]  Ну, можно, но я, я не знаю, ну, типа, блин, может быть.
[22:46.000 --> 22:50.000]  Так, ну вот, хорошо, значит, это был первый метод, это метод треугольников.
[22:52.000 --> 22:57.000]  Метод треугольников. Как подсчитывать площадь многоугольника?
[22:57.000 --> 22:59.000]  Теперь давайте метод трапеции, тоже бывает полезно.
[23:00.000 --> 23:01.000]  Метод трапеции.
[23:05.000 --> 23:07.000]  Хорош, хорош, бывает.
[23:10.000 --> 23:13.000]  Сейчас, давайте я сначала скажу, потом, потом скажу, когда он будет полезнее.
[23:13.000 --> 23:19.000]  Значит, здесь тоже основано на том, что мы будем какие-то суммы брать с плюсами,
[23:19.000 --> 23:22.000]  какие-то с минусами, и неправильные будут сокращаться.
[23:22.000 --> 23:26.000]  Ну, давайте я вот что-то простое нарисую.
[23:27.000 --> 23:28.000]  Значит, что я сделаю?
[23:28.000 --> 23:32.000]  Я опять буду обходить все вершины многоугольников в каком-то порядке
[23:32.000 --> 23:36.000]  и буду брать площадь вот такой вот ориентированной трапеции.
[23:36.000 --> 23:40.000]  Значит, если у меня взяты две соседние точки P и P плюс один,
[23:40.000 --> 23:44.000]  то я рассматриваю такой вектор из предыдущего в следующего
[23:44.000 --> 23:47.000]  и считаю ориентированную площадь вот такой вот трапеции.
[23:49.000 --> 23:50.000]  Так.
[23:52.000 --> 23:54.000]  То есть, соответственно, если у меня, грубо говоря,
[23:54.000 --> 23:56.000]  если она идет в положительном направлении в порядке возрастания х,
[23:56.000 --> 23:59.000]  они упорядочены, то она будет с плюсом, иначе будет с минусом.
[24:00.000 --> 24:04.000]  Так, скажите, пожалуйста, как мне посчитать площадь такой трапеции?
[24:06.000 --> 24:08.000]  Ой, ну это, конечно, оверкил.
[24:15.000 --> 24:17.000]  Да-да-да, нужна, видимо, какая-то площадь трапеции.
[24:18.000 --> 24:19.000]  О боже мой.
[24:19.000 --> 24:22.000]  Вот там, где у ППИ и у ППИ плюс один.
[24:23.000 --> 24:28.000]  Да, вот давайте, значит, площадь трапеции, это полусумма оснований,
[24:28.000 --> 24:33.000]  если это а, это b, да, на высоту, а плюс b на h.
[24:33.000 --> 24:35.000]  Вот это вот будет, получается, h.
[24:36.000 --> 24:37.000]  Вот.
[24:37.000 --> 24:38.000]  Ну и что такое а и b?
[24:38.000 --> 24:40.000]  А и b это, получается, x координаты,
[24:40.000 --> 24:46.000]  парадон, y координаты наших точек, да, а b это y координаты
[24:46.000 --> 24:51.000]  вершин многоугольника, y координаты вершин,
[24:53.000 --> 25:01.000]  а h это, получается, разность x координат наших точек, разность x координат.
[25:03.000 --> 25:08.000]  Ну и вот как раз, если мы просто берем ПИ плюс один минус ПИ,
[25:08.000 --> 25:11.000]  то это будет с плюсом, ну то есть как бы, как раз из-за того,
[25:11.000 --> 25:14.000]  что у нас есть здесь разность, я, скажем, вычитаю следующую,
[25:14.000 --> 25:18.000]  ну короче, из следующей предыдущую, короче, не важно, да,
[25:18.000 --> 25:21.000]  то есть если взять вот так вот, следующий минус предыдущую,
[25:21.000 --> 25:26.000]  то есть h это ПИ плюс первая точка х, минус ПИ третья точка х,
[25:26.000 --> 25:31.000]  потом вы все это складываете, получается как раз все как надо, да, да, да, да.
[25:32.000 --> 25:33.000]  Вот.
[25:37.000 --> 25:40.000]  Ну типа, ну вот если картинки прислать, то получится, честно, честно.
[25:41.000 --> 25:44.000]  Вот, значит, чем это может быть полезнее?
[25:44.000 --> 25:50.000]  Значит, это может быть полезно, когда у вас многоугольник такой клетчатый,
[25:51.000 --> 25:54.000]  в том смысле, что все его стороны параллельны осям координат.
[25:54.000 --> 25:57.000]  Вот, например, у вас какой-то такой многоугольник,
[26:00.000 --> 26:06.000]  какой-то такой конструктор, вот, и все стороны параллельны одной из двух координат.
[26:06.000 --> 26:08.000]  Тогда у вас все трапеции прощаются в прямоугольнике.
[26:11.000 --> 26:13.000]  Ну, здесь, на самом деле, все было бы в целых числах,
[26:13.000 --> 26:16.000]  у вас вектор на произведении всегда положительный, но, извините,
[26:16.000 --> 26:20.000]  в смысле, если и коренаты были целые, то и вектор тоже целый.
[26:24.000 --> 26:28.000]  Короче, бывают задачи, где, ну, как бы, смотрите, у прямоугольников у вас все понятно,
[26:28.000 --> 26:32.000]  у них прямые стороны параллельны осям координат, здесь все здорово.
[26:32.000 --> 26:36.000]  А когда вы рассматриваете треугольники, у вас треугольники получаются такие косые,
[26:36.000 --> 26:41.000]  у них всякие вот эти радиус-векторы, они бывают всякаразно направлены, не очень приятно.
[26:41.000 --> 26:46.000]  Если у вас, например, задача такая, что, ну, там, не знаю, например, у вас есть какая-то сетка,
[26:46.000 --> 26:50.000]  и в каждой клетке написано какое-то число,
[26:50.000 --> 26:55.000]  и вам надо посчитать сумму чисел, записанных вот здесь, вот, внутри всего многоугольника.
[26:55.000 --> 26:57.000]  Тогда треугольниками непонятно, как это суммировать,
[26:57.000 --> 26:59.000]  потому что непонятно, какие числа попадают в треугольник,
[26:59.000 --> 27:06.000]  а здесь в трапециях очень понятно, какие числа попадают в треугольники, в эти, в трапеции, то есть в прямоугольники.
[27:06.000 --> 27:09.000]  Ну, и они точно так же можно складывать, их вычитать.
[27:09.000 --> 27:14.000]  Вот. Ну, короче, что больше нравится, то и делайте.
[27:14.000 --> 27:18.000]  А эти площади в рандомном порядке, если точка в рандомном порядке?
[27:18.000 --> 27:20.000]  Точно в рандомном порядке.
[27:20.000 --> 27:23.000]  Ну, вот, не вот так, но следовательно.
[27:23.000 --> 27:27.000]  Нет, в таком случае мы даже не понимаем, что такое многоугольник.
[27:27.000 --> 27:30.000]  Если у вас просто на плоскости разбросаны вершины, точнее, точки,
[27:30.000 --> 27:34.000]  и вам сказано, что они в каком-то порядке образуют многоугольник,
[27:34.000 --> 27:35.000]  то непонятно, извините, а что у вас за многоугольник,
[27:35.000 --> 27:40.000]  потому что по данному набору точек многоугольник может выглядеть там, ну, многообразно.
[27:40.000 --> 27:42.000]  Вот, не знаю, вот, например, у вас вот такие пять точек.
[27:42.000 --> 27:44.000]  Как тут можно нарисовать многоугольник?
[27:44.000 --> 27:45.000]  Давайте, как-нибудь вот так.
[27:45.000 --> 27:48.000]  Ну, можно вот так вот, вот что-нибудь, такое, такую галочку сделать.
[27:48.000 --> 27:52.000]  А можно сделать более-менее что угодно другое, да?
[27:52.000 --> 27:55.000]  Ну, вот такое, например, и какой из них, ну, непонятно.
[27:55.000 --> 27:57.440]  Поэтому у вас многогольник всегда задается на самом
[27:57.440 --> 28:01.160]  деле ломанной в порядке обхода границы, иначе никак
[28:01.160 --> 28:02.160]  его не задашь.
[28:02.160 --> 28:16.080]  Нет, прям просто координаты, да, да, да, да, чтобы было
[28:16.080 --> 28:19.920]  ориентировано и чтобы с правильным знаком просто
[28:19.920 --> 28:20.920]  координаты.
[28:21.400 --> 28:24.600]  Но если мы знаем, что он выпыхнет, он там однозначно
[28:24.600 --> 28:25.600]  определяет.
[28:25.600 --> 28:26.600]  Ну если выпыхлый, то да.
[28:26.600 --> 28:29.600]  И тогда слабо отнести.
[28:29.600 --> 28:33.440]  Ну если у вас просто точки, и вы знаете, что они образуют
[28:33.440 --> 28:36.160]  границу выпыхлого многогольника, то надо сначала определить,
[28:36.160 --> 28:37.160]  в каком они идут порядке.
[28:37.160 --> 28:39.840]  Вот здесь в любом случае, здесь я активно на порядок
[28:39.840 --> 28:40.840]  опираюсь.
[28:40.840 --> 28:41.840]  Я говорю, что у меня есть первые, вторые, третьи и так
[28:41.840 --> 28:42.840]  далее.
[28:42.840 --> 28:44.400]  Вы сначала определите порядок какой-то сортировкой по
[28:44.400 --> 28:47.160]  углу, чтобы понимать, в каком порядке они идут, потом
[28:47.160 --> 28:48.160]  запускаете то же самое.
[28:48.160 --> 28:49.160]  Вот.
[28:49.160 --> 28:50.160]  Хорошо.
[28:50.400 --> 28:56.560]  Значит, ну про точки вектора, наверное, все.
[28:56.560 --> 29:00.040]  Давайте к прямым переходить.
[29:00.040 --> 29:03.040]  Прямая.
[29:03.040 --> 29:06.040]  Как хранить прямую?
[29:06.040 --> 29:12.280]  Ну я предпочитаю такой способ в виде трех, в виде трех
[29:12.280 --> 29:15.360]  индексов ABC, в виде трех координат ABC.
[29:15.360 --> 29:17.600]  Потому что если хранить в виде х равно кх плюс b,
[29:17.600 --> 29:20.120]  то понятно, что там какие-то прямые не получатся.
[29:20.120 --> 29:22.000]  Хранить типа вертикальные, кажется, не получается.
[29:22.000 --> 29:26.520]  Да, потому что у не является функцией от х.
[29:26.520 --> 29:27.520]  Вот.
[29:27.520 --> 29:29.320]  А в такой виде любую прямую можно представить.
[29:29.320 --> 29:32.840]  Возможно, занулив а, возможно, занулив b, но любая прямая
[29:32.840 --> 29:33.840]  имеет такое представление.
[29:33.840 --> 29:34.840]  Вот.
[29:34.840 --> 29:37.680]  И более того, если у вас исходные координаты точек
[29:37.680 --> 29:39.840]  были целочисленными, и вы хотите, ну вот, скажем,
[29:39.840 --> 29:44.200]  задача, да, у вас есть две точки по ику, вы хотите
[29:44.200 --> 29:46.200]  по ним провести прямую.
[29:46.200 --> 29:48.280]  Тогда можно показать, что если у этих точек координаты
[29:48.280 --> 29:51.720]  целочисленные, то можно взять такие целые ABC, чтобы
[29:51.720 --> 29:53.560]  эта прямая через них проходила.
[29:53.560 --> 29:54.560]  Ну давайте это сделаем.
[29:54.560 --> 29:59.640]  Давайте скажем, что эта точка x1, y1, эта точка x2, y2.
[29:59.640 --> 30:03.080]  Значит, тогда я утверждаю, что можно построить прямую,
[30:03.080 --> 30:06.040]  да, вот такое уравнение прямой со следующими коэффициентами.
[30:06.040 --> 30:10.640]  Так, ну сейчас что-то напишем и проверим, работает это
[30:10.640 --> 30:11.640]  или нет.
[30:11.640 --> 30:18.920]  Я утверждаю, что если взять такие ABC, то у вас получится
[30:18.920 --> 30:21.960]  уравнение прямой, конкретно проходящее через эти две
[30:21.960 --> 30:22.960]  точки.
[30:22.960 --> 30:23.960]  Вот.
[30:23.960 --> 30:24.960]  Ну как-то проверить.
[30:24.960 --> 30:28.360]  Если не верится, то давайте просто подставим с данными
[30:28.360 --> 30:32.400]  ABC вот эти x и y в уравнение, проверим, что всё получается.
[30:32.400 --> 30:35.040]  Ну давайте x1 подставлю, x2 аналогично.
[30:35.040 --> 30:43.880]  Значит, если я подставлю сюда x1, сюда y1, сюда вот
[30:43.880 --> 30:44.880]  эту вот штуку.
[30:44.880 --> 30:45.880]  Вот.
[30:45.880 --> 30:50.680]  Ну что, Палыч, у меня будет x1, y1 с плюсом здесь, с минусом
[30:50.680 --> 30:53.920]  здесь, поэтому вот это вот и вот это вот сократилось.
[30:53.920 --> 31:00.720]  x1, y2 с минусом здесь, с плюсом здесь сократилось, ну и x2,
[31:00.720 --> 31:03.520]  y1 с плюсом здесь, с минусом здесь тоже сократилось.
[31:03.520 --> 31:04.520]  Получился ноль.
[31:05.000 --> 31:06.000]  Вот.
[31:06.000 --> 31:07.000]  Если вторую точку поставить, будет то же самое.
[31:07.000 --> 31:14.160]  Ну типа того, да, ну как бы я, да, на самом деле,
[31:14.160 --> 31:17.080]  да, но я сразу выписываю решение, чтобы не возиться
[31:17.080 --> 31:18.080]  с коэффициентами.
[31:18.080 --> 31:23.080]  Вот.
[31:23.080 --> 31:27.280]  Хорошо.
[31:27.280 --> 31:35.560]  Теперь давайте про всякие характеристики прямой
[31:35.560 --> 31:37.560]  ещё разберёмся.
[31:37.560 --> 31:40.160]  Вот есть прямая, задаваемая таким уравнением.
[31:40.160 --> 31:46.920]  Давайте определим её вектор направляющий, например.
[31:46.920 --> 31:50.040]  Давайте определим вектор, сонаправленный с нашей
[31:50.040 --> 31:53.120]  прямой, ну, колениарной нашей прямой.
[31:53.120 --> 31:55.400]  Значит, какой вектор будет?
[31:56.400 --> 31:59.400]  Ну, например, минус BA, да.
[31:59.400 --> 32:04.400]  Значит, минус BA будет сонаправлен с нашей прямой.
[32:04.400 --> 32:05.400]  Почему?
[32:05.400 --> 32:09.000]  Ну, потому что если какая-то точка x, y лежала на прямой,
[32:09.000 --> 32:11.320]  если я к ней прибавлю этот вектор, то есть напишу
[32:11.320 --> 32:16.560]  x минус B и y плюс A, можно показать, что если для x, y это уравнение
[32:16.560 --> 32:18.560]  было верно, то и для этой точки тоже будет и верно,
[32:18.560 --> 32:21.680]  поэтому эта точка на прямой, а значит L это разность между
[32:21.680 --> 32:24.120]  какими-то двумя точками, значит это направляющий
[32:24.120 --> 32:25.120]  вектор.
[32:25.120 --> 32:32.600]  Вот, нет, я, наоборот, предпочитаю сначала сделать эту штуку,
[32:32.600 --> 32:33.600]  потом вывести нормаль.
[32:33.600 --> 32:34.600]  Вот.
[32:34.600 --> 32:40.760]  Значит, дальше я утверждаю, что когда мы знаем направляющий,
[32:40.760 --> 32:43.560]  я могу сделать нормальный вектор, то есть вектор перпендикулярный
[32:43.560 --> 32:44.560]  прямой.
[32:44.560 --> 32:46.880]  Значит, это что будет?
[32:46.880 --> 32:48.920]  AB, да.
[32:49.840 --> 32:52.400]  Ну, просто потому что он артагонален вот этому,
[32:52.400 --> 32:54.800]  а это вектор вот такой вот.
[32:54.800 --> 32:58.280]  Как правило, что они артагональны, надо посчитать скалярные
[32:58.280 --> 33:02.720]  произведения, минус AB плюс BA, как раз ноль.
[33:02.720 --> 33:04.440]  Вот они перпендикулярны, поэтому это нормаль.
[33:04.440 --> 33:05.440]  Вот.
[33:05.440 --> 33:11.960]  Ну, если надо, да, если надо, мы можем этот вектор, если
[33:11.960 --> 33:14.800]  прям очень надо, точнее, мы можем этот вектор нормировать.
[33:15.760 --> 33:19.880]  Да, то есть у нас, как бы, довольно часто будет нам
[33:19.880 --> 33:23.040]  хотеться, чтобы n было единичным нормальным вектором, ну
[33:23.040 --> 33:25.400]  и вообще, обычный как-то, как-то, вектор все-таки единичный,
[33:25.400 --> 33:27.840]  да, задающее направление, они обычно единичные.
[33:27.840 --> 33:30.640]  Поэтому, чтобы теперь этот вектор нормировать, мне
[33:30.640 --> 33:34.760]  нужно поделить вот эти вот координаты на длину этого
[33:34.760 --> 33:35.760]  вектора.
[33:35.760 --> 33:37.000]  Да, и можно сказать, что вместо вектора AB можно
[33:37.000 --> 33:41.240]  написать A делить на корень за квадрат плюс B квадрат,
[33:41.240 --> 33:44.560]  и B делить на корень за квадрат плюс B квадрат.
[33:44.560 --> 33:50.040]  Да, это будет уже единичный нормальный вектор, единичный
[33:50.040 --> 33:51.040]  нормальный вектор.
[33:55.040 --> 33:56.040]  Вот.
[34:15.040 --> 34:20.080]  Так, хорошо, теперь давайте научимся опускать перпендикуляр
[34:20.080 --> 34:25.400]  из точки на прямую, то есть точка, то есть прямая задаваемая
[34:25.400 --> 34:26.400]  таким-то уравнением.
[34:26.400 --> 34:32.400]  Я хочу найти две вещи, во-первых, хочу найти расстояние
[34:32.400 --> 34:37.240]  от точки до прямой, во-вторых, найти, ну, основание этого
[34:37.240 --> 34:39.920]  перпендикуляра, то есть найти длину вот этого отрезка
[34:39.920 --> 34:43.520]  и найти, что это за точка Q, и являешься по факту
[34:43.520 --> 34:45.120]  проекции точки напрямую.
[34:45.120 --> 34:53.440]  Вот, ну, длина расстояния от точки до прямой считается
[34:53.440 --> 34:54.440]  вот так вот.
[35:03.440 --> 35:04.440]  Вот.
[35:04.440 --> 35:07.880]  Ну, и здесь как раз вот, в частности, всплывает этот
[35:07.880 --> 35:11.240]  корень A квадрат плюс B квадрат, и, как бы, потенциально мы
[35:11.960 --> 35:13.920]  бы могли, вот здесь, когда строили прямую, вот в момент,
[35:13.920 --> 35:16.760]  когда мы строили прямую, скажем, по двум точкам, мы
[35:16.760 --> 35:19.720]  можем вот, скажем, в самом начале поделить A и B на корень
[35:19.720 --> 35:22.640]  за квадрат в сумму квадрат, сделать нормальный вектор
[35:22.640 --> 35:25.640]  единичным, и тогда уже ни на что делить не придется.
[35:25.640 --> 35:26.640]  Вот.
[35:26.640 --> 35:28.160]  Но, в общем случае, если мы это не сделали, то надо
[35:28.160 --> 35:31.760]  поделить на корень из суммы квадратов A и B.
[35:31.760 --> 35:32.760]  Вот.
[35:32.760 --> 35:33.760]  Значит, почему это так?
[35:33.760 --> 35:37.040]  Ну, давайте напишем, что, что такое Q, да?
[35:37.040 --> 35:41.200]  По факту мне нужно к П прибавить нормальный вектор,
[35:42.160 --> 35:45.120]  потому что вектор перпендикулярный прямой – это нормальный
[35:45.120 --> 35:47.800]  вектор, но мне его нужно добавить с каким-то коэффициентом,
[35:47.800 --> 35:48.800]  скажем, к.
[35:48.800 --> 35:54.000]  То есть, мне нужно добавить вектор kn, чтобы попасть на
[35:54.000 --> 35:55.000]  прямую.
[35:55.000 --> 35:56.840]  То есть, у меня, скажем, пусть была точка вот здесь вот
[35:56.840 --> 36:03.760]  xy, на P это xy, я к ней добавляю вектор kn, получаю точку
[36:03.760 --> 36:09.000]  с коэффициентом, с координатами x плюс ka, y плюс kb.
[36:09.800 --> 36:10.800]  Вот.
[36:10.800 --> 36:13.000]  И мне хочется, чтобы теперь эта точка Q попала на прямую.
[36:13.000 --> 36:14.760]  То есть, я сдвинулся вдоль нормального вектора на
[36:14.760 --> 36:18.040]  какой-то коэффициент, попадаю в точку Q, я хочу, чтобы Q лежала
[36:18.040 --> 36:19.040]  на прямой.
[36:19.040 --> 36:22.960]  Ну, давайте, типа, сюда подставим, и все у нас получится.
[36:22.960 --> 36:25.240]  Значит, я хочу, чтобы выполнилось вот такое вот равенство.
[36:29.240 --> 36:31.240]  Вот так вот.
[36:32.240 --> 36:34.240]  Ну и, собственно, отсюда все получается.
[36:34.240 --> 36:36.240]  Отсюда получается 600k на…
[36:36.480 --> 36:38.480]  Так, что-то странное.
[36:38.480 --> 36:42.480]  А мы можем вектор нормального умножить на расстояние?
[36:42.480 --> 36:43.480]  Ау?
[36:43.480 --> 36:45.480]  Вектор нормального умножить на расстояние.
[36:45.480 --> 36:47.480]  Ну, я так и делаю, вроде.
[36:47.480 --> 36:51.480]  В смысле, и вливается просто ориентированно на расстояние,
[36:51.480 --> 36:53.480]  и мы вроде не прямые?
[36:53.480 --> 36:55.480]  Не-не-не, это я доказываю, почему-то верно.
[36:55.480 --> 36:58.480]  Это вы уже как кунайте, я доказываю, как-то форму
[36:58.480 --> 36:59.480]  уберется.
[36:59.480 --> 37:05.480]  Так, вот это вот безобразие равно минус ax, минус by, минус
[37:05.720 --> 37:06.720]  c.
[37:06.720 --> 37:11.720]  Значит, k равно минус ax, минус by, минус c на квадрат
[37:11.720 --> 37:12.720]  плюс b².
[37:12.720 --> 37:13.720]  Вот.
[37:13.720 --> 37:15.720]  Значит, мы знаем, с каким коэффициентом надо взять
[37:15.720 --> 37:16.720]  нормальный вектор.
[37:16.720 --> 37:19.720]  Ну, а дальше мы знаем, что длина нормального вектора
[37:19.720 --> 37:22.720]  у меня – это корень за квадрат плюс b², да, если я ее
[37:22.720 --> 37:23.720]  не нормирую.
[37:23.720 --> 37:27.720]  Если у меня нормальный вектор произвольный, не обязательно
[37:27.720 --> 37:30.720]  единичной длины, то его длина вот такая.
[37:30.720 --> 37:33.720]  Ну, а значит, расстояние dist – это что такое?
[37:33.960 --> 37:36.960]  Это просто расстояние, ну, длина отрезка pq.
[37:36.960 --> 37:39.960]  Это есть просто длина вектора kn.
[37:39.960 --> 37:42.960]  Но это есть как раз произведение, да, вот это штуки на эту.
[37:42.960 --> 37:45.960]  Поэтому один корень из знаменателя уйдет.
[37:45.960 --> 37:47.960]  Но здесь нужно написать модуль, потому что я беру
[37:47.960 --> 37:50.960]  длину отрезка, как раз получается ровно вот это вот.
[37:54.960 --> 37:55.960]  Согласна?
[37:56.960 --> 37:57.960]  Чудно.
[37:57.960 --> 38:00.960]  Значит, ну, расстояние нашли.
[38:01.200 --> 38:04.200]  Ну и заодно мы поняли, как находить эту самую q.
[38:04.200 --> 38:06.200]  Мы поняли, как находить проекцию.
[38:06.200 --> 38:09.200]  Надо просто взять нормальный вектор n, координаты которого
[38:09.200 --> 38:12.200]  мы знаем, где-то там вот тут написано, и добавить
[38:12.200 --> 38:16.200]  его к p с коэффициентом k, где k вот тут тоже написано.
[38:16.200 --> 38:20.200]  Поэтому мы не только расстояние знаем, но и основание перпендикуляра.
[38:20.200 --> 38:21.200]  То есть мы нашли проекцию точки напрямую.
[38:31.200 --> 38:36.200]  Так, из прямых мне осталось научиться пересекать прямые.
[38:38.200 --> 38:42.200]  Представьте, есть две вот такие вот прямые.
[38:47.200 --> 38:50.200]  Вам надо найти точку их пересечения, ну или сказать,
[38:50.200 --> 38:52.200]  что там прямые параллельные или совпадают.
[38:52.200 --> 38:54.200]  Тогда точку однозначно определить нельзя.
[38:54.200 --> 38:55.200]  Вот.
[38:55.200 --> 38:57.200]  Ну, чтобы это сделать, на самом деле, надо просто
[38:57.200 --> 39:00.200]  решить вот такую систему уравнений.
[39:00.440 --> 39:03.440]  Сейчас я покажу, как это делать проще всего.
[39:03.440 --> 39:07.440]  Значит, это не гаус, как может показаться на первый
[39:07.440 --> 39:10.440]  взгляд, потому что его, а?
[39:10.440 --> 39:11.440]  Нет.
[39:11.440 --> 39:14.440]  Потому что в гаусе надо ифать, грубо говоря.
[39:14.440 --> 39:18.440]  Если у вас a1 равно нулю, тогда поделим a1, ну и так далее.
[39:18.440 --> 39:21.440]  Давайте крамером решим.
[39:21.440 --> 39:23.440]  Крамер делает следующее.
[39:23.440 --> 39:26.440]  Он переписывает нашу систему в таком вот виде.
[39:30.440 --> 39:33.440]  И дальше он считает такие три определителя.
[39:33.440 --> 39:35.440]  Первое это определить вот этой обычной матрице.
[39:35.440 --> 39:38.440]  1b2-a2b1.
[39:38.440 --> 39:40.440]  Дальше определитель.
[39:40.440 --> 39:42.440]  Это мы столбец свободных квестенентов
[39:42.440 --> 39:44.440]  поставляем на место первого столбца.
[39:44.440 --> 39:47.440]  У нас получается минус c1b2
[39:47.440 --> 39:49.440]  плюс c2b1.
[39:49.440 --> 39:51.440]  И наконец последнее.
[39:51.440 --> 39:52.440]  Тогда мы столбец свободных квестенентов
[39:52.440 --> 39:54.440]  поставляем на место второго столбца.
[39:54.440 --> 39:57.440]  Будет минус a1 c2
[39:57.680 --> 40:00.680]  плюс, ну видимо, a2 c1.
[40:04.680 --> 40:07.680]  Ну и так же считаем определители.
[40:07.680 --> 40:09.680]  Значит, я тогда утверждаю, что
[40:09.680 --> 40:12.680]  значит, если дельта это ноль,
[40:12.680 --> 40:15.680]  тогда прямые и параллельные не совпадают.
[40:15.680 --> 40:18.680]  Прямые и параллельные
[40:18.680 --> 40:21.680]  или совпадают.
[40:21.680 --> 40:23.680]  Но это понятно, потому что не параллельные не совпадают.
[40:23.680 --> 40:26.680]  Если у них коллинеарно направляющие векторы,
[40:26.920 --> 40:29.920]  то есть то же самое у них коллинеарная нормаля,
[40:29.920 --> 40:32.920]  коллинеарное означает, что у них вектор на произведении ноль,
[40:32.920 --> 40:34.920]  Но это в точности вектор на произведении нормалей,
[40:34.920 --> 40:36.920]  дельта давайте напишем, что это
[40:36.920 --> 40:38.920]  векторное,
[40:38.920 --> 40:41.000]  ну псевдовекторное произведение
[40:41.000 --> 40:43.800]  нормалей.
[40:43.800 --> 40:45.800]  И соответственно оно ноль ровно в том случае,
[40:45.800 --> 40:46.800]  когда они коллинеарные,
[40:46.800 --> 40:48.480]  ровно в том случае к paddle и main taxi
[40:48.480 --> 40:50.480]  ровно в том случае, когда прямые и параллельные не совпадают.
[40:53.680 --> 40:55.680]  Ну если дельта не ноль...
[40:55.680 --> 40:59.000]  как ифнуть что дельта ноль или что а вот эти два но давайте чуть позже давайте
[40:59.000 --> 41:04.600]  сначала точку точку построю значит тогда xy это
[41:05.200 --> 41:13.880]  xy точка пересечения это дельта 1 делить на дельта дельта 2 делить на дельта вот
[41:13.880 --> 41:18.640]  ну собственно метод крамера либо можно проскать там вот возьмем такие xy подставим
[41:18.640 --> 41:26.400]  в системе ровня и проверим что они подходят если не верится вот метод хорош тем что еще
[41:26.400 --> 41:31.240]  раз повторю да в отличие от метода гаусса где нужно найти из этих двух не нулевой то есть как
[41:31.240 --> 41:36.120]  короче привести вот эту матрицу к какому-то виду ступенчатому нам надо понять какой из них не ноль
[41:36.120 --> 41:40.600]  поделить строчку ну и так далее что-то вычитать короче долго а так просто формула готова у вас
[41:40.600 --> 41:47.400]  вот уже крамеры вам просто раздает коэффициенты кардината обеих короче кардината точки как
[41:47.400 --> 41:51.320]  проверить вот в этом случае как разделить параллельно совпадают давайте подумаем
[41:51.320 --> 41:59.880]  ну когда они совпадают вообще они совпадают если у них уравнение отличаются умножением в
[41:59.880 --> 42:08.920]  константу а то существует такая значит прямые совпадают если только если существует какая-то
[42:08.920 --> 42:19.360]  константа к ну такая что давайте напишу так тройка а1 б1 ц равна тройки к а2 к б2 к ц 2
[42:19.360 --> 42:27.840]  ну потому что что значит они совпадают значит множество решений вот такого уровня не одинаковая
[42:27.840 --> 42:32.800]  это может быть только в случае когда ну как бы уравнение отличается 42 умножения ну короче у них
[42:32.800 --> 42:40.800]  эти самые короче отличается умножение на константу вот только в этом случае не могут задавать
[42:41.800 --> 42:52.960]  но это уж как-то можно сделать наверное не умею ну если научите буду буду признателен здесь я не
[42:52.960 --> 43:12.800]  умею фать не фать подумайте не знаю не знаю так тут согласны совсем хорошо тогда идем дальше
[43:12.800 --> 43:20.720]  значит последний примитив у нас окружность окружность но окружность я храню просто центром и
[43:20.720 --> 43:27.280]  радиусом но есть точка ц является центром окружности и величина р является ее радиусом
[43:27.280 --> 43:36.960]  вот ну здесь есть кажется два вопроса всего давайте научимся пересекать прямую окружность и две
[43:36.960 --> 43:43.240]  окружности между собой во первых как пересечь окружность и прямую узнать вообще они пересекаются
[43:43.240 --> 43:49.240]  или нет значит тут есть три случая как может прямая соотноситься с окружностью первый случай
[43:49.740 --> 43:55.880]  пересекаются второй случай они касаются третьи случай когда не вообще не пересекаются разбирается
[43:55.880 --> 44:01.680]  это очень просто надо просто посчитать расстояние от центра до прямой д если это
[44:01.680 --> 44:07.160]  расстояние д меньше радиуса то пересекается если равно радиус а то касается все больше то не
[44:07.160 --> 44:13.920]  пересекается первое что я делаю это считаю д как расстояние от центра окружности до прямой
[44:13.920 --> 44:21.280]  прямой l, если d больше, чем радиус, то пересечений
[44:21.280 --> 44:22.280]  нет.
[44:22.280 --> 44:31.540]  Дальше я скажу следующее, давайте я точкой h обзову
[44:31.540 --> 44:35.040]  основание перпендикуляра, но благо я уже умею опускать
[44:35.040 --> 44:37.520]  перпендикуляры, так вот пусть h это основание перпендикуляра
[44:38.520 --> 44:56.200]  Дальше если d равно радиусу, то h это единственная точка
[44:56.200 --> 45:03.200]  пересечения, то я напишу так return h, но у меня есть единственная
[45:03.200 --> 45:09.840]  точка пересечения, это точка касания, иначе в последнем
[45:09.840 --> 45:13.920]  случае d строго меньше, чем r, точки пересечения две,
[45:13.920 --> 45:23.100]  давайте найдем их координаты, такая окружность, такая
[45:23.100 --> 45:28.520]  прямая, мы знаем c, мы знаем d, мы знаем h, мы знаем радиус
[45:28.520 --> 45:42.440]  r, более того мы знаем, направляющий вектор это прямой, тогда
[45:42.440 --> 45:45.360]  можно просто теперь Пифагора написать, понять чему равна
[45:45.360 --> 45:49.680]  длина вот этого отрезочка, это ясное дело r квадрат
[45:49.680 --> 45:53.840]  минус d квадрат, длина вот этого катета r квадрат минус
[45:53.840 --> 45:57.880]  d квадрат, ну и все, а дальше мне нужно от h влево и вправо
[45:57.880 --> 46:00.280]  вдоль этой прямой, то есть вдоль направляющего вектора
[46:00.280 --> 46:08.240]  отступить вот такое расстояние, вот, ну короче не буду дописывать,
[46:08.240 --> 46:10.080]  если у меня есть скажем нормированный единичный
[46:10.080 --> 46:15.000]  вектор нормалия, не нормалия, а направляющий вектор прямой
[46:15.000 --> 46:18.600]  нормированный, то мне нужно просто к h добавить плюс
[46:18.600 --> 46:24.560]  минус a на вот этот корень, ну при условии что a нормированный,
[46:24.560 --> 46:26.240]  то есть длины один, иначе надо еще поделить на его
[46:26.240 --> 46:31.320]  длину, чтобы длина катета была правильной, вот, ну
[46:31.320 --> 46:35.280]  и в этом случае у меня получается две точки, две точки пересечения
[46:35.280 --> 46:37.960]  вот эта и вот эта, я их обе нашел, они как раз по обе
[46:37.960 --> 46:44.760]  стороны от h лежат, вот, кажется так, значит вроде это лучше
[46:44.760 --> 46:47.200]  всего, ну то есть как бы можно было решать эту задачу
[46:47.200 --> 46:49.680]  куча разных способов, можно было сказать, окей, у меня
[46:49.680 --> 46:55.360]  есть уравнение окружности, это там что-то типа вот такого,
[46:55.360 --> 46:59.320]  да, сейчас мы к этому как раз перейдем, есть уравнение
[46:59.320 --> 47:02.560]  окружности, есть уравнение прямой, одно из них квадратное,
[47:02.560 --> 47:04.400]  другое линейное, давайте выразим x через y, поставим
[47:04.400 --> 47:06.400]  туда, решим через дискриминант, найдем корни квадратного
[47:06.400 --> 47:11.760]  уравнения, это не очень хорошо, потому что, ну да, там больше
[47:11.760 --> 47:16.200]  точность будет теряться, вот, а здесь чуть-чуть получше,
[47:16.200 --> 47:20.000]  короче, вот, ну и давайте подчеркну, что вот эти места,
[47:20.000 --> 47:23.120]  где я сравниваю d и r, они конечно идут с точностью
[47:23.900 --> 47:26.700]  потому что d я точно посчитать не могу, я могу только там
[47:26.700 --> 47:28.960]  приближенно даст точность до то скольких-то знаков,
[47:28.960 --> 47:32.400]  поэтому, когда я его проверяю на равенство, на самом деле
[47:32.400 --> 47:35.140]  я, ну как бы лучше его проверять точностью до erosion, потому
[47:35.140 --> 47:37.820]  что равенство у вас, скорее всего не будет, расстояние
[47:37.820 --> 47:41.580]  от прямой до, от точки до прямой, скорее всего будет
[47:41.580 --> 47:44.840]  какое-то там с ошибкой округления, потому что вы там корень
[47:44.840 --> 47:46.640]  извлекаете, ну короче там, скорее всего, не будет
[47:46.640 --> 47:50.840]  никакой точности, вот, ну а и при этом, скорее всего,
[47:50.840 --> 47:53.040]  идет касание, то есть, у вас если они не намножились
[47:53.040 --> 47:59.400]  отличаются там на 10 минус 10 тогда скорее всего это именно касание и вы считаете что не равно только из-за ошибок
[47:59.400 --> 48:05.760]  окурления поэтому если они отличаются не больше чем на эпсилон тогда вы считаете что у вас касание и одна точка только
[48:05.760 --> 48:12.360]  вот нормально хорошо теперь две окружности давайте присягнем
[48:12.360 --> 48:19.560]  давайте так
[48:23.040 --> 48:30.280]  сейчас еще раз что куда перенести
[48:53.040 --> 49:04.680]  я понял вот эти оба должны быть нули тогда не совпадают да я понял я понял я понял
[49:04.680 --> 49:11.800]  да ну хорошо утверждаю я я честно говоря сход сходу не понял почему-то верно короче
[49:11.800 --> 49:15.280]  утверждает что прямые совпадают если только если вот эти штуки нули оба одновременно
[49:15.280 --> 49:30.960]  да ну или кто-то из них 0 да да ну я понял я понял ну типа из того что это равно
[49:30.960 --> 49:39.400]  не следует что там ц1 на б2 равно ц2 на б1 ну ладно короче бог с ним ну я ok ok ok говорят
[49:39.400 --> 49:50.800]  правда я верю ладно хорошо отлично а нет ну в смысле если если все нули имеется
[49:50.800 --> 50:04.400]  вы туда так теперь давайте окружность пересечем наконец вот ну давайте я напишу систему равнений
[50:04.400 --> 50:23.800]  сначала мне нужно найти все решения такой системы равнений давайте я сделаю магию давайте
[50:23.800 --> 50:31.680]  вычту одно равнение из другого значит давайте скажем из первого вычтем второе тогда у меня
[50:31.680 --> 50:39.840]  квадраты по x и по y сократятся останется ой сейчас будет больно значит x на минус 2 x 1
[50:39.840 --> 50:52.640]  плюс 2 x 2 дальше плюс x 1 квадрат минус x 2 квадрат плюс y на минус 2 y 1 плюс 2 y 2 плюс
[50:52.640 --> 51:00.200]  y 1 квадрат минус y 2 квадрат ну еще r к я тоже принесу влево будет минус и рай так
[51:00.200 --> 51:12.920]  пардон здесь да все правильно минус r 1 будет плюс r 2 квадрат вот да такие дела на все я
[51:12.920 --> 51:17.680]  теперь утверждаю что чтобы решить изначальную систему достаточно решить систему из вот это
[51:18.400 --> 51:24.820]  этот Commerce в уравнении чтобы решать систему чтобы решать систему 1 и 2 ну короче
[51:24.820 --> 51:31.600]  она эквивалентной системе 1 и 1 минус 2 легко понять с любое решение этого решение этого
[51:31.600 --> 51:36.880]  и наоборот любое решение этого решение этого поэтому теперь я свел на самом деле задачу перечень
[51:36.880 --> 51:43.800]  двух окружностей к задаче перечение окружностей прямой потому что это уравнение прямой да но
[51:43.800 --> 51:48.360]  линейная по x по y, а дальше какая-то большая там константа, но это как константа c просто будет.
[51:48.360 --> 51:55.480]  Вот поэтому теперь достаточно пересечь, достаточно пересечь окружность и прямую.
[51:55.480 --> 52:05.040]  Ну вот. Вроде все. Кажется, здесь единственный может быть тонкий момент, что когда вы
[52:05.040 --> 52:10.440]  вычитаете одно из другого, у вас получается, например, ну вот короче, когда это не прямая,
[52:10.440 --> 52:17.000]  когда оба коэффициента при x и при y нули, иначе это прямая. Вот когда может быть такое,
[52:17.000 --> 52:22.800]  что здесь 0 и здесь 0, только в случае, когда у x1 равно x2 и y1 равно y2, то есть когда окружности
[52:22.800 --> 52:27.240]  концентрические, вот тогда они либо совпадают, либо они не пересекаются. То есть единственный
[52:27.240 --> 52:34.800]  плохой случай, такого почти никогда не бывает, это даже не надо отдельно ифать, но для формальности
[52:34.800 --> 52:39.640]  надо сказать следующее, что единственная проблема бывает, когда это не уравнение прямой, это бывает
[52:39.640 --> 52:45.840]  в случае, когда оба коэффициента при x и при y нули. Это только в случае, когда x1 равно x2,
[52:45.840 --> 52:52.640]  y1 равно y2 происходит. То есть окружности либо вот обе одинаковые, либо просто концентрические.
[52:52.640 --> 52:59.880]  Ну и тогда понятно, в этом случае они, как бы, пересечение равно любой из окружностей, в этом
[52:59.880 --> 53:12.760]  случае они не пересекаются. Ок? Прекрасно. Ну вот, вроде с примитивами разобрались,
[53:12.760 --> 53:23.560]  можно что-то еще сделать. О боже мой, Господь с вами. Нет, я думаю, что вы интегрировать
[53:23.560 --> 53:33.160]  сами умеете. Периметр еще интереснее. Нет, спасибо. Вот, давайте поговорим про
[53:33.160 --> 53:47.400]  триангуляция немножечко. Триангуляция. Значит, вообще штука очень полезная для моделирования,
[53:47.400 --> 53:53.120]  ну, обычно для моделирования поверхностей. Представьте, у вас есть, не знаю, какая-нибудь гора,
[53:53.120 --> 54:00.480]  и вам надо ее как можно более точно апроксимировать. Ну понятно, вы не можете хранить какое-то вот там
[54:00.480 --> 54:06.480]  гладкое нечто в памяти компьютера. Лучше, что мы можем сделать, это как это апроксимировать. Ну
[54:06.480 --> 54:11.520]  давайте там довольно много поставим точек на этой поверхности и разобьем на маленькие такие
[54:11.520 --> 54:17.360]  треугольнички. То есть мы можем апроксимировать произвольную поверхность маленькими треугольниками.
[54:17.360 --> 54:21.680]  Ну и типа, если у нас достаточно высокая частота дискретизации, если у нас очень много точек,
[54:21.680 --> 54:26.160]  если у нас очень много треугольников, то в целом от того, что вы, ну короче, вот такую выпуклую
[54:26.160 --> 54:30.480]  горку превратите в маленький треугольник, вы особо не потеряете рельеф. У вас она будет,
[54:30.480 --> 54:35.600]  у вас вся поверхность будет довольно точно передаваться такими треугольниками. Вот. Ну
[54:35.600 --> 54:39.400]  примерно так оно кажется и делается. То есть всякие поверхности, когда моделируются, они просто
[54:39.400 --> 54:44.200]  дискретизируются до треугольников. И потом с треугольниками работать сильно проще, чем с чем-то
[54:44.200 --> 54:51.000]  гладким, не пойми каким. Вот. Ну давайте, значит, частично про треангуляции что-то посмотрим. Давайте
[54:51.000 --> 55:06.800]  посмотрим на треангуляции многоугольников. Для начала. Еще раз смотрите. В горе,
[55:06.800 --> 55:18.160]  значит, что такое гора? Это... Нет, это не многоугольник, это на самом, ну то есть это я буду,
[55:18.160 --> 55:23.120]  это плоский случай будет, то он на самом деле трехмерный. Это разные вещи. Это пока просто была
[55:23.120 --> 55:27.200]  мотивация, почему-то треангуляции в принципе хорошие. Давайте пока частно более простой случай с
[55:27.200 --> 55:37.600]  многоугольниками поделаем. Там на самом деле надо делать это в 3D. Мы до этого дойдем, но ближе к
[55:37.600 --> 55:44.080]  концу. Короче, что-то подобное будет. Мы это сделаем еще, но позже. Вот. Пока давайте просто про
[55:44.080 --> 55:50.120]  многоугольник поговорим. Значит, ну вот есть какой-то многоугольник. Возможно не выпуклый.
[55:50.120 --> 56:02.000]  Что такое вот треангуляция? Это проведение в нем каких-то диагоналей так, чтобы все разбилось
[56:02.000 --> 56:10.040]  на треугольнике. Да, значит, ну здесь там надо сказать, что диагонали у меня не пересекаются по
[56:10.040 --> 56:17.640]  внутренностям своим. Они лежат строго внутри многоугольника. Ну и, короче, вот это... Да,
[56:17.640 --> 56:27.960]  все правильно. Нет, любые простые многоугольники, у которых граница не сам пересекается. У любого
[56:27.960 --> 56:32.640]  многоугольника есть треангуляция. Мы сейчас будем доказывать еще. Вот. Еще раз, треангуляция по факту
[56:32.640 --> 56:37.720]  это просто покрытие многоугольника не пересекающимися треугольниками. Ну, они только по
[56:37.720 --> 56:45.600]  сторонам пересекаются. Только по границам. Вот. Причем, смотрите, мы не хотим вот таких вот случаев...
[56:45.600 --> 56:53.240]  Давайте сразу плохой случай нарисую. Как-то вот так вот, если у меня есть. То есть, если я провожу
[56:53.240 --> 56:58.720]  вот такой отрезок и на нем лежит какая-то другая вершина, то я считаю, что такой отрезок,
[56:58.720 --> 57:04.600]  такую диагональ проводить нельзя. Ну, потому что, короче, на самом деле надо было бы сделать вот так,
[57:04.600 --> 57:10.080]  вот так и вот так. Это будет не треугольник, потому что на нем будет лежать какая-то точка. Я хочу,
[57:10.080 --> 57:15.760]  чтобы внутри треугольника на его границе никаких других вершин не лежало. Вот. То есть,
[57:15.760 --> 57:23.360]  диагональ, которую я могу проводить, это отрезок между не соседними вершинами. Диагональ.
[57:23.360 --> 57:36.800]  Ну, смотри, ну, как бы тут можно по-разному. Можно сделать вот так вот и вот так вот.
[57:36.800 --> 57:46.080]  Да-да-да. Диагональ – это отрезок, соединяющий не соседние вершины,
[57:46.080 --> 58:03.440]  лежащий внутри многоугольника. Причем на нем нет других вершин многоугольника.
[58:03.440 --> 58:22.800]  На нем нет других вершин многоугольника. Да, не является. Но у меня не является.
[58:22.800 --> 58:31.880]  Вот. Ну и наша задача с помощью, то есть, провести какие-то такие диагонали. Так вот,
[58:31.880 --> 58:41.800]  разрезать многоугольник на треугольнике. Вот. Ну, не знаю, упражнения, что ли. Можно
[58:41.800 --> 58:48.680]  показать, что если в многоугольнике у вас n вершин, то в любой триангуляции ровно
[58:48.680 --> 59:08.960]  n-2 треугольника. Значит, если в многоугольнике n вершин, то в любой триангуляции n-2 треугольника.
[59:08.960 --> 59:15.640]  Ну, например, это можно через сумму углов сделать, потому что по факту я просто разрезаю многоугольник
[59:15.640 --> 59:20.920]  на треугольнике, поэтому сумма углов при всех вершинах у меня сохраняется, а сумма углов
[59:20.920 --> 59:25.760]  треугольника это p, а мы знаем, что сумма углов многоугольника это как раз p на n-2. Поэтому у меня
[59:25.760 --> 59:36.120]  обязательно должно быть n-2 треугольника. А, ну не знаю, ну тогда в другую сторону. Ну короче,
[59:36.320 --> 59:45.480]  да, да, какая-то индукция. Согласен. Ладно, ладно, ладно. Поэтому я говорю упражнения. Как-то это
[59:45.480 --> 59:53.120]  делается. Вот. Ну, давайте теперь научимся строить какую-то триангуляцию многоугольника. Пока просто
[59:53.120 --> 01:00:01.840]  какую-то. Для этого мне нужно еще одно вспомогательное определение. Значит, что такое ухо? Мы сейчас будем
[01:00:01.840 --> 01:00:10.440]  отрезать многоугольником уши. Что такое ухо? Это вот такая вот штука. Так я нашел рыбку.
[01:00:10.440 --> 01:00:23.440]  Это вот такой треугольник, который можно, грубо говоря, безопасно отрезать. Вот. Значит, это
[01:00:23.440 --> 01:00:30.240]  треугольник, который можно безопасно отрезать. Формально, что это такое? Это треугольник,
[01:00:30.240 --> 01:00:37.920]  образованный тремя последовательными вершинами. p-1, p и p-1. Да, такой, что вот этот отрезок является
[01:00:37.920 --> 01:00:45.960]  диагональю. Ну, кажется, все, да. То есть, это просто три последовательные такие, что между ними
[01:00:45.960 --> 01:00:51.640]  проводится диагональ. В частности, что это значит? Раз это диагональ, то в частности у меня не может
[01:00:51.640 --> 01:00:57.320]  быть вот таких вот никаких заходов других вершин, других там сторон. Никакие стороны не могут
[01:00:57.320 --> 01:01:02.360]  пересекать вот этот отрезок. Потому что иначе, но это была бы не диагональ просто. Она в этом случае
[01:01:02.360 --> 01:01:08.120]  не целиком лежит внутри многоугольника. И даже более того, у нас не может быть никаких других
[01:01:08.120 --> 01:01:12.080]  вершин на этом отрезке, потому что, ну, просто по определенной диагонали. А это была бы не
[01:01:12.080 --> 01:01:18.440]  диагональ. Ну, как бы, это тогда неправильное. Ухо его нельзя отрезать, потому что у меня
[01:01:18.440 --> 01:01:22.200]  многоугольник распадается на два несвязаных. Мы такого не хотим. То есть, ухо это именно то,
[01:01:22.200 --> 01:01:27.120]  что можно отрезать, многоугольник останет, ну, как бы, сохранить свою структуру, только к нему вот
[01:01:27.120 --> 01:01:33.320]  еще довешена с какой стороны ухо. Поэтому всего такого не бывает. И ухо это просто вот такой
[01:01:33.320 --> 01:01:45.280]  треугольник. Давайте напишем, да, что это треугольник P-1 P и P-1, где P-1 P и P-1 это диагональ.
[01:01:45.280 --> 01:01:56.080]  Вот. Ну и наш алгоритм будет, на самом деле, у многоугольника с катюшей их отрезать по одному.
[01:01:56.080 --> 01:02:00.360]  Отрежем одно, у нас уменьшилось количество вершин, отрежем другое, уменьшилось количество
[01:02:00.360 --> 01:02:09.960]  вершин и так далее. Да. Значит, утверждение, утверждение, что, коль скоро n хотя бы 4,
[01:02:09.960 --> 01:02:15.160]  что если количество вершин многоугольника хотя бы 4, тогда в многоугольнике есть хотя бы два уха.
[01:02:15.160 --> 01:02:27.880]  На многоугольнике есть хотя бы два уха, хотя бы два уха, не пересекающиеся по внутренностям.
[01:02:27.880 --> 01:02:35.040]  Вот как тут слитно или раздельно? Мне кажется, раздельно, потому что есть зависимое слово.
[01:02:35.040 --> 01:02:49.200]  Не пересекающихся по внутренностям. Вот. Давайте докажем.
[01:02:49.200 --> 01:03:00.320]  Не, не это я сейчас буду доказывать, не почему там через пробел.
[01:03:00.320 --> 01:03:10.240]  Теорема. Да. Доказательства. Давайте базы на равно 4 сделаем.
[01:03:10.240 --> 01:03:23.520]  С точки зрения триангуляции четырехугольников есть всего два. Выпуклый и не выпуклый. Такая галочка.
[01:03:23.520 --> 01:03:33.200]  В обоих случаях я могу нарисовать триангуляцию, ну и соответственно там будет два уха.
[01:03:33.200 --> 01:03:37.320]  Здесь, например, могу нарисовать такие два уха. Вот одно, вот другое. Понятно, что оба треугольника
[01:03:37.320 --> 01:03:43.560]  это уши, потому что это три последовательные вершины такие, что две не соседние соединены диагональю.
[01:03:43.560 --> 01:03:55.160]  Значит, это уши и здесь вот это два треугольника тоже уши. Вот. Значит, дальше переход. Давайте
[01:03:55.160 --> 01:04:00.360]  предположим, что для всех многоугольников с меньшими числами вершин мы все доказали. Теперь
[01:04:00.360 --> 01:04:07.160]  давайте для N-угольника это делать. Ну вот есть какой-то N-угольник. Давайте мы выберем его какую-то
[01:04:07.160 --> 01:04:20.600]  вершину P, при которой угол меньше P. Почему такое есть? Потому что сумма всех углов P на N-2.
[01:04:20.600 --> 01:04:47.680]  А я не доказываю. Хорошо, то есть может не быть? Хорошо, окей, давайте тогда я не буду говорить,
[01:04:47.680 --> 01:04:55.280]  что я доказываю существование триангуляции, я буду строить алгоритм ее построения. Вы можете
[01:04:55.280 --> 01:05:10.360]  сходу сказать почему существует триангуляция? Ну вот я примерно то же самое хочу сделать. Окей.
[01:05:10.360 --> 01:05:31.640]  Да вообще, да, что-то я прям как-то это. Нет, это мы сейчас будем делать. Это я как раз сейчас буду
[01:05:31.640 --> 01:05:38.600]  рисовать. Понятно, да? То есть якобы доказываю с другого конца. Ой, ой, ой, ой. А по-другому никак нельзя
[01:05:38.600 --> 01:05:53.960]  такать сумму углов P на N-2? Вы не умеете, да? Обидно. Нет, это неверно, что крайние левые две
[01:05:53.960 --> 01:06:00.160]  соседи образуют диагонали. Это, конечно, неправда. Ладно, давайте я считаю, что у меня есть оракул,
[01:06:00.160 --> 01:06:07.120]  который мне когда-то сказал, что у многоугольника сумма углов P на N-2. Давайте, если что, добавим множество
[01:06:07.120 --> 01:06:17.920]  аксиома там, где мы рассуждаем. Ну а почему, типа? Ну то же самое, это эквивалентное утверждение, наверное.
[01:06:17.920 --> 01:06:36.400]  Понятно, да.
[01:06:36.400 --> 01:06:57.720]  Ладно, все, проехали. Короче, я верю, что у многугольника сумма углов P на N-2. Все, вы меня не сможете в этом разубедить. Я это буду
[01:06:57.720 --> 01:07:03.640]  нещадно использовать. Значит, так вот, значит, в частности есть вершина, при которой угол меньше, чем P. Вот давайте возьмем любую такую вершину.
[01:07:03.640 --> 01:07:17.440]  Дальше рассмотрим соседние с ней, собственно, P-1 и P и плюс один, и посмотрим на вот такой отрезок. Если внезапно это диагональ, то есть если внезапно в этом
[01:07:17.440 --> 01:07:23.320]  треугольнике никого больше не лежит, включая вот этот отрезок, если на этом отрезке никто другой не лежит, никакая другая вершина не лежит,
[01:07:23.320 --> 01:07:37.080]  тогда мы нашли ухо и почти победили. Но давайте этот случай разберем. То есть вот, например, мы нашли ухо какое-то одно. Мы нашли одно ухо. Давайте его отрежем. У нас
[01:07:37.080 --> 01:07:45.040]  останется вот такой большой многоугольник. Ну то есть по факту я просто выкидываю P из списка вершин, а у меня остается вот такой вот
[01:07:45.040 --> 01:07:51.400]  многоугольник на N-1 вершине. Значит, для него верно предположение индукции, и в нем есть два неперескающиеся уха.
[01:07:51.400 --> 01:07:59.640]  Значит, как они могут выглядеть, да? Вспомним, что мне надо доказать, что есть два уха, а не просто одно. Но давайте, вот одно есть,
[01:07:59.640 --> 01:08:08.320]  я знаю, что если его отрезать, то здесь тоже есть два уха. Два неперескающихся. Что? Да, неперескающихся по
[01:08:08.320 --> 01:08:15.680]  внутренности. Значит, как они могут выглядеть? Это могут быть два нормальных уха, которые вот такие вот, да, грубо говоря, и, в общем-то,
[01:08:15.680 --> 01:08:23.600]  их можно было бы взять в качестве ушей для N-угольника всего. Проблема может быть только в случае, когда они, ну, не являются
[01:08:23.600 --> 01:08:30.920]  ушами большего многоугольника. Это бывает, например, вот в такой вот ситуации. Если у вас вот в этом вот N-1 угольнике вы в
[01:08:30.920 --> 01:08:36.240]  качестве одного ушей взяли вот такую штуку, тогда нельзя сказать, что это уха в большем многоугольнике, ну, потому что это не уха просто,
[01:08:36.240 --> 01:08:42.400]  эти вершины не соседние. Вот. Но, благо, такой треугольник максимум только один из тех двух ушей, которые в этом меньшем
[01:08:42.400 --> 01:08:51.840]  многоугольнике находятся, у меня максимум только один, и содержит вот этот отрезок. Значит, другой какой-то обязательно является
[01:08:51.840 --> 01:09:01.920]  ухом и меньшего, и больше многоугольников, поэтому можно взять и его, и его. Тогда два уха всегда есть. Хорошо, теперь второй случай,
[01:09:01.920 --> 01:09:12.440]  когда это не диагональ. Давайте поймем, что в этом случае делать. Значит, если это не диагональ,
[01:09:12.440 --> 01:09:21.520]  что это значит? Это значит, что во внутренности этого треугольника или вот сюда на этот отрезок
[01:09:21.520 --> 01:09:29.120]  попала какая-то точка, какая-то вершина многоугольника, ну, или там что-то пересекается. На самом деле, обязательно
[01:09:29.120 --> 01:09:36.920]  тогда есть здесь какая-то вершина. Но давайте сделаем следующее. Давайте из всех вершин, попавших в этот треугольник,
[01:09:36.920 --> 01:09:45.240]  ну, кроме вот этих трех, давайте из всех вершин выберем самую далекую от этой вот прямой. Давайте
[01:09:45.240 --> 01:09:55.600]  возьмем такую точку Q, от которой расстояние до вот этой прямой максимально. Ну, возможно, в частности,
[01:09:55.600 --> 01:10:00.800]  расстояние равно нулю, тогда это просто какая-то источник на прямой. Значит, тогда я утверждаю,
[01:10:00.800 --> 01:10:05.400]  что вот эта вот штука уже, давайте это будет P и у меня, я утверждаю, что вот эта штука обязательно диагональ.
[01:10:05.400 --> 01:10:18.800]  Значит, еще раз давайте сейчас напишем все аккуратненько. Значит, пусть Q это самая далекая,
[01:10:18.800 --> 01:10:32.800]  не знаю, значит, самая далекая от прямой, да, от прямой P и минус один P и плюс один,
[01:10:32.800 --> 01:10:42.240]  точка внутри треугольника, внутри треугольника, ну, даже не точка, а вершина, можно сказать, вершина.
[01:10:42.240 --> 01:10:56.400]  Вот, тогда утверждается, что по Яку обязательно диагональ. Вот. Ну, почему это диагональ? Потому
[01:10:56.400 --> 01:11:06.120]  что, потому что когда это может быть не диагональю, когда кто-то его пересекает или кто-то здесь лежит на
[01:11:06.120 --> 01:11:11.600]  этом отрезке. Ну, такого быть не может, потому что мы взяли самую далекую, если бы на этом отрезке
[01:11:11.600 --> 01:11:19.760]  лежала какая-то другая вершина, она была бы еще дальше от этой прямой. Если бы что-то пересекало,
[01:11:19.760 --> 01:11:26.640]  то есть, скажем, не знаю, какая-то вот такая вот штука есть, тогда, ну, смотрите, тогда получается,
[01:11:26.640 --> 01:11:30.920]  что если я рассмотрю вот такую полуплоскость лежащую от, ну, короче, прямую параллельную вот
[01:11:30.920 --> 01:11:35.480]  эту прямую проведу, рассмотрю полуплоскость относительно Q и здесь куда ее пересекаю, значит,
[01:11:35.480 --> 01:11:38.800]  какая-то вершина обязательно все равно лежит в этой полуплоскости. То есть, чтобы у меня было
[01:11:38.800 --> 01:11:43.680]  пересесение вот этой вот, как бы, диагонали с какой-то частью многоугольника, то мне нужно,
[01:11:43.680 --> 01:11:47.640]  чтобы, по крайней мере, одна из его вершин была точно по эту сторону. Ну, иначе просто мы не
[01:11:47.640 --> 01:11:53.680]  можем пересекать, ну, как бы, мне надо два раза пересечь этот отрезок, но я не могу один раз
[01:11:53.680 --> 01:12:06.000]  пересекаться. Вот, значит, обязательно хотя бы одна из вершин там. Куковек или сойдет? Ну, короче,
[01:12:06.000 --> 01:12:11.040]  порисуйте, да, то есть, еще раз, вот, как бы, самое главное, давайте еще раз это сделаю. Вот,
[01:12:11.040 --> 01:12:23.080]  был у меня такой треугольник. Я ищу диагональ, да, в случае, если это не ухо, я ищу диагональ. Вот,
[01:12:23.080 --> 01:12:28.240]  еще раз, я нашел самую далекую точку от этой прямой. Это значит, в частности, что в этой
[01:12:28.240 --> 01:12:32.880]  полуплоскости, да, вот, вот, в этой полуплоскости, точнее, в этом треугольнике нет никаких других
[01:12:32.880 --> 01:12:38.440]  вершин. В этом треугольнике нет никаких других вершин. Ну, тогда, как бы, что может помешать быть
[01:12:38.440 --> 01:12:43.040]  этому отрезку диагональю? Здесь вершин других лежать не может, потому что они в этой полуплоскости,
[01:12:43.040 --> 01:12:49.640]  ну, и ничего пересекать тоже не может, потому что, значит, ну, что значит, что что-то пересекает,
[01:12:49.640 --> 01:12:56.840]  да, вот, что-то такое может быть, разве что. Ну, короче, если этот отрезок что-то пересекает,
[01:12:57.440 --> 01:13:01.760]  то не может быть такое, что все концы вот этих отрезков пересекают. Ну, короче, если... вот так,
[01:13:01.760 --> 01:13:06.640]  смотрите, если какой-то отрезок пересекает нашу псевдодиагональ, тогда, по крайней мере,
[01:13:06.640 --> 01:13:10.380]  один из двух концов этого отрезка в той же полуплоскости, вот так. Ну, не может быть такого,
[01:13:10.380 --> 01:13:15.360]  что у меня отрезок пересекается другим отрезком, лежащим целиком вне этой полуплоскости. Значит,
[01:13:15.360 --> 01:13:19.760]  по крайней мере, одна из двух вершин, пересекающих, да, на... отрезок, пересекающий эту диагональ,
[01:13:19.760 --> 01:13:24.860]  внутри полуплоскости противореч noi с тем, что мы выбрали самую, самую далёкую, прямую. Вот так.
[01:13:24.860 --> 01:13:28.100]  Ну вот, значит мы нашли диагональ.
[01:13:28.100 --> 01:13:42.660]  Видимо да, самую левую, если таких нескольких, самую
[01:13:42.660 --> 01:13:43.660]  низкую, да?
[01:13:43.660 --> 01:13:49.420]  Любую нельзя, потому что, возможно, будет угол pi,
[01:13:49.420 --> 01:13:50.700]  но видимо да, видимо вы правы.
[01:13:50.700 --> 01:13:57.020]  Нет, все нормально, все хорошо у нас.
[01:13:57.020 --> 01:14:05.820]  Да, то есть еще раз смотрите, мы рассмотрели просто произвольную
[01:14:05.820 --> 01:14:09.740]  вершину угол при которой меньше 180, дальше проверяем
[01:14:09.740 --> 01:14:11.900]  является ли вот этот отрезок диагональю, то есть мы по
[01:14:11.900 --> 01:14:13.780]  факту просто проверяем есть ли в этом треугольнике
[01:14:13.780 --> 01:14:15.300]  какие-то другие вершины.
[01:14:15.300 --> 01:14:19.140]  Если нет, то это диагональ, мы можем это ухо отрезать
[01:14:19.140 --> 01:14:21.220]  и дальше разрезать уже оставшийся многоугольник.
[01:14:21.220 --> 01:14:25.900]  Дальше, если это не диагональ, то мы нашли другую диагональ,
[01:14:25.900 --> 01:14:29.700]  вот эту вот, pi te ku, а значит мы можем по ней разрезать
[01:14:29.700 --> 01:14:31.940]  весь многоугольник и дальше триангулировать обе части.
[01:14:31.940 --> 01:14:35.540]  Но давайте сначала вот эту вершину я до конца докажу,
[01:14:35.540 --> 01:14:37.420]  то есть смотрите, я в том случае доказал что есть
[01:14:37.420 --> 01:14:39.820]  два уха, теперь в этом случае как доказать что есть два
[01:14:39.820 --> 01:14:40.820]  уха?
[01:14:40.820 --> 01:14:42.820]  Ну картинка будет такая, да, у меня вот есть диагональ
[01:14:42.820 --> 01:14:45.780]  какая-то найденная и соответственно многоугольник выглядит
[01:14:45.780 --> 01:14:47.060]  как-то вот так, грубо говоря.
[01:14:47.060 --> 01:14:53.940]  Ну раз ничто не пересекает эту отрезок, то многоугольник
[01:14:53.940 --> 01:14:54.940]  какой-то вот такой.
[01:14:54.940 --> 01:14:58.540]  Хорошо, тогда давайте я его разрежу по этой диагонали,
[01:14:58.540 --> 01:15:02.420]  у меня будет два многоугольника, ну и значит по индукции
[01:15:02.420 --> 01:15:04.820]  здесь есть два уха, здесь есть два уха, ну уж наверное
[01:15:04.820 --> 01:15:07.860]  как-нибудь мы из них совместно наберем два уха, чтобы они
[01:15:07.860 --> 01:15:08.860]  не пересекались.
[01:15:08.860 --> 01:15:11.940]  То есть опять, худший случай, когда одно ухо вот такое,
[01:15:12.100 --> 01:15:16.940]  вот такое, они не являются ушами большого многоугольника,
[01:15:16.940 --> 01:15:19.180]  тогда их можно отбросить и взять вот это ухо и вот
[01:15:19.180 --> 01:15:21.700]  это ухо, тогда как раз будет два не пересекающихся.
[01:15:21.700 --> 01:15:28.100]  Ну и все, значит мы доказали утверждение про два уха,
[01:15:28.100 --> 01:15:32.300]  значит нам достаточно то, что есть хотя бы одно,
[01:15:32.300 --> 01:15:34.740]  ну и на самом деле за одно это все нам просто дает алгоритм
[01:15:34.740 --> 01:15:39.940]  треангуляции, значит алгоритм треангуляции за квадрат,
[01:15:39.940 --> 01:15:45.740]  да, алгоритм треангуляции за n в квадрате, значит ну
[01:15:45.740 --> 01:15:48.380]  просто как бы по факту просто идем по доказательству,
[01:15:48.380 --> 01:15:51.940]  да, сначала давайте обойдем весь многоугольник, найдем
[01:15:51.940 --> 01:15:55.580]  какую-то вершину угол при которой меньше 180, проверим
[01:15:55.580 --> 01:15:58.740]  на то является ли этот резак диагональю, за линию, то
[01:15:58.740 --> 01:16:00.840]  есть просто проверим нет ли в этом треугольника
[01:16:01.840 --> 01:16:07.840]  Если нету, то можно ухо отрезать и треангулировать оставшееся,
[01:16:07.840 --> 01:16:11.840]  на это будет тогда, значит первый случай, что t от n,
[01:16:11.840 --> 01:16:16.840]  это t от n минус 1 плюс o от n, то есть мы одно ухо отрезали
[01:16:16.840 --> 01:16:20.840]  за линийное время и нам осталось треангулировать многоугольник
[01:16:20.840 --> 01:16:22.840]  на минус одной вершине, на тогда, ну короче, видно,
[01:16:22.840 --> 01:16:25.840]  что это квадратично будет расти, вот, либо второй
[01:16:25.840 --> 01:16:27.840]  случай, мы поняли, что это не диагональ, но тогда
[01:16:27.840 --> 01:16:30.840]  мы нашли другую диагональ и можем разбить многоугольник
[01:16:30.840 --> 01:16:34.840]  на два, вот как в этом случае, да, по этой диагонали,
[01:16:34.840 --> 01:16:36.840]  будет первый многоугольник и второй, тогда давайте
[01:16:36.840 --> 01:16:40.840]  рекурсивно от них запустимся и треангулируем и сольем
[01:16:40.840 --> 01:16:43.840]  эти две треангуляции, тогда в этом случае во втором
[01:16:43.840 --> 01:16:49.840]  время работы будет равно сумме, точнее t от n1 плюс t от n2
[01:16:49.840 --> 01:17:04.840]  плюс o от n, вот, ну где, ну что такое, n1 плюс n2 это, ну вот
[01:17:04.840 --> 01:17:12.840]  не n, да, n плюс 2, но зато они оба хотя бы 3, вот так вот
[01:17:12.840 --> 01:17:16.840]  скажем, во, раз они хотя бы 3 и их сумма n плюс 2, то
[01:17:16.840 --> 01:17:22.840]  значит, каждый из них не больше чем n минус 1, вот, ну
[01:17:22.840 --> 01:17:24.840]  и можно честно доказать, что тогда n квадрат будет
[01:17:24.840 --> 01:17:32.840]  являться решением такой рекуррента, вот, ну то есть
[01:17:32.840 --> 01:17:34.840]  формально надо просто провести индукцию, что существует
[01:17:34.840 --> 01:17:38.840]  такое c, что t от n всегда не больше чем cn квадрат, значит
[01:17:38.840 --> 01:17:42.840]  здесь у вас cn1 в квадрате, cn2 в квадрате, мы знаем, что
[01:17:42.840 --> 01:17:46.840]  сумма квадратов не больше, чем, так, так, не очень хорошо
[01:17:46.840 --> 01:17:51.840]  сделать, да, ну короче, короче, короче, это доводится,
[01:17:51.840 --> 01:17:55.840]  времени уже не осталось, в общем, можно, оценив это
[01:17:55.840 --> 01:18:02.840]  по индукции, что это cn1 квадрат, это cn2 квадрат, это
[01:18:02.840 --> 01:18:10.840]  почти cn квадрат, но еще минус 2n1n2, правильно, вот, и
[01:18:10.840 --> 01:18:12.840]  как раз, и как раз, и как раз вот это вот будет достаточно
[01:18:12.840 --> 01:18:14.840]  маленьким, это можно сделать достаточно маленьким по
[01:18:14.840 --> 01:18:20.840]  сравнению с тем, что вот здесь будет минус 2n1n2, вот, и
[01:18:20.840 --> 01:18:22.840]  тогда как раз все это можно оценить опять c1 квадратом,
[01:18:22.840 --> 01:18:26.840]  c квадратом просто, ну все, спасибо.
