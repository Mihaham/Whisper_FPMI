[00:00.000 --> 00:08.700]  Ну, что мы сегодня с вами будем заниматься? Мы сегодня будем оптимизировать Флойда.
[00:08.700 --> 00:25.200]  Свидетели помогут нам оптимизировать Флойда, да. Хотя свидетели они казут... Ну правда, ладно, не
[00:25.200 --> 00:31.280]  всего. Ну, потому что, да, вот тут сразу можно ввести так терминологию, которая может, значит,
[00:31.280 --> 00:38.400]  появиться там в некоторой литературе. Вот, допустим, у нас есть, допустим, у нас есть какой-то неориентированный,
[00:38.400 --> 00:48.280]  еще у нас будут неориентированные графы. Вот такие вот. Иногда, может быть, даже взвешенные. Вот. И
[00:48.280 --> 00:54.600]  нам три нод. И мы хотим искать корчайшие пути. Так вот, значит, нод. На самом деле,
[00:54.600 --> 01:07.360]  постановки задачи могут быть разные. Вот. Значит, смотрите. Может быть, постановка SPD. Угадайте,
[01:07.360 --> 01:32.000]  что это. Что это может быть? Это в контексте корчайших расстояний. Ну, почти. Значит,
[01:32.000 --> 01:42.760]  это означает Single Pair Distance. Совсем. Ну, как бы да. Вот. То есть, это означает,
[01:42.760 --> 01:47.960]  в этой постановке задачи вам нужны две вершины. Тупо две вершины. Найдите между ними корчайший путь.
[01:47.960 --> 02:14.440]  Вот. Есть братская постановка SP SP. А вот здесь уже возникает Short SP. Вот. Как вы думаете,
[02:14.440 --> 02:32.160]  чем эта постановка задачи отвечает? Совершенно верно. Да. То есть, здесь нужно найти тупо
[02:32.160 --> 02:40.040]  чесеку, а здесь нужно выставить корчайший путь. Да. Это разные, да. Это разные задачи. Иногда даже
[02:40.040 --> 02:49.440]  с разными симптомчиками. Вот. Значит, есть. Ну, соответственно, что будет означать D и SP,
[02:49.440 --> 02:58.640]  мы уже поняли. Вот. Значит, Single Pair означает, что просто данная пара, разберитесь с ней. А есть
[02:59.520 --> 03:14.360]  есть постановка задачи Single Source. То есть, это означает, что мы ищем корчайшее расстояние от одной
[03:14.360 --> 03:19.280]  вершины до всех остальных. Ну, и корчайшие пути, соответственно, тоже. Ну, там, имейте в виду,
[03:19.280 --> 03:30.120]  дерево корчайших путей. Ладно. Значит, есть Single Source. Что дальше? Вот. Есть еще, значит,
[03:30.120 --> 03:38.240]  ну, соответственно, какие еще могут быть постановки? Между всеми парами. Мало
[03:38.240 --> 03:45.280]  подсорс. Правильно. Но, на самом деле, как ни странно, есть постановка SDD. И вот это, честно
[03:45.280 --> 03:51.880]  говоря, меня удивляет такая постановка, но, видимо, когда-то она имеет место. Это Single Destination.
[03:51.880 --> 04:08.240]  Я тоже не понимаю, но, видимо... Нет, ну там, нет, нет. Я себе могу вообразить, почему могут
[04:08.240 --> 04:13.040]  быть проблемы. Смотрите, потому что в реальной жизни граф не обязательно задан вам, вот как он вам
[04:13.040 --> 04:18.400]  задан, да? То есть часто он может быть так, что ребра вам не заданы в явном виде, есть какой-нибудь
[04:18.400 --> 04:23.240]  мистический итератор, который внутри себя и два линии из интернета подгружает эти ребра по одному
[04:23.240 --> 04:29.920]  или по несколько. Вот. И тогда получится, что там, то есть просто так на соляву себе взять вершину и
[04:29.920 --> 04:35.920]  перебирать все ребра, которые в нее входят, у вас не получится. Ну, знаете, мне кажется, такое объяснение
[04:35.920 --> 04:50.280]  может быть. Но, конечно же, нас будет интересовать APD, APSP. Что это значит?
[04:50.280 --> 04:58.000]  Совершенно верно. Вот это, собственно, эта задача нас и будет интересовать. То есть это называть,
[04:58.000 --> 05:03.520]  когда мы ищем качайшие там, возможно, пути или расстояние в том или ином виде, вот, собственно,
[05:03.520 --> 05:10.360]  между всеми парами вершин. Вот. Ну, там дальше еще могут быть различные модификации. Ну, там на
[05:10.360 --> 05:18.680]  тему того, какие ограничения там мы с вами любим. Вот. Значит, собственно, что мы, какую задачу мы сегодня
[05:18.680 --> 05:26.400]  с вами попытаемся решить. Попытаемся мы сегодня с вами решить задачу, то есть задачу действительно
[05:26.400 --> 05:41.520]  сначала APD, а потом APSP, но в предположении, что все веса ребер единичны. Возможно, даже для
[05:41.520 --> 05:47.160]  достаточно разреженных графов у нас, собственно, ничего не получится особо интересного. Вот. Но тем
[05:47.160 --> 05:54.120]  не менее. По крайней мере, получится вот такое вот чисто теоретическое, по крайней мере, чисто
[05:54.120 --> 06:07.520]  теоретическая интересность. Называется будем смотреть. Вот. Значит, что будет дальше? Ну, за
[06:07.520 --> 06:16.200]  какой симпточку? Ну, конечно, в тупую мы могли бы решить эту задачу. За какую симпточку? Ну, а быстрее.
[06:16.200 --> 06:31.400]  Как? Ну, по BFS за сколько работает? Да. Ну, так. То есть, по-хорошему, решение с BFS-ом это от NN. Да.
[06:31.400 --> 06:44.000]  Но сегодня, вероятно, мы попробуем решить задачу по-другому. Ну, вероятно, быстрее, чем за N2. Вряд ли.
[06:44.000 --> 06:55.360]  Быстрее, чем за N2. Вряд ли. Да. Но за N2 у нас и не получится. Максимум, что у нас теоретически может
[06:55.360 --> 07:04.120]  получиться, это N2 log2 N. И то вряд ли, если честно. Да, спрашивается, да. Спрашивается,
[07:04.120 --> 07:10.680]  почему я не знаю точного ответа. Потому что, значит, в нашем решении будет фигурировать такая
[07:10.680 --> 07:24.640]  красивая штука, как M от N. Где N от N, это называется время перемножения матрас.
[07:24.640 --> 07:43.000]  Незапно. Да. Ну, почему? Вот. Ну, почему это M на N? Ну, потому что точную симпточку за сколько
[07:43.000 --> 07:48.640]  это можно сделать, конечно, никто и не знает. Но в том плане, что нет вот такой симпточки,
[07:48.640 --> 07:55.040]  что за столько можно, а быстрее вот железобетонно нельзя. Вот прям наука умеет показать. То есть наука
[07:55.040 --> 08:05.480]  как бы умеет показать, что, наверное, M от N равно ω от N2. Вот. Больше пока наука ничего не умеет.
[08:05.480 --> 08:14.320]  С одной стороны. С другой стороны, как бы наука умеет, конечно, показать, что там M от N равно
[08:14.320 --> 08:28.480]  ω от N в степени 2.3279. Бла-бла-бла. Вот есть какой-то там вот супер умный метод,
[08:28.480 --> 08:40.560]  который это делает? Триоконстант. Не знаю. Ну, скорее всего, бородская, да. Ну, как бы это тоже крутой метод.
[08:40.560 --> 08:50.560]  Нет, я не прав, не прав, не прав. Тут 7, тут 2. Это важно. Нет, это важно, потому что это улучшение,
[08:50.560 --> 08:58.480]  знаете, тут замечательно написано, это улучшение метода Копперсмита Винограда, который работает
[08:58.480 --> 09:10.480]  за O от M в степени 2.3754. Да, вот там чемпионат вот до такой степени идет, да. Хотя вот туда-то вот.
[09:10.480 --> 09:15.760]  Ну, это нормально, там в науке бывает такое, знаете. Потому что Регародский рассказывал историю, что как-то
[09:15.760 --> 09:20.960]  вот Регародский участвовал в решении одной задачи. Там, в чем забавно было, что сначала задача
[09:20.960 --> 09:26.480]  оставилась там, то есть была там постановка задачи вида. То есть можно ли придумать множество чего-то
[09:26.480 --> 09:31.280]  там с такими-то свойствами. Долгое время наука считала, там думали-думали, как доказать, что нельзя,
[09:31.280 --> 09:36.320]  что-то доказывали, а потом в итоге пришли какие-то израильцане и доказали, что там такое множество
[09:36.320 --> 09:43.080]  существует, причем размеры тысячи с лишним. И начался чемпионат на кто меньше. То есть он там
[09:43.080 --> 09:47.480]  рассказал такое, что сначала там что-то пришли, кто-то там рассказал на 700, потом пришел на 500,
[09:47.480 --> 09:53.560]  потом пришел Вайсбах. Он говорит, там пришел некто Вайсбах, там доказал, что что-то там типа на 400.
[09:53.560 --> 10:02.040]  Потом пришел лично Григородский и доказал, что можно сделать за 260. Так вот, говорит,
[10:02.040 --> 10:12.200]  Вайсбах не сдавался. И он просто, вот это, и он сумел доказать, что можно за 260. Вот это Григородский
[10:12.200 --> 10:16.840]  грустно рассказал, но я там просто не досмотрел, он просто там взял мой метод и просто там аккуратно
[10:16.840 --> 10:24.960]  допилил. В итоге потом пришли еще какие-то люди там и доказали, проступися. Собственно, да,
[10:24.960 --> 10:31.880]  но вот такие чемпионаты, вот такие чемпионаты, в общем, в науке сплоши рядом происходит. Так что,
[10:31.880 --> 10:36.280]  как говорится, занимайтесь математикой, вот будете, как говорится, это будет круче чемпионат мира
[10:36.280 --> 10:46.320]  футбола. Так, значит, мы не будем изучать, хотя могли бы, наверное, но не будем, пожалуй,
[10:46.320 --> 10:51.760]  изучать этот метод. Вместо этого подумаем, чего можно сделать вообще, вот, чем это нам может помочь.
[10:51.760 --> 10:57.080]  Тут как бы тоже нам из случаев заявляют, что на практике, конечно, с большим удовольствием Штрассена,
[10:57.080 --> 11:04.880]  конечно, напишут. Но вообще давайте подумаем, а чем нам вообще перемножение матриц могло бы вообще помочь?
[11:04.880 --> 11:29.040]  Ну, давайте скажем, что А это матрица смежности. Так, ну вы, собственно, изучали, что такое динамическое
[11:29.040 --> 11:39.040]  программирование. Поэтому к вам вопрос, что такое А в степени D? Вот, допустим, А, ячейка УВ, А в степени D.
[11:39.040 --> 11:49.080]  Там единичка, видимо, если есть путь для нырога D, что-то, да. Так, очки.
[11:49.080 --> 11:58.520]  Давайте, можно прям вот максимально точно сказать, что это за число?
[11:58.520 --> 12:21.960]  Какие? Ровно, ровно. Ну да, то есть это да. Да, правда, не обязательно простых путей, правда, при этом.
[12:21.960 --> 12:27.720]  То есть путей, состоящих из дырёбер, но это могут быть какие-то вот такого вот рода, вот туда-сюда,
[12:27.720 --> 12:43.160]  обратно пути. Да, то есть это вот количество путей длины D. Да, но ровно D, это важно. Ну, потому что,
[12:43.160 --> 12:48.680]  когда вы перемножаете, там, как бы, например, А на А, да, то есть вот там, то есть, как бы, и что вы вот в УВ,
[12:48.680 --> 12:56.960]  тогда вы перебираете все вершины W такие, что из УВ идёт ребро и ВВ. Из УВ, в общем, идёт ребро,
[12:56.960 --> 13:06.800]  так что, поэтому тут ровно. Поэтому, если хочется там что-то меньше либо равно, то придётся,
[13:06.800 --> 13:15.600]  возможно, что-то по сумме. Ну, значит, давайте думать, чем нам это теоретически может помочь?
[13:15.600 --> 13:23.440]  Ну, много чем. Ну, на самом деле, да. Давайте представим вот что. Значит, начнём мы с вами,
[13:23.440 --> 13:28.200]  то есть, может быть, начнём мы с вами даже вообще, сейчас вот без всяких вероятностей поначалу,
[13:28.200 --> 13:34.760]  потому что мы будем искать даже не кратчайшие пути, а, собственно, сами расстояния. То есть,
[13:34.760 --> 13:39.840]  вот давайте себе скажем, что у нас, объявим себе вот эту мистическую матрицу, что D УВ,
[13:39.840 --> 13:51.320]  это вот, допустим, расстояние от УВ. Тогда при неё можно сформулировать некие мистические свойства.
[13:51.720 --> 13:58.240]  Какие свойства можно сформулировать? Вот давайте прям это можно назвать как леммайки.
[13:58.240 --> 14:09.920]  Свойства можно сформулировать такие. То есть, для любой вершины W, являющейся, допустим, соседом У,
[14:09.920 --> 14:27.480]  что можно сказать? Можно сказать, что D от УВ, это что такое? Это, соответственно,
[14:27.480 --> 14:42.360]  не более чем D от, соответственно, УВ плюс один, но, с другой стороны, и не менее чем D УВ минус один,
[14:42.360 --> 14:47.240]  потому что, напоминаю, граф у нас не ориентирован. Подсорялся с таким вот вершин?
[14:47.240 --> 15:00.600]  Ну, если мы знаем правое из них, то левое то же самое. Ну, типа того, да. То есть, мы просто
[15:00.600 --> 15:05.120]  замечаем, что к ревру можно относиться как в одну, так и в другую сторону, но при этом ещё важно
[15:05.120 --> 15:22.480]  заметить, что существует такое W, красивое, очень, что D от УВ равно D В плюс один. Согласны?
[15:22.480 --> 15:38.440]  Или не согласны? Ну, если они неравны. Нет, в смысле неравны. Нет, существует такое,
[15:38.440 --> 15:44.760]  да? Ну, как сказать, нет. Ну, потому что, смотрите, рассмотрим, как чаще путь УВ.
[15:44.760 --> 15:53.880]  Ну, если У равно В, то это ноль. Ну, хорошо, ладно. То есть, давайте, если называть путь
[15:53.880 --> 16:02.880]  неравновое, хорошо. Или даже, возможно, нам будет даже полезно рассматривать это,
[16:02.880 --> 16:18.760]  что то же самое равенство в виде, что D В В равно D У В минус один. Вот так. Вот. Ну,
[16:18.760 --> 16:29.880]  то ж понятно почему, правда? Да. То есть, просто первая вершина на пути. Вот. Так что, соответственно.
[16:29.880 --> 16:39.560]  Вот. Ну, в принципе, да, то есть, мы могли бы пытаться решать задачу нот. Ну, в принципе,
[16:39.560 --> 16:43.320]  на самом деле, да. То есть, имея в принципе вот это вот свойство, можно было бы пытаться
[16:43.320 --> 16:52.320]  решать действительно задачу за m от n умножить на n. Ну, да, в том плане, давайте найдем все матрицы
[16:52.320 --> 16:59.960]  от нуля до n. Ну, и там, соответственно, для каждой ашки, то есть, для каждой пары УВ найдем минимальную
[16:59.960 --> 17:06.760]  матрицу, в которой ее значение отлично от нуля. Вот. Ну, там, да. Вот, конечно, возникнут всякие
[17:06.760 --> 17:10.320]  экспедиционно растущие коэффициенты, потому что мало или сколько там существует путей,
[17:10.320 --> 17:17.440]  называется, если граф полный, например. Сейчас, еще раз, мы будем для каждого пара искать
[17:17.440 --> 17:23.720]  минимальную матрицу, для которой там ни 0. Ну, могли бы, да. Но это уже n куб. Да. А, ну да. Ну,
[17:23.720 --> 17:33.680]  m от n на n, да. Могли бы. Поэтому мы пойдем другим путем. Значит, смотрите. Следующая идея,
[17:33.680 --> 17:44.360]  да. Ну, вот. То есть, следующая идея возникает такая. Смотрите. Итак, вот у нас, допустим,
[17:44.360 --> 17:51.600]  вот этот вот граф g. А, ну давайте, наверное, давно было там пора, собственно, назвать его g равно
[17:51.600 --> 18:04.960]  в E, да. Ну, как всегда. А теперь сюда, да. А теперь давайте превратим матрицу G в матрицу G'.
[18:04.960 --> 18:19.600]  Ну, граф превратим в G', где равно с теми же самыми вершинами на E'. И при этом УВ лежит в E',
[18:19.600 --> 18:40.200]  тогда и только тогда, когда расстояние в графе G от УВ не превосходит внезапно 2. Вот. Вот такая
[18:40.200 --> 18:58.120]  красота. Так. Вот, кстати, скажите мне, пожалуйста, чему равна матрица h3? Ну да. Ну да. То есть,
[18:58.120 --> 19:08.680]  так. В калычках Рабло, а квадрат плюс а. Ну и там, соответственно, до единицы довести, если что. Ну,
[19:08.680 --> 19:13.880]  в том плане, то есть, то есть, основная суть такая, что матрица смежности этого графа получается
[19:13.880 --> 19:18.840]  по матрице смежности этого графа за умножение матрицы по плюсн квадрата. Ну, короче, за умножение
[19:18.840 --> 19:28.520]  матрицы. Вот. Ну, теперь вы искали вопрос. Просто в чем идея? Идея заключается в том, чтобы найти
[19:28.520 --> 19:38.480]  расстояние, то есть расстояние в матрице h', то есть в графе G', и после этого каким-то мистическим
[19:38.480 --> 19:46.480]  образом сделать какие-то дополнительные действия по матрице расстояния в ашрихе найти расстояние
[19:46.480 --> 19:52.640]  собственно в графе G', то есть в матрице A'. То есть, если мы это каким-то образом научимся сделать,
[19:52.640 --> 19:58.280]  то все, что нам останется, это просто проделать вот эту операцию логарифом раз, правда? Ну, потому
[19:58.280 --> 20:03.080]  что диаметр, ну, допустим, мы будем считать, что граф связный, мы там вначале можем запустить
[20:03.080 --> 20:11.360]  быстрый ДФС и все про его компоненты связанности узнать. Итак, пусть у нас граф связный, допустим,
[20:11.360 --> 20:17.640]  но тогда диаметр его не превосходит n, даже меньше n, получается, что через логарифум таких
[20:17.640 --> 20:23.600]  итераций диаметр вообще останется единичным, правда? То есть, если быстро выяснится, что граф станет
[20:23.600 --> 20:32.480]  полным, тогда там вся матрица будет единичной. Да, это называется заканчивался на яблоке.
[20:32.480 --> 20:48.480]  Мы планируем по, значит, смотрите, мы планируем, значит, алгоритм будет устроен так, мы по матрице
[20:48.480 --> 20:58.840]  А строим матрицу А', запускаемся рекурсивно, получаем, соответственно, матрицу D', вот эту матрицу
[20:58.840 --> 21:07.840]  расстояния в D', и, собственно, по ней еще какими-то дополнительными средствами получаем D'. Ну,
[21:07.840 --> 21:14.760]  понятно, здесь мы говорим магическое слово рекурсивно, типа рекурсия, смотри, рекурсия,
[21:15.520 --> 21:30.840]  и, наконец, D', и после этого D' превращаем в D. Ну, каким же образом? Вот давайте это и поймем.
[21:30.840 --> 21:41.640]  Ну, начнем с того, что, давайте так, как связаны между собой D от УВ и D' от УВ?
[21:41.640 --> 21:52.760]  D от УВ это либо 2 на D' от УВ, либо 2 на D' от УВ-1. Ну, давайте так. Ну, думаю, вот такое утверждение
[21:52.760 --> 22:03.120]  сомнений не вызывает, правда? Вот. Ну вот, но, на самом деле, да, правильно, на самом деле,
[22:03.120 --> 22:09.640]  думать на тему четности. Ну вот, вот давайте попробуем сформулировать утверждение на тему
[22:09.640 --> 22:20.120]  четности вот в этом вот стиле. Вот. Ну, то есть, в принципе, заметим, да, что у нас есть какая-то,
[22:20.120 --> 22:26.200]  то есть, как бы есть матрица, какой-то, ну скажем так, есть какая-то вершина W, которая будет первая
[22:26.200 --> 22:32.880]  на этом кратчайшем пути, правда? Ну и заметим, что, то есть, можно сформулировать так. Давайте,
[22:33.840 --> 22:51.960]  допустим, да. Значит, говорит так. Если D от УВ четно, но тогда я утверждаю, что для любого W,
[22:51.960 --> 23:06.240]  лежащего в соседях вершины У, что верно? Что D' от УВ равно D' В.
[23:06.240 --> 23:31.520]  Мы знаем, что D' УВ и D' В отличаются не больше на 1. Да, но как бы заметим, что это отличие на 1,
[23:31.520 --> 23:42.520]  да, они, ну вот, то есть, они всегда отличаются на, соответственно, плюс-минус 1. Если D от УВ на 1 больше,
[23:42.520 --> 23:50.240]  то D' УВ будет больше. Да, правильно, правильно. Так какое же правильное утверждение мы можем здесь
[23:50.240 --> 24:05.240]  сформулировать? Ну либо так, либо они равны, либо D' УВ на 1 меньше. Ну да, в переводе говорят вот так.
[24:05.240 --> 24:11.680]  Да. То есть, для всех соседей, то есть, у всех соседей, для всех соседей расстояния не меньше.
[24:11.680 --> 24:24.680]  Так, ну тогда вы, наверное, без труда догадаетесь, а что я скажу, если D' от УВ нечего?
[24:24.680 --> 24:39.560]  В обратную сторону. В обратную сторону. Можно, но мы поступим по-другому. Мы скажем, что существует
[24:39.560 --> 24:49.360]  такой мистический сосед, что D' от УВ равно D' УВ плюс 1. Ну или, короче говоря, тут минус 1 равно 1.
[24:49.360 --> 25:11.960]  Вот видите, вот в том стиле. Вот. То есть, в принципе, получается следующая интересная вещь. То есть,
[25:11.960 --> 25:17.760]  как можно было бы действительно, то есть, как можно хотя бы теоретически, пока забьем нот,
[25:17.760 --> 25:24.320]  пока не будем думать, за какую асимптотику, по матрице D' восстановить матрицу D теперь?
[25:24.320 --> 25:33.360]  Как это сделать? Ну мы все, кроме единицы, знаем все разряды двоичные, понятно. Видимо, нужно как-то
[25:33.360 --> 25:38.080]  в чудесе нечетность понять. Ну вот, ну не совсем двоичный разряд. Видите, тут округление вверх все-таки.
[25:38.080 --> 25:43.920]  Ну хорошо, да. Да, то есть, как бы было бы округление вниз, да, это был бы от пил последнего разряда,
[25:43.920 --> 25:56.320]  так не совсем. Но общая суть остается. То есть, если я знаю D' от УВ, то я знаю, что D от УВ,
[25:56.320 --> 26:13.840]  это у меня либо 2D' от УВ минус 1, либо 2D' от УВ. Вот. И нам нужно отличить один случай от другого.
[26:13.840 --> 26:21.760]  Но мы, но как бы, заметьте, как бы, по такой линии можно сделать все наоборот, что если вот это, то есть,
[26:21.760 --> 26:27.840]  если существует вот такой W, то надо брать вот этот вариант, если такого W не существует, то надо
[26:27.840 --> 26:34.680]  брать вот этот. Из-за того, что можно прям в явном виде это, собственно, и сделать.
[26:34.680 --> 26:55.680]  Да, ну правда, заметим, что если делать это совсем в тупую, то есть, если делать это прям вот так вот
[26:55.680 --> 27:05.520]  в тупую, честно все ушки перебирать, да, то действительно могут получиться проблемы.
[27:05.520 --> 27:18.480]  То есть, проблемы получатся, но получатся долгие секунды. Ну что тогда можно сделать? Что тогда
[27:18.480 --> 27:25.920]  можно сделать? Вот. Ну, на самом деле, имеет смысл уточнить. Смотрите, здесь имеется в виду, что всегда,
[27:25.920 --> 27:35.320]  то есть, тут всегда меньше либо равно, да? А как вы думаете, а Вегноли здесь будет, что всегда здесь
[27:35.320 --> 27:52.360]  будет больше либо равно? Когда? Потому что D-AW максимум на один больше, а дальше, если вычислить на один, то по тренировке, то на два.
[27:52.360 --> 28:04.800]  Да, да, да. Вот, отметите внимание. То есть, можно сказать так, что для любого W есть вот это. Вот. Просто, на самом деле,
[28:04.800 --> 28:11.840]  просто теперь эту левочку давайте, просто теперь два штриха, можно пересписать в следующем виде.
[28:11.840 --> 28:28.080]  Значит, пусть у меня, ну да, то есть, пусть у меня, допустим, S, допустим, УВ, это будет равно,
[28:28.080 --> 28:43.160]  допустим, сумме по всем W, по всем соседям такой замечательной величины, как D, соответственно, D-штрих от W.
[28:43.160 --> 28:51.960]  Вот, ведем такую сумму. Что тогда?
[28:51.960 --> 29:17.240]  Тогда, я утверждаю, что если D от УВ четно, то S от УВ, ну вот, вот, то тогда можно сказать, что, действительно,
[29:17.240 --> 29:23.600]  вот, если, ну вот, то есть, тогда, действительно, что можно сказать?
[29:23.600 --> 29:34.520]  Ну, S от УВ не больше, чем степень У на... Да, то есть, S от УВ, значит, оно больше либо равно, вот так вот пишем, да,
[29:34.520 --> 29:46.800]  тем, соответственно, D-штрих от УВ умножить на степень У. Ну, то есть, что я пишу себе, давайте, модуль N от УВ.
[29:46.800 --> 30:14.080]  Так, согласна с таким точкой, не? О, а если D от УВ не четно, ну, то, вот эта штука, я утверждаю, строго больше, да,
[30:14.080 --> 30:24.560]  потому что все будут... Наоборот же, S от УВ строго больше. А сейчас, там, в первом случае... Тут. Да, то есть, видите, тут УВ и W, тут УВ и W.
[30:24.560 --> 30:32.000]  То есть, видите, как бы оно, как бы, у УВ всегда больше либо равно, притем найдется тот, у кого строго меньше.
[30:32.000 --> 30:53.920]  То есть, очень такая получается удобная красота. Остается только один вопрос. А как найти S? То есть, заметим, что если бы мы нашли S, то, знаете, мы просто теперь потом прогулялись бы по всем вершинам, по всем парам вершин и возрадовались бы, правда?
[30:53.920 --> 31:23.840]  Такая там операция над матрицей D штрих. Так, какая? Какая? Ну, домножение D штрих на матрицу смежности. Да, мистическое утверждение. S тупо равно A над D штрих. Все.
[31:23.840 --> 31:37.760]  Вот так. Верите, Леша, в такое утверждение? Порядок матриц такой, да? Ну, да. Ну, потому что, раз у нас W тут стоит, то да.
[31:37.760 --> 31:47.680]  Хотя, ну, в общем-то, по барабану можно было бы быть, на самом деле, потому что матрица A по-любому симметричная. Но, так, ну, смотрите, давайте так.
[31:47.680 --> 32:12.560]  S у V, это прям по определению, да, W, Леша, это все, то есть A у W на D штрих W. Ну, то есть, заметим, что это в точности сумма по всем таким W, что A у W равно 1, то есть W, то есть, соответственно, N от D штриха W. Вот W, то что надо.
[32:12.560 --> 32:30.480]  Вот. Так. Ну, что? Не отдава ощущение, что мы получили алгоритм за какую-то не самую плохую асимптутику. Ну, если, конечно, умножать матрицу адекватно.
[32:30.480 --> 32:52.400]  То есть, получается, асимпточка такого алгоритма O от M умножить на N на log N. То есть, вот таким вот не очень и прям образом мы нашли расстоять.
[32:52.400 --> 33:08.320]  Ну, потому что, видите, мы сделали одно умножение, вызвались рекурсивно, сделали еще одно умножение, ну, и там какие-то действия за квадраты. Так, вот до этого момента понятно?
[33:08.320 --> 33:26.240]  Вот. Да, причем, заметив, что, да, как бы, возможно, высекает какой-то не мой вопрос, сразу отвечу, да, никаких вероятностей.
[33:26.240 --> 33:34.160]  Да, действительно, обратите на это внимание. Ни таких вероятностей нет. Все в порядке. Все хорошо.
[33:56.240 --> 34:20.160]  Так, далее. Ну, вот. А вот где начинаются вероятности? Вероятности начинаются, если мы хотим, если нам почему-то очень хочется начать восстанавливать этот путь.
[34:20.160 --> 34:34.080]  Ну, вот. Ну, а теперь возникает вопрос. Вот, глядя вот на это, попробуйте угадать, в каком виде и в каком месте этого алгоритма мы хотим восстанавливать путь?
[34:34.080 --> 34:48.080]  Ну, точнее так, что нам нужно? Потому что, конечно же, если восстанавливать путь, понятно, что не идет речь о том, что для каждой пары вершин мы этот скорейший путь напишем, потому что это тоже путь.
[34:48.960 --> 34:52.960]  Просто чисто на уровне размера output.
[34:52.960 --> 34:54.960]  Но...
[34:54.960 --> 34:56.960]  Но, мне кажется, путь первый.
[34:56.960 --> 35:10.960]  Да. Ну, как вы можете догадаться, да, у нас будет идея в том, что давайте найдем, попытаемся найти теперь не только матрицу, то есть вот тут мы решили задачу APD, нашли вот этой кочейшей пути, нашли матрицу D.
[35:11.840 --> 35:21.840]  Ну, хочется теперь найти матрицу, собственно, так сказать, первых вершин. То есть для каждого UV вот эта вот первая W пути хочется найти.
[35:21.840 --> 35:25.840]  Как же это сделать?
[35:25.840 --> 35:29.840]  Как же это сделать?
[35:29.840 --> 35:31.840]  Вот.
[35:31.840 --> 35:35.840]  Ну, идея, на самом деле, может быть такая.
[35:36.720 --> 35:38.720]  Смотрите.
[35:38.720 --> 35:42.720]  Ну, что бы вообще нам действительно хотелось?
[35:42.720 --> 35:48.720]  Вот. У нас есть вот вычисляется вот эта вот матрица S, которая вот подмножает A на D4.
[35:48.720 --> 35:52.720]  Понятно, да?
[35:52.720 --> 35:54.720]  Угу.
[35:54.720 --> 35:56.720]  Вот.
[35:57.600 --> 36:09.600]  Вот, действительно, какую бы иногда дополнительную информацию нам бы иногда, может быть, хотелось из нее выкарабливать.
[36:10.480 --> 36:12.480]  Вот.
[36:20.480 --> 36:22.480]  Вот. Ну, я сразу скажу.
[36:22.480 --> 36:30.480]  То есть задача будет в том, чтобы, то есть хочется свести эту задачу к поиску чего-то в перемножении булевых матриц.
[36:31.360 --> 36:41.360]  Ну, то есть представьте, то есть обычно то есть матрица из 0 единиц перемножаемых по принципу вот там через конверсию дебилцев.
[36:41.360 --> 36:45.360]  Вот так вы думаете, причем это?
[37:01.360 --> 37:03.360]  Вот.
[37:17.360 --> 37:19.360]  Вот.
[37:19.360 --> 37:21.360]  Пока я не знаю.
[37:21.360 --> 37:29.360]  Еще, когда у нас D2OV отчетное, да, у нас, у той вершины,
[37:29.440 --> 37:33.440]  у той вершины, которая была первой на пути, у нее будет такой же даже трех.
[37:33.440 --> 37:39.440]  То есть вот в одном случае мы хотя бы можем сказать, какой критерий того, что вот соседнесу вершина на пути.
[37:39.440 --> 37:43.440]  Если отчетное, то даже этого не можно сказать.
[37:43.440 --> 37:45.440]  Не знаю, это D2OV.
[37:45.440 --> 37:47.440]  Да, проблема. А когда бы мы могли?
[37:47.440 --> 37:49.440]  Так.
[37:53.440 --> 37:55.440]  Так.
[37:59.440 --> 38:01.440]  А идея на самом деле такая.
[38:01.440 --> 38:03.440]  Смотрите.
[38:03.440 --> 38:05.440]  Да, ну ладно, тут на самом деле.
[38:05.440 --> 38:07.440]  Прикрасил действительности.
[38:07.440 --> 38:09.440]  Такая простая вот идея.
[38:09.440 --> 38:11.440]  А идея такая.
[38:11.440 --> 38:19.440]  Дело в том, что по матрице D я могу построить такие матрицы, как D0, D1 и D2.
[38:19.520 --> 38:21.520]  Приматрица.
[38:21.520 --> 38:27.520]  Где D с индексом G от UV.
[38:29.520 --> 38:33.520]  Это оно равно, вот так вот, оно равно будет 1.
[38:33.520 --> 38:41.520]  Если D от UV, процент 3 равно G и 0 иначе.
[38:49.520 --> 38:51.520]  Внезапно, да?
[38:51.520 --> 38:53.520]  Внезапно.
[38:59.520 --> 39:01.520]  Вот.
[39:01.520 --> 39:07.520]  Тогда мне вот очень хочется найти, действительно, вот это вот W.
[39:07.600 --> 39:11.600]  Ну, смотрите, то есть для каждой задати UV я хочу найти такое W,
[39:11.600 --> 39:23.600]  что D от W равно, соответственно, ну такое, что D2W равно D от UV-1
[39:23.600 --> 39:27.600]  и при этом, как вы уже догадываетесь, W, естественно, сосед.
[39:27.600 --> 39:31.600]  А то там просто расстояние минус 1 ничего не значит.
[39:31.600 --> 39:35.600]  Ну да, а так как они все от D2OV-1 до D2OV-1, то остаток, по-моему,
[39:35.680 --> 39:39.680]  это однозначно задает единственный, ну, отходящий.
[39:39.680 --> 39:45.680]  Ну вот, то есть поэтому можно было бы сделать действительно следующее.
[39:45.680 --> 39:53.680]  То есть, допустим, попытаемся найти ответ для всех D, то есть для всех пар вершин,
[39:53.680 --> 39:55.680]  у которых расстояние, допустим, имеет остаток G.
[39:55.680 --> 39:59.680]  Тогда идея такая, рассмотрим такое произведение,
[39:59.760 --> 40:05.760]  А умножить на D с индексом G-1 mod3.
[40:17.760 --> 40:25.760]  Ну, тогда очевидно, что если D2W, допустим, действительно имеет остаток G,
[40:25.840 --> 40:31.840]  то очевидно, что, соответственно, это вот произведение, допустим, UoT,
[40:31.840 --> 40:33.840]  оно очевидно будет больше 0, правда?
[40:33.840 --> 40:35.840]  Если что?
[40:37.840 --> 40:43.840]  Ну, если D2OV, то есть если D2OV реально имеет остаток G,
[40:43.840 --> 40:49.840]  тогда логично, что произведение этой матрицы будет больше 0, согласны?
[40:51.840 --> 40:53.840]  Но нам будет интересно даже не это.
[40:53.920 --> 40:59.920]  Нам будет интересно, а благодаря какому моному,
[40:59.920 --> 41:01.920]  потому что вот эта штука, это что такое, да?
[41:01.920 --> 41:03.920]  Напоминаю.
[41:03.920 --> 41:07.920]  Это у нас сумма по всем W, лежа себе в множестве V,
[41:07.920 --> 41:13.920]  а у W на, соответственно, D вот этой вот блаблаблашки,
[41:15.920 --> 41:17.920]  от W в.
[41:17.920 --> 41:19.920]  Пока логично, да?
[41:19.920 --> 41:21.920]  Ну да, и мы хотим найти, где именно единица.
[41:22.000 --> 41:24.000]  Где именно единица хотя бы какая-то.
[41:24.000 --> 41:30.000]  Нет, и вот хочется найти, то есть как бы хочется найти хотя бы одно W,
[41:30.000 --> 41:36.000]  при K2OV, действительно, вот этот моном отличен от 0.
[41:36.000 --> 41:38.000]  Согласны, да?
[41:38.000 --> 41:42.000]  То есть, в общем-то, на самом деле, можно,
[41:42.000 --> 41:48.000]  то есть, на самом деле, теперь эту задачу можно свести теперь к перемножению волевых матриц.
[41:48.080 --> 41:52.080]  Потому что, ну, по большому счету, нам не важно,
[41:52.080 --> 41:54.080]  к чему равно конкретно D, правда?
[41:54.080 --> 41:56.080]  Логично, да?
[41:56.080 --> 42:00.080]  То есть главное, что оно к чему-то не равно 0.
[42:00.080 --> 42:06.080]  И вот тут-то и возникает задача с гордым именем.
[42:06.080 --> 42:10.080]  Ну там, по-английски, собственно, звучащим нормально.
[42:10.160 --> 42:14.160]  Значит, ну конечно, я счастлив.
[42:14.160 --> 42:26.160]  Вот, Boolean product witness, соответственно, Matlix.
[42:26.160 --> 42:32.160]  Ну или, соответственно, как вы уже догадываетесь, BPWM.
[42:32.240 --> 42:40.240]  Ну вот, ну или, по-русски это называется.
[42:40.240 --> 42:44.240]  Соответственно, да, да, да, именно так.
[42:44.240 --> 42:46.240]  Как вы в прошлый раз обсуждали, да.
[42:46.240 --> 42:52.240]  Свидетели Boolean'а перемножения матриц, да.
[42:56.240 --> 43:00.240]  Значит, а об чем вообще вот эта задача?
[43:00.320 --> 43:02.320]  А об чем эта задача?
[43:02.320 --> 43:04.320]  А задача вот об чем.
[43:04.320 --> 43:08.320]  Итак, даны Boolean, значит, пишем.
[43:08.320 --> 43:12.320]  Даны Boolean на этот раз в матрице.
[43:14.320 --> 43:16.320]  Это в матрице.
[43:20.320 --> 43:22.320]  Ну, допустим, BAC.
[43:22.320 --> 43:26.320]  А за сколько мы, кстати, можем перемножать Boolean в матрице?
[43:26.320 --> 43:28.320]  За столько же.
[43:28.400 --> 43:30.400]  За столько же.
[43:30.400 --> 43:32.400]  Быстрее не будет.
[43:32.400 --> 43:34.400]  А что с четырьмя русскими?
[43:36.400 --> 43:40.400]  Ну, с четырьмя русскими это потеряет налог, к сожалению.
[43:40.400 --> 43:44.400]  Так что, увы, не сильно нам эти четыре русских помогут.
[43:48.400 --> 43:52.400]  Значит, даны Boolean матрицы BC.
[43:52.480 --> 43:58.480]  Пусть, допустим, ну, такие матрицы там BC.
[43:58.480 --> 44:00.480]  Ну, допустим, понятно это скажем.
[44:00.480 --> 44:02.480]  Размера n на n, естественно.
[44:06.480 --> 44:10.480]  То есть, пусть у них есть произведение.
[44:10.480 --> 44:12.480]  Так, как мы обозначим произведение?
[44:14.480 --> 44:16.480]  Какую букву не жалко?
[44:16.560 --> 44:20.560]  Ну, жаль, свободно видим F.
[44:20.560 --> 44:22.560]  F?
[44:22.560 --> 44:24.560]  Ну, давайте.
[44:24.560 --> 44:26.560]  То есть, пусть E.
[44:28.560 --> 44:30.560]  Ну, вот.
[44:30.560 --> 44:34.560]  То есть, пусть, так сказать, действительно B будет произведение.
[44:36.560 --> 44:38.560]  Да, вот.
[44:38.560 --> 44:40.560]  Как бы написать это произведение?
[44:40.640 --> 44:48.640]  В равно, там, такая disjunction по W лежащим.
[44:48.640 --> 44:50.640]  От одного, да, я.
[44:50.640 --> 44:52.640]  На этот раз.
[44:52.640 --> 44:56.640]  Значит, В от W.
[44:56.640 --> 45:00.640]  And B от W.
[45:10.640 --> 45:12.640]  Чего?
[45:12.640 --> 45:14.640]  А, вот так, да.
[45:20.640 --> 45:22.640]  Так вот.
[45:22.640 --> 45:24.640]  Хочется создать.
[45:24.640 --> 45:26.640]  Значит, хотим.
[45:26.640 --> 45:28.640]  Значит, такую матрицу.
[45:28.640 --> 45:30.640]  Такую еще матрицу.
[45:30.640 --> 45:32.640]  Ну, допустим, H.
[45:32.640 --> 45:34.640]  То есть, вот.
[45:34.640 --> 45:36.640]  Значит, H.
[45:36.720 --> 45:38.720]  Ну, допустим, H.
[45:38.720 --> 45:40.720]  То есть, вот.
[45:40.720 --> 45:44.720]  Хотим, чтобы было H от УВ равно.
[45:44.720 --> 45:48.720]  Ну, например, нулю.
[45:48.720 --> 45:50.720]  Если F от УВ равно нулю.
[45:50.720 --> 45:54.720]  И такое W.
[45:54.720 --> 45:56.720]  Что В от УВ.
[45:56.720 --> 46:00.720]  Там, равно C от УВ.
[46:00.720 --> 46:02.720]  В равно 1.
[46:02.720 --> 46:04.720]  Иначе.
[46:04.800 --> 46:06.800]  Вот эта вот матрица.
[46:06.800 --> 46:08.800]  Матрица H и будет называться
[46:08.800 --> 46:10.800]  этой матрицей этих вот свидетелей.
[46:16.800 --> 46:18.800]  Вот.
[46:22.800 --> 46:24.800]  Я нашел.
[46:24.800 --> 46:26.800]  Загуглил как раз.
[46:26.800 --> 46:28.800]  Нашел статью с алгоритмом.
[46:28.800 --> 46:30.800]  Который.
[46:30.800 --> 46:32.800]  Дерминированный.
[46:32.880 --> 46:34.880]  За асимпточек умножения матрицы
[46:34.880 --> 46:36.880]  умножить на алгоритм в константной степени.
[46:36.880 --> 46:38.880]  В константной степени?
[46:38.880 --> 46:40.880]  Да.
[46:40.880 --> 46:42.880]  Константа то какая?
[46:42.880 --> 46:44.880]  От единицы вижу только.
[46:44.880 --> 46:46.880]  Ух ты.
[46:46.880 --> 46:48.880]  А насколько новая статья?
[46:48.880 --> 46:50.880]  Сейчас скажу.
[46:50.880 --> 46:52.880]  Это непонятно.
[46:52.880 --> 46:54.880]  Смотрим.
[46:54.960 --> 46:56.960]  Нет, посмотри.
[46:56.960 --> 46:58.960]  Нет, хотя бы.
[46:58.960 --> 47:00.960]  Какого года статья то вообще.
[47:02.960 --> 47:04.960]  По ссылкам не скажешь.
[47:14.960 --> 47:16.960]  Что там у вас?
[47:16.960 --> 47:18.960]  О!
[47:18.960 --> 47:20.960]  Она еще.
[47:20.960 --> 47:22.960]  А вот третья ссылка.
[47:23.040 --> 47:25.040]  Это другое.
[47:25.040 --> 47:27.040]  Другое?
[47:27.040 --> 47:29.040]  Фаст практикал.
[47:29.040 --> 47:31.040]  Другое не другое.
[47:31.040 --> 47:33.040]  Господи.
[47:35.040 --> 47:37.040]  Странно как-то, что в статьях такое
[47:37.040 --> 47:39.040]  не пишут.
[47:39.040 --> 47:41.040]  Да, вот тут умножено на алгоритм.
[47:41.040 --> 47:43.040]  Так.
[47:43.040 --> 47:45.040]  А, expected, yeah.
[47:45.040 --> 47:47.040]  Нет, ну одно дело.
[47:47.040 --> 47:49.040]  Вот worst таки есть комплекция написана.
[47:49.040 --> 47:51.040]  Да, прям в степени.
[47:51.120 --> 47:53.120]  Прям в степени.
[47:53.120 --> 47:55.120]  They regulate this law,
[47:55.120 --> 47:57.120]  but it's higher.
[48:03.120 --> 48:05.120]  Ага.
[48:05.120 --> 48:07.120]  Понятно.
[48:07.120 --> 48:09.120]  2376 старая.
[48:09.120 --> 48:11.120]  Ну, нет.
[48:11.120 --> 48:13.120]  Ну или, по крайней мере, upgrade.
[48:13.120 --> 48:15.120]  Ну ладно, в общем, да.
[48:15.120 --> 48:17.120]  Пока мы, наверное, не будем претендовать
[48:17.120 --> 48:19.120]  на то, что мы тут изучаем
[48:19.200 --> 48:21.200]  так называемый самый текущий алгоритм, так сказать.
[48:21.200 --> 48:23.200]  Вот.
[48:23.200 --> 48:25.200]  Ну вот.
[48:25.200 --> 48:27.200]  Ну, по крайней мере, хочется знать, что такое
[48:27.200 --> 48:29.200]  по крайней мере есть.
[48:29.200 --> 48:31.200]  Значит, давайте разбираться.
[48:31.200 --> 48:33.200]  Как же это все хоть за какую-то
[48:33.200 --> 48:35.200]  адекватную синтетику можно сделать?
[48:37.200 --> 48:39.200]  Вот.
[48:39.200 --> 48:41.200]  Ну,
[48:41.200 --> 48:43.200]  мистическое утверждение.
[48:43.200 --> 48:45.200]  Ну, на самом деле, смотрите.
[48:45.200 --> 48:47.200]  Давайте
[48:47.280 --> 48:49.280]  сделаем вот что.
[48:49.280 --> 48:51.280]  Давайте скажем, что найдем еще какую-нибудь
[48:51.280 --> 48:53.280]  матрицу, допустим, матрицу K.
[48:55.280 --> 48:57.280]  Которая будет перемножать
[48:57.280 --> 48:59.280]  значит, матрицу
[48:59.280 --> 49:01.280]  B' на C.
[49:03.280 --> 49:05.280]  Где B'
[49:05.280 --> 49:07.280]  у ВТ
[49:07.280 --> 49:09.280]  там у W лучше напишем
[49:09.280 --> 49:11.280]  будет равно W
[49:11.280 --> 49:13.280]  умножить на B.
[49:13.280 --> 49:15.280]  Вот так.
[49:17.280 --> 49:19.280]  Вот.
[49:27.280 --> 49:29.280]  Давайте попробуем такая идея.
[49:29.280 --> 49:31.280]  Вот чтобы, да, на этот раз переможем
[49:31.280 --> 49:33.280]  честно. То есть не в этом смысле,
[49:33.280 --> 49:35.280]  а прямо вот честно, как число.
[49:37.280 --> 49:39.280]  Тогда я утверждаю, что
[49:39.280 --> 49:41.280]  в некоторых случаях
[49:41.280 --> 49:43.280]  эта матрица, тогда матрица
[49:43.280 --> 49:45.280]  K поможет нам найти свидетелей.
[49:47.280 --> 49:49.280]  А именно
[49:49.280 --> 49:51.280]  я утверждаю
[49:51.280 --> 49:53.280]  это утверждение.
[49:55.280 --> 49:57.280]  Ну, утверждение такое
[49:59.280 --> 50:01.280]  если
[50:01.280 --> 50:03.280]  для каких-то
[50:03.280 --> 50:05.280]  УВ, значит, существует
[50:05.280 --> 50:07.280]  единственное такое W что
[50:07.280 --> 50:09.280]  значит, допустим
[50:09.280 --> 50:11.280]  В у W равно
[50:11.280 --> 50:13.280]  C у W равно
[50:13.280 --> 50:15.280]  1
[50:15.360 --> 50:17.360]  то тогда я утверждаю,
[50:17.360 --> 50:19.360]  что в K у В
[50:19.360 --> 50:21.360]  ровно это W будет записано.
[50:29.360 --> 50:31.360]  Логично, да.
[50:31.360 --> 50:33.360]  Вот. Мы вычислили это пока.
[50:33.360 --> 50:35.360]  Пока вроде как
[50:35.360 --> 50:37.360]  логично.
[50:41.360 --> 50:43.360]  Ооо.
[50:43.440 --> 50:45.440]  Поэтому, да, то есть
[50:45.440 --> 50:47.440]  то есть в принципе один из таких
[50:47.440 --> 50:49.440]  лайфхаков, который мы могли бы применить
[50:49.440 --> 50:51.440]  за O от L, это сказать
[50:51.440 --> 50:53.440]  а давайте-ка переможем вот эти матрицы
[50:53.440 --> 50:55.440]  и после этого
[50:55.440 --> 50:57.440]  пробежимся
[50:57.440 --> 50:59.440]  по всем течейкам K
[50:59.440 --> 51:01.440]  посмотрим, что там лежит
[51:01.440 --> 51:03.440]  и то, что там лежит мы можем легко проверить
[51:03.440 --> 51:05.440]  является ли оно
[51:05.440 --> 51:07.440]  свидетелем или нет. Правда?
[51:07.440 --> 51:09.440]  Ну, по крайней мере
[51:09.440 --> 51:11.440]  проверить является W
[51:11.520 --> 51:13.520]  Свидетелем для вершин УМВ
[51:13.520 --> 51:15.520]  это не проблема.
[51:15.520 --> 51:17.520]  Так свидетеля такому-то не может быть.
[51:17.520 --> 51:19.520]  Такое число да.
[51:19.520 --> 51:21.520]  Короче, вот это
[51:21.520 --> 51:23.520]  W называется свидетель.
[51:27.520 --> 51:29.520]  Долго вы там говорили
[51:29.520 --> 51:31.520]  в итоге.
[51:31.520 --> 51:33.520]  А, ну я
[51:33.520 --> 51:35.520]  я вот уже подумал, что это уже понятно
[51:35.520 --> 51:37.520]  но я потом проговариваю явно
[51:37.520 --> 51:39.520]  W это
[51:39.520 --> 51:41.520]  есть свидетель.
[51:41.520 --> 51:43.520]  То есть проверить
[51:43.520 --> 51:45.520]  является ли W свидетелем
[51:45.520 --> 51:47.520]  для каких-то вершин УМВ это без проблем
[51:47.520 --> 51:49.520]  вот найти
[51:49.520 --> 51:51.520]  его это не тривиально.
[51:51.520 --> 51:53.520]  Такое ка могло бы конечно
[51:53.520 --> 51:55.520]  пролить свет, но проблема в том
[51:55.520 --> 51:57.520]  что если свидетелей
[51:57.520 --> 51:59.520]  2, 3, 4, 5, 8, 10
[51:59.520 --> 52:01.520]  то в кашке будет написано
[52:01.520 --> 52:03.520]  сумма этих свидетелей.
[52:03.520 --> 52:05.520]  Правда?
[52:05.520 --> 52:07.520]  Это нас не устраивает.
[52:09.520 --> 52:11.520]  Что делать?
[52:11.520 --> 52:13.520]  Но идея
[52:13.520 --> 52:15.520]  такая, смотрите.
[52:15.520 --> 52:17.520]  Идея на самом деле
[52:17.520 --> 52:19.520]  заключается в том, что
[52:19.520 --> 52:21.520]  можно было бы эту матрицу K немножко проведить.
[52:25.520 --> 52:27.520]  Вот идея такая.
[52:27.520 --> 52:29.520]  А давайте в некотором смысле
[52:29.520 --> 52:31.520]  ну давайте так
[52:31.520 --> 52:33.520]  возьмем эту матрицу K
[52:33.520 --> 52:35.520]  но занулим в ней
[52:35.520 --> 52:37.520]  некоторые строки.
[52:37.520 --> 52:39.520]  Остальные строки оставим теперь.
[52:43.520 --> 52:45.520]  Тогда что можно заметить?
[52:47.520 --> 52:49.520]  Тогда можем найти свидетелей
[52:49.520 --> 52:51.520]  которые до этого не находились.
[52:51.520 --> 52:53.520]  Ну да, скажи так
[52:53.520 --> 52:55.520]  утверждение такое
[52:55.520 --> 52:57.520]  если мы занулим некоторые
[52:57.520 --> 52:59.520]  строки, а именно
[52:59.520 --> 53:01.520]  занулим
[53:01.520 --> 53:03.520]  действительно строки
[53:03.520 --> 53:05.520]  в K
[53:05.520 --> 53:07.520]  действительно строки
[53:07.520 --> 53:09.520]  для каких-то там
[53:09.520 --> 53:11.520]  значит у или жахик в каком-то
[53:11.520 --> 53:13.520]  мистическом множестве там я не знаю
[53:13.520 --> 53:15.520]  Ладно, давайте так
[53:15.520 --> 53:17.520]  В
[53:19.520 --> 53:21.520]  там без какого-то мистического множества
[53:21.520 --> 53:23.520]  Н
[53:23.520 --> 53:25.520]  Мы разве не в K
[53:25.520 --> 53:27.520]  должны замножать что-то разумный матрица, который мы
[53:27.520 --> 53:29.520]  умножаем?
[53:29.520 --> 53:31.520]  Ой, прошу прощения, да, в B3.
[53:31.520 --> 53:33.520]  Хорошо. А еще
[53:33.520 --> 53:35.520]  там, наверное, имелось в виду
[53:35.520 --> 53:37.520]  там буквка A, наверное, имелось в виду буквка B
[53:37.520 --> 53:39.520]  потому что там у нас нет
[53:39.520 --> 53:41.520]  Существо единицы, да?
[53:41.520 --> 53:43.520]  А, это B
[53:43.520 --> 53:45.520]  Это B
[53:47.520 --> 53:49.520]  Да, B
[53:49.520 --> 53:51.520]  Действительно
[53:51.520 --> 53:53.520]  Заметьте, что если мы в B3
[53:53.520 --> 53:55.520]  что-то занулим
[53:55.520 --> 53:57.520]  то есть занулим все строки кроме строки множества A
[53:57.520 --> 53:59.520]  тогда утверждение
[53:59.520 --> 54:01.520]  будет абсолютно тем же самым
[54:01.520 --> 54:03.520]  только
[54:03.520 --> 54:05.520]  после этого
[54:05.520 --> 54:07.520]  будет такое утверждение
[54:07.520 --> 54:09.520]  ну давайте так скажем
[54:09.520 --> 54:11.520]  получим матрицу
[54:11.520 --> 54:13.520]  давайте аккуратно скажем B'A
[54:13.520 --> 54:15.520]  тогда
[54:15.520 --> 54:17.520]  мистическое утверждение
[54:17.520 --> 54:19.520]  если
[54:19.520 --> 54:21.520]  существует единственный свидетель
[54:21.520 --> 54:23.520]  внимания в множестве
[54:23.520 --> 54:25.520]  A такой, что
[54:25.520 --> 54:27.520]  B от УВ
[54:27.520 --> 54:29.520]  равно от УВ
[54:29.520 --> 54:31.520]  то?
[54:31.520 --> 54:33.520]  то что?
[54:39.520 --> 54:41.520]  Ну вот, то тогда очевидно, что
[54:41.520 --> 54:43.520]  мы не должны были стабты
[54:43.520 --> 54:45.520]  занулять
[54:45.520 --> 54:47.520]  короче
[54:47.520 --> 54:49.520]  у нас же как раз
[54:49.520 --> 54:51.520]  мы хотим как бы от некоторых W
[54:51.520 --> 54:53.520]  избавиться, чтобы
[54:53.520 --> 54:55.520]  вот я возражаю
[54:55.520 --> 54:57.520]  а мы избавимся
[54:57.520 --> 54:59.520]  от У
[54:59.520 --> 55:01.520]  если У попало в L
[55:01.520 --> 55:03.520]  то мы просто целиком занулили
[55:03.520 --> 55:05.520]  а иначе ничего не изменится
[55:05.520 --> 55:07.520]  ну да
[55:07.520 --> 55:09.520]  так
[55:09.520 --> 55:11.520]  да, отлично
[55:11.520 --> 55:13.520]  да
[55:13.520 --> 55:15.520]  как тебе, преподаватель, читаю лекцию
[55:15.520 --> 55:17.520]  просто где-то быстро
[55:17.520 --> 55:19.520]  начинаются образованные меньшинники
[55:19.520 --> 55:21.520]  ну в общем
[55:21.520 --> 55:23.520]  Вэштер должен занулять столбцы, соответствующие
[55:23.520 --> 55:25.520]  ну не столбцы, а строки
[55:25.520 --> 55:27.520]  вы все-таки забыли
[55:27.520 --> 55:29.520]  у нас же W
[55:29.520 --> 55:31.520]  это вторая координата Вэштер
[55:31.520 --> 55:33.520]  так
[55:33.520 --> 55:35.520]  мы хотим сказать, что
[55:35.520 --> 55:37.520]  теперь все W
[55:37.520 --> 55:39.520]  конкретно какие-то не являются свидетелями
[55:39.520 --> 55:41.520]  значит, что все БУВ
[55:41.520 --> 55:43.520]  для всех У ноль
[55:43.520 --> 55:45.520]  это столбец
[55:49.520 --> 55:51.520]  ну да, так ладно
[55:51.520 --> 55:53.520]  с этим действительно согласились
[55:53.520 --> 55:55.520]  ага, ну да
[55:55.520 --> 55:57.520]  хорошо
[55:57.520 --> 55:59.520]  хорошо, столбцы
[55:59.520 --> 56:01.520]  уговорили
[56:01.520 --> 56:03.520]  молодцы
[56:03.520 --> 56:05.520]  хорошо
[56:05.520 --> 56:07.520]  да, ладно
[56:09.520 --> 56:11.520]  теперь мы с этим утверждением согласны
[56:13.520 --> 56:15.520]  ну вот
[56:15.520 --> 56:17.520]  что нам теперь просто для этого нужно сделать
[56:17.520 --> 56:19.520]  теперь нам нужно определиться
[56:19.520 --> 56:21.520]  как это под множество L
[56:21.520 --> 56:23.520]  или под множество L
[56:23.520 --> 56:25.520]  как-то брать
[56:29.520 --> 56:31.520]  вот
[56:31.520 --> 56:33.520]  и у нас есть мистическая лемма
[56:33.520 --> 56:35.520]  внезапно 4
[56:35.520 --> 56:37.520]  видимо лему 2 шлифт надо было лему 3 называть
[56:37.520 --> 56:39.520]  или я че-то
[56:41.520 --> 56:43.520]  а нет, слушайте, да
[56:43.520 --> 56:45.520]  лему 2 шлифт на самом деле лему 3 называется
[56:49.520 --> 56:51.520]  так вот, мистическая лемма
[56:53.520 --> 56:55.520]  значит, внимание, сейчас я на самом деле
[56:55.520 --> 56:57.520]  сформулирую лему, которая могла у вас возникнуть
[56:57.520 --> 56:59.520]  в домашнем задании по теогверу
[56:59.520 --> 57:01.520]  или даже по дисплею
[57:03.520 --> 57:05.520]  значит, пусть
[57:05.520 --> 57:07.520]  есть
[57:07.520 --> 57:09.520]  значит, N
[57:09.520 --> 57:11.520]  больше одного шага
[57:15.520 --> 57:17.520]  вот пусть у нас такие шары
[57:19.520 --> 57:21.520]  ну вот, в том числе
[57:21.520 --> 57:23.520]  W
[57:23.520 --> 57:25.520]  допустим, белых
[57:27.520 --> 57:29.520]  и N минус
[57:29.520 --> 57:31.520]  так, ладно, W давайте не будем
[57:31.520 --> 57:33.520]  K белых
[57:33.520 --> 57:35.520]  и N минус K черных
[57:39.520 --> 57:41.520]  понятно, да?
[57:43.520 --> 57:45.520]  пусть также у нас есть еще такое
[57:45.520 --> 57:47.520]  число R
[57:47.520 --> 57:49.520]  тоже натуральное
[57:51.520 --> 57:53.520]  что N пополам
[57:53.520 --> 57:55.520]  меньше либо равно
[57:55.520 --> 57:57.520]  K на R
[57:57.520 --> 57:59.520]  меньше либо равно
[58:01.520 --> 58:03.520]  вот такая вот идея
[58:07.520 --> 58:09.520]  тогда
[58:11.520 --> 58:13.520]  случайное подмножество
[58:17.520 --> 58:19.520]  из соответственно
[58:19.520 --> 58:21.520]  R шаров
[58:35.520 --> 58:37.520]  содержит
[58:39.520 --> 58:41.520]  ровно один белый шар
[58:47.520 --> 58:49.520]  ровно один белый шар
[58:53.520 --> 58:55.520]  с вероятностью
[59:05.520 --> 59:07.520]  не менее чем
[59:07.520 --> 59:09.520]  1 делить на 2
[59:17.520 --> 59:19.520]  вот такой вот угол
[59:37.520 --> 59:39.520]  вот, ну как всегда
[59:39.520 --> 59:41.520]  остается два вопроса
[59:41.520 --> 59:43.520]  первый, конечно
[59:43.520 --> 59:45.520]  почему это верно
[59:45.520 --> 59:47.520]  и второй
[59:47.520 --> 59:49.520]  и что
[59:51.520 --> 59:53.520]  кратко, да, первый вопрос
[59:53.520 --> 59:55.520]  и второй
[59:55.520 --> 59:57.520]  и что
[59:57.520 --> 59:59.520]  с какого
[59:59.520 --> 01:00:01.520]  чего начнем?
[01:00:05.520 --> 01:00:07.520]  ну давайте
[01:00:07.520 --> 01:00:09.520]  решим простую задачу по комбинатуре
[01:00:09.520 --> 01:00:11.520]  так, а давайте скажите, пожалуйста
[01:00:11.520 --> 01:00:13.520]  почему у нас вообще с точки зрения комбинатурики
[01:00:13.520 --> 01:00:15.520]  вообще равна
[01:00:15.520 --> 01:00:17.520]  вот эта вероятность
[01:00:21.520 --> 01:00:23.520]  да, ну как вы догадываетесь
[01:00:23.520 --> 01:00:25.520]  у нас есть N шаров
[01:00:25.520 --> 01:00:27.520]  с вероятностью одна вторая
[01:00:27.520 --> 01:00:29.520]  независимо включаем
[01:00:29.520 --> 01:00:31.520]  с какой вероятностью у нас будет
[01:00:31.520 --> 01:00:33.520]  ровно один белый шар?
[01:00:33.520 --> 01:00:35.520]  ну сколько
[01:00:35.520 --> 01:00:37.520]  подходит у нас набор
[01:00:37.520 --> 01:00:39.520]  из R шаров
[01:00:39.520 --> 01:00:41.520]  K умножить на C
[01:00:41.520 --> 01:00:43.520]  К умножить на R-1
[01:00:45.520 --> 01:00:47.520]  ну да, хотя нет, это неправда
[01:00:47.520 --> 01:00:49.520]  нет, не, я просто
[01:00:49.520 --> 01:00:51.520]  пространство не правильно сказал
[01:00:51.520 --> 01:00:53.520]  да, мы берем сущное подножие
[01:00:53.520 --> 01:00:55.520]  из как фиксированного числа
[01:00:55.520 --> 01:00:57.520]  мы получаем то, что из R
[01:00:57.520 --> 01:00:59.520]  у нас К на C за M-K
[01:00:59.520 --> 01:01:01.520]  R-1 делить на C за M-P-R
[01:01:01.520 --> 01:01:03.520]  на C
[01:01:03.520 --> 01:01:05.520]  это подножие с ровно
[01:01:05.520 --> 01:01:07.520]  одним белым, а всего
[01:01:07.520 --> 01:01:09.520]  C за M-P-R
[01:01:09.520 --> 01:01:11.520]  хорошо, да, отлично
[01:01:11.520 --> 01:01:13.520]  а то осторожно, а то дадут волны
[01:01:13.520 --> 01:01:15.520]  дадут волны тебе
[01:01:17.520 --> 01:01:19.520]  так, ну давайте
[01:01:19.520 --> 01:01:21.520]  разбираться
[01:01:21.520 --> 01:01:23.520]  что это вообще такое
[01:01:23.520 --> 01:01:25.520]  ну если честно расписать
[01:01:25.520 --> 01:01:27.520]  факториалы, да, то получится
[01:01:27.520 --> 01:01:29.520]  значит N-K факториал
[01:01:29.520 --> 01:01:31.520]  там R-1
[01:01:33.520 --> 01:01:35.520]  поделить на что-то там надо, да
[01:01:35.520 --> 01:01:37.520]  R-1 факториал
[01:01:37.520 --> 01:01:39.520]  и на какой-то еще висели
[01:01:39.520 --> 01:01:43.520]  N-K-R-1 факториал
[01:01:45.520 --> 01:01:47.520]  все это надо поделить
[01:01:47.520 --> 01:01:49.520]  на N факториал
[01:01:49.520 --> 01:01:51.520]  на R факториал
[01:01:51.520 --> 01:01:53.520]  на N-R факториал
[01:01:57.520 --> 01:01:59.520]  так
[01:01:59.520 --> 01:02:01.520]  ну что
[01:02:01.520 --> 01:02:03.520]  ну заметим, что кое-что можно пошлеп-шлепать
[01:02:03.520 --> 01:02:05.520]  ну тут R остался, да
[01:02:07.520 --> 01:02:09.520]  поэтому можно сказать
[01:02:09.520 --> 01:02:11.520]  следующее
[01:02:11.520 --> 01:02:13.520]  то есть можно сказать так
[01:02:13.520 --> 01:02:15.520]  это равно K-R
[01:02:15.520 --> 01:02:17.520]  R соответственно у нас
[01:02:17.520 --> 01:02:19.520]  вверх вылез
[01:02:19.520 --> 01:02:21.520]  дальше получится
[01:02:21.520 --> 01:02:23.520]  давайте если честно написать
[01:02:23.520 --> 01:02:25.520]  N-K факториал на N-R факториал
[01:02:25.520 --> 01:02:27.520]  на N факториал
[01:02:27.520 --> 01:02:29.520]  на N-K-R
[01:02:29.520 --> 01:02:31.520]  плюс 1
[01:02:31.520 --> 01:02:33.520]  факториал
[01:02:35.520 --> 01:02:37.520]  так
[01:02:37.520 --> 01:02:39.520]  смотрите, как интересно получается
[01:02:39.520 --> 01:02:41.520]  если сократить вот эти два факториала
[01:02:41.520 --> 01:02:43.520]  попробуй, то тут останется
[01:02:43.520 --> 01:02:45.520]  произведение
[01:02:45.520 --> 01:02:47.520]  искать чисел, да
[01:02:47.520 --> 01:02:49.520]  а если вот эти сократить, то сколько
[01:02:49.520 --> 01:02:51.520]  останется чисел сверху
[01:02:57.520 --> 01:02:59.520]  K-1
[01:02:59.520 --> 01:03:01.520]  сколько?
[01:03:01.520 --> 01:03:03.520]  вот этот с этим
[01:03:05.520 --> 01:03:07.520]  ну разность
[01:03:07.520 --> 01:03:09.520]  аргументных факториалов
[01:03:09.520 --> 01:03:11.520]  это K-1
[01:03:11.520 --> 01:03:13.520]  ну вот да
[01:03:13.520 --> 01:03:15.520]  остался такой, да, кого с кем
[01:03:15.520 --> 01:03:17.520]  ну потому что дальше тут идея выскакивает такая
[01:03:17.520 --> 01:03:19.520]  давайте напишем, что это равно K-R поделить
[01:03:19.520 --> 01:03:21.520]  на N
[01:03:21.520 --> 01:03:23.520]  умножить, ну давайте вот так
[01:03:23.520 --> 01:03:25.520]  K-1
[01:03:25.520 --> 01:03:27.520]  поделить на N-1 факториал
[01:03:27.520 --> 01:03:29.520]  и дальше
[01:03:29.520 --> 01:03:31.520]  значит тут будет N-R факториал поделить
[01:03:31.520 --> 01:03:33.520]  на N-K
[01:03:33.520 --> 01:03:35.520]  N-R
[01:03:39.520 --> 01:03:41.520]  так
[01:03:43.520 --> 01:03:45.520]  вот такая вот
[01:03:45.520 --> 01:03:47.520]  вот такая вот, да
[01:03:47.520 --> 01:03:49.520]  вот
[01:03:53.520 --> 01:03:55.520]  ну вот
[01:03:55.520 --> 01:03:57.520]  ну в принципе
[01:03:57.520 --> 01:03:59.520]  можно это написать в следующем вроде
[01:03:59.520 --> 01:04:01.520]  пробегаемся
[01:04:01.520 --> 01:04:03.520]  то есть это можно написать такое
[01:04:03.520 --> 01:04:05.520]  в произведении некоторых пробей
[01:04:05.520 --> 01:04:07.520]  где вот здесь будет написано
[01:04:07.520 --> 01:04:09.520]  N-1-R
[01:04:09.520 --> 01:04:11.520]  а здесь будет написано
[01:04:11.520 --> 01:04:13.520]  N-S
[01:04:15.520 --> 01:04:17.520]  N-1-R
[01:04:17.520 --> 01:04:19.520]  вот
[01:04:25.520 --> 01:04:27.520]  вот
[01:04:27.520 --> 01:04:29.520]  и G соответственно
[01:04:29.520 --> 01:04:31.520]  здесь прибегают какие значения
[01:04:31.520 --> 01:04:33.520]  почему именно так
[01:04:33.520 --> 01:04:35.520]  это мы что с чем
[01:04:35.520 --> 01:04:37.520]  какую тропу смотрим
[01:04:37.520 --> 01:04:39.520]  ну смотрите
[01:04:39.520 --> 01:04:41.520]  если я вот тут сокращу, у меня тут получится
[01:04:41.520 --> 01:04:43.520]  N-1 на N-2 на N-3
[01:04:43.520 --> 01:04:45.520]  и так далее, да
[01:04:45.520 --> 01:04:47.520]  на N-K
[01:04:47.520 --> 01:04:49.520]  плюс один, да
[01:04:49.520 --> 01:04:51.520]  а, ну да, да, да
[01:04:51.520 --> 01:04:53.520]  здесь нет единицы, согласен
[01:04:53.520 --> 01:04:55.520]  так
[01:04:55.520 --> 01:04:57.520]  и G прибегают у нас какие значения
[01:04:57.520 --> 01:04:59.520]  ну соответственно
[01:04:59.520 --> 01:05:01.520]  от нуля до
[01:05:01.520 --> 01:05:03.520]  видимо K-2
[01:05:03.520 --> 01:05:05.520]  пока лучше, да
[01:05:05.520 --> 01:05:07.520]  да
[01:05:07.520 --> 01:05:09.520]  так
[01:05:11.520 --> 01:05:13.520]  ну это
[01:05:13.520 --> 01:05:15.520]  можно написать это так
[01:05:17.520 --> 01:05:19.520]  можно в скобщиках
[01:05:19.520 --> 01:05:21.520]  написать один, минус
[01:05:21.520 --> 01:05:23.520]  такая замечательная штука
[01:05:23.520 --> 01:05:25.520]  как
[01:05:25.520 --> 01:05:27.520]  как такая
[01:05:27.520 --> 01:05:29.520]  минус R-1
[01:05:29.520 --> 01:05:31.520]  поделить на N-1
[01:05:31.520 --> 01:05:33.520]  минус G
[01:05:47.520 --> 01:05:49.520]  вот
[01:05:49.520 --> 01:05:51.520]  вот такое вот интересное
[01:05:51.520 --> 01:05:53.520]  произведение
[01:05:53.520 --> 01:05:55.520]  но заветим следующее
[01:05:55.520 --> 01:05:57.520]  я могу теперь это оценить снизу
[01:06:01.520 --> 01:06:03.520]  как я могу это
[01:06:03.520 --> 01:06:05.520]  оценить снизу
[01:06:05.520 --> 01:06:07.520]  если я хочу это оценить снизу
[01:06:07.520 --> 01:06:09.520]  то каждую скобочку я должен уменьшить
[01:06:11.520 --> 01:06:13.520]  ну да, значит дробь увеличить
[01:06:13.520 --> 01:06:15.520]  чтобы уменьшить скобочку надо вот этот дробь
[01:06:15.520 --> 01:06:17.520]  увеличить
[01:06:17.520 --> 01:06:19.520]  скобочку
[01:06:19.520 --> 01:06:21.520]  надо
[01:06:21.520 --> 01:06:23.520]  вот хочется знаменателя
[01:06:23.520 --> 01:06:25.520]  избавиться от этой вот жишки
[01:06:25.520 --> 01:06:27.520]  знаменателя
[01:06:27.520 --> 01:06:29.520]  тогда мы уменьшим
[01:06:29.520 --> 01:06:31.520]  скобку
[01:06:33.520 --> 01:06:35.520]  потому что мы будем
[01:06:35.520 --> 01:06:37.520]  делить на большее число
[01:06:37.520 --> 01:06:39.520]  так, значит хорошо
[01:06:39.520 --> 01:06:41.520]  давайте еще раз, это мы уменьшаем
[01:06:41.520 --> 01:06:43.520]  это мы увеличиваем
[01:06:43.520 --> 01:06:45.520]  давайте так
[01:06:45.520 --> 01:06:47.520]  нет, тут отрижается
[01:06:47.520 --> 01:06:49.520]  на оборот
[01:06:49.520 --> 01:06:51.520]  мы должны тут K написать
[01:06:51.520 --> 01:06:53.520]  мы должны вместо N-1
[01:06:53.520 --> 01:06:55.520]  написать?
[01:06:55.520 --> 01:06:57.520]  вместо N-1
[01:06:57.520 --> 01:06:59.520]  написать N-K
[01:06:59.520 --> 01:07:01.520]  так можем
[01:07:01.520 --> 01:07:03.520]  мы уменьшаем знаменатель
[01:07:03.520 --> 01:07:05.520]  и увеличиваем дробь
[01:07:05.520 --> 01:07:07.520]  и уменьшаем все
[01:07:07.520 --> 01:07:09.520]  ну да, чтобы уменьшить
[01:07:09.520 --> 01:07:11.520]  надо было читать как можно больше
[01:07:11.520 --> 01:07:13.520]  поэтому давайте вычтем еще
[01:07:13.520 --> 01:07:15.520]  мы вычтем K-1
[01:07:15.520 --> 01:07:17.520]  и получится это больше либо
[01:07:17.520 --> 01:07:19.520]  чем K-R-R-N
[01:07:19.520 --> 01:07:21.520]  на произведение g равно от 0 до K-2
[01:07:21.520 --> 01:07:23.520]  и соответственно пишем
[01:07:23.520 --> 01:07:25.520]  1-R-1 делить на
[01:07:25.520 --> 01:07:27.520]  N-K
[01:07:29.520 --> 01:07:31.520]  так
[01:07:33.520 --> 01:07:35.520]  что это такое вообще
[01:07:35.520 --> 01:07:37.520]  это равно
[01:07:37.520 --> 01:07:39.520]  ну можно так теперь написать
[01:07:39.520 --> 01:07:41.520]  K-R-N на
[01:07:41.520 --> 01:07:43.520]  1-R-1 делить на
[01:07:43.520 --> 01:07:45.520]  N-K
[01:07:45.520 --> 01:07:47.520]  в степени
[01:07:47.520 --> 01:07:49.520]  соответственно K-1
[01:07:55.520 --> 01:07:57.520]  так, ну теперь пришло
[01:07:57.520 --> 01:07:59.520]  время, наверное, это R оценить
[01:08:01.520 --> 01:08:03.520]  ну как его
[01:08:03.520 --> 01:08:05.520]  ну как-нибудь пооценивать
[01:08:05.520 --> 01:08:07.520]  будешь помнить, что
[01:08:07.520 --> 01:08:09.520]  как видите, K-R у нас
[01:08:09.520 --> 01:08:11.520]  от 0 до N
[01:08:13.520 --> 01:08:15.520]  то есть, с одной стороны
[01:08:15.520 --> 01:08:17.520]  это
[01:08:17.520 --> 01:08:19.520]  больше, давайте вот так
[01:08:21.520 --> 01:08:23.520]  с одной стороны
[01:08:23.520 --> 01:08:25.520]  это больше либо равно
[01:08:25.520 --> 01:08:27.520]  чем, ну K-R поделить на N
[01:08:27.520 --> 01:08:29.520]  это у нас как минимум 1-2
[01:08:29.520 --> 01:08:31.520]  как мы понимаем
[01:08:33.520 --> 01:08:35.520]  так, а вот здесь как минимум
[01:08:35.520 --> 01:08:37.520]  избавится от R
[01:08:37.520 --> 01:08:39.520]  да, то есть, здесь
[01:08:39.520 --> 01:08:41.520]  наоборот
[01:08:41.520 --> 01:08:43.520]  R надо сказать, что это не более чем
[01:08:43.520 --> 01:08:45.520]  ну да
[01:08:45.520 --> 01:08:47.520]  то есть, можно действительно сказать, что это
[01:08:47.520 --> 01:08:49.520]  давайте попробуем
[01:08:49.520 --> 01:08:51.520]  1-N делить на K
[01:08:51.520 --> 01:08:53.520]  делить на
[01:08:53.520 --> 01:08:55.520]  N-K
[01:08:55.520 --> 01:08:57.520]  в степени K-1
[01:08:57.520 --> 01:08:59.520]  так, это у нас равно
[01:08:59.520 --> 01:09:01.520]  1-2 на 1-
[01:09:01.520 --> 01:09:03.520]  так, смотрите
[01:09:03.520 --> 01:09:05.520]  что получается
[01:09:05.520 --> 01:09:07.520]  N-K
[01:09:07.520 --> 01:09:09.520]  поделить на
[01:09:09.520 --> 01:09:11.520]  да, господи, что тут парится
[01:09:11.520 --> 01:09:13.520]  это 1 делить на K
[01:09:15.520 --> 01:09:17.520]  ну как-нибудь
[01:09:17.520 --> 01:09:19.520]  нет ощущения, что это
[01:09:19.520 --> 01:09:21.520]  1 делить на K
[01:09:25.520 --> 01:09:27.520]  вот, ну и все
[01:09:27.520 --> 01:09:29.520]  и утверждается, что это
[01:09:29.520 --> 01:09:31.520]  больше либо равно 1 делить на 2e
[01:09:31.520 --> 01:09:33.520]  но это там, видимо, из какого-то
[01:09:33.520 --> 01:09:35.520]  париза вы уже знаете
[01:09:43.520 --> 01:09:45.520]  хорошо, да
[01:09:45.520 --> 01:09:47.520]  то есть, да
[01:09:47.520 --> 01:09:49.520]  нет, мерзопакриска, да
[01:09:49.520 --> 01:09:51.520]  надо правильно расписать, но суть оказывается так
[01:09:53.520 --> 01:09:55.520]  ну смотрите, к чему
[01:09:55.520 --> 01:09:57.520]  это нас вообще приводит
[01:09:59.520 --> 01:10:01.520]  к чему это нас вообще приводит
[01:10:01.520 --> 01:10:03.520]  это нас приводит к тому, что
[01:10:03.520 --> 01:10:05.520]  да, то есть, оказывается
[01:10:05.520 --> 01:10:07.520]  то есть, ну правда
[01:10:07.520 --> 01:10:09.520]  единственная проблема, то есть у нас в чем проблема
[01:10:09.520 --> 01:10:11.520]  то есть, нам
[01:10:11.520 --> 01:10:13.520]  казалось бы, нам теперь просто остается
[01:10:13.520 --> 01:10:15.520]  так, если мы знаем, что у нас K свидетелей
[01:10:15.520 --> 01:10:17.520]  то давайте вот такое R подгоним
[01:10:17.520 --> 01:10:19.520]  и получится хорошо, правда?
[01:10:21.520 --> 01:10:23.520]  правда, есть одна маленькая проблема
[01:10:23.520 --> 01:10:25.520]  для каждого УВ
[01:10:25.520 --> 01:10:27.520]  количество свидетелей
[01:10:27.520 --> 01:10:29.520]  различно, правда?
[01:10:29.520 --> 01:10:31.520]  поэтому
[01:10:31.520 --> 01:10:33.520]  ну а как бы что делать?
[01:10:35.520 --> 01:10:37.520]  алгоритм разноцветов перебрать?
[01:10:37.520 --> 01:10:39.520]  ну да
[01:10:39.520 --> 01:10:41.520]  и для каждого только запусков?
[01:10:41.520 --> 01:10:43.520]  ну для каждого
[01:10:43.520 --> 01:10:45.520]  вот сколько-то, а вот сейчас будем прикидывать
[01:10:45.520 --> 01:10:47.520]  действительно сколько запусков надо
[01:10:47.520 --> 01:10:49.520]  то есть алгоритм действительно будет так
[01:10:49.520 --> 01:10:51.520]  то есть алгоритм, да
[01:10:51.520 --> 01:10:53.520]  то есть он будет говорить так
[01:10:53.520 --> 01:10:55.520]  то есть перебираем
[01:10:55.520 --> 01:10:57.520]  значит for допустим
[01:10:57.520 --> 01:10:59.520]  допустим R равно
[01:10:59.520 --> 01:11:01.520]  один, два, четыре
[01:11:01.520 --> 01:11:03.520]  восемь, шестнадцать
[01:11:03.520 --> 01:11:05.520]  в общем, бла-бла-бла
[01:11:05.520 --> 01:11:07.520]  допустим N, ну или там
[01:11:07.520 --> 01:11:09.520]  2 в 4, не округленный
[01:11:09.520 --> 01:11:11.520]  алгоритм N вот этот вот, да?
[01:11:13.520 --> 01:11:15.520]  то есть, значит
[01:11:15.520 --> 01:11:17.520]  перебираем все эти R
[01:11:17.520 --> 01:11:19.520]  и дальше
[01:11:19.520 --> 01:11:21.520]  for там допустим
[01:11:23.520 --> 01:11:25.520]  значит дальше
[01:11:25.520 --> 01:11:27.520]  значит for ить, так что вот
[01:11:27.520 --> 01:11:29.520]  господи
[01:11:31.520 --> 01:11:33.520]  ну вот
[01:11:33.520 --> 01:11:35.520]  тут я уже не могу держаться
[01:11:39.520 --> 01:11:41.520]  там конечно
[01:11:41.520 --> 01:11:43.520]  где каштих, это будет какая-то
[01:11:43.520 --> 01:11:45.520]  сейчас
[01:11:45.520 --> 01:11:47.520]  другая буква нужна, потому что это какая-то
[01:11:47.520 --> 01:11:49.520]  какая-то константа, которую мы там потом
[01:11:49.520 --> 01:11:51.520]  ну не константа, а какое-то
[01:11:51.520 --> 01:11:53.520]  мистическое число, которое мы пытаемся вычислить
[01:11:55.520 --> 01:11:57.520]  вот
[01:11:59.520 --> 01:12:01.520]  все, такой буквы точно не было
[01:12:03.520 --> 01:12:05.520]  вот
[01:12:05.520 --> 01:12:07.520]  и дальше получается
[01:12:07.520 --> 01:12:09.520]  следующее
[01:12:09.520 --> 01:12:11.520]  то есть, генерируем
[01:12:15.520 --> 01:12:17.520]  не знаю, случайно
[01:12:21.520 --> 01:12:23.520]  под множество
[01:12:25.520 --> 01:12:27.520]  вершин
[01:12:27.520 --> 01:12:29.520]  то есть, случайно под множество
[01:12:29.520 --> 01:12:31.520]  действительно L
[01:12:31.520 --> 01:12:33.520]  размера
[01:12:35.520 --> 01:12:37.520]  соответственно
[01:12:37.520 --> 01:12:39.520]  какого?
[01:12:39.520 --> 01:12:41.520]  соответственно R
[01:12:45.520 --> 01:12:47.520]  то есть, понятная нот
[01:12:47.520 --> 01:12:49.520]  ну и дальше там строим, понятная
[01:12:51.520 --> 01:12:53.520]  то есть, будем говорить, что строим соответственно матрицу
[01:12:53.520 --> 01:12:55.520]  B'L
[01:12:55.520 --> 01:12:57.520]  то есть, дальше говорим, что
[01:12:57.520 --> 01:12:59.520]  матрица K
[01:12:59.520 --> 01:13:01.520]  допустим L, присвоить
[01:13:01.520 --> 01:13:03.520]  B'L умножить
[01:13:03.520 --> 01:13:05.520]  на C
[01:13:07.520 --> 01:13:09.520]  и
[01:13:09.520 --> 01:13:11.520]  проходимся
[01:13:15.520 --> 01:13:17.520]  по
[01:13:17.520 --> 01:13:19.520]  В
[01:13:19.520 --> 01:13:21.520]  и
[01:13:21.520 --> 01:13:23.520]  проверяем
[01:13:25.520 --> 01:13:27.520]  N
[01:13:31.520 --> 01:13:33.520]  свидетелей
[01:13:35.520 --> 01:13:37.520]  из K
[01:13:39.520 --> 01:13:41.520]  то есть, в переводе говорят
[01:13:41.520 --> 01:13:43.520]  мы сгенерили O
[01:13:43.520 --> 01:13:45.520]  то есть, мы сгенерили что-то типа логарифом R
[01:13:45.520 --> 01:13:47.520]  умножить на вот это
[01:13:49.520 --> 01:13:51.520]  каких-то матриц свидетелей
[01:13:51.520 --> 01:13:53.520]  ну мы все перепроверили
[01:13:53.520 --> 01:13:55.520]  и для каких-то пар
[01:13:55.520 --> 01:13:57.520]  УВ мы свидетеля нашли
[01:13:57.520 --> 01:13:59.520]  а для каких-то не нашли
[01:13:59.520 --> 01:14:01.520]  понимаете, да?
[01:14:03.520 --> 01:14:05.520]  ну и в конце нам остается
[01:14:07.520 --> 01:14:09.520]  там для всех
[01:14:11.520 --> 01:14:13.520]  для всех УВ
[01:14:13.520 --> 01:14:15.520]  без свидетеля
[01:14:19.520 --> 01:14:21.520]  будем говорить, что
[01:14:21.520 --> 01:14:23.520]  найти
[01:14:23.520 --> 01:14:25.520]  свидетеля
[01:14:25.520 --> 01:14:27.520]  в тупую
[01:14:33.520 --> 01:14:35.520]  слово
[01:14:35.520 --> 01:14:37.520]  да, вы же знаете, если там
[01:14:37.520 --> 01:14:39.520]  что единичку произведение, что они должны
[01:14:39.520 --> 01:14:41.520]  свидетель купить
[01:14:41.520 --> 01:14:43.520]  ну единичка, не единичка
[01:14:43.520 --> 01:14:45.520]  то есть, допустим, у нас есть матрица
[01:14:45.520 --> 01:14:47.520]  там, допустим, ans
[01:14:47.520 --> 01:14:49.520]  либо написан 0, если свидетеля нет
[01:14:49.520 --> 01:14:51.520]  или там, минус 1, там, все что угодно
[01:14:51.520 --> 01:14:53.520]  либо, если свидетель есть, то там
[01:14:53.520 --> 01:14:55.520]  пишем прямо этого свидетеля
[01:14:55.520 --> 01:14:57.520]  я про то, что мы не будем пытаться
[01:14:57.520 --> 01:14:59.520]  свидетелей у тех, у которых просто 0
[01:15:01.520 --> 01:15:03.520]  случайно
[01:15:03.520 --> 01:15:05.520]  сейчас, то есть, 0
[01:15:05.520 --> 01:15:07.520]  ну в смысле, ну есть
[01:15:07.520 --> 01:15:09.520]  QV, что там, произведение
[01:15:09.520 --> 01:15:11.520]  ну, по элементу
[01:15:11.520 --> 01:15:13.520]  в этой 0, но мы же уже знаем
[01:15:13.520 --> 01:15:15.520]  мы уже знаем результат
[01:15:15.520 --> 01:15:17.520]  ну вот там так скажем, что
[01:15:17.520 --> 01:15:19.520]  ну как сказать, просто свидетель
[01:15:19.520 --> 01:15:21.520]  мог не найти
[01:15:21.520 --> 01:15:23.520]  потому что мы говорим, что вероятность
[01:15:23.520 --> 01:15:25.520]  теперь нам надо просто теперь
[01:15:25.520 --> 01:15:27.520]  оценить, значит, за какое
[01:15:27.520 --> 01:15:29.520]  время это работает
[01:15:29.520 --> 01:15:31.520]  и где вообще
[01:15:31.520 --> 01:15:33.520]  ну вообще, как мы заметим
[01:15:33.520 --> 01:15:35.520]  что мы работаем за O от
[01:15:35.520 --> 01:15:37.520]  M от N умножить
[01:15:37.520 --> 01:15:39.520]  на вот это вот
[01:15:39.520 --> 01:15:41.520]  умножить на
[01:15:41.520 --> 01:15:43.520]  лог N
[01:15:43.520 --> 01:15:45.520]  плюс
[01:15:45.520 --> 01:15:47.520]  плюс N умножить
[01:15:47.520 --> 01:15:49.520]  на
[01:15:49.520 --> 01:15:51.520]  в общем, короче, количество
[01:15:51.520 --> 01:15:53.520]  ненайденных свидетелей
[01:16:03.520 --> 01:16:05.520]  вот
[01:16:05.520 --> 01:16:07.520]  и заметим, что количество ненайденных
[01:16:07.520 --> 01:16:09.520]  свидетелей, это как раз вот и есть
[01:16:09.520 --> 01:16:11.520]  единственная случайная величина
[01:16:11.520 --> 01:16:13.520]  от ожидания которой мы хотим
[01:16:13.520 --> 01:16:15.520]  оценить
[01:16:15.520 --> 01:16:17.520]  а теперь
[01:16:17.520 --> 01:16:19.520]  утулажаемые знатки, до этого остается простой вопрос
[01:16:19.520 --> 01:16:21.520]  ну, думаю, очевидно
[01:16:21.520 --> 01:16:23.520]  все это сводится к простому вопросу
[01:16:23.520 --> 01:16:25.520]  а с какой вероятностью
[01:16:25.520 --> 01:16:27.520]  для заданных вершин
[01:16:27.520 --> 01:16:29.520]  UV не будет
[01:16:29.520 --> 01:16:31.520]  найден свидетель
[01:16:31.520 --> 01:16:33.520]  один минус ненайдение 2E
[01:16:33.520 --> 01:16:35.520]  в степени
[01:16:35.520 --> 01:16:37.520]  то есть заметим следующее, что
[01:16:37.520 --> 01:16:39.520]  как бы для каждой, то есть мы
[01:16:39.520 --> 01:16:41.520]  скажем так, мы не знаем
[01:16:41.520 --> 01:16:43.520]  сколько там соседей у вершины U
[01:16:43.520 --> 01:16:45.520]  да, но
[01:16:45.520 --> 01:16:47.520]  если их K, то как бы
[01:16:47.520 --> 01:16:49.520]  какой-то из R обязательно под эту лему
[01:16:49.520 --> 01:16:51.520]  подойдет, правда?
[01:16:51.520 --> 01:16:53.520]  вот, поэтому получается, что
[01:16:53.520 --> 01:16:55.520]  вероятность того
[01:16:55.520 --> 01:16:57.520]  то есть действительно вероятность того, что
[01:16:57.520 --> 01:16:59.520]  для U и V
[01:16:59.520 --> 01:17:01.520]  не будет найден свидетель
[01:17:09.520 --> 01:17:11.520]  она получается
[01:17:11.520 --> 01:17:13.520]  не превосходит
[01:17:13.520 --> 01:17:15.520]  1 минус
[01:17:15.520 --> 01:17:17.520]  1 на 2E
[01:17:17.520 --> 01:17:19.520]  в степени
[01:17:19.520 --> 01:17:21.520]  вот это вот зю
[01:17:21.520 --> 01:17:23.520]  или
[01:17:23.520 --> 01:17:25.520]  C
[01:17:25.520 --> 01:17:27.520]  ну ладно
[01:17:27.520 --> 01:17:29.520]  ладно, лучше назвать зю
[01:17:29.520 --> 01:17:31.520]  потому что я чуть не уверен, что
[01:17:31.520 --> 01:17:33.520]  буквы в таком написании в реческом ухудении вообще есть
[01:17:33.520 --> 01:17:35.520]  там скорее всего там
[01:17:35.520 --> 01:17:37.520]  за корючек
[01:17:37.520 --> 01:17:39.520]  знаете это как это
[01:17:39.520 --> 01:17:41.520]  больше как-то
[01:17:41.520 --> 01:17:43.520]  когда ребят в первый раз столкнутся с соответствующим понятием
[01:17:43.520 --> 01:17:45.520]  и там
[01:17:45.520 --> 01:17:47.520]  в математике есть булевая алкебра
[01:17:49.520 --> 01:17:51.520]  вот это вот все
[01:17:51.520 --> 01:17:53.520]  так вот
[01:17:53.520 --> 01:17:55.520]  поэтому, значит, идея будет такая
[01:17:55.520 --> 01:17:57.520]  в качестве буквы зю
[01:17:59.520 --> 01:18:01.520]  мы возьмем логариф по основанию
[01:18:01.520 --> 01:18:03.520]  1 минус 1 делить на 2E
[01:18:03.520 --> 01:18:05.520]  вот
[01:18:05.520 --> 01:18:07.520]  1 делить на N
[01:18:11.520 --> 01:18:13.520]  ну да, тогда это
[01:18:13.520 --> 01:18:15.520]  то есть как бы
[01:18:15.520 --> 01:18:17.520]  если мы возьмем вот такой
[01:18:17.520 --> 01:18:19.520]  зю
[01:18:19.520 --> 01:18:21.520]  то тогда мы просто заметим, что
[01:18:21.520 --> 01:18:23.520]  действительно это тогда
[01:18:27.520 --> 01:18:29.520]  что действительно такая
[01:18:29.520 --> 01:18:31.520]  вероятность у нас
[01:18:31.520 --> 01:18:33.520]  не будет превосходить
[01:18:33.520 --> 01:18:35.520]  1 делить на N
[01:18:39.520 --> 01:18:41.520]  и тогда получается
[01:18:41.520 --> 01:18:43.520]  что
[01:18:43.520 --> 01:18:45.520]  вот
[01:18:45.520 --> 01:18:47.520]  то есть из этого следует
[01:18:47.520 --> 01:18:49.520]  что мат ожидания количества
[01:18:49.520 --> 01:18:51.520]  ненайденных свидетелей
[01:18:51.520 --> 01:18:53.520]  то есть E
[01:18:53.520 --> 01:18:55.520]  количество
[01:18:55.520 --> 01:18:57.520]  ненайденных свидетелей
[01:19:03.520 --> 01:19:05.520]  не превосходит
[01:19:09.520 --> 01:19:11.520]  ну получается
[01:19:13.520 --> 01:19:15.520]  значит чего?
[01:19:15.520 --> 01:19:17.520]  N квадрат поделить на N
[01:19:17.520 --> 01:19:19.520]  то есть не происходит N
[01:19:19.520 --> 01:19:21.520]  и мат ожидания этого времени работает
[01:19:21.520 --> 01:19:23.520]  соответственно будет седено
[01:19:23.520 --> 01:19:25.520]  вот этим безобразием
[01:19:29.520 --> 01:19:31.520]  ну то есть это означает в принципе
[01:19:31.520 --> 01:19:33.520]  что вероятность
[01:19:33.520 --> 01:19:35.520]  набрал набрал набрал
[01:19:35.520 --> 01:19:37.520]  набрал тут N от N конечно
[01:19:37.520 --> 01:19:39.520]  то есть это означает
[01:19:39.520 --> 01:19:41.520]  что вероятность резистора крайне
[01:19:41.520 --> 01:19:43.520]  и у нас еще один логарифм
[01:19:43.520 --> 01:19:45.520]  из-за того что у нас
[01:19:45.520 --> 01:19:47.520]  у нас логарифм здесь
[01:19:47.520 --> 01:19:49.520]  и логарифм здесь
[01:19:49.520 --> 01:19:51.520]  это же мы только
[01:19:51.520 --> 01:19:53.520]  на одном шайке наш
[01:19:55.520 --> 01:19:57.520]  нет смотрите
[01:19:57.520 --> 01:19:59.520]  история такая, у нас есть часть
[01:19:59.520 --> 01:20:01.520]  логарифма которая работает
[01:20:01.520 --> 01:20:03.520]  за вот эту осень точек
[01:20:03.520 --> 01:20:05.520]  здесь она невероятно
[01:20:05.520 --> 01:20:07.520]  она вероятно
[01:20:07.520 --> 01:20:09.520]  но и время работы невероятно
[01:20:09.520 --> 01:20:11.520]  есть вероятность
[01:20:11.520 --> 01:20:13.520]  время вот здесь
[01:20:13.520 --> 01:20:15.520]  но мы замечаем что
[01:20:15.520 --> 01:20:17.520]  мат ожидания
[01:20:17.520 --> 01:20:19.520]  оно по видимому
[01:20:19.520 --> 01:20:21.520]  N квадрат
[01:20:21.520 --> 01:20:23.520]  да это понятно что здесь N
[01:20:23.520 --> 01:20:25.520]  тогда в изначальной задаче
[01:20:25.520 --> 01:20:27.520]  поиска у нас будет N
[01:20:27.520 --> 01:20:29.520]  почему?
[01:20:29.520 --> 01:20:31.520]  у нас же там
[01:20:31.520 --> 01:20:33.520]  нет погодите, зачем?
[01:20:33.520 --> 01:20:35.520]  мы исходную дешку
[01:20:35.520 --> 01:20:37.520]  мы свели
[01:20:37.520 --> 01:20:39.520]  мы только на одном шаге
[01:20:39.520 --> 01:20:41.520]  будем выполнить
[01:20:41.520 --> 01:20:43.520]  если вспомнить как мы это делали
[01:20:43.520 --> 01:20:45.520]  то там история такая
[01:20:45.520 --> 01:20:47.520]  алгоритм был такой, сначала мы находим матрицу D
[01:20:47.520 --> 01:20:49.520]  честно находим и
[01:20:49.520 --> 01:20:51.520]  сведите и пока не ищем
[01:20:51.520 --> 01:20:53.520]  из матрицы D мы получаем
[01:20:53.520 --> 01:20:55.520]  булевые матрицы
[01:20:55.520 --> 01:20:57.520]  на тему того делится
[01:20:57.520 --> 01:20:59.520]  или расстояние на 3
[01:20:59.520 --> 01:21:01.520]  или остаток 1, остаток 2
[01:21:01.520 --> 01:21:03.520]  и сводим задачу к 3 поискам свидетель
[01:21:03.520 --> 01:21:05.520]  там на самом деле такая идея была
[01:21:05.520 --> 01:21:07.520]  вот
[01:21:07.520 --> 01:21:09.520]  то есть каждую из этих задач
[01:21:09.520 --> 01:21:11.520]  и вот каждую из этих задач
[01:21:11.520 --> 01:21:13.520]  мы уже начинаем развлекаться
[01:21:13.520 --> 01:21:15.520]  вот на этой осень точек
[01:21:15.520 --> 01:21:17.520]  вот
[01:21:17.520 --> 01:21:19.520]  вот такой вот прикол
[01:21:19.520 --> 01:21:21.520]  то есть ладно
[01:21:21.520 --> 01:21:23.520]  видимо
[01:21:23.520 --> 01:21:25.520]  судя по результатам гугления
[01:21:25.520 --> 01:21:27.520]  видимо наука умеет и круче
[01:21:27.520 --> 01:21:29.520]  там пишут
[01:21:29.520 --> 01:21:31.520]  я нашел две статьи в которых
[01:21:31.520 --> 01:21:33.520]  написано что они имеют детерминирование
[01:21:33.520 --> 01:21:35.520]  за мат на лог
[01:21:35.520 --> 01:21:37.520]  в контактной степени
[01:21:37.520 --> 01:21:39.520]  они говорят что они докручивают алгоритм
[01:21:39.520 --> 01:21:41.520]  чего докручивают?
[01:21:41.520 --> 01:21:43.520]  вот этот алгоритм
[01:21:43.520 --> 01:21:45.520]  ну как тогда
[01:21:45.520 --> 01:21:47.520]  ну молодцы
[01:21:47.520 --> 01:21:49.520]  нет, то это то да
[01:21:49.520 --> 01:21:51.520]  если говорить про докрутые
[01:21:51.520 --> 01:21:53.520]  ну тут на самом деле есть еще такой
[01:21:53.520 --> 01:21:55.520]  то есть у меня тут на самом деле
[01:21:55.520 --> 01:21:57.520]  написан теперь еще бонус
[01:22:01.520 --> 01:22:03.520]  бонус говорит что
[01:22:03.520 --> 01:22:05.520]  на самом деле можно этот алгоритм
[01:22:05.520 --> 01:22:07.520]  докрутить так что вон тот алгоритм квадрат
[01:22:07.520 --> 01:22:09.520]  можно убить
[01:22:21.520 --> 01:22:23.520]  вот эти
[01:22:23.520 --> 01:22:25.520]  тялочка
[01:22:25.520 --> 01:22:27.520]  какие свидетели
[01:22:27.520 --> 01:22:29.520]  вот эти три
[01:22:35.520 --> 01:22:37.520]  сейчас
[01:22:37.520 --> 01:22:39.520]  до 0
[01:22:39.520 --> 01:22:41.520]  до 1
[01:22:41.520 --> 01:22:43.520]  если воспоминать тот алгоритм
[01:22:43.520 --> 01:22:45.520]  алгоритм еще раз
[01:22:45.520 --> 01:22:47.520]  алгоритм поиска свидетелей
[01:22:47.520 --> 01:22:49.520]  для задачи поиска качающих путей
[01:22:49.520 --> 01:22:51.520]  и вот звучит так
[01:22:51.520 --> 01:22:53.520]  найдем качающие расстояния
[01:22:53.520 --> 01:22:55.520]  нашли да?
[01:22:55.520 --> 01:22:57.520]  у нас получилась матрица
[01:22:57.520 --> 01:22:59.520]  начали писать
[01:22:59.520 --> 01:23:01.520]  начали писать
[01:23:01.520 --> 01:23:03.520]  д
[01:23:03.520 --> 01:23:05.520]  по ним
[01:23:05.520 --> 01:23:07.520]  я сейчас начну писать следующее
[01:23:07.520 --> 01:23:09.520]  я по матрице
[01:23:09.520 --> 01:23:11.520]  создаю 3 матрицы
[01:23:11.520 --> 01:23:13.520]  булевые матрицы
[01:23:13.520 --> 01:23:15.520]  д0, д1, д2
[01:23:15.520 --> 01:23:17.520]  я говорю что
[01:23:17.520 --> 01:23:19.520]  gt с индексом uv
[01:23:19.520 --> 01:23:21.520]  равно 1
[01:23:21.520 --> 01:23:23.520]  если d от uv процент 3
[01:23:23.520 --> 01:23:25.520]  равно g
[01:23:25.520 --> 01:23:27.520]  и 0 иначе
[01:23:29.520 --> 01:23:31.520]  вот мы создали вот такие матрицы
[01:23:31.520 --> 01:23:33.520]  понятно да?
[01:23:35.520 --> 01:23:37.520]  тогда теперь у меня идея такая
[01:23:37.520 --> 01:23:39.520]  для каждого g
[01:23:39.520 --> 01:23:41.520]  я например пытаюсь
[01:23:41.520 --> 01:23:43.520]  нот
[01:23:43.520 --> 01:23:45.520]  я пытаюсь
[01:23:45.520 --> 01:23:47.520]  ищу свидетелей
[01:23:47.520 --> 01:23:49.520]  запускаю эту задачу
[01:23:49.520 --> 01:23:51.520]  для перемножения матриц
[01:23:51.520 --> 01:23:53.520]  а на
[01:23:53.520 --> 01:23:55.520]  д2
[01:23:55.520 --> 01:23:57.520]  значит
[01:23:57.520 --> 01:23:59.520]  а на д0
[01:23:59.520 --> 01:24:01.520]  почему я сейчас в таком порядке пишу
[01:24:01.520 --> 01:24:03.520]  а, д1
[01:24:09.520 --> 01:24:11.520]  почему я это
[01:24:11.520 --> 01:24:13.520]  делаю
[01:24:15.520 --> 01:24:17.520]  потому что
[01:24:17.520 --> 01:24:19.520]  допустим я перемножу
[01:24:19.520 --> 01:24:21.520]  матрицу a на d2
[01:24:21.520 --> 01:24:23.520]  предположим что у меня
[01:24:23.520 --> 01:24:25.520]  uv делится на 3
[01:24:25.520 --> 01:24:27.520]  для каких-то вершин uv
[01:24:27.520 --> 01:24:29.520]  тогда заметим что
[01:24:29.520 --> 01:24:31.520]  в этом перемножении
[01:24:31.520 --> 01:24:33.520]  uv будет равен единице
[01:24:37.520 --> 01:24:39.520]  потому что если у нас есть
[01:24:39.520 --> 01:24:41.520]  скачайший путь от uv
[01:24:41.520 --> 01:24:43.520]  то значит есть
[01:24:43.520 --> 01:24:45.520]  вершина w
[01:24:45.520 --> 01:24:47.520]  и где 3 на l-1
[01:24:47.520 --> 01:24:49.520]  плюс 2
[01:24:49.520 --> 01:24:51.520]  тогда получается
[01:24:51.520 --> 01:24:53.520]  если матрицу a
[01:24:53.520 --> 01:24:55.520]  вы перемножите на d2
[01:24:57.520 --> 01:24:59.520]  тогда благодаря
[01:24:59.520 --> 01:25:01.520]  какому-то из w
[01:25:01.520 --> 01:25:03.520]  будет единица
[01:25:03.520 --> 01:25:05.520]  если мы рассмотрим каждое w
[01:25:05.520 --> 01:25:07.520]  где возникла единица
[01:25:07.520 --> 01:25:09.520]  обнаружим что каждое w это вот такая штука
[01:25:13.520 --> 01:25:15.520]  так что вот такая идея возникает
[01:25:17.520 --> 01:25:19.520]  из этого произведения
[01:25:19.520 --> 01:25:21.520]  то есть для всех
[01:25:21.520 --> 01:25:23.520]  качающих путей в эту первую вершину нашли
[01:25:23.520 --> 01:25:25.520]  из этой пары
[01:25:25.520 --> 01:25:27.520]  делаем то же самое для всех у кого остаток 1
[01:25:27.520 --> 01:25:29.520]  тут остаток 2
[01:25:29.520 --> 01:25:31.520]  вот такая красота
[01:25:33.520 --> 01:25:35.520]  остается только
[01:25:35.520 --> 01:25:37.520]  один маленький тупой момент
[01:25:37.520 --> 01:25:39.520]  тупой момент заключается в том
[01:25:41.520 --> 01:25:43.520]  что
[01:25:43.520 --> 01:25:45.520]  этот алгоритм
[01:25:45.520 --> 01:25:47.520]  может попытаться ускорить
[01:25:47.520 --> 01:25:49.520]  давайте подумаем за счет чего
[01:25:49.520 --> 01:25:51.520]  ну не этот
[01:25:51.520 --> 01:25:53.520]  а вот этот
[01:25:53.520 --> 01:25:55.520]  дело в общем
[01:25:55.520 --> 01:25:57.520]  заметим что в этой матрице
[01:25:57.520 --> 01:25:59.520]  вот например у нас в матрице b'a
[01:25:59.520 --> 01:26:01.520]  у нас всего r не нулевых строчек
[01:26:01.520 --> 01:26:03.520]  у нас действительно сколько-то столбцов
[01:26:05.520 --> 01:26:07.520]  вот
[01:26:07.520 --> 01:26:09.520]  а возникает вопрос
[01:26:09.520 --> 01:26:11.520]  а в c нам
[01:26:11.520 --> 01:26:13.520]  а не имеет ли смысл нам на самом деле
[01:26:13.520 --> 01:26:15.520]  сделать то же самое
[01:26:15.520 --> 01:26:17.520]  вот например нарисовать какую-нибудь такую
[01:26:17.520 --> 01:26:19.520]  аналогичную матрицу c
[01:26:19.520 --> 01:26:21.520]  который занудит те же самые
[01:26:21.520 --> 01:26:23.520]  столбцы
[01:26:23.520 --> 01:26:25.520]  а если мы будем делать
[01:26:25.520 --> 01:26:27.520]  то же самое
[01:26:27.520 --> 01:26:29.520]  то мы будем делать
[01:26:29.520 --> 01:26:31.520]  в которой занудить те же самые
[01:26:31.520 --> 01:26:33.520]  нужные строки
[01:26:33.520 --> 01:26:35.520]  да?
[01:26:35.520 --> 01:26:37.520]  ну тут вот так
[01:26:37.520 --> 01:26:39.520]  занулили столбцы вот я так напишу
[01:26:41.520 --> 01:26:43.520]  столбцы
[01:26:43.520 --> 01:26:45.520]  а тут
[01:26:45.520 --> 01:26:47.520]  занулили строки
[01:26:49.520 --> 01:26:51.520]  ну как бы почему-то вы себе очнили
[01:26:51.520 --> 01:26:53.520]  что результат от этого не поменяется
[01:26:53.520 --> 01:26:55.520]  есть такое ощущение?
[01:26:55.520 --> 01:26:57.520]  чего?
[01:26:57.520 --> 01:26:59.520]  ну потому что
[01:26:59.520 --> 01:27:01.520]  строки которые
[01:27:01.520 --> 01:27:03.520]  с теми же w которые исключены
[01:27:03.520 --> 01:27:05.520]  они
[01:27:05.520 --> 01:27:07.520]  у ч-элемента
[01:27:07.520 --> 01:27:09.520]  у w
[01:27:09.520 --> 01:27:11.520]  на cw будут ноль если w
[01:27:11.520 --> 01:27:13.520]  гаджет l
[01:27:13.520 --> 01:27:15.520]  поэтому в c можно те же самые строки тоже
[01:27:15.520 --> 01:27:17.520]  нарисовать
[01:27:17.520 --> 01:27:19.520]  да но единственное только разница
[01:27:19.520 --> 01:27:21.520]  что тут мы на w
[01:27:21.520 --> 01:27:23.520]  ни на какие индексы ничего
[01:27:23.520 --> 01:27:25.520]  домножить не будем
[01:27:25.520 --> 01:27:27.520]  то есть давайте вот здесь это напишу
[01:27:27.520 --> 01:27:29.520]  а
[01:27:29.520 --> 01:27:31.520]  давайте тогда это будет не c шлифа
[01:27:31.520 --> 01:27:33.520]  cl
[01:27:33.520 --> 01:27:35.520]  то есть за нуление это дает
[01:27:35.520 --> 01:27:37.520]  индекс l
[01:27:37.520 --> 01:27:39.520]  ну занулили столбцы, занулили строки
[01:27:39.520 --> 01:27:41.520]  просто смотрите
[01:27:41.520 --> 01:27:43.520]  а в чем фишка?
[01:27:43.520 --> 01:27:45.520]  фишка заключается в том что
[01:27:45.520 --> 01:27:47.520]  тогда если у нас есть
[01:27:47.520 --> 01:27:49.520]  когда мы домножаем r ненулевых столбцов
[01:27:49.520 --> 01:27:51.520]  на какие-то r ненулевых
[01:27:51.520 --> 01:27:53.520]  строк то есть подозрение что это
[01:27:53.520 --> 01:27:55.520]  можно свести к перемножению матриц r на r
[01:27:55.520 --> 01:27:57.520]  это проще
[01:27:57.520 --> 01:27:59.520]  ну типа
[01:27:59.520 --> 01:28:01.520]  на блоке
[01:28:01.520 --> 01:28:03.520]  на r по r
[01:28:03.520 --> 01:28:05.520]  да даже нет
[01:28:05.520 --> 01:28:07.520]  давайте подумаем
[01:28:07.520 --> 01:28:09.520]  просто по большому счету
[01:28:09.520 --> 01:28:11.520]  жили были
[01:28:11.520 --> 01:28:13.520]  две матрицы
[01:28:15.520 --> 01:28:17.520]  в одной живы сколько-то столбцов
[01:28:17.520 --> 01:28:19.520]  в одной живы
[01:28:19.520 --> 01:28:21.520]  сколько-то строк
[01:28:23.520 --> 01:28:25.520]  тогда по большому счету
[01:28:25.520 --> 01:28:27.520]  заметим что я вот в этой матрице
[01:28:27.520 --> 01:28:29.520]  могу вот просто взять
[01:28:29.520 --> 01:28:31.520]  соответствующие столбцы и сказать
[01:28:31.520 --> 01:28:33.520]  что а давайте будем домножать вот эту матрицу
[01:28:33.520 --> 01:28:35.520]  только на наборы этих столбцов
[01:28:35.520 --> 01:28:37.520]  и результат этот
[01:28:37.520 --> 01:28:39.520]  только там строки
[01:28:39.520 --> 01:28:41.520]  с правой
[01:28:41.520 --> 01:28:43.520]  ну если мы же в c
[01:28:43.520 --> 01:28:45.520]  с нулями строки не слушаются
[01:28:45.520 --> 01:28:47.520]  мы должны одновременно
[01:28:47.520 --> 01:28:49.520]  ну можем типа взять
[01:28:49.520 --> 01:28:51.520]  в больших трех отелях
[01:28:51.520 --> 01:28:53.520]  только r строк
[01:28:53.520 --> 01:28:55.520]  а в c это только c столбцов
[01:28:55.520 --> 01:28:57.520]  но это только наоборот
[01:28:59.520 --> 01:29:01.520]  короче в левую
[01:29:01.520 --> 01:29:03.520]  с матрицей берем оставляем l столбцов
[01:29:03.520 --> 01:29:05.520]  а в правую l строк
[01:29:05.520 --> 01:29:07.520]  у нас получается матрицы
[01:29:07.520 --> 01:29:09.520]  размера
[01:29:09.520 --> 01:29:11.520]  берем не вычеркнув под матрицу
[01:29:11.520 --> 01:29:13.520]  по штрихе
[01:29:13.520 --> 01:29:15.520]  и не вычеркнув по матрице
[01:29:15.520 --> 01:29:17.520]  ну да нет тут заметим что
[01:29:17.520 --> 01:29:19.520]  столбцы которые мы не вычеркнули
[01:29:19.520 --> 01:29:21.520]  а строки которые мы не вычеркнули
[01:29:21.520 --> 01:29:23.520]  это одни и те же строки
[01:29:23.520 --> 01:29:25.520]  поэтому по большому счету
[01:29:25.520 --> 01:29:27.520]  когда вы будете перемножать
[01:29:27.520 --> 01:29:29.520]  строчку на столбец здесь
[01:29:29.520 --> 01:29:31.520]  то у вас будут нули нули нули
[01:29:31.520 --> 01:29:33.520]  и когда мы попадем на строчку столбец
[01:29:33.520 --> 01:29:35.520]  будет одно и то же
[01:29:35.520 --> 01:29:37.520]  поэтому по большому счету
[01:29:37.520 --> 01:29:39.520]  имеет смысл
[01:29:39.520 --> 01:29:41.520]  оставить только тут нужные строки
[01:29:41.520 --> 01:29:43.520]  и обнаружить
[01:29:43.520 --> 01:29:45.520]  что это можно теперь сделать
[01:29:45.520 --> 01:29:47.520]  за r
[01:29:47.520 --> 01:29:49.520]  теперь вот
[01:29:49.520 --> 01:29:51.520]  давайте я вот тут синеньким буду
[01:29:51.520 --> 01:29:53.520]  писать что тут l да
[01:29:53.520 --> 01:29:55.520]  вот за нули
[01:29:55.520 --> 01:29:57.520]  строки
[01:29:59.520 --> 01:30:01.520]  строки
[01:30:01.520 --> 01:30:03.520]  и мы теперь обнаруживаем
[01:30:03.520 --> 01:30:05.520]  что мы это умеем делать
[01:30:05.520 --> 01:30:07.520]  за время
[01:30:07.520 --> 01:30:09.520]  теперь m от r
[01:30:11.520 --> 01:30:13.520]  потому что
[01:30:13.520 --> 01:30:15.520]  р осталось
[01:30:15.520 --> 01:30:17.520]  р осталось
[01:30:17.520 --> 01:30:19.520]  потому что
[01:30:19.520 --> 01:30:21.520]  если вы тут оставили
[01:30:21.520 --> 01:30:23.520]  вы тут оставили r строчек
[01:30:23.520 --> 01:30:25.520]  да
[01:30:25.520 --> 01:30:27.520]  м от r надо обращать в квадрат
[01:30:27.520 --> 01:30:29.520]  квадрат матрицы r на r
[01:30:29.520 --> 01:30:31.520]  а у нас матрица r на n
[01:30:31.520 --> 01:30:33.520]  умножить на матрицу n на r
[01:30:33.520 --> 01:30:35.520]  ой ну да
[01:30:35.520 --> 01:30:37.520]  так
[01:30:37.520 --> 01:30:39.520]  хорошо
[01:30:39.520 --> 01:30:41.520]  вы домножаем матрицу
[01:30:41.520 --> 01:30:43.520]  n на r на матрицу r на n
[01:30:43.520 --> 01:30:45.520]  умножить
[01:30:45.520 --> 01:30:47.520]  на r на n
[01:30:47.520 --> 01:30:49.520]  так
[01:30:49.520 --> 01:30:51.520]  так
[01:30:51.520 --> 01:30:53.520]  так
[01:30:55.520 --> 01:30:57.520]  так
[01:30:57.520 --> 01:30:59.520]  ну и теперь да
[01:30:59.520 --> 01:31:01.520]  так
[01:31:01.520 --> 01:31:03.520]  мы утверждаем
[01:31:03.520 --> 01:31:05.520]  что мы
[01:31:05.520 --> 01:31:07.520]  давайте прикидывать
[01:31:07.520 --> 01:31:09.520]  за сколько мы можем умножить
[01:31:09.520 --> 01:31:11.920]  матрицу
[01:31:11.920 --> 01:31:13.680]  ну если мы поделим блок р на r
[01:31:13.680 --> 01:31:15.680]  там может быть получится что незадолго
[01:31:15.680 --> 01:31:17.680]  ну давайте так
[01:31:17.680 --> 01:31:19.580]  m от r умножить на
[01:31:19.580 --> 01:31:21.580]  n на rlat что то такое
[01:31:21.580 --> 01:31:23.580]  я делю это в квадрате
[01:31:23.580 --> 01:31:25.580]  потому что
[01:31:25.580 --> 01:31:27.580]  тут блоков n поделить на r
[01:31:28.880 --> 01:31:30.880]  каждый блок на каждый
[01:31:30.880 --> 01:31:32.880]  поэтому
[01:31:32.880 --> 01:31:34.880]  тут получается умножить на
[01:31:34.880 --> 01:31:36.880]  n в квадрат
[01:31:36.880 --> 01:31:38.880]  и тут на r
[01:31:38.880 --> 01:31:46.240]  нормально получается. Так, ну давайте подумаем. Ну, смотрите, просто идея теперь заключается в том,
[01:31:46.240 --> 01:31:57.040]  что для каждого R мы как бы тут можем написать, да. Ну, не для каждого R, а теперь для каждого
[01:31:57.040 --> 01:32:02.680]  фиксированного вот этого вот, видите, да, можем перебрать вот эти R, да. То есть, на самом деле,
[01:32:02.680 --> 01:32:14.680]  асимточка у нас теперь получается от, ну вот, то есть от получается все еще это zhu на log n умножить на,
[01:32:14.680 --> 01:32:25.880]  нет, не на log n. На log n было, когда мы тупо перемножаем n на n и еще на n. А zhu мы теперь
[01:32:25.880 --> 01:32:35.560]  домножаем на сумму по всем, значит, R равно 1, 2, бла-бла-бла, 4, бла-бла-бла, в общем, короче,
[01:32:35.560 --> 01:32:49.320]  m от R на n квадрат делить на R квадрат. Да или нет? Значит, это равно, ну короче, o от n квадрат log n
[01:32:49.320 --> 01:33:03.360]  на, значит, сумму такой величины, как m от R, ну, сколько там, значит, m от R, значит,
[01:33:03.360 --> 01:33:08.720]  поделить на R квадрат по всем вот этим вот степеням двойки. Это очень странно, потому что если,
[01:33:08.720 --> 01:33:15.240]  допустим, мы когда-нибудь придумали алгоритм такое, что m от R квадрат, здесь получится, ну,
[01:33:15.240 --> 01:33:22.280]  просто n квадрат log квадрат, то есть m от n log квадрат. Да, вот в этом ты и парадокс. А если m от R,
[01:33:22.280 --> 01:33:31.440]  ну, там, понимаешь, строго больше, то там будет... Да, то какие странно это дрюкс лопнется. Да,
[01:33:31.440 --> 01:33:40.640]  она сходится в константу и все. Да. Только, ну, как бы... О, тогда это вообще будет n квадрат log n,
[01:33:40.640 --> 01:33:49.880]  там даже не будет m от n в константе. Что прикольно. Нет, то это растрак. Нет, это странно, будет как-то,
[01:33:49.880 --> 01:33:57.200]  если бы m от R большое, то 8 точек будет меньше. Нет, то скажешь так, как минимум одно из этих m от R
[01:33:57.200 --> 01:34:03.200]  никуда не денется. Там будет просто растущая, ну, типа растущая... Ну да, давайте так. Пусть у нас, да,
[01:34:03.200 --> 01:34:09.600]  давайте так. Пусть от m от R равно, допустим, n в степени 2 плюс епсилон. Понятно. Ладно,
[01:34:09.600 --> 01:34:17.480]  x в степени 2 плюс епсилон. Тогда у нас сумма получится по g равно от нуля до логарифма m.
[01:34:17.480 --> 01:34:26.680]  Получается, значит, тут будет что-то типа... То есть 2 в степени g на 2 плюс
[01:34:26.680 --> 01:34:35.840]  епсилон поделить на 2 в степени 2g. То есть, как бы, получается геометрическая прогрессия 2 в
[01:34:35.840 --> 01:34:43.440]  степени епсилон, где епсилон больше нуля, да, и это в степени g, где суммируем по всем g от нуля до
[01:34:43.440 --> 01:34:51.160]  лог 2n. Ну это понятно, это растущая геометрическая прогрессия, то есть это равно θ от, получается,
[01:34:51.160 --> 01:35:06.920]  2 в степени епсилон на лог 2n. Ну и получается, что это равно θ от n в степени епсилон. Чего?
[01:35:06.920 --> 01:35:19.680]  Ну да, нет, все нормально, будет как раз m от n на логарифму. Так, ну да, то есть, получается,
[01:35:19.680 --> 01:35:30.040]  нет, ну там от n в степени 2 плюс епсилон на логарифм n, это равно от m от n на логарифм. Да, вот такая вот
[01:35:30.640 --> 01:35:40.160]  пока вы умножаете матрицу чем-то, типа 2n в степени 2 плюс епсилон, то логарифм можно успешно схлопнуть,
[01:35:40.160 --> 01:35:48.360]  вполне себе достаточно естественным образом. Но, действительно, парадокс, парадокс, парадокс,
[01:35:48.360 --> 01:35:55.640]  да, если m от r равно r квадрат, ну вот, если удастся, там, наука научится переножать матрицу за r квадрат,
[01:35:55.640 --> 01:36:03.400]  уж не знаю каким образом, то называть будет печально, но не печально, но просто r квадрат
[01:36:03.400 --> 01:36:09.960]  ну и тоже хорошая симпозиция. Так, ну что, есть ли тут какие-то вопросы?
[01:36:09.960 --> 01:36:16.560]  Вроде понятно, прикольные были. Да, нет, тут все и так, а если будет?
