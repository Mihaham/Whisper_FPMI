[00:00.000 --> 00:06.540]  Итак, всем здравствуйте.
[00:06.540 --> 00:10.240]  Мы продолжаем тему, близкую к диаграмме Воронова.
[00:10.240 --> 00:12.520]  Сегодня будет реангуляция Делане.
[00:12.520 --> 00:15.280]  Вот это очень-очень родственные вещи.
[00:15.280 --> 00:16.280]  Посмотрим, как они связаны.
[00:16.280 --> 00:19.160]  Ну давайте начнём с того, что такое реангуляция.
[00:19.160 --> 00:21.600]  Мы уже знаем, что такое реангуляция многоугольника.
[00:21.600 --> 00:24.120]  Когда мы проводим диагональки так, чтобы они не пересекались
[00:24.120 --> 00:25.960]  и всё разбилось на треугольнике.
[00:25.960 --> 00:26.960]  Вот.
[00:26.960 --> 00:28.600]  А сегодня у нас будет реангуляция множества точек.
[00:28.600 --> 00:30.440]  Не многоугольников, а именно множество точек.
[00:30.440 --> 00:36.720]  Пусть дано множество точек.
[00:36.720 --> 00:42.680]  Что такое реангуляция?
[00:42.680 --> 00:47.680]  Давайте на картиночке сначала.
[00:47.680 --> 00:50.440]  То есть теперь точкой могут быть внутри выпуклые оболочки.
[00:50.440 --> 00:57.600]  Ну и реангуляция, это когда мы проводим отрезки между
[00:57.600 --> 01:00.240]  какими-то вершинами, то есть между элементами множества,
[01:00.240 --> 01:01.240]  между точками множества.
[01:01.240 --> 01:04.480]  Ну и так, чтобы на картинке все грани получились треугольными.
[01:04.480 --> 01:05.480]  Вот.
[01:05.480 --> 01:08.520]  Значит, формально давайте напишем следующее.
[01:08.520 --> 01:09.520]  Реангуляция.
[01:09.520 --> 01:15.920]  Это у нас что точек?
[01:15.920 --> 01:24.640]  Значит это совокупность треугольников с вершинами
[01:24.640 --> 01:25.640]  в данных точках.
[01:25.640 --> 01:41.400]  Причем любые два треугольника либо не пересекаются, либо
[01:41.400 --> 01:45.840]  пересекаются по вершине, либо пересекаются по стороне,
[01:45.840 --> 01:46.840]  по общей стороне.
[01:46.840 --> 01:59.320]  Либо они пересекаются вообще, либо пересекаются по общей
[01:59.320 --> 02:18.680]  вершине, либо пересекаются по общей стороне.
[02:18.680 --> 02:19.680]  Вот.
[02:19.680 --> 02:22.160]  И при этом объединение всех треугольников – это
[02:22.160 --> 02:25.040]  выпуклая оболочка исходного множества точек, или иными
[02:25.040 --> 02:28.120]  словами мы максимизируем число треугольников.
[02:28.920 --> 02:32.560]  То есть мы строим, ну то есть как бы вот, представьте,
[02:32.560 --> 02:34.240]  что у нас был исходного множества точек, мы там
[02:34.240 --> 02:37.440]  рисовали какие-то треугольники, один за другим рисуем-рисуем-рисуем,
[02:37.440 --> 02:38.440]  до тех пор пока можем.
[02:38.440 --> 02:42.360]  И это будет как раз в том случае, когда у нас будет,
[02:42.360 --> 02:44.960]  ну их объединение будет совпадать со всей выпуклой оболочкой.
[02:44.960 --> 03:01.040]  Значит, более того, объединение всех треугольников совпадает
[03:01.040 --> 03:17.840]  с выпуклой оболочкой исходного множества точек.
[03:17.840 --> 03:18.840]  Вот.
[03:18.840 --> 03:21.040]  Значит, ну мы проводим какие-то треугольники, так что в объединении
[03:21.040 --> 03:22.280]  была вся выпуклая оболочка.
[03:22.280 --> 03:26.040]  Значит, пример, что, например, не является треангуляцией.
[03:27.040 --> 03:42.040]  Сейчас что-нибудь нарисую, как-нибудь вот так вот.
[03:42.040 --> 03:43.320]  Вот это не треангуляция.
[03:43.320 --> 03:52.680]  С жирными выделил вершинки множество, соответственно,
[03:52.680 --> 03:53.680]  провел какие-то треугольники.
[03:53.680 --> 03:57.720]  Проблема в том, что, например, вот эти вот два треугольника
[03:57.720 --> 04:00.480]  пересекаются по какому-то куску, как бы эта сторона
[04:00.480 --> 04:02.560]  вот этого треугольника, но для второго треугольника
[04:02.560 --> 04:04.560]  это не сторона, а кусок стороны.
[04:04.560 --> 04:07.000]  Вот такого мы хотим избегать, мы хотим, чтобы если пересекаются,
[04:07.000 --> 04:10.680]  то как бы по целиковой стороне, не по части стороны, а по
[04:10.680 --> 04:11.680]  стороне целиком.
[04:11.680 --> 04:13.680]  Ну и поэтому, соответственно, если мы хотим треангуляцию,
[04:13.680 --> 04:16.680]  то нам придется вот здесь провести такую еще диагональку,
[04:16.680 --> 04:19.760]  чтобы это как раз вот подразвить все до треугольников, так
[04:19.760 --> 04:22.640]  что пересечение любых двух было сторона, точка или
[04:22.640 --> 04:23.640]  пустое множество.
[04:27.640 --> 04:28.640]  Вот.
[04:28.640 --> 04:29.640]  Ну что такое треангуляция?
[04:29.640 --> 04:30.640]  Дальше.
[04:30.640 --> 04:31.640]  Мотивация.
[04:31.640 --> 04:32.640]  Зачем это?
[04:32.640 --> 04:33.640]  Может быть, нужно?
[04:33.640 --> 04:36.640]  И что мы хотим вообще от треангуляции?
[04:36.640 --> 04:38.640]  Представь себе такую задачу.
[04:38.640 --> 04:42.640]  Мы моделируем ландшафт какой-то поверхности.
[04:42.640 --> 04:46.640]  То есть вот есть у нас там какой-нибудь, не знаю, географическая
[04:46.640 --> 04:49.640]  задача, какая-нибудь большая площадь, там гора, реки,
[04:49.640 --> 04:50.640]  что-нибудь.
[04:50.640 --> 04:51.640]  В общем, какой-то ландшафт.
[04:52.280 --> 04:55.320]  В каких-то точках, соответственно, у вас высота побольше, в
[04:55.480 --> 04:56.820]  каких-то высота поменьше.
[04:56.820 --> 05:00.840]  Ну и вы хотите как-то в компьютере задать эту поверхность
[05:00.840 --> 05:04.200]  какую-то там, какую-то такую штуку, которая где-то
[05:04.200 --> 05:06.180]  высокая, где-то низкая и так далее.
[05:06.180 --> 05:09.180]  Понятно, что мы не можем задавать это как непрерывное
[05:09.180 --> 05:12.800]  множество, непрерывное отображение из плоскости
[05:12.800 --> 05:15.800]  XY высоты на уровне моря в каждой точке.
[05:15.800 --> 05:19.680]  Потому что непрерывные функции мы задавать не можем в компьютере.
[05:19.680 --> 05:23.920]  придется дискритировать. Вот, ну и можно, например, дискритировать следующим образом. Вот есть у вас,
[05:23.920 --> 05:34.140]  так, давайте так так так вот нарисую. Вот есть у вас плоскость xy, вы в нескольких точках могли
[05:34.140 --> 05:40.240]  померить высоту вот этой вот точки над уровнем моря, то есть вот есть у вас здесь какой-то ландшафт,
[05:40.240 --> 05:44.960]  там какая-то гора, например. Вы знаете высоты вот в этих вот точках, то есть вы знаете, что эта
[05:44.960 --> 05:49.680]  точка идет сюда. Высота здесь вот такая, здесь высота вот такая, здесь высота такая, и так далее,
[05:49.680 --> 05:56.840]  и так далее. И вам нужно как бы по известным высотам в данном множестве точек как можно
[05:56.840 --> 06:01.880]  более точно приблизить исходный ландшафт. То есть опять повторяю, мы не можем его восстановить
[06:01.880 --> 06:08.640]  однозначно и непрерывно. Ну как бы понятно, что там физические всякие штуки, они непрерывные. Но мы
[06:08.640 --> 06:13.360]  не можем это явно хранить, нам придется как-то дискретизировать. Ну давайте тогда сделаем следующее,
[06:13.360 --> 06:19.040]  давайте мы построим на этом множестве точек какую-нибудь triangуляцию. Вот тут я от балды что-нибудь
[06:19.040 --> 06:25.400]  нарисую. Вот. И дальше смотрите, если у меня в плоскости есть треугольник, я знаю, какую высоте
[06:25.400 --> 06:30.080]  соответствует каждый из его вершин. То есть я знаю, что эта точка соответствует этой точке в пространстве,
[06:30.080 --> 06:36.040]  эта точка вот эта, эта точка вот эта. Значит тогда дальше я могу просто построить в пространстве вот
[06:36.040 --> 06:40.960]  этот поднятый треугольник. То есть я каждую точку поднимаю на свою высоту, собственно провожу
[06:40.960 --> 06:46.200]  плоскость через эти три точки в пространстве, и у меня получается какой-то кусок нашей поверхности,
[06:46.200 --> 06:50.560]  такой треугольный кусок нашей поверхности. Вот. Соответственно, если я полностью
[06:50.560 --> 06:56.600]  триангулирую всю свою проекцию на плоскость, то есть все вот эти, на всех этих точках построю
[06:56.600 --> 07:00.720]  триангуляцию, и все треугольники так подниму, у меня получится вот какая-то такая картинка.
[07:00.720 --> 07:12.920]  Будет что-то такое. Да, то есть как бы у меня, я представлю свою поверхность как набор треугольников,
[07:12.920 --> 07:18.400]  сшитых по сторонам, и при этом здесь опять все будет непрерывно. То есть да, здесь конечно какая-то
[07:18.400 --> 07:23.760]  довольно грубая аппроксимация, потому что мы вообще не можем предсказать, какая высота там у
[07:23.760 --> 07:28.480]  какой-то точки, не лежащая в нашем множестве. Ну вот лучше, что можем сказать, такая-то линейная
[07:28.480 --> 07:33.520]  аппроксимация от каких-то трех ближайших точек, грубо говоря. Ну соответственно, мы ровно так и
[07:33.520 --> 07:38.400]  делаем. Мы каждую точку погружаем в один из этих треугольников и приближаем наш ландшафт именно
[07:38.400 --> 07:44.440]  вот такой вот кусочек непрерывной, кусочек линейной даже функции, что мы на каждом треугольнике,
[07:44.440 --> 07:49.240]  ну у нас в каждом треугольнике какая-то линейная функция координата x, y, и соответственно,
[07:49.240 --> 07:53.760]  мы эти треугольники сшили так, чтобы у меня получилась непрерывная функция, непрерывная поверхность.
[07:53.760 --> 08:01.920]  Вот понятно более-менее. Вот хорошо, значит, зачем это может быть нужно. И более того,
[08:01.920 --> 08:10.880]  давайте рассмотрим еще такой пример. Вот пусть в плоскости x, y дали следующие высоты для точек.
[08:10.880 --> 08:17.000]  Скажем, у меня есть куча точек на одной прямой, про которые я знаю, что высота, ну там давайте
[08:17.000 --> 08:26.360]  скажем 0, и здесь тоже куча точек, для которых я знаю высоту равную нулю. Вот, а здесь где-то по центру
[08:26.360 --> 08:33.880]  есть куча точек высоты, ну там не знаю, 100, ну или что-то близкое к сотне. Давайте везде
[08:33.880 --> 08:40.200]  напишу просто 100 для простоты. Значит, соответственно, примерно в такой картинке есть у вас какая-то гора,
[08:41.120 --> 08:52.040]  а здесь какая-то равнина. И вот они все уходят туда, в задоску. Вот здесь везде высота 0, вот здесь и
[08:52.040 --> 08:57.000]  во всех точках как бы за ней. Вот здесь везде высота 0, а здесь вот вы померили, в этой координате,
[08:57.000 --> 09:02.480]  у вас тут получилась высота 100. Ну соответственно, все вот эти вот точки, на этом горном хребте вы
[09:02.480 --> 09:08.760]  померили высоты, здесь везде получилось сотня, а здесь нули. Вот. И нам нужно, соответственно,
[09:08.760 --> 09:14.240]  тоже здесь построить какую-то triangulation, чтобы попытаться приблизить этот ландшафт,
[09:14.240 --> 09:20.680]  эту поверхность, ну вот, вот таким вот образом. Значит, здесь есть единственная загвоздка,
[09:20.680 --> 09:30.800]  например, давайте я нарисую какую-нибудь такую triangulation. Сейчас. Как я ее нарисую?
[09:30.800 --> 09:37.240]  Ну вот, например, вот такую давайте нарисую треугольник. Да, то есть понятно, что на самом
[09:37.240 --> 09:40.440]  деле, если я нарисую какой-то один фиксированный треугольник, то это можно всегда дополнить до
[09:40.440 --> 09:45.880]  triangulation, там в этом конкретном случае там что-нибудь вот такое вот будет. Ну и ладно, типа. Ну
[09:45.880 --> 09:49.880]  как-то там я это могу дотреангулировать. То есть главное, что давайте возьмем вот такой треугольник,
[09:49.880 --> 09:55.720]  который содержит две вершины в первом столбце и одну вершину в третьем столбце. Тогда у меня
[09:55.720 --> 10:01.720]  получается, как бы, что поскольку все эти точки находятся на высоте ноль в результате измерений,
[10:01.720 --> 10:07.080]  то у меня этот треугольник целиком лежит в плоскости x, y, ну то есть вот, короче, на нулевом уровне.
[10:07.080 --> 10:12.160]  И, соответственно, я тогда говорю, что у меня вот этот вот мой горный хребет, он прерывается,
[10:12.160 --> 10:17.800]  в моей дискретной аппроксимации, он прерывается каким-то куском нулевой высоты. Тут как бы сотня,
[10:17.800 --> 10:23.400]  сотня, сотня, сотня, так дискретно. Тут отрезок нулей, потом опять сотня, сотня, сотня. Вот. Ну это
[10:23.400 --> 10:29.800]  как-то не очень естественно. То есть мы бы хотели, ну там, что-то близкое к сотне иметь на
[10:29.800 --> 10:36.720]  всей вот этой вот прямой. Вот. И здесь проблема основная вот этого треугольника в том, что он,
[10:36.720 --> 10:41.320]  так называемый, тонкий треугольник, потому что у него очень маленький вот этот вот угол. То есть
[10:41.320 --> 10:53.240]  какой бы мы хотели триангуляцию? Мы бы хотели триангуляцию в стиле вот такой. Ну что-то вот такое.
[10:53.240 --> 11:00.360]  Вот это прям идеальное что-то. В данном конкретном случае вот такая треангуляция была бы оптимальной.
[11:00.360 --> 11:08.420]  Вот. Ну и соответственно этот треугольник отличается от всех этих тем, что у него есть
[11:08.420 --> 11:15.760]  один угол, который очень маленький. Вот. Ну и отсюда возникает такое интуитивное
[11:15.760 --> 11:22.040]  понимание, что нам хочется не иметь треугольников с маленькими углами. То есть формально нам
[11:22.040 --> 11:26.640]  хотелось бы найти треангуляцию, в которой минимальный среди всех углов треугольников максимально
[11:26.640 --> 11:40.520]  возможен. То есть хотим максимизировать минимальный из углов всех треугольников.
[11:40.520 --> 11:59.880]  Все в треугольниках. Ну понятно, что как бы тут тяжело доказать, что максимизация
[11:59.880 --> 12:04.600]  минимального угла дает нам наиболее хорошую опроксимацию. Ну это вообще как бы тяжело
[12:04.600 --> 12:09.200]  формализуемое утверждение, потому что не очень понятно, что там хорошая опроксимация ландшафта,
[12:09.200 --> 12:13.680]  который мы толком не знаем. Да, но можем только что-то интуитивно про него предполагать. Вот. Ну
[12:13.680 --> 12:18.240]  как-то вот отсюда примерно можно сделать вывод, что нам невыгодны тонкие треугольники. То есть те,
[12:18.240 --> 12:23.200]  которые очень сильно растянуты, потому что, собственно, маленький угол где-то, значит,
[12:23.200 --> 12:28.440]  что в другом месте есть большой угол, но и вот какой-то такой длинный и тонкий. Соединяет точки,
[12:28.440 --> 12:33.360]  находящиеся как бы на большом расстоянии, про которые, по сути, мы, ну, про взаимосвязь,
[12:33.360 --> 12:37.400]  в которых мы ничего не должны уметь говорить, мы, наоборот, хотим говорить что-то только про такие
[12:37.400 --> 12:42.560]  толстенькие треугольники, где все точки рядом друг с другом. Вот. Ну и, соответственно,
[12:42.560 --> 12:46.600]  треангуляция Дилана, в частности, вот этим способством обладает, что среди всех возможных
[12:46.600 --> 12:58.480]  треангуляций минимальный угол в ней максимально возможен. Вот. Ну, к этому мы еще чуть-чуть позже
[12:58.480 --> 13:05.160]  вернемся. Это пока такая мотивация. Сейчас давайте опять просто про треангуляции поговорим.
[13:05.160 --> 13:20.040]  Пусть в множестве P N точек. Ну, давайте я сразу буду говорить сайтов, потому что у нас, в общем,
[13:20.040 --> 13:24.760]  алгоритм будет практически такой же, как в алгоритме построения диаграммы Воронова. И чтобы
[13:24.760 --> 13:30.840]  опять различать какие-то вершины, получаемые в результате работы алгоритма, и исходные точки,
[13:30.840 --> 13:34.840]  по которым мы строим треангуляцию, давайте я это тоже буду называть сайтами. Итак,
[13:34.880 --> 13:42.880]  пусть в множестве P N сайтов. На выпуклой оболочке P. Ну, давайте, на границе выпуклой оболочке.
[13:42.880 --> 14:02.400]  На границе выпуклой оболочке P. К сайту.
[14:02.400 --> 14:11.800]  Тогда любая треангуляция множества P
[14:11.800 --> 14:36.840]  содержит 2N-K-2 треугольника и 3N-K-3 ребра. То есть опять такая лемма, которая нужна нам
[14:36.840 --> 14:42.920]  только для того, чтобы понять, что размер треангуляции всегда линейен. То есть если всего N сайта в исходном
[14:42.920 --> 14:51.040]  множестве, K из которых лежат на границе, то тогда треугольников линейное количество и
[14:51.040 --> 14:59.360]  ребра линейное количество, то есть мы можем все это в линейную память уместить. Доказательства
[14:59.360 --> 15:08.400]  здесь опять-таки формула Эллера. Причем здесь уже нам не нужно заботиться о том, что это там не
[15:08.400 --> 15:13.320]  граф, как это было в случае с диаграммой Воронова, потому что были какие-то бесконечные лучи. Здесь
[15:13.320 --> 15:18.720]  такого нет. Здесь все ребра – это просто отрезки. Соответственно, вершины – это сайты. Ребра – это
[15:18.720 --> 15:25.800]  стороны треугольников. Связано здесь тоже автоматически следует из-за того, что покрытие – это
[15:25.800 --> 15:29.760]  вся выпуклая оболочка, что все треугольники в объединении дают свою выпуклую оболочку. Ну раз
[15:29.760 --> 15:33.360]  мы можем добраться по выпуклой оболочке между любой парой точек, значит между треугольниками
[15:33.360 --> 15:38.880]  тоже можем добираться как угодно. Поэтому просто применяем формула Эллера. У нас вершин. Сколько
[15:38.880 --> 15:50.760]  у нас вершин? Вершин в точности N по числу сайтов. Дальше – грани. Пусть грани у меня будет m плюс
[15:50.760 --> 15:58.240]  1, где m – это внутренние треугольники, нормальные треугольники треангуляции, а 1 – это внешняя
[15:58.240 --> 16:09.080]  грань, как бы все кроме выпуклой оболочки. То есть m треугольников и 1 внешняя. Потому что если у
[16:09.080 --> 16:14.680]  меня есть какая-то треангуляция кого-то на что точек, вот такая, например, то у меня есть грани,
[16:14.680 --> 16:18.560]  отвечающие треугольникам, и еще вот эта вот одна внешняя грань, тоже грань планарного графа,
[16:18.560 --> 16:31.040]  все кроме, собственно, выпуклой оболочки. А ребер здесь? Сколько здесь ребер? Ну, я утверждаю,
[16:31.040 --> 16:42.800]  что 3m плюс k пополам. 3m плюс k пополам. Значит, почему? Потому что каждая внутренняя грань дает нам по
[16:42.800 --> 16:49.120]  три ребра. Каждая внутренняя грань дает по три ребра, потому что все грани треугольники. И тогда
[16:49.120 --> 16:55.040]  у меня каждое ребро будет учтено дважды, потому что, ну, каждое обычное ребро, оно двум треугольникам
[16:55.040 --> 17:00.520]  инцидентно, кроме ребер, которые лежат на, собственно, границе выпуклой оболочки. То есть все
[17:00.520 --> 17:05.840]  ребра внутри будут посчитаны дважды, поэтому я поделил пополам, а все ребра на границе будут
[17:05.840 --> 17:11.680]  посчитаны один раз. То есть вот эти вот все ребра, они инцидентны только как бы одному ребру, дающему
[17:11.680 --> 17:17.040]  вкладку число ребер. Вот. Ну, то есть здесь 3m, да, а не 3m плюс 1. И, соответственно, мне нужно еще
[17:17.040 --> 17:23.640]  сделать плюс k, чтобы можно было поделить пополам. То есть вот в этой вот сумме 3m плюс k, у меня каждое
[17:23.640 --> 17:28.360]  ребро посчитано дважды. Каждое внутреннее ребро посчитано дважды от слагаемого 3m. Каждая
[17:28.360 --> 17:32.360]  ребронная граница посчитана один раз из-за одного из треугольников и один раз из-за того, что я
[17:32.360 --> 17:36.720]  добавил k. А поэтому вот здесь все ребра посчитаны дважды, поделил пополам, это будет число ребер.
[17:36.720 --> 17:43.200]  Вот. Ну все, значит, все это склеиваем. Что у нас получается? n плюс,
[17:43.200 --> 18:00.440]  пардон, минус 3m плюс k пополам, минус, точнее плюс m плюс 1 равно двойки, да, вроде. Вот. Так,
[18:00.440 --> 18:08.680]  n и k это у нас параметры, это мы их знаем. Остается отсюда вытащить m. Давайте я попробую это сделать.
[18:08.680 --> 18:17.240]  Единичку я сокращу, останется здесь единица. Минус 3 вторых плюс 1, то есть минус 1 вторая,
[18:17.240 --> 18:25.880]  минус m пополам. Вот. Отсюда можно сказать, что m это как раз то самое 2n минус k минус 2 заявленное.
[18:25.880 --> 18:32.000]  Да. Где m представляется число треугольников. Вот ровно мы его и нашли. Ну и все. Дальше,
[18:32.000 --> 18:38.960]  чтобы понять сколько у нас ребер, мне нужно вот сюда вот подставить m, вот это вот m подставить
[18:38.960 --> 18:42.920]  вот сюда и получить ровно вот это выражение. Но давайте уже не буду это проделывать, получится
[18:42.920 --> 18:54.600]  вот ровно такая штука. Окей? Хорошо.
[19:12.920 --> 19:32.680]  Определение. Давайте мы определим граф Дилане. Пусть, как обычно, p это ну что сайтов,
[19:32.680 --> 19:48.920]  ну что сайтов. Граф Дилане это следующее. Значит вершины это сайты, множество вершин это просто p.
[19:48.920 --> 20:01.880]  А ребра соединяют каждую пару сайтов, для которых соответствующие ячейки диаграммы Воронова
[20:01.880 --> 20:09.640]  разделяют кусок границы положительной длины. Значит ребра. Мы проводим ребро между p и pg,
[20:09.640 --> 20:23.640]  если их ячейки диаграммы Воронова, то есть vp и vpg, имеют общий кусок границы положительной длины.
[20:39.640 --> 20:51.880]  То есть я беру в качестве вершин все сайты, то есть все точки из одного множества, и ребра, ну как бы отрезки
[20:51.880 --> 20:56.240]  между ними провожу только в случае, если их соответствующие ячейки диаграммы Воронова пересекаются,
[20:56.240 --> 21:02.040]  ну пересекаются по чему-то содержательному, да, по границе положительной длины, по куску положительной длины.
[21:02.040 --> 21:04.600]  Ну пример какой-нибудь давайте нарисуем быстренько.
[21:04.600 --> 21:17.520]  Значит если есть, давайте вот этот мой любимый, если есть вот эти вот точечки, являющиеся сайтами,
[21:17.520 --> 21:24.320]  то мы знаем, что диаграмма выглядит вот так, да, давайте тогда я граф Деланэ нарисую другим цветом,
[21:24.320 --> 21:31.000]  надеюсь будет видно. Значит вершины это собственно сайты, да, я вершины не меняю, вершины графа,
[21:31.000 --> 21:37.640]  а ребра провожу между теми сайтами которые разделяют кусок границы какой-то, ну ячейки
[21:37.640 --> 21:41.840]  которых разделяют кусок границы, но, например, вот эти две ячейки смежные потому что вот у них
[21:41.840 --> 21:45.720]  общий отрезок есть. Я провожу вот такое ребро, значит здесь тоже самое, есть вот такое ребро,
[21:45.720 --> 21:52.420]  есть такое risks, и есть такое ребро. Более того, у меня вот эти две скажем ячейки разделяют опять
[21:52.420 --> 21:56.740]  таки общий луч, имеют общий луч у границы поэтому я провожу еще вот такой отрезок,
[21:56.740 --> 22:00.220]  И это будет, получается, граф Дилане.
[22:00.220 --> 22:05.020]  Все, что я нарисовал голубеньким, это граф Дилане.
[22:05.020 --> 22:07.300]  Здесь хорошо получилась сразу и треангуляция, и
[22:07.300 --> 22:08.860]  я утверждаю, что это будет та самая треангуляция
[22:08.860 --> 22:10.980]  Дилане, максимизирующая минимальный угол.
[22:10.980 --> 22:13.260]  Это мы еще докажем, но пока строим только граф.
[22:13.260 --> 22:16.360]  Просто втупую взяли все вершинки, соединили отрезками
[22:16.360 --> 22:21.580]  то, что разделяет то, что имеет общих круговых границ
[22:21.580 --> 22:22.580]  в диаграмме Воронова.
[22:22.580 --> 22:52.500]  Утверждение, граф, который мы построили, плотный,
[22:52.500 --> 22:53.500]  плоский.
[22:53.500 --> 23:04.600]  Плоский граф – это тот, у которого ребра пересекаются
[23:04.600 --> 23:05.920]  только по вершинам.
[23:05.920 --> 23:08.640]  То есть, если я возьму в этом графе два произвольных
[23:08.640 --> 23:11.960]  ребра, они, если и пересекаются, то только по своим концам.
[23:11.960 --> 23:14.960]  Скажем, вот в этом графе никакие два ребра не пересекаются,
[23:14.960 --> 23:16.680]  кроме случаев, когда у них есть общий вершин.
[23:16.680 --> 23:19.960]  Я здесь пишу плоский, а не планарный, потому что
[23:19.960 --> 23:21.860]  планарный – это скорее тот, у которого существует
[23:21.860 --> 23:22.860]  плоская укладка.
[23:22.860 --> 23:28.080]  То есть, граф К4 планарный, потому что можно так нарисовать
[23:28.080 --> 23:30.160]  четыре вершины на плоскости, провести между ними какие-то
[23:30.160 --> 23:32.000]  кривые, что-нибудь не пересекаться.
[23:32.000 --> 23:35.440]  И, соответственно, тогда у него есть плоская укладка,
[23:35.440 --> 23:40.320]  какая-то конкретная конфигурация вершин и кривых между ними
[23:40.320 --> 23:41.320]  не имеет пересекающих ребер.
[23:41.320 --> 23:44.240]  Так вот, здесь я утверждаю, что не просто граф планарный,
[23:44.240 --> 23:46.920]  его можно как-то уложить, а ровно вот это – это его
[23:46.920 --> 23:47.920]  укладка.
[23:47.920 --> 23:51.120]  То есть, именно эта картинка не имеет реберных пересечений.
[23:51.120 --> 23:52.340]  То есть, этот граф именно плоский.
[23:52.340 --> 23:54.940]  Не планарный, что его можно как-то уложить, а именно
[23:54.940 --> 23:56.980]  плоский в том смысле, что ровно эта укладка является
[23:56.980 --> 23:59.900]  такой хорошей, без реберных пересечений.
[23:59.900 --> 24:05.180]  Так, доказательства, сейчас будет неприятно, но надо
[24:05.180 --> 24:06.180]  сделать.
[24:06.180 --> 24:07.180]  От противника.
[24:07.180 --> 24:08.180]  Сейчас, одну секунду.
[24:08.180 --> 24:25.600]  Ну ладно, вроде не рано, что-то противного, противного.
[24:25.600 --> 24:28.400]  Пусть какие-то два ребра пересекаются по мясу.
[24:28.400 --> 24:39.800]  То есть, пусть ПИПЖ и ПКПЛ – это два ребра графа
[24:39.800 --> 24:42.040]  Дилане, которые пересекаются по внутренности, ну как
[24:42.040 --> 24:46.560]  бы по, не по границам, а именно по какой-то, по внутренним
[24:46.560 --> 24:47.560]  точкам.
[24:47.560 --> 25:04.640]  Два ребра графа Дилане, пересекающиеся по внутренностям.
[25:04.640 --> 25:19.800]  Значит, ну, будем рисовать картинки, и вспомним еще
[25:19.800 --> 25:20.800]  такой факт.
[25:20.800 --> 25:23.720]  Смотрите, вот я говорю, что ПИПЖ и ПКПЛ – это ребра
[25:23.720 --> 25:24.720]  графа Дилане.
[25:24.720 --> 25:26.440]  Но, что такое ребра?
[25:26.440 --> 25:29.560]  Мы уже с вами проговорили, что ребро – это отрезок
[25:29.560 --> 25:32.520]  между сайтами, которые разделяют кусок границ
[25:32.520 --> 25:33.520]  в диаграмме Воронова.
[25:33.920 --> 25:37.480]  То есть, по ПИПЖ ребро проводится только если это соседние
[25:37.480 --> 25:38.480]  ячейки в диаграмме.
[25:38.480 --> 25:39.800]  Они разделяют кусок границ.
[25:39.800 --> 25:45.640]  Но у нас с вами есть критерий того, что вот это вот ребро,
[25:45.640 --> 25:48.880]  ну, точнее, серединный перпендикуляр к вот этому отрезку участвует
[25:48.880 --> 25:49.880]  в диаграмме.
[25:49.880 --> 25:51.040]  То есть, как раз у нас есть критерии того, что ячейки
[25:51.040 --> 25:52.040]  соседние.
[25:52.040 --> 25:56.120]  Напомните, пожалуйста, когда у нас серпер к двум точкам
[25:56.120 --> 25:57.120]  лежит в диаграмме.
[25:57.120 --> 26:10.640]  Да, да, да, ровно так.
[26:10.640 --> 26:14.520]  У нас был в прошлый раз утверждение, что две ячейки
[26:14.520 --> 26:17.800]  соседние, то есть серпер между ними участвует в
[26:17.800 --> 26:19.920]  диаграмме, если только существует какая-то пустая
[26:19.920 --> 26:23.320]  окружность, содержащая только эти две точки, больше
[26:23.320 --> 26:24.320]  никого.
[26:24.320 --> 26:28.400]  Ну, да, с центром на серпере, который содержит PIPG и больше
[26:28.400 --> 26:29.400]  никого не содержит.
[26:29.400 --> 26:30.400]  Ни внутри, ни на границе.
[26:30.400 --> 26:33.840]  Ну, значит, соответственно, здесь это верно для PIPG и
[26:33.840 --> 26:34.840]  для PKPL.
[26:34.840 --> 26:35.840]  Давайте это нарисуем.
[26:35.840 --> 26:44.880]  Есть у меня ребро PIPG, и есть какая-то точка, давайте
[26:44.880 --> 26:50.480]  я назову X ITGT, что если я нарисую пустой круг, максимальный
[26:50.800 --> 26:56.400]  круг с центром в X ITGT, в нем будут лежать, ну, точнее,
[26:56.400 --> 26:58.720]  на границе будут лежать PIPG и больше никого не лежит.
[26:58.720 --> 27:04.880]  Так, хорошо, и причем этот X ITGT обязательно на серпере,
[27:04.880 --> 27:06.960]  ну понятно, раз он равный удален от PIPG, то он точно
[27:06.960 --> 27:08.440]  на серпере к отрезку между ними лежит.
[27:08.440 --> 27:14.360]  Вот, давайте тогда рассмотрим такой треугольник, давайте
[27:14.360 --> 27:23.960]  я назову T ITGT, это треугольник, состоящий из вершин X IG, PI, PG,
[27:23.960 --> 27:25.120]  вот такой треугольник рассмотрим.
[27:25.120 --> 27:31.040]  Значит, что можно сказать?
[27:31.040 --> 27:36.120]  Во-первых, я утверждаю, что интервал от X IG до PI целиком
[27:36.120 --> 27:39.440]  лежит в ИТ-ячейке диаграммы Воронова.
[27:39.440 --> 27:44.320]  Интервал от X IG до PI целиком вложен в ИТ-ячейку диаграммы
[27:44.320 --> 27:45.320]  Воронова.
[27:45.320 --> 27:51.880]  Начну почему, потому что эта точка на границе между
[27:51.880 --> 27:55.900]  ячейками, это точка серпера, разделяющая как раз равно
[27:55.900 --> 27:59.720]  удаленное от PIPG, соответственно, вот эти все точки, они ближе
[27:59.720 --> 28:02.240]  к PIPG, чем к PG, просто потому что они лежат по одну из
[28:02.240 --> 28:03.240]  двух полуплоскостей.
[28:03.240 --> 28:08.420]  Ну и все, то есть ко всем вот этим точкам самое
[28:08.420 --> 28:10.400]  ближайшее PIPG и больше никто.
[28:10.400 --> 28:13.160]  Если бы был кто-то другой, то они бы...
[28:13.160 --> 28:15.360]  Ну тогда вот это вот...
[28:15.360 --> 28:16.360]  Сейчас.
[28:24.760 --> 28:28.240]  Ну да, собственно, мы знаем, что точка P I лежит в своей
[28:28.240 --> 28:32.880]  ячейке, P I лежит в ИТ-ячейке диаграммы Воронова, а X
[28:32.880 --> 28:35.280]  IG лежит на границе между ИТ и Житой, поэтому весь
[28:35.280 --> 28:38.000]  отрезок целиком лежит в ИТ-ячейке, потому что она
[28:38.000 --> 28:39.880]  выпукла, значит, весь отрезок лежит.
[28:39.880 --> 28:42.300]  Ну а интервал лежит строго-строго внутри и больше нигде.
[28:42.300 --> 28:45.800]  То есть он не лежит в, например, там, В от P I.
[28:45.800 --> 28:48.800]  Этот интервал целиком только в ИТ-ячейке.
[28:48.800 --> 28:50.440]  Давайте я даже напишу, здесь для строгости лежит во
[28:50.440 --> 28:51.440]  внутренности.
[28:51.440 --> 28:56.640]  А, interior, во внутренности ячейки лежит строго, то
[28:56.640 --> 28:58.620]  есть больше ни в кое-другой ячейке не лежит, не на границе,
[28:58.620 --> 28:59.620]  а именно во внутренности.
[28:59.620 --> 29:02.720]  Ну и то же самое для второго отрезка X IG, P I.
[29:02.720 --> 29:07.920]  Этот интервал целиком лежит во внутренности Жито-ячейки
[29:07.920 --> 29:08.920]  диаграммы Воронова.
[29:08.920 --> 29:17.320]  понятно вот хорошо так последнее что мне нужно здесь сказать это что в этом
[29:17.320 --> 29:25.080]  треугольнике не лежит никакая другая точнее не лежит точка ни пк ни пл
[29:25.080 --> 29:38.680]  треугольники тежи не лежит ни пк ни пл значит это более простой факт не
[29:38.680 --> 29:42.800]  более того не просто в треугольнике не лежит никакая никакая другая точка ну и
[29:42.800 --> 29:46.920]  во всем этом круге не лежит никакой другой сайт потому что ну мы взяли x
[29:46.920 --> 29:51.680]  и житая ровно такую x и житая такова что в максимальном пустом круге с центром
[29:51.680 --> 29:55.680]  ней лежат только по и и пж и больше никто значит в этом треугольнике тоже
[29:55.680 --> 29:58.240]  подавно никто больше не жить потому что треугольник вложен в круг
[29:58.240 --> 30:04.160]  а значит треугольник и никаких других точек нету вот и того что у нас есть
[30:04.160 --> 30:08.360]  давайте выпшем все что у меня сейчас получилось мы знаем что в треугольнике
[30:08.360 --> 30:18.480]  тежи нет точек пк и пл тежи нет пк пл соответственно если я сделаю все то
[30:18.480 --> 30:21.640]  же самое только уже для отрезка пк пл то у меня получится наоборот что в
[30:21.640 --> 30:29.480]  треугольнике тк л нет по и и пж ну то же самое да есть как бы там какой-то
[30:29.480 --> 30:35.840]  какое-то ребро графа деланэ значит он соответствует какому-то сер перу в
[30:35.840 --> 30:39.720]  диаграмме воронова соответственно все то же самое просто наоборот получается в
[30:39.720 --> 30:44.680]  симметрическом треугольнике нет по и и пж вот и мы еще знаем что какие-то
[30:44.680 --> 30:48.960]  стороны этих треугольников пересекаются
[30:55.680 --> 31:00.360]  на какие-то стороны треугольник пересекаются
[31:00.360 --> 31:17.280]  значит я хочу отсюда вывести что сейчас я давайте напишу так х и ж п и или х и
[31:17.280 --> 31:36.320]  ж пересекается с x kl пк или x kl пл вот то есть еще раз у меня есть вот такая
[31:36.320 --> 31:41.400]  такое условие что то есть у меня есть два треугольника расположенные как-то так
[31:41.400 --> 31:45.400]  что в одном нет двух вишен другого в другом нет двух вишен первого и при этом
[31:45.400 --> 31:50.440]  они пересекаются вот эти стороны их пересекаются тогда я сейчас докажу что
[31:50.440 --> 31:54.400]  какие-то еще другие стороны пересекаются грубо говоря то есть что либо вот это
[31:54.400 --> 31:57.600]  одна одна из двух этих сторон пересекается одно из двух вот этих сторон
[31:57.600 --> 32:02.680]  если я это докажу то у меня будет противоречие вот с этим фактом что эти
[32:02.680 --> 32:07.400]  как раз такие интервалы вот этот и вот этот и вот этот и вот этот они лежат по
[32:07.400 --> 32:11.040]  парно различных ячейках диаграмма воронова значит если не пересекаются то
[32:11.040 --> 32:13.960]  у меня ячейки пересекаются по внутренности противоречие мы знаем что
[32:13.960 --> 32:20.280]  ячейки пересекаются только по границе давайте напишем если мы это докажем если
[32:20.280 --> 32:39.880]  это доказать то получим что какие-то две ячейки диаграмма воронова вор от п пересекаются по
[32:39.880 --> 32:42.200]  внутренности что собственно противоречит определению
[33:09.880 --> 33:23.320]  так как понятно хорошо ну значит давай тогда это докажем давайте докажем что
[33:23.320 --> 33:27.400]  если треугольники пересекаются по двум сторонам то они где-то еще пересекаются
[33:27.400 --> 33:38.320]  давайте я нарисую треугольник t и g так довольно вольно треугольник t и g
[33:38.320 --> 33:52.920]  значит это точка x и g это точка п и это точка п и g давайте я у каждой точки
[33:52.920 --> 34:02.040]  подпишу ау если она лежит строго вне второго треугольника да я знаю что ни п и ни п и g в
[34:02.040 --> 34:07.440]  другом треугольнике не лежат поэтому здесь могу написать значение а вот вот значит ну давайте
[34:07.440 --> 34:16.080]  поймем что происходит с x и g ну на самом деле вообще говоря непонятно потому что просто
[34:16.080 --> 34:22.080]  какая-то произвольная точка общая точка границы с ней непонятно что происходит давайте я
[34:22.120 --> 34:25.640]  предположу тоже что она лежит вне второго треугольника она лежит вне
[34:25.640 --> 34:33.760]  треугольника t и g vs пока это предположение дальше смотрите мериться треугольник все три его
[34:33.760 --> 34:38.800]  вершины лежат строго вне второго треугольника то есть вне вvenue как бы вне треугольника
[34:38.800 --> 34:44.360]  вместе с границей дальше есть какое-то отрезка пкп л который эту сторону пересекает ну как-то
[34:44.360 --> 34:55.400]  так он пересекает, вот, то есть у меня есть две вот эти точки pkpl, которые пересекают этот отрезок
[34:55.400 --> 35:02.280]  до p и pg, то есть соответственно на этом отрезке p и pg у меня есть, ну поскольку его граничные точки
[35:02.280 --> 35:06.440]  лежат вне треугольника, а здесь где-то я захожу во внутренность треугольника, да, то есть когда
[35:06.440 --> 35:12.200]  я пересекаю в сторону, понятное дело, что ну как бы я перемещаюсь из внешности треугольника во
[35:12.520 --> 35:17.360]  внутренность второго треугольника, то есть вот эта точка как бы на границе, да, и значит я как бы этот
[35:17.360 --> 35:21.920]  треугольник, в этот треугольник захожу, я должен из него где-то выйти еще, это точка находится
[35:21.920 --> 35:28.180]  внутри, tahun внутри второго треугольника, вот, значит ну там где-то я еще должен выйти, то есть
[35:28.180 --> 35:33.640]  есть еще какая-то вторая точка пересекения на этой стороне, потому что две крайние вне, значит если
[35:33.640 --> 35:38.460]  я зашел один раз, то должен выйти, да, потому что на этом луче у меня непрерывно все должно вот
[35:38.460 --> 35:42.000]  быть, если я был вне, то должен зайти, потом выйти, потом быть, что бы быть в конце
[35:42.000 --> 35:47.820]  аут вот но что мы знаем мы знаем что этот отрезок ни одной своей вершинка не
[35:47.820 --> 35:51.420]  лежит в треугольнике t и g поэтому такая красненько быть не может она ну какая-то
[35:51.420 --> 35:56.020]  вот такая например да то есть этот отрезок он куда-то вне треугольника t и g
[35:56.020 --> 36:02.280]  смотрит ну что-то такое то есть мы точно понимаем что если у меня отрезок pk
[36:02.280 --> 36:06.480]  pl пересекает по и g но при этом ни одна его ни один из его концов не лежит в
[36:06.480 --> 36:12.000]  t и g то значит у меня этот отрезок пересекает не только по и п и g но еще
[36:12.000 --> 36:14.840]  какую-то другую сторону ну скажем вот это вот x и g п и g
[36:14.840 --> 36:19.760]  раз мы зашли в треугольник t и g то мы должны из него выйти вот ну и здесь
[36:19.760 --> 36:22.920]  тогда та же самая логика смотрите если у меня границы если у меня концы вот
[36:22.920 --> 36:28.440]  этого отрезка x и g и п и g лежат вне второго треугольника а при этом здесь
[36:28.440 --> 36:32.520]  есть точка их прещения по мясу значит здесь соответственно я захожу внутрь
[36:32.520 --> 36:36.080]  второго треугольника если я двигаюсь вот отсюда сюда да я захожу внутрь
[36:36.280 --> 36:39.780]  поэтому чтобы опять быть вне треугольника
[36:39.780 --> 36:46.540]  мне нужно получить второе пересечение поэтому есть какая-то другая сторона
[36:46.540 --> 36:52.380]  треугольника тк тк л которая также пересекает отрезок x и g и g
[36:52.380 --> 36:56.160]  просто потому что если мы были вне потом зашли потом п börjar вне то мне
[36:56.160 --> 36:58.760]  нужно опять получить по опять получить точка пересечения
[36:58.760 --> 37:02.920]  значит здесь есть какая-то сторона которая еще пересекает x и g но это
[37:02.920 --> 37:07.000]  обязательно одна из двух оставших сторон. То есть есть какой-то вот, скажем,
[37:07.000 --> 37:11.000]  такой отрезок или вот такой отрезок, который пересекает нашу сторону. Давайте
[37:11.000 --> 37:19.800]  вот так нарисуем. Есть что-то такое. Это, соответственно, сторона PLXKL. Вот мы
[37:19.800 --> 37:24.200]  тогда показали, что в этом случае у меня сторона XJPJ пересекается со стороной
[37:24.200 --> 37:28.960]  PLXKL. Это один из случаев, в которые нам нужно.
[37:28.960 --> 37:37.120]  Вот. Профит. То есть если у меня эта точка лежала вне, то мы показали, что если
[37:37.120 --> 37:39.920]  есть какое-то пересечение, то обязательно есть другое, причем с другой стороной.
[37:39.920 --> 37:54.880]  Окей? Так. Ну тогда давайте еще рассмотрим случай, когда она лежит внутри. In. А эти лежат вне. Out.
[37:54.880 --> 38:07.120]  Ну, начало такое же, что у меня есть какой-то отрезок PKPL, который пересекает эту сторону по
[38:07.120 --> 38:11.840]  мясу. То есть если мы начали вне, закончили вне и при этом когда-то зашли внутрь треугольника,
[38:11.840 --> 38:15.840]  то, значит, здесь есть еще какая-то другая сторона, которая пересекает нашу сторону
[38:15.840 --> 38:26.800]  по IPJ. Так. А здесь мы начинаем внутри, заканчиваем снаружи. Да, здесь есть какая-то опять точка внутри.
[38:26.800 --> 38:45.440]  Сейчас. Moment, moment, moment. Вот это, да? Да. Ну,
[38:45.520 --> 38:50.480]  если рассмотреть эту сторону, то действительно у нас концы, один конец вне, другой конец внутри,
[38:50.480 --> 38:54.960]  значит где-то есть точка пересечения, и это не вот с этим отрезком, потому что этот отрезок мы
[38:54.960 --> 38:59.760]  поняли, с кем он пересекается. Значит, эта сторона должна пересекаться с одной из двух оставшихся,
[38:59.760 --> 39:07.680]  ну, например, PKXKL. Здесь есть точка пересечения. То есть если мы были внутри и вне, значит где-то
[39:07.680 --> 39:12.440]  по дороге мы были на границе, то есть должна быть еще сторона треугольника отличная от вот
[39:12.440 --> 39:22.040]  этой вот, которая пересекается с нашей стороной PXJ. То, что надо. Ну вот, значит в итоге мы все
[39:22.040 --> 39:28.040]  доказали, что как бы ни распагались эти два треугольника, все вот эти условия одновременно
[39:28.040 --> 39:32.040]  выполняться не могут, потому что они ведут в противоречию к тому, что ячейки пересекаются по
[39:32.780 --> 39:43.960]  внутренности. Да, следствие, да? Значит, смотрите, мы, мы показали, что какие-то из этих двух
[39:43.960 --> 39:48.440]  отрезков пересекают, точнее, какой-то из них пересекается к каким-то из них. Причем по мясу
[39:48.440 --> 39:54.160]  пересекается. Ну, то есть по внутренним, по внутренним точкам. Но, смотрите, мы знаем, что вот
[39:54.160 --> 39:59.440]  этот интервал целиком лежит во внутренности этой ячейки. Этот интервал целиком лежит во
[39:59.440 --> 40:04.120]  внутренности житой ячейки. Ну, потому что как бы мы это доказывали, что x и g лежит на границе
[40:04.120 --> 40:09.720]  между p и pg, а pg лежит строго в своей ячейке, больше ни в какой. Соответственно, интервал между ними
[40:09.720 --> 40:14.280]  ближе всего находится только к житой ячейке и больше никому. Они лежат во внутренности. И, соответственно,
[40:14.280 --> 40:18.920]  если мы показали, что кто-то из них пересекается кем-то из них, то, ну, поскольку они все вложены в
[40:18.920 --> 40:23.680]  свои попарно различные ячейки диаграммы Воронова, мы тем самым показали, что какие-то две ячейки
[40:23.680 --> 40:28.480]  диаграммы Воронова, скажем, вот это и вот это, там it и lt, пересекаются по внутренности. У них
[40:28.480 --> 40:34.760]  есть общие точки, точнее, есть целый общий интервал, точнее, не так, есть точка на интервалах,
[40:34.760 --> 40:40.480]  которая лежит и там и там. Соответственно, есть точка, лежит во внутренности здесь и здесь. Вот это
[40:40.480 --> 40:50.120]  быть не может. Ну все, отлично. У нас уже есть факт, что это граф плоский. Это уже неплохо.
[40:59.480 --> 41:10.160]  Что здесь ребра, крайней мере, не пересекаются. Вот, значит, давайте еще такое утверждение я напишу.
[41:10.160 --> 41:15.000]  Ну давайте напишу без доказательства. На самом деле, доказательства здесь тривиальные. Следует
[41:15.000 --> 41:26.040]  из того, что мы в прошлый раз делали. Во-первых, ребро P и Pg присутствует в графе Делане,
[41:26.040 --> 41:40.360]  так, присутствует в графе Делане, если и только если существует точка Q,
[41:40.360 --> 41:59.000]  лежащая на серпере между ними. Такая, что C от Q содержит на границе P и Pg и больше никого не
[41:59.000 --> 42:08.320]  содержит. Этим утверждением мы только что пользовались. Мы сказали, что если есть какое-то
[42:08.320 --> 42:13.480]  ребро, то есть точка на серпере, такая, что пустой круг с центра вниз содержит ровно эти две точки и
[42:13.480 --> 42:20.640]  больше никого. И это просто, собственно, факт с прошлой лекции, что если две диаграммы пересекаются,
[42:20.640 --> 42:24.680]  точнее две ячейки диаграммы пересекаются, если только если как раз есть точка на серпере,
[42:24.680 --> 42:33.200]  содержащая только эти две. Вот второй факт тоже следует почти немедленно из прошлой, значит,
[42:33.200 --> 42:54.640]  с прошлой штуки. Три сайта P и Pg и Pg лежат в одной грани графа Делане, если и только если
[42:54.640 --> 43:03.360]  существует Q, такая, что пустой круг с центром в ней содержит на границе эти три точки.
[43:03.360 --> 43:25.040]  Вот, то есть грани нашего графа, ну и сейчас я уже могу говорить слова грани, потому что мы
[43:25.040 --> 43:28.360]  доказали, что граф плоский, значит, собственно, там у него выделяются грани как-то однозначные,
[43:28.360 --> 43:35.000]  все нормально. Значит, вот грани определяются так же, как вершины в диаграмме Воронова,
[43:35.000 --> 43:39.960]  что мы говорили, что точка Q — это вершина диаграммы Воронова, если только если ее пустой круг
[43:39.960 --> 43:43.920]  содержит хотя бы три точки на границе. Ну и здесь, соответственно, три точки попадают в одну грань,
[43:43.920 --> 43:48.520]  если только если есть, собственно, вершины диаграммы Воронова, содержащие их на, ну как бы,
[43:48.520 --> 43:58.440]  равнодаленные от этих от этих точек. Вот, значит, что отсюда следует? Отсюда следует,
[43:58.440 --> 44:04.280]  на самом деле, что любая грань графа Делане — это еще не обязательно треугольник, но это,
[44:04.280 --> 44:20.720]  по крайней мере, точно вписанный многоугольник. Любая грань графа Делане — это вписанный в окружность
[44:20.720 --> 44:43.560]  выпуклый многоугольник. Ну потому что, что такое грань? Это несколько точек, такие,
[44:43.560 --> 44:48.120]  что, соответственно, любые три из них имеют какой-то общий центр. Значит, понятно, что это тогда
[44:48.120 --> 44:54.160]  точка Q общая для всех, ну потому что, собственно, это круг, содержащий эти три точки, значит,
[44:54.160 --> 44:58.880]  как бы, все остальные на этом же круге должны лежать. То есть, собственно, у меня есть некий круг,
[44:58.880 --> 45:08.640]  на котором, собственно, лежат все точки какой-то одной одной грани. Его центр — это очередная
[45:08.640 --> 45:12.200]  вершина диаграммы Воронова, ну и, собственно, весь этот многоугольник — это очередная грань.
[45:12.200 --> 45:18.520]  Ну просто потому что они равно удалены от одной и той же точки, значит, собственно, получается,
[45:18.520 --> 45:33.760]  что это вписанный многоугольник. Ну и такое, собственно, довольно часто может получаться,
[45:33.760 --> 45:38.520]  довольно спокойно может получаться. В графе Деланы могут быть многоугольники, а не треугольники,
[45:38.520 --> 45:44.200]  ровно в этом случае, когда есть у вас несколько точек, там 4 или больше, которые лежат на одной
[45:44.200 --> 45:49.720]  окружности. Вот здесь я нарисовал там, не знаю, 6 точек, они лежат на одной окружности, и все они
[45:49.720 --> 45:57.200]  лежат, как бы, в одной грани графа Деланы. Это все одна грань графа Деланы. Окей, это был граф Деланы,
[45:57.200 --> 46:03.960]  а дальше я говорю следующее, чтобы определить триангуляцию Деланы, я беру граф Деланы и все
[46:03.960 --> 46:11.960]  его нетреугольные грани произвольным образом триангулирую. То есть вот у меня есть граф Деланы,
[46:11.960 --> 46:16.600]  в нем как бы, ну он плоский, мы это уже доказали, в нем есть какие-то такие грани, которые более
[46:16.600 --> 46:20.400]  чем треугольные. Вот давайте как угодно их триангулируем. Вот как хотим, так и триангулируем.
[46:20.400 --> 46:32.960]  Вообще как угодно, пофиг. Вот так например. Допределение. Триангуляция Деланы.
[46:32.960 --> 46:52.240]  Это, ну давайте я напишу произвольная триангуляция. Произвольная триангуляция. Продолжающая граф Деланы.
[46:52.240 --> 47:07.320]  Продолжающая граф Деланы. То есть мне нужно просто дотреангулировать все нетреугольные
[47:07.320 --> 47:28.480]  грани. Все нетреугольные грани. Вот. Почему у нас такая большая свобода выбора? Почему
[47:28.480 --> 47:34.640]  любую грань граф Деланы я позволяю себе триангулировать как угодно? По следующей причине,
[47:34.880 --> 47:39.640]  смотрите, у нас мотивация была такая, что мы хотим максимизировать минимальный угол. Мы хотим,
[47:39.640 --> 47:44.560]  чтобы минимальный среди всех углов, встречающихся в треугольниках, был как можно больше. Но вот я
[47:44.560 --> 47:49.080]  утверждаю, что если у вас есть вписанный в окружность многоугольник, то как бы вы его не
[47:49.080 --> 47:54.320]  триангулировали, у вас минимальный угол будет один и тот же. На самом деле нужно просто из этих
[47:54.320 --> 48:00.360]  дуг выбрать самую маленькую, посмотреть угол на нее опирающуюся, вот скажем, в этом случае
[48:00.360 --> 48:06.680]  будет, видимо, вот этот угол. И всегда будет, не буду доказывать, всегда будет, хотя бы,
[48:06.680 --> 48:12.920]  точнее не так, всегда будет угол, опирающийся на эту дугу, ну, значит, он будет как раз минимальным.
[48:12.920 --> 48:17.720]  То есть, потому что когда вы триангулировали, у вас любой угол опирается на некоторую дугу,
[48:17.720 --> 48:21.680]  и вот я утверждаю, что обязательно будет угол, опирающийся на минимальную дугу. Соответственно,
[48:21.680 --> 48:25.680]  поэтому тогда в любой триангуляции минимальный угол будет один и тот же, просто как опирающийся
[48:25.680 --> 48:30.440]  на самую маленькую дугу. Поэтому, как именно я триангулирую, неважно, давайте как-нибудь,
[48:30.440 --> 48:45.800]  вот как хотим, так и сделаем. Вот, да. Ну да, тут на самом деле в доказательстве надо где-то
[48:45.800 --> 49:04.100]  аккуратненько еще доказать, что... Ну да, да, да, да. То есть, вот на самом деле надо,
[49:04.100 --> 49:11.040]  окей, давайте тоже BD напишу. Вот. В том плане, что здесь в доказательстве мы по сути это как бы
[49:11.040 --> 49:15.280]  факты доказываем, что любая грань, то есть вот здесь в доказательстве мы на самом деле доказываем,
[49:15.280 --> 49:19.080]  что любая грань ровно так и выглядит, что есть некая точка, являющаяся вершиной диаграммы Воронова,
[49:19.080 --> 49:26.560]  и максимальный круг с центром в ней содержит все вершины этой грани. Это, собственно, как бы часть
[49:26.560 --> 49:41.520]  доказательств скорее. Так. Есть вопросы еще? Хорошо. Значит, вот мы триангуляцию определили.
[49:41.520 --> 49:48.160]  Теперь смотрите, значит, мораль. На текущий момент, что у нас есть? У нас есть алгоритм
[49:48.160 --> 49:54.560]  конструирования триангуляции Дилане. Мы сказали, что давайте построим диаграмму Воронова, проведем
[49:54.560 --> 50:02.160]  отрезки между сайтами, ячейки которых смежные, тем самым построили граф Дилане. Затем каждую
[50:02.160 --> 50:06.360]  нетриугольную грань дотреангулируем, получим триангуляцию Дилане. Значит, в этот момент у нас
[50:06.360 --> 50:13.360]  уже есть алгоритм построения триангуляции Зайн Логан. Зайн Логан. То есть просто строим
[50:13.360 --> 50:22.240]  диаграмму, по ней строим граф, по нему триангуляцию. Вот. Пока что в данный момент это какая-то
[50:22.240 --> 50:32.680]  рандомная триангуляция, просто какая-то, которую мы так построили. У нас все грань не благо выпуклая,
[50:32.680 --> 50:38.160]  и мы их можем очень легко триангулировать. Итак, в данный момент у нас есть какая-то
[50:38.160 --> 50:43.480]  триангуляция. Сейчас, в оставшем часть лекции, я буду доказывать, что в ней минимальный угол
[50:43.480 --> 50:49.960]  максимален. То есть алгоритм у нас уже есть, сейчас будем доказывать, что в ней минимальный угол максимально
[50:49.960 --> 51:10.040]  возможен. Теорема первых критерий. Триангуляция множества П является триангуляцией Диланы,
[51:10.040 --> 51:23.120]  если и только если выполнять следующее условие, что если я описываю окружность вокруг любого
[51:23.120 --> 51:31.600]  треугольника триангуляции, то в нем внутри нет никакого другого сайта. Если только есть любого
[51:31.600 --> 51:50.600]  треугольника триангуляции, его описанная окружность не содержит внутри себя других сайтов.
[51:50.600 --> 52:08.040]  На самом деле внутри себя просто сайтов, каких-либо. То есть чтобы проверить, что данная
[52:08.040 --> 52:11.880]  треангуляция является треангуляцией Диланы, мы просто можем вокруг каждого треугольника описать
[52:11.880 --> 52:17.160]  окружность. Вот есть там очередной треугольник в треангуляции. Я описываю вокруг него окружность
[52:17.160 --> 52:22.440]  и проверяю, что сюда никакие другие сайты не попали. На границу могут попасть, а во внутренности
[52:22.440 --> 52:36.360]  других сайтов быть не может. Так, доказательства. Ну давайте слева направо. Что такое треугольник
[52:36.360 --> 52:49.400]  триангуляции? Треугольник триангуляции Диланы это либо грань графа Диланы, либо кусок грань.
[52:49.400 --> 52:54.720]  Давайте возьмем случай, когда это был кусок грань. То есть у меня была какая-то грань графа Диланы,
[52:54.720 --> 53:08.640]  я в ней ее как-то треангулировал, получил очередной треугольник. Давайте рассмотрим какой-то
[53:08.640 --> 53:13.800]  конкретный треугольник треангуляции, который получается как треугольник внутри одной из
[53:13.800 --> 53:22.560]  граней. Мы знаем, что исходный многоугольник, с которого мы начали, это вписанный в окружность
[53:22.560 --> 53:28.200]  многоугольник, внутри которого никаких других сайтов нет. Потому что у нас есть теорема,
[53:28.200 --> 53:35.280]  которая утверждает, что центр этой описанной окружности это как раз такая точка, что минимальный
[53:35.280 --> 53:42.160]  круг с центра вниз содержит на своей границе только вершины этой грани и внутри себя больше
[53:42.160 --> 53:48.960]  никого не содержит. Значит, эта же окружность совпадает с окружностью описанного круга этого
[53:48.960 --> 53:54.800]  треугольника, и она никаких других сайтов внутри себя не содержит. Тут все просто.
[53:54.800 --> 54:08.640]  А давайте что-нибудь напишем. Пусть треугольник лежал в грани f графа Диланы,
[54:08.640 --> 54:38.040]  значит окружность описанная вокруг f не содержит сайтов внутри. Ну и эта окружность совпадает
[54:38.040 --> 54:43.960]  по вот той теореме, что максимальный круг с центром в этой точке q, которая является
[54:43.960 --> 54:48.120]  центром описанной окружности, никаких других сайтов не содержит. Ну и собственно эта окружность
[54:48.120 --> 54:53.560]  совпадает с окружностью описанного вокруг нашего треугольника. Доказали. То есть вокруг
[54:53.560 --> 54:56.640]  любого треугольника, если написать окружность, никаких сайтов внутри этой окружности нет.
[54:56.640 --> 55:20.640]  Окей. Так, ну теперь обратно. С права налево. Пусть верно вот это вот условие про окружность
[55:20.640 --> 55:32.320]  треугольника, почему тогда это треугольник Диланы. Ну из этого на самом деле можно сказать
[55:32.320 --> 55:36.880]  следующее, что любой треугольник вот этой вот треангуляции, произвольной которой у нас есть,
[55:36.880 --> 55:49.000]  он соединяет только вершины, лежащие в одной грани графа Диланы. При этом условии любой
[55:49.000 --> 56:12.040]  треугольник треангуляции соединяет вершины одной грани графа Диланы. Ну потому что если у
[56:12.040 --> 56:17.720]  меня есть некий треугольник, то есть по сути есть просто три точки p и p g p k такие, что если я
[56:17.720 --> 56:22.400]  нарисую описанную окружность, то больше никаких точек внутри этого круга нет. Ну значит,
[56:22.400 --> 56:28.280]  просто по вот этому вот факту они лежат в одной грани графа Диланы. Да, у нас есть факт, как раз
[56:28.280 --> 56:33.400]  говоря еще, что три сайта лежат в одной грани, если и только если как раз-таки круг какой-то есть,
[56:33.400 --> 56:37.800]  который содержит только их на границе и больше никого внутри. Ну собственно, ровно это нам и
[56:37.800 --> 56:42.680]  говорят, что в этом круге нет точек внутри, значит, собственно, эти как раз три точки лежат в одной
[56:42.680 --> 56:47.520]  грани графа Диланы просто по вот той теории. Получается, что все треугольники, которые мы
[56:47.520 --> 56:53.640]  строим, они не противоречат графу Диланы, то есть мы соединяем треугольниками только вершины,
[56:53.640 --> 56:59.760]  только сайты, лежащие в одной грани. Значит, ребер противоречащим графу Диланы мы не проводим,
[56:59.760 --> 57:04.120]  мы проводим только ребр, как бы согласующий с графом Диланы, а значит мы просто строили
[57:04.120 --> 57:15.600]  и эвокуют реангуляцию, ну поэтому это и есть реангуляция Диланы. Значит, не проводятся ребра,
[57:15.600 --> 57:34.560]  ребра, не лежащие, ну точнее как бы противоречащие, да, противоречащие графу Диланы. Значит,
[57:34.560 --> 57:50.520]  мы имеем реангуляцию Диланы. Значит, еще раз мы показали, что любой треугольник целиком лежит
[57:50.520 --> 57:55.240]  в какой-то грани. Ну, то есть у нас есть какая-то реангуляция, которая является под реангуляцией
[57:55.240 --> 57:59.280]  графа Диланы, поэтому это по определению просто реангуляция Дилана.
[57:59.280 --> 58:24.280]  Так. Едем дальше. Значит, что нам нужно, нам нужно теперь сделать. Смотрите.
[58:24.280 --> 58:33.320]  Давайте, давайте определение мы делаем. Значит, определение. Операция флип,
[58:33.320 --> 58:46.440]  операция флип-ребра. По-английски, соответственно, edge flip, edge flip.
[58:46.440 --> 58:56.240]  Значит, следующая картинка. Представьте себе, что у вас были, сейчас, были два треугольника,
[58:56.240 --> 59:04.200]  разделяющие общую сторону. Вот представьте, что у вас есть какая-то реангуляция, в ней есть два
[59:04.200 --> 59:09.440]  треугольника, разделяющие общую сторону. Тогда edge flip, это когда вы берете вот эту вот их общую
[59:09.440 --> 59:19.920]  сторону и перекладываете на противоположную. Делаете вот так. То есть вы удаляете их общую
[59:19.920 --> 59:25.760]  сторону и кладете ее, ну как бы, в другие вершины. То есть по сути меняете диагональ в этом
[59:25.760 --> 59:34.600]  четырехугольнике. Это называется edge flip. Ну, это можно сделать только если, если объединение двух
[59:34.600 --> 59:37.920]  исходных треугольников было выпуклым многоугольником, ну выпуклым четырехугольником,
[59:37.920 --> 59:41.600]  потому что если не выпукло, то вы просто другую диагональ положить не можете на самом деле. Вот,
[59:41.600 --> 59:47.800]  ну давайте считать, что только для выпуклых четырехугольников мы это можем делать. Вот,
[59:47.800 --> 59:57.480]  значит, это edge flip. Мы будем говорить тогда, что edge flip полезный или ребро после операции
[59:57.480 --> 01:00:02.960]  становится легальным, значит, если увеличивается минимальность углов. Значит, наша задача была
[01:00:02.960 --> 01:00:07.520]  какая? Наша задача это максимизировать минимальный угол. Тогда вот давайте я все вот эти углы померю,
[01:00:07.520 --> 01:00:13.520]  давайте напишу альфа один, альфа два, альфа три, альфа четыре, альфа пять, альфа шесть. Здесь там
[01:00:13.520 --> 01:00:23.440]  бета один, бета два, бета три. Я произвольным образом их нумерую, неважно как. Мы говорим,
[01:00:23.440 --> 01:00:40.200]  что ребро и жир нелегально, если после edge flip у вас минимум строго увеличивается. То есть,
[01:00:40.200 --> 01:00:51.680]  если минимум по всем альфам меньше минимума по всем бетам. Так, плохо писать, и давайте я
[01:00:51.680 --> 01:01:03.840]  напишу какой-нибудь, не знаю, s. Здесь напишу какой-нибудь t. То есть, это такой способ локально
[01:01:03.840 --> 01:01:09.320]  увеличить минимальный угол. То есть, есть там вся внешняя часть нашей триангуляции, там есть
[01:01:09.320 --> 01:01:14.120]  какие-то еще треугольники, в них есть какие-то свои углы. Но вот если мы можем здесь локально поменять
[01:01:14.120 --> 01:01:20.640]  ребро на противоположное и при этом увеличить минимум среди встречающихся углов, то мы тогда
[01:01:20.640 --> 01:01:25.400]  говорим, что нам нужно это сделать. Исходное ребро нелегально, то есть его нужно насильно флипнуть,
[01:01:25.400 --> 01:01:31.320]  чтобы увеличить минимум. Это очень естественная штука. Мы как бы хотим максимизировать минимум,
[01:01:31.320 --> 01:01:36.400]  давайте его пытаться максимизировать локально. Возьмем 20 средних треугольника. Если мы можем
[01:01:36.400 --> 01:01:41.000]  здесь очень просто флипнуть всего одно ребро, увеличить минимум, тогда говорим, что такое
[01:01:41.000 --> 01:01:50.960]  ребро нелегально, его как бы нужно флипнуть, чтобы увеличить минимум. Вот. Это определение нелегального
[01:01:50.960 --> 01:01:54.480]  ребра. Соответственно, легальное это когда, наоборот, когда здесь значок будет больше
[01:01:54.480 --> 01:02:00.480]  либо равно, когда флип не улучшает ситуацию. Это легальное нелегальное ребро. Ну, давайте
[01:02:00.480 --> 01:02:17.600]  напишем прям тупо. Ребро легально, если оно не нелегально. И наконец, треангуляция легальна,
[01:02:17.600 --> 01:02:28.640]  треангуляция легальна, если все ребра нелегальны.
[01:02:47.600 --> 01:03:15.600]  Так, давайте простое утверждение. Пусть в треангуляции есть треугольники PIPGPK и PIPGPL,
[01:03:15.600 --> 01:03:25.360]  соответственно, это треугольники треангуляции. Тогда утверждаю, что ребро PIPG легально,
[01:03:25.360 --> 01:03:39.480]  ребро PIPG легально, если только если выполнять следующее условие. Окружность, описанная вокруг
[01:03:39.600 --> 01:03:53.120]  первого треугольника, не содержит PL в своей внутренности. Окружность вокруг PIPGPK не содержит
[01:03:53.120 --> 01:04:19.840]  внутри себя точку PL. Вместо того, чтобы мерить 6 углов, мы можем проверить легальность или
[01:04:19.840 --> 01:04:25.840]  нелегальность ребра с помощью принадлежности точки кругу. То есть мы построили круг по трём вершинам,
[01:04:25.840 --> 01:04:31.120]  проверили, лежит ли четвёртая точка в этом круге, да или нет. Если да, то значит ребро нелегально,
[01:04:31.120 --> 01:04:37.280]  если нет, то значит ребро легально. Так, ну давайте нарисуем этот самый круг. Вот есть у меня
[01:04:37.280 --> 01:04:52.760]  треугольник PIPGPK. Значит, если точка PL внезапно попала внутрь круга, внезапно попала внутрь круга,
[01:04:52.760 --> 01:04:58.320]  то есть картинка у меня исходно была вот такая, тогда давайте посмотрим, что меняется после того,
[01:04:58.320 --> 01:05:09.640]  как я это ребро флипаю. У меня остаётся, давайте окружность оставим. Есть PL, так, это ребро пропадает,
[01:05:09.640 --> 01:05:15.680]  то есть я флипаю ребро ИЖ, у меня появляется вот такое вот ребро. Тогда я утверждаю, что минимальный
[01:05:15.680 --> 01:05:26.520]  вырос. Ох, сейчас, одну секунду, как будет доказать.
[01:05:45.680 --> 01:06:12.240]  Ну, видимо, мне придётся провести вот такие вот все прямые. Как-то так. Вот, значит, ну и здесь надо
[01:06:12.240 --> 01:06:18.320]  просто померить все углы, как-нибудь их сравнить. Ну вот, смотрите, давайте, давайте, например, что это
[01:06:18.320 --> 01:06:25.360]  за угол? Угол PGPIPL. Он равен, по сути, градусной мере вот этой вот дуги, потому что он у неё опирается.
[01:06:25.360 --> 01:06:40.640]  Да, а если я перерисую это вот здесь вот, если я вот так вот перерисую, то, ну как бы понятно,
[01:06:40.640 --> 01:06:48.080]  что угол при этой вершинке вырос. Дальше, кто теперь опирается на эту дугу? Вот этот угол
[01:06:48.080 --> 01:06:54.040]  опирается на большую дугу, потому что угол PGPKPL опирается на большую дугу, потому что он содержит
[01:06:54.040 --> 01:06:59.040]  ещё вот этот кусочек. То есть он опирается вот на это плюс вот это. Вот этот угол больше вот этого.
[01:06:59.040 --> 01:07:05.560]  Что ещё можно, например, с чем сравнить можно? Ну, например, я хочу показать, что минимальный из двух
[01:07:05.560 --> 01:07:10.560]  этих углов меньше, чем все углы вот здесь. Ну, например, я показал, что этот угол больше,
[01:07:10.560 --> 01:07:18.520]  чем вот этот. Дальше, тоже самое, можем доказать, что этот угол, вот этот угол, больше, чем вот этот.
[01:07:18.520 --> 01:07:24.600]  Ну, это просто аналогично, этот угол опирается вот на такую дугу, а этот угол опирается вот на
[01:07:24.600 --> 01:07:30.640]  такую дугу, чуть побольше, содержащую ещё какой-то кусок. Ну, в общем, если аккуратно всё посмотреть
[01:07:30.640 --> 01:07:37.440]  здесь на все возможные углы, то можно заметить, что минимальный из вот этих вот опирается на
[01:07:37.440 --> 01:07:41.720]  какую-то такую дугу, а минимальный из вот этих опирается на дугу, содержащую, ну, как минимум,
[01:07:41.720 --> 01:07:47.040]  ещё что-нибудь. Из-за того, что точка PL лежала строго внутри нашей окружности, то получается,
[01:07:47.040 --> 01:07:51.800]  что как бы все дуги, на которые мы опираемся, они как бы только выросли. То есть вот к этой дуге
[01:07:51.800 --> 01:07:56.400]  приклеилась, по крайней мере, вот этот кусочек. К этой дуге приклеился, по крайней мере, вот этот
[01:07:56.400 --> 01:08:01.280]  кусочек. Поэтому все дуги только выросли, и, значит, минимальный из углов только вырос.
[01:08:01.280 --> 01:08:06.400]  Вот. Очень неформально, но для формальности здесь нужно просто аккуратно все углы посмотреть,
[01:08:06.400 --> 01:08:11.600]  понять, что, ну как бы, что, что минимальный из вот этих вот больше, минимальный вот там. Давайте
[01:08:11.600 --> 01:08:16.120]  я тогда, наверное, без заказательств это оставлю, потому что все случаи рассматривать не очень хочется,
[01:08:16.120 --> 01:08:27.480]  но идею я изложу. Вот. Ну и, соответственно, наоборот, если я нарисую случай, когда точка PL не
[01:08:27.480 --> 01:08:35.640]  лежит внутри этого круга, точка PL лежит вне этого круга, да, какая такая картинка, и попробую
[01:08:35.640 --> 01:08:42.240]  сделать флип, то я должен показать, что минимум, наоборот, не увеличится. Давайте сделаем флип,
[01:08:42.240 --> 01:08:57.520]  вот такой вот. Так, да, сделал флип. Почему это не выгодно? Почему минимум не увеличился точно?
[01:08:57.520 --> 01:09:02.840]  Начну, например, потому что вот здесь вот был угол какой-нибудь альфа, он опирался вот на эту
[01:09:02.840 --> 01:09:08.760]  дугу. А теперь на эту дугу опирается угол, ну, смотрите, вот эта же дуга, вот она здесь,
[01:09:08.800 --> 01:09:13.160]  и теперь, ну, как бы на неё если бы, если я бы взял какой-то вот такой угол, он бы на неё опирался,
[01:09:13.160 --> 01:09:19.160]  был бы равен альфа, а здесь эта точка лежит еще дальше, поэтому этот угол еще меньше. То есть,
[01:09:19.160 --> 01:09:23.440]  на самом деле, тут, как бы, нужен такой факт, что если, если мы опираемся на дугу, и точка
[01:09:23.440 --> 01:09:29.280]  лежит вне окружности, то этот угол меньше, чем если бы мы опирались на, на дугу и лежали бы на
[01:09:29.280 --> 01:09:33.840]  окружности, вот, поэтому этот угол будет меньше, чем альфа, ну, соответственно опять-таки, если
[01:09:33.840 --> 01:09:37.440]  аккуратно всё проанализировать то, на что мы опираемся, как бы, у меня, у меня дуги только
[01:09:37.440 --> 01:09:45.680]  сокращаются, наоборот, поэтому минимум может только уменьшиться. Вот, ну как-то на
[01:09:45.680 --> 01:09:52.720]  пальцах так. Что-то надо здесь еще пояснить? Вам не нравится, да?
[01:09:53.200 --> 01:09:56.960]  Ну, смотрите, давайте я такое утверждение сформулирую, которое
[01:09:56.960 --> 01:10:05.640]  здесь, собственно, оставляем полагающее. Что нам нужно делать? Вот пусть есть
[01:10:05.640 --> 01:10:11.200]  окружность, есть какая-то дуга АВ.
[01:10:12.760 --> 01:10:19.680]  Есть дуга АВ. Давайте рассмотрим три точки. Одна лежит внутри круга, другая на
[01:10:19.680 --> 01:10:28.000]  границе, а третья где-то вне. Тогда я утверждаю, что угол тем меньше, чем как бы
[01:10:28.000 --> 01:10:31.920]  дальше вы от круга. То есть, вот здесь вот угол максимальный среди этих трех,
[01:10:31.920 --> 01:10:37.360]  первый по величине, этот второй по величине, ну, в смысле, по, как бы, короче,
[01:10:37.360 --> 01:10:42.600]  этот самый большой, этот средний между ними, а этот самый маленький. Вот, ну,
[01:10:42.600 --> 01:10:50.960]  собственно, ровно это я здесь использую. Угол один, больше угла два, выше угла три.
[01:10:50.960 --> 01:11:10.480]  Так, ну, и теперь, наконец-то, мы готовы доказать второй критерий. Второй критерий.
[01:11:10.480 --> 01:11:18.240]  Триангуляция. Является триангуляция Дюанэ.
[01:11:23.880 --> 01:11:25.520]  Если и только если она легальна.
[01:11:31.520 --> 01:11:37.280]  Легальность, напоминаю, это значит легальность каждого ребра. То есть, что, если мы строим
[01:11:37.360 --> 01:11:43.200]  окруженность вокруг любого треугольника, то, как бы, вершина соседнего треугольника
[01:11:43.200 --> 01:11:59.120]  лежит вне этой окружности. Доказательство. Давайте вспомним первый критерий. Он говорит,
[01:11:59.120 --> 01:12:02.880]  что триангуляция является триангуляцией Дюанэ, если и только если окружность,
[01:12:02.880 --> 01:12:08.960]  описанная вокруг любого треугольника, не содержит вообще сайтов других никаких. А здесь я говорю,
[01:12:08.960 --> 01:12:13.680]  что окружность, описанная вокруг любого треугольника, не содержит, как бы, соседнего сайта,
[01:12:13.680 --> 01:12:17.520]  вершину соседнего треугольника. Понятно, что это условие только более слабое. То есть,
[01:12:17.520 --> 01:12:29.880]  в первом критерии мы показали, что триангуляция является триангуляцией Дюанэ. Если и только
[01:12:29.880 --> 01:12:41.560]  если окружность, описанная вокруг любого треугольника, не содержит других сайтов.
[01:12:51.120 --> 01:12:58.120]  А в легальности я говорю, что окружность вокруг любого треугольника не содержит вершину соседнего
[01:12:58.120 --> 01:13:03.000]  треугольника. То есть, здесь я показал, что вообще нет никаких сайтов. А в легальности я говорю,
[01:13:03.000 --> 01:13:10.200]  что нет сайта, как бы, вершины соседнего треугольника. Вот если я опишу окружность
[01:13:10.200 --> 01:13:16.840]  вокруг ПИ, ПЖПК, то у меня нет в этой окружности вершины вот этой вот ПЛ, соседнего треугольника.
[01:13:16.840 --> 01:13:22.360]  То есть, здесь я говорю, что нет вообще сайтов, здесь я говорю, нет одного конкретного. Ну тогда,
[01:13:23.280 --> 01:13:31.960]  слева направо вот эта вот стрелка очевидна. Очевидно, так как мы доказываем более слабые условия.
[01:13:31.960 --> 01:13:48.160]  Так как справа более слабые условия. Более слабые условия. Согласны? Вот, ну теперь справа налево нужно
[01:13:48.160 --> 01:13:55.040]  сделать. То есть, из легальности мне нужно показать вот это, что окружность вокруг любого треугольника
[01:13:55.040 --> 01:14:04.440]  вообще сайтов не содержит. Дальше мы пойдем от противного. То есть, пусть треангуляция легальна,
[01:14:04.440 --> 01:14:09.560]  но при этом есть треугольник такой, что внутри его описанной окружности есть какой-то другой сайт.
[01:14:09.560 --> 01:14:27.080]  Давайте что-нибудь нарисуем. Так, вот есть окружность, есть треугольник, ПИ, ПЖ, ПК. И внутри
[01:14:27.080 --> 01:14:33.400]  него, внутри этой окружности есть какой-то другой сайт, не являющийся при этом вершиной соседнего
[01:14:33.400 --> 01:14:37.880]  треугольника. То есть, она легальна, но не вот такая. То есть, здесь есть кто-то, давайте какой-нибудь
[01:14:37.880 --> 01:14:43.360]  ПЛ, не являющийся вершиной соседнего треугольника. А вершина соседнего треугольника, нормально,
[01:14:43.360 --> 01:14:50.120]  она вне окружности. То есть, картинка какая-то вот такая примерно. Есть два соседних треугольника,
[01:14:50.120 --> 01:14:57.360]  ПИ, ПЖ, ПК и ПИ, ПЖ, ПМ. Все нормально, то есть, эта ребра легальна в том смысле, что если я проведу
[01:14:57.360 --> 01:15:02.640]  такую окружность, то ПМ будет вне этой окружности, но она не вот такая. То есть, в этом круге кто-то
[01:15:02.640 --> 01:15:09.080]  есть. Вот есть какая точка ПЛ. Вот пусть есть такая конфигурация, мы сейчас перейдем к противоречию.
[01:15:09.080 --> 01:15:25.360]  Значит, понятно, что точка ПЛ... Давайте еще раз нарисую это самое, без ПМ только. Вот есть такой
[01:15:25.360 --> 01:15:33.400]  треугольник ПИ, ПЖ, ПК. Здесь есть точка ПЛ. Понятно, что точка ПЛ не лежит в этом треугольнике,
[01:15:33.400 --> 01:15:39.280]  но потому что у меня есть треангуляция, то все треугольники сайтов не содержат, они только вершинами
[01:15:39.280 --> 01:15:44.640]  могут выступать сайты. Значит, ПЛ лежит в одном из трех секторов. Либо в этом, либо в этом, либо вот
[01:15:44.640 --> 01:15:50.960]  и в этом. В этом случае получается вот этот сектор. Тогда давайте скажем, что точка ПЛ лежит в секторе
[01:15:50.960 --> 01:15:57.240]  ограниченным отрезком ПИ и ПЖ, не содержащем ПК. То есть, мы можем так переносить вершины,
[01:15:57.240 --> 01:16:10.160]  чтобы это было ровно ПИ и ПЖ. ПЛ лежит в секторе ограниченном ПИ и ПЖ, не содержащем ПК.
[01:16:10.160 --> 01:16:35.760]  Давайте скажем следующее. Из всех плохих ситуаций выберем ТУ.
[01:16:40.160 --> 01:16:55.120]  ТУ, у которой угол ПИ, ПЛ, ПЖ максимален. То есть, мы идем от противного, говорим, что треангуляция
[01:16:55.120 --> 01:17:02.480]  легальна, но при этом у нас есть какие-то окружности, содержащие другие сайты. Давайте возьмем тогда
[01:17:02.480 --> 01:17:07.440]  из всех вот таких возможных плохих ситуаций, что окружность вокруг кого-то треугольника содержит
[01:17:07.440 --> 01:17:13.320]  какой-то сайт. ТУ, то есть, тот набор ПИ, ПЖ, ПК, ПМ, для которого вот этот угол максимально
[01:17:13.320 --> 01:17:17.720]  возможен. Вот этот угол максимально возможен. Понятно, что в таких конфигурациях конечное
[01:17:17.720 --> 01:17:22.920]  количество, поэтому максимум я точно всегда могу найти. Вот из всех таких плохих конфигураций выберем
[01:17:22.920 --> 01:17:27.960]  именно тот треугольник ПИ, ПЖ, ПК и ТУ точку ПЛ, для которой угол максимально возможен.
[01:17:27.960 --> 01:17:40.120]  Вот. Тогда утверждаю следующее, что окружность, описанная вокруг
[01:17:40.120 --> 01:17:51.960]  треугольника ПИ, ПЖ, ПМ, целиком содержит
[01:17:51.960 --> 01:18:10.520]  сектор С. Давайте я скажу, что это С. Я утверждаю, что если я нарисую окружность вокруг этих трех
[01:18:10.520 --> 01:18:16.440]  точек ПИ, ПЖ, ПМ, то в ней будет целиком лежать этот сектор. То есть, я нарисую такую окружность,
[01:18:16.440 --> 01:18:30.600]  вот на этой картинке. Рисую окружность. Здесь целиком этот сектор лежит. Почему это понятно?
[01:18:30.600 --> 01:18:38.480]  Вопрос, зачем нам это нужно. Смотрите, если мы докажем, что эта окружность целиком содержит
[01:18:38.480 --> 01:18:45.000]  внутри себя этот сектор, то тогда получится, что на самом деле этот угол ПМ, ПЛ, ПЖ будет
[01:18:45.000 --> 01:18:50.160]  еще больше, чем вот этот предыдущий максимальный. Потому что, как бы, раз точка ПЛ лежит опять-таки
[01:18:50.160 --> 01:18:55.360]  внутри этого круга, если мы весь сектор содержим, то мы содержим и ПЛ, получается, что у меня опять есть
[01:18:55.360 --> 01:19:00.920]  противоречие для треугольника ПИ, ПМ, ПЖ и точка ПЛ, которая лежит внутри него, внутри круга,
[01:19:00.920 --> 01:19:05.360]  точнее, внутри этого круга. И этот угол будет еще больше, потому что он будет опираться на еще
[01:19:05.360 --> 01:19:10.800]  большую дугу, потому что он просто равен сумме угла ПИ, ПЛ, ПЖ и угла ПИ, ПЛ, ПМ. То есть,
[01:19:10.800 --> 01:19:17.520]  угол только увеличится, и мы получим противоречие с тем, что исходный угол максимальный. Сначала
[01:19:17.520 --> 01:19:34.280]  докажем, почему это верно. Здесь мне нужна будет такая картинка. Смотрите, что я утверждаю.
[01:19:34.280 --> 01:19:39.680]  Утверждается следующее. Вот есть у меня некий отрезок ПИ, ПЖ. Давайте я нарисую прямо полуплоскость
[01:19:39.680 --> 01:19:46.960]  целиком вот эту вот. То есть, я рассматриваю полуплоскость, не содержащую ПК. Здесь построена какой-то
[01:19:46.960 --> 01:19:53.440]  сектор, какая-то дугая окружность. Я знаю, что внутри этого сектора лежит ПЛ, по предположению, а вне
[01:19:53.440 --> 01:20:00.920]  него ПМ. И я утверждаю, что если я нарисую окружность, проходящую через ПИ, ПЖ, ПМ, то у меня
[01:20:00.920 --> 01:20:04.080]  оно только вырастет, и весь этот сектор будет по-прежнему целиком содержаться. То есть, окружность
[01:20:04.080 --> 01:20:12.160]  будет какая-то вот такая. И этот сектор будет содержаться. Это очень простой факт, который на
[01:20:12.160 --> 01:20:18.240]  самом деле следует из следующего. Если вы фиксировали две точки ПИ, ПЖ и рассматриваете
[01:20:18.240 --> 01:20:22.960]  множество точек, из которых данный отрезок виден под данным углом, то вы получите как раз дугу
[01:20:22.960 --> 01:20:28.400]  окружности. По крайней мере, внутри этой полуплоски вы получите дугу окружности. И чем больше этот самый
[01:20:28.400 --> 01:20:37.440]  угол, тем ближе эта дуга окружности будет к отрезку ПИ, ПЖ. То есть, вот скажем, из этих вот точек
[01:20:37.440 --> 01:20:42.320]  отрезок виден под углом 180 градусов, из этих точек там чуть-чуть меньше, чем 180 и так далее,
[01:20:42.320 --> 01:20:47.840]  и так далее. Чем больше ваш угол, тем выше будет эта дуга. Соответственно, вот это вот множество
[01:20:47.840 --> 01:20:53.160]  точек. Это множество точек, из которых данный отрезок виден под углом больше равно, чем какой-то
[01:20:53.160 --> 01:21:01.160]  альфа. А вот здесь вот, для большей окружности, это множество точек, из которых данный отрезок
[01:21:01.160 --> 01:21:07.240]  виден под углом больше, чем какая-то бета, которая меньше, чем альфа. Поэтому этот сектор содержит
[01:21:07.240 --> 01:21:15.800]  внутри себя. Еще раз. Я пользуюсь следующим утверждением, что если у меня фиксированы две точки ПИ, ПЖ,
[01:21:15.800 --> 01:21:24.120]  полуплоскость относительно этой прямой какая-то и число альфа, то геометрическое место точек,
[01:21:24.120 --> 01:21:29.160]  из которых данный отрезок виден под углом больше равно, чем альфа, это некий сектор
[01:21:29.160 --> 01:21:38.040]  на этих двух точках ПИ, ПЖ. Соответственно, чем меньше это альфа, тем больше у вас множество точек.
[01:21:38.040 --> 01:21:42.760]  То есть, вот здесь вот, из всех этих точек данный отрезок виден под углом хотя бы альфа. Соответственно,
[01:21:42.760 --> 01:21:47.040]  если вы уменьшаете альфу, у вас окружность увеличивается. Ну, собственно, ровно это здесь и происходит.
[01:21:47.040 --> 01:21:51.680]  Был некий сектор, то есть множество точек, из которых данный отрезок виден под углом хотя бы альфа.
[01:21:51.680 --> 01:21:56.440]  Вы взяли точку вне этого сектора, провели окружность, значит, соответственно, все, что в этой окружности,
[01:21:56.440 --> 01:22:02.440]  это те точки, из которых это видно под еще меньшими углами. То есть, все больше подходят,
[01:22:02.440 --> 01:22:07.240]  и несколько еще меньше добавилось. Поэтому внутренний сектор С вы содержите точно внутри себя.
[01:22:07.240 --> 01:22:21.320]  Окей? Вот. Ну все, значит, это есть. Дальше, проговорю опять, что осталось. Дальше, значит, тогда,
[01:22:21.320 --> 01:22:32.600]  можно пишу еще что-нибудь? То есть, тогда получается, что PL лежит внутри окружности
[01:22:32.600 --> 01:22:44.440]  вокруг треугольника Pj, Pj, Pm. Ну это мы только что доказали, да, что если я построю вот такую
[01:22:44.440 --> 01:22:51.960]  окружность Pj, Pj, Pm, то PL будет внутри. Вот. Ну и тогда угол Pj, Pl, Pm будет только больше,
[01:22:51.960 --> 01:22:59.440]  чем угол Pj, Pl, Pj. Потому что он состоит из двух кусочков, и значит, он только вырастет. Да,
[01:22:59.440 --> 01:23:03.800]  получается, что мы нашли ситуацию, где этот угол еще больше противоречит с максимальностью вот здесь.
[01:23:03.800 --> 01:23:23.160]  Угол, так, давайте, Pj, Pl, Pm больше, чем угол Pe, Pl, Pj. Противоречит с максимальностью этого угла.
[01:23:31.640 --> 01:23:32.760]  Противоречит с максимальностью.
[01:23:34.800 --> 01:23:45.560]  Похож на правду? Ну, тут надо, на самом деле, аккуратно тогда еще сказать. То есть,
[01:23:45.560 --> 01:23:53.880]  надо опять, опять точка PL лежит как бы либо здесь, либо в этом секторе, либо в этом секторе. Если
[01:23:53.880 --> 01:24:00.840]  она в этом секторе, да, блин. Короче, если она в этом секторе, то есть, по ту же сторону,
[01:24:00.840 --> 01:24:05.600]  ну, точнее, по другую сторону от Pj, Pm, что точка Pi по другую сторону, то получается, что этот угол
[01:24:05.600 --> 01:24:10.680]  равен как раз сумме вот этого и вот этого. А если PL вот здесь вот, то я тогда буду измерять угол
[01:24:10.680 --> 01:24:15.600]  Pe, Pl, Pm, вот этот угол, и он составляется из вот этого и вот этого. И как раз один из них — это как
[01:24:15.600 --> 01:24:25.400]  раз исходный Pe, Pj, Pl. Вот. Ну, чуть-чуть не успели. Короче, все, давайте тогда закончим. Еще
[01:24:25.400 --> 01:24:30.920]  раз мораль. Легальность треангуляции — то же самое, что треангуляция делана. Что, значит,
[01:24:30.920 --> 01:24:35.440]  окружность вокруг любого треугольника не содержит соседних сайтов — это как раз треангуляция делана.
[01:24:35.440 --> 01:24:53.680]  Почему больше? Ну, давайте еще раз. Вот есть у меня Pe, Pj, Pl какой-то, есть Pm, вот такое примерно.
[01:24:53.680 --> 01:25:02.440]  Но тогда что такое угол Pe, Pj, Pl, Pm? Это угол Pe, Pj, Pl, Pi, плюс Pe, Pj, ну короче, плюс вот этот вот. То
[01:25:02.440 --> 01:25:07.760]  есть просто этот угол, вот этот, составлен из двух. Первый у второго, а первый — это как раз вот этот
[01:25:07.760 --> 01:25:24.720]  вот. Значит, он больше вот этого. Да. Ну, просто этот угол равен вот этому плюс еще что-то. То
[01:25:24.720 --> 01:25:33.920]  есть вот это плюс еще угол Pe, Pl, Pl. Поэтому он больше просто. Все, спасибо большое за внимание.
