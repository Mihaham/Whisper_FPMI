[00:00.000 --> 00:14.720]  Так, здравствуйте. Давайте заканчивать. Нам осталась последняя все эта треангуляция
[00:14.720 --> 00:32.200]  сделанная. Вот. Что-то такое, зачем это надо. Ну, смотрите, мотивация такая. Моделирование ландшафта.
[00:32.200 --> 00:43.320]  Представьте, что вы хотите в компьютере визуализировать какую-нибудь гору. Ну,
[00:43.320 --> 00:50.120]  или просто какой-нибудь интервьюальный рельеф. Понятно, что, наверное, на самом деле это рельеф,
[00:50.120 --> 00:54.520]  какая-то непрерывная функция. Скажем, если мы введем, если мы считаем землю плоской, если мы
[00:54.520 --> 01:01.280]  введем на плоскости систему координат и z направим наверх, то по факту рельеф характеризуется функцией
[01:01.280 --> 01:06.080]  из x, y в z. То есть, у нас над каждой точкой известен уровень, ну, как бы, уровень горы над этой точкой.
[01:06.080 --> 01:11.960]  Вот. Понятно, что физика это, наверное, что-то непрерывное. Понятно, что непрерывные вещи особо
[01:11.960 --> 01:16.400]  в компьютере представлять не умеем. Поэтому мы можем с какой-то достаточно хорошей точностью это
[01:16.400 --> 01:21.480]  дискретизировать, приблизить. Вот. Ну, и можно дискретизировать следующим образом. Значит, давайте
[01:21.480 --> 01:26.440]  вот представим, что у меня в каких-то точках известна высота этой горы. То есть, для
[01:26.440 --> 01:31.240]  нескольких точек x и y мне сказано, на каком уровне над уровнем моря в точке z находится вот гора.
[01:31.240 --> 01:40.280]  Ну, там, высота горы в этой точке. Вот. Давайте мы сделаем следующее. Значит, давайте мы на плоскости
[01:40.280 --> 01:48.400]  вот, то есть, в каких-то точках была померена высота. Давайте мы построим эти точки. Давайте
[01:48.400 --> 01:53.680]  дальше мы вот это вот семейство точек триангулируем. То есть, ну, порисуем здесь какие-то вот такие
[01:53.680 --> 02:02.600]  треугольнички, которые разобьют всё множество точек на какие-то вот такие вот фигурки. Дальше,
[02:02.600 --> 02:06.800]  смотрите, давайте каждую вершину каждого треугольника вот мы поднимем на ту высоту,
[02:06.800 --> 02:14.120]  на которой находится. У меня в каждой этой точке известна какая-то высота на уровне моря. Вот.
[02:14.120 --> 02:17.840]  Ну и тогда, соответственно, каждый треугольник с плоскости поднимется, станет каким-то треугольником
[02:17.840 --> 02:22.880]  в пространстве. Возможно, наклоненным. Вот такой, вот такой будет какой-нибудь вот такой узенький
[02:22.880 --> 02:28.440]  треугольник. Ну, в общем, всякие такие треугольники, причем они будут именно с наклоном. У меня каждая
[02:28.440 --> 02:33.320]  вершина куда-то поднялась, у меня есть три точки в пространстве, я по ним могу провести плоскость.
[02:33.320 --> 02:38.460]  Соответственно, вот у меня получилась ну что-то такое какая-то возможная дискритизация плоскости.
[02:38.460 --> 02:44.080]  Я знаю, что в этих точках должна быть такая-то высота. Я просто через них провожу плоскость и скажу,
[02:44.080 --> 02:49.080]  что ну вот в этом районе я считаю просто как бы первой степенью приближения. Что у меня в этом
[02:49.080 --> 02:54.620]  районе проходит просто плоскость. Вот, если этих точек достаточно много, если у нас достаточно
[02:54.620 --> 03:00.340]  высокой степень дискритизации, то у нас получается ну вполне себе хорошее приближение. То есть,
[03:00.340 --> 03:03.020]  То есть мы считаем, что рельеф не непрерывный, а такой
[03:03.020 --> 03:04.020]  дискретный треугольный.
[03:04.020 --> 03:05.020]  Понятно?
[03:05.020 --> 03:10.300]  Ну, соответственно, нам хотелось бы вот как-то
[03:10.300 --> 03:13.660]  вот здесь, если все точки на плоскость спроектировать,
[03:13.660 --> 03:18.300]  если забыть Z координату, то нам хотелось бы вот здесь
[03:18.300 --> 03:19.780]  как-то триангулировать, чтобы потом можно было
[03:19.780 --> 03:20.780]  бы поднять.
[03:20.780 --> 03:21.780]  Вот такая мотивация.
[03:21.780 --> 03:26.460]  Отсюда же, например, возникает следующая идея, какую из
[03:26.460 --> 03:28.620]  триангуляций нам хотелось бы выбирать.
[03:28.660 --> 03:30.720]  Ну представьте, вот давайте я эту плоскость разверну
[03:30.720 --> 03:31.840]  на плоскость доски.
[03:31.840 --> 03:34.180]  Представьте, что у меня известна какие-то такие
[03:34.180 --> 03:35.180]  данные.
[03:35.180 --> 03:37.920]  Вот здесь был какой-то горный хребет,
[03:37.920 --> 03:41.040]  и в этих точках, скажем на этой прямой, мне известно,
[03:41.040 --> 03:42.800]  что высота какой-нибудь очень большая.
[03:42.800 --> 03:43.820]  А здесь ноль.
[03:43.820 --> 03:46.180]  Здесь море, здесь ноль.
[03:46.180 --> 03:50.140]  То есть есть какой-нибудь такой узенький горный хребет
[03:50.140 --> 03:53.620]  высокий, который с двух сторон окружен равниной
[03:53.620 --> 03:54.780]  или морем.
[03:54.780 --> 03:57.020]  Нам известно, что у всех этих точек высота над уровнем
[03:57.020 --> 03:59.340]  море ноль, здесь ноль, а здесь в основном уровне
[03:59.340 --> 04:00.340]  моря тысяча.
[04:00.340 --> 04:04.860]  Ну и если это дискретизировать, треангулировать, то наверное
[04:04.860 --> 04:06.380]  хотелось бы что-то вот такое вот сделать.
[04:06.380 --> 04:11.460]  Наверное, это было бы хорошо, то есть примерно у нас тогда
[04:11.460 --> 04:15.980]  было бы, что у нас вся гора выглядит как вот такие
[04:15.980 --> 04:19.900]  вот треугольники как раз со стрием здесь и уходящие
[04:19.900 --> 04:22.020]  на плоскость вот здесь, то есть вот такие треугольники
[04:22.020 --> 04:23.020]  были.
[04:23.020 --> 04:25.980]  Вот, это хорошая треангуляция, а плохая треангуляция была
[04:25.980 --> 04:29.140]  бы такая, где, например, ну давайте я сам в плохой
[04:29.140 --> 04:32.380]  случае нарисую, где, например, что-нибудь вот такое было
[04:32.380 --> 04:33.380]  бы треугольником.
[04:33.380 --> 04:37.020]  То есть представьте, у меня вот эти три точки являются
[04:37.020 --> 04:38.820]  треугольником треангуляции.
[04:38.820 --> 04:41.980]  Тогда, поскольку у меня эти точки находятся в плоскости
[04:41.980 --> 04:45.220]  просто z равна нулю, у них восстановливая, то если
[04:45.220 --> 04:46.940]  я здесь что-то треангулирую, у меня получается, что у
[04:46.940 --> 04:48.700]  меня в этом горном хребте есть какая-то там такая
[04:48.700 --> 04:51.460]  дырка, не знаю, как это на русском называется.
[04:51.460 --> 04:59.180]  Ну типа вот у вас был горный-горный хребет, потом такой обвал
[04:59.180 --> 05:01.260]  и потом он обратно вернулся, это вот как раз такой провал
[05:01.260 --> 05:04.780]  соответствует тому, что вот с высота z равна нулю.
[05:04.780 --> 05:05.780]  Это странно.
[05:05.780 --> 05:07.980]  Чем этот плох треугольник?
[05:07.980 --> 05:10.540]  Значит он плох тем, например, что у него вот этот угол очень
[05:10.540 --> 05:11.540]  маленький.
[05:11.540 --> 05:15.620]  То есть можно по-разному говорить, чем этот треугольник
[05:15.620 --> 05:18.300]  плох, но в частности он такой очень узкий, очень тонкий,
[05:18.460 --> 05:20.460]  то есть у него вот этот угол очень маленький и ну
[05:20.460 --> 05:22.620]  какой-то он совсем дохленький.
[05:22.620 --> 05:24.500]  Нам хотелось бы, чтобы треугольники были, наоборот, вот такие
[05:24.500 --> 05:27.860]  толстые, примерно равносторонние, то есть наш идеал равносторонние
[05:27.860 --> 05:31.020]  треугольники, тогда мы как раз, грубо говоря, точки
[05:31.020 --> 05:33.260]  больше всего друг на друга похожи и они как раз нам
[05:33.260 --> 05:35.380]  максимально близко друг к другу высоте, ну можно
[05:35.380 --> 05:36.380]  было бы ожидать.
[05:36.380 --> 05:39.780]  Поэтому наша цель была бы сделать так, чтобы вот
[05:39.780 --> 05:41.300]  эти углы все были как можно больше.
[05:42.300 --> 05:45.300]  А чем отличается точка с левой точкой?
[05:45.300 --> 05:49.660]  Ничем, ничем, ну просто вот у вас есть, не, еще раз
[05:49.660 --> 05:52.220]  смотрите, вот пусть реальный мир такой, у вас есть горный
[05:52.220 --> 05:56.300]  хребет узенький, узенький, высокий, вот он, а здесь
[05:56.300 --> 06:03.020]  с обеих сторон от него равнина, ага, вот, значит
[06:03.020 --> 06:07.140]  тогда, ну одна из версий, которую можно было бы рассматривать
[06:07.140 --> 06:14.100]  это следующее, значит среди всех треангуляций, хотел
[06:14.100 --> 06:17.620]  бы найти такую, у которой, скажем, минимальный из, среди
[06:17.620 --> 06:19.900]  всех углов всех треугольников максимально возможен.
[06:19.900 --> 06:33.820]  Который минимальный среди всех углов треугольников,
[06:33.820 --> 06:50.300]  максимально возможен, вот, ну собственно, значит,
[06:50.300 --> 06:53.100]  это мы и будем хотеть делать, это в частности достигается
[06:53.100 --> 06:54.100]  над реангуляцией деланой.
[06:54.100 --> 06:55.100]  Понятно?
[06:55.100 --> 07:01.180]  Хорошо, ну давайте начнем с того, что такое вообще
[07:01.660 --> 07:05.780]  Ну, значит, пусть, С это какой-то множество точек, а конечный
[07:05.780 --> 07:14.700]  множество точек в R2, значит тогда, треангуляция множества
[07:14.700 --> 07:26.820]  С, это совокупность треугольников, вершинами которых выступают
[07:26.820 --> 07:30.940]  какие-то точки С, и которые при этом, если пересекаются,
[07:30.940 --> 07:34.180]  пересекаются по общему ребру или по общей вершине.
[07:34.180 --> 07:39.100]  Значит, ну давайте напишу так, максимальная совокупность
[07:39.100 --> 07:58.580]  треугольников с вершинами в точках С, пересекающихся
[07:58.580 --> 08:14.900]  по общим ребрам или по общим вершинам, ну или по включению
[08:14.900 --> 08:21.020]  неважно, по умолчанию, по включению, да, так, пересекающие
[08:21.020 --> 08:27.940]  по общим ребрам или по общим вершинам, вот, то есть пример
[08:27.940 --> 08:32.820]  что такое плохая, ну хорошие треангуляции я уже рисовал
[08:32.820 --> 08:38.380]  вот там, вот, например, вот такая штука была бы плохой
[08:38.380 --> 08:43.300]  треангуляции, то есть если у меня вот здесь вот точки,
[08:43.300 --> 08:47.060]  я вот нарисовал такую совокупность треугольников 1, 2, 3, то это
[08:47.060 --> 08:49.060]  плохая треангуляция, потому что, скажем, вот этот вот
[08:49.060 --> 08:52.900]  большой треангульник пересекается вот с этим по куску своего
[08:52.900 --> 09:03.260]  ребра, да, но я и говорю, это не треангуляция, потому
[09:03.260 --> 09:07.580]  что надо на самом деле вот это ребро еще довести,
[09:07.580 --> 09:16.340]  вот, окей, ну, значит, есть какие-то простые факты,
[09:16.340 --> 09:20.220]  что если у вас есть данное множество С, то любая его
[09:20.420 --> 09:23.500]  содержит данное это число ребер, данное число треугольников.
[09:23.500 --> 09:33.300]  Значит, пусть С содержит N вершин, при этом K из них
[09:33.300 --> 09:41.180]  лежат на границе выпуклой оболочки, при этом K точек
[09:41.180 --> 09:51.020]  лежат на границе выпуклой оболочки С.
[09:51.020 --> 10:10.780]  Значит, тогда в любой треангуляции множество С содержится
[10:10.780 --> 10:16.700]  2N-K-2 треугольника и 3N-K-3 ребра.
[10:16.700 --> 10:30.660]  Это я даже не буду включать, просто фан-фэкт.
[10:30.660 --> 10:42.060]  Не торопитесь, это любая, да, треангуляция делана
[10:42.060 --> 10:46.780]  сет-фэкт, вот, значит, ну, доказывается, доказывается
[10:46.780 --> 10:49.700]  очень просто, можно просто рассмотреть треангуляцию
[10:49.700 --> 10:54.620]  как граф, да, соответственно, точки С это вершины, ребра
[10:54.620 --> 10:57.220]  это ребра треугольников, грани это треугольники.
[10:57.220 --> 10:59.500]  Ну и дальше надо просто писать форму Лейлера, понятно,
[10:59.500 --> 11:01.380]  что граф связанный, потому что у нас максимальное
[11:01.380 --> 11:04.660]  множество треугольников, если не связан, то можно
[11:04.660 --> 11:06.500]  было бы что-то добавить, грубо говоря, чтобы увеличить
[11:06.500 --> 11:09.260]  число треугольников и дополнить связанность.
[11:09.260 --> 11:12.940]  Вот, каждая грань треугольная, поэтому грани примерно
[11:12.940 --> 11:17.300]  в полтора раза больше, чем ребер, да, потому что
[11:17.300 --> 11:20.900]  на каждой гране три ребра и каждое ребро участвует
[11:20.900 --> 11:23.820]  в двух гранях, отсюда три вторых, да, грани соответствуют
[11:23.820 --> 11:24.820]  трём вторым ребрам.
[11:24.820 --> 11:29.060]  Вот, ну и дальше просто форма Лейлера.
[11:29.060 --> 11:36.020]  Наказательства Лейлера для связанного плоского
[11:36.020 --> 11:37.020]  графа.
[11:37.020 --> 11:56.660]  Так, ну вот, сейчас вся штука линейная, здесь линейное
[11:56.660 --> 11:58.340]  число треугольников, линейное число ребра, то есть это
[11:58.340 --> 12:03.220]  можно опять-таки ожидать, что треангуляцию любую,
[12:03.220 --> 12:05.660]  ну и там, треангуляцию деланной в частности можно представлять
[12:05.660 --> 12:08.820]  за линейную память, а значит, какой-то алгоритм, наверное,
[12:08.820 --> 12:10.260]  с адекватным времени работы тоже есть.
[12:10.260 --> 12:12.900]  Вот, ну определение.
[12:12.900 --> 12:18.060]  Значит, пусть, как обычно, С это конечное множество
[12:18.060 --> 12:21.820]  точек, давайте мы построим его диаграмму Воронова.
[12:21.820 --> 12:26.220]  Давайте, сейчас, я это С, да, назвал, ну ладно, пусть
[12:26.220 --> 12:36.780]  С, конечно, пусть ворот С, это диаграмма Воронова
[12:36.780 --> 12:48.420]  для множества С, значит, тогда графом Делане называется
[12:48.420 --> 12:49.780]  следующий граф.
[12:49.780 --> 12:53.020]  Когда мы вершинами считаем опять-таки точки С, наши
[12:53.020 --> 12:58.940]  сайты, а ребрами будем соединять те вершины, те сайты, которые
[12:58.940 --> 13:01.100]  соответствуют соседним ячейкам диаграммы Воронова.
[13:01.100 --> 13:05.420]  То есть, если две ячейки пересекаются, то мы проводим
[13:05.420 --> 13:07.540]  ребро между их центрами, между их сайтами.
[13:07.540 --> 13:15.860]  Граф Делане, это следующая вещь, вершины, это просто
[13:15.860 --> 13:22.460]  С, ребра, это те пары сайтов, ячейки которых соседние,
[13:22.460 --> 13:23.460]  ячейки которых пересекаются.
[13:23.460 --> 13:32.580]  Ну, давайте, значит, я так и напишу, что ребра соединяют
[13:32.580 --> 13:51.540]  пары тех сайтов, ячейки которых пересекаются
[13:52.540 --> 13:54.060]  по куску положительной длины.
[13:54.060 --> 14:09.300]  Вот, если они касаются только по вершине, то я это игнорирую,
[14:09.300 --> 14:11.940]  я такое не считаю пресечением, только по ребрам.
[14:11.940 --> 14:19.420]  Фигня будет.
[14:19.420 --> 14:25.300]  У вас новое любимое слово.
[14:25.300 --> 14:29.500]  Так, давайте что-нибудь нарисуем.
[14:29.500 --> 14:37.980]  Давайте я что-нибудь необычное для себя нарисую.
[14:37.980 --> 14:38.980]  Давайте что-нибудь вот такое нарисуем.
[14:38.980 --> 14:41.980]  И пусть здесь будет тоже сайт.
[14:41.980 --> 14:44.700]  Значит, вот у меня набор шести сайтов.
[14:44.700 --> 14:48.500]  Сейчас попробую изобразить диаграмму Воронова сначала.
[14:48.580 --> 14:59.540]  Что-то такое, тут будет все как обычно, вот, и здесь
[14:59.540 --> 15:01.220]  какая-то вот такая вот штука будет.
[15:01.220 --> 15:06.620]  Похоже, вроде нормально.
[15:06.620 --> 15:09.420]  Ну вот, и теперь давайте просто, вот это у меня
[15:09.420 --> 15:10.420]  диаграмма Воронова.
[15:10.420 --> 15:12.620]  Теперь давайте пунктиром я проведу ребра из графа
[15:12.620 --> 15:13.620]  Дилане.
[15:13.620 --> 15:16.700]  Значит, вершины у меня это сайты, ребра провожу
[15:16.900 --> 15:19.420]  между теми сайтами ячейки, которых пересекаются по
[15:19.420 --> 15:21.420]  куску, положительной длины.
[15:21.420 --> 15:24.340]  Например, вот эти две ячейки пересекаются по этому лучшему,
[15:24.340 --> 15:26.520]  я провожу здесь ребро.
[15:26.520 --> 15:29.440]  Вот эти две ячейки пересекаются по этому ребру, вот здесь
[15:29.440 --> 15:33.180]  ребро, здесь ребро, здесь ребро.
[15:33.180 --> 15:35.340]  Вот эта ячейка тоже со всеми этими четырьмя пересекается
[15:35.340 --> 15:39.260]  и провожу такие ребра.
[15:39.260 --> 15:41.380]  Ну и наконец вот эта ячейка пересекается с этими двумя
[15:41.380 --> 15:45.660]  — провожу вот такие два ребра.
[15:45.660 --> 15:47.660]  Вот, то, что я построил, называется графм Дилане.
[15:49.660 --> 15:52.660]  Так, причем у меня сразу получилась треангуляция в этом случае, да?
[16:01.660 --> 16:02.660]  Какую?
[16:09.660 --> 16:13.660]  Давайте нов... давайте новую картинку нарисуем. Чего, нам жалко, что ли?
[16:13.660 --> 16:19.660]  Нет, на самом деле приятно. Мне хотелось бы показать, что это не всегда треангуляция.
[16:20.660 --> 16:25.660]  Здесь будет что-то подобное, да, и вы хотите, чтобы оно вот так вот проходило, как бы.
[16:27.660 --> 16:29.660]  Ну да, какая-то такая точка, наверное, здесь есть.
[16:32.660 --> 16:34.660]  Да-да-да-да, все правильно говорите.
[16:38.660 --> 16:39.660]  А, да-да-да-да.
[16:44.660 --> 16:45.660]  Да, супер.
[16:47.660 --> 16:51.660]  В таком случае у меня как раз получается не треангуляция, просто какой-то граф.
[16:52.660 --> 16:56.660]  Причем здесь будет грань с четырьмя вершинами, да, то есть вот это вот будет грань с четырьмя вершинами.
[16:57.660 --> 16:58.660]  Да, такое вполне себе бывает.
[17:00.660 --> 17:01.660]  Вот.
[17:02.660 --> 17:03.660]  Ну, значит, мы что-то построили.
[17:04.660 --> 17:07.660]  Значит, я утверждаю, что то, что мы нарисовали, это обязательно плоский граф.
[17:10.660 --> 17:11.660]  Значит, граф Дилане.
[17:14.660 --> 17:15.660]  Плоский.
[17:16.660 --> 17:27.660]  Значит, плоский в том смысле, что вот именно такая его укладка на плоскость, что если провожу ребро между соседними ячейками, то именно такая укладка на плоскость будет как бы без пересечения ребер.
[17:28.660 --> 17:33.660]  То есть не просто граф планарный, что его можно как-то уложить, как-то перерисовав ребра, сделать так, чтобы не пересекались.
[17:34.660 --> 17:39.660]  А именно вот просто, если вы рисуете отрезок между сайтами, то такой граф будет плоский.
[17:39.660 --> 17:40.660]  А Чев вообще нет.
[17:41.660 --> 17:42.660]  Ни капли.
[17:59.660 --> 18:00.660]  Давайте попробуем доказать.
[18:01.660 --> 18:04.660]  Значит, я сегодня все доказывать не буду, потому что мы иначе ничего не успеем.
[18:04.660 --> 18:05.660]  Ну это давайте попробуем.
[18:06.660 --> 18:08.660]  Ну пусть не так, пусть этот граф не плоский.
[18:09.660 --> 18:11.660]  Это значит, что какие-то два ребра пересекаются.
[18:12.660 --> 18:15.660]  Давайте будут для простых считать, что они пересекаются по мясу, то есть по внутренностям.
[18:16.660 --> 18:19.660]  То есть есть какая-то внутренняя точка на обоих отрезках, которая там и там лежит.
[18:20.660 --> 18:21.660]  Пусть не так.
[18:23.660 --> 18:28.660]  Пусть два отрезка.
[18:28.660 --> 18:36.660]  Пусть два отрезка пересекаются по внутренности.
[18:44.660 --> 18:49.660]  Вот, пусть это какие-то отрезки по ИПЖ и по КПЛ.
[18:49.660 --> 18:51.660]  Что такое отрезки по ИПЖ и по КПЛ?
[18:52.660 --> 18:54.660]  Почему это вообще отрезки графа Дилане?
[18:55.660 --> 18:59.660]  Потому что они соответствуют пересекающимся ячейкам.
[19:00.660 --> 19:04.660]  То есть если мы рассмотрим ячейки по ИПЖ, то они разделяют какой-то общий кусок границы.
[19:05.660 --> 19:07.660]  То же самое по КПЛ, они разделяют общий кусок границы.
[19:08.660 --> 19:12.660]  Но у нас есть свойство, что такое пересекающиеся ячейки.
[19:12.660 --> 19:18.660]  Это значит, мы помним с вами, что у меня ячейки соседние и соответственно разделяют какой-то кусок общей границы.
[19:19.660 --> 19:22.660]  Если на серпере между ними есть окружность, которая содержит только их.
[19:23.660 --> 19:27.660]  Критерии того, что серпер к двум сайтам участвовал в диаграмме Воронова.
[19:28.660 --> 19:34.660]  Такое, что где-то на серпере есть точка такая, что в этом пустом круге с центром в ней есть только по ИПЖ.
[19:34.660 --> 19:36.660]  Но давайте эти точки нарисуем.
[19:37.660 --> 19:39.660]  Они существуют для пары по ИПЖ, для пары по КПЛ.
[19:40.660 --> 19:41.660]  Давайте их нарисуем.
[19:42.660 --> 19:44.660]  В частности, есть какая-то точка Х и ТЖТ.
[19:46.660 --> 19:50.660]  Которая лежит на середином перпендикуляре между по ИПЖ.
[19:52.660 --> 19:56.660]  Такая, что если я нарисую круг с центром в этой точке.
[19:56.660 --> 19:58.660]  Больше никаких других сайтов внутри круга нет.
[20:00.660 --> 20:02.660]  Более того,
[20:04.660 --> 20:06.660]  давайте вот так проведу.
[20:10.660 --> 20:12.660]  Вот так вот.
[20:13.660 --> 20:15.660]  Вот так вот.
[20:16.660 --> 20:18.660]  Вот так вот.
[20:20.660 --> 20:22.660]  Вот так вот.
[20:23.660 --> 20:25.660]  Вот так вот.
[20:26.660 --> 20:33.660]  Смотрите, я утверждаю, что отрезок Х и ТЖТПИТ лежит целиком в ИТ-ячейке.
[20:34.660 --> 20:43.660]  Более формально я напишу так, что полуинтервал ПИХЖ лежит во внутренности ИТ-ячейки диаграммы Воронова.
[20:48.660 --> 20:55.660]  Почему? Потому что эта точка, это какая-то точка на серпере, лежащая на ребре, то есть она лежит одновременно в обеих ячейках.
[20:57.660 --> 21:01.660]  Ну а этот отрезок лежит только в ИТ-ячейке получается.
[21:02.660 --> 21:07.660]  Если это граничная точка, это точка внутри ячейки, то значит это все внутри ИТ-ячейки лежит.
[21:08.660 --> 21:10.660]  Внутри ребра была такая точка?
[21:11.660 --> 21:16.660]  На самом деле в утверждении такого не говорил, но когда рисовал, там на ребре она получалась.
[21:17.660 --> 21:23.660]  Я брал точку, отступал на нее плюс-минус эпсилон и говорю, что весь отрезок это часть серперы, которая является частью границы.
[21:23.660 --> 21:25.660]  Поэтому да, поэтому она внутри.
[21:26.660 --> 21:35.660]  Ну и то же самое можно сказать про вторую сторону, что отрезок, точнее интервал ПИХЖ лежит строго во внутренности ЖИТ-ячейки.
[21:41.660 --> 21:48.660]  Хорошо, значит у меня есть такой один треугольник, есть какой-то другой треугольник ХКЛПКПЛ, который как-то с ним пересекается.
[21:48.660 --> 21:55.660]  То есть я предполагаю, что у меня есть другая сторона ПКПЛ, которая пересекает ПИПЖ, вот она какая-то такая.
[22:00.660 --> 22:12.660]  Причем, я утверждаю, что если у меня какой-то ПКПЛ пересекается с ПИПЖ, то этот отрезок, который пересекает эту сторону, он обязательно выходит из треугольника.
[22:12.660 --> 22:15.660]  То есть не может быть такого, что вот эта точка, скажем, внутри.
[22:16.660 --> 22:22.660]  Ну потому что надо еще сказать, что весь этот треугольник лежит внутри ИТ-ЖИТ-ячейки.
[22:24.660 --> 22:32.660]  Ну или иными словами, просто если бы у меня здесь была какая-то, скажем, вот если бы здесь была ПК, то понятное дело тогда, что ХИТ-ЖИТ был бы ближе к ПК, чем к ПЖ.
[22:32.660 --> 22:38.660]  А мы знаем, что ХИЖ лежит на границе между ПИПЖ, то есть никаких других, ну вообще в этом круге просто нет других сайтов, можно так сказать.
[22:38.660 --> 22:41.660]  В этом круге нет никаких других сайтов, поэтому ПК здесь быть не может.
[22:42.660 --> 22:51.660]  Поэтому если ПЛПК как-то и пересекает эту сторону, то обе, оба конца лежат вне этого круга.
[22:55.660 --> 23:06.660]  Вот, хорошо, ну давайте я еще нарисую где-то точку ХКЛ, которая опять-таки лежит на серпере уже к этому отрезку.
[23:07.660 --> 23:09.660]  Давайте я ее где-нибудь вот здесь вот нарисую.
[23:12.660 --> 23:13.660]  Она где-то здесь.
[23:14.660 --> 23:15.660]  Она так плохо получилась.
[23:19.660 --> 23:20.660]  Вот здесь я ее нарисую.
[23:24.660 --> 23:26.660]  То есть всегда у нее получается есть два таких треугольника.
[23:26.660 --> 23:30.660]  Мы знаем, что у них есть пара пересекающихся сторон, вот эта и вот эта.
[23:31.660 --> 23:35.660]  Я утверждаю, что у них есть обязательно еще хотя бы одна пара пересекающихся сторон.
[23:37.660 --> 23:44.660]  Потому что если не так, у меня был один треугольник и другой треугольник.
[23:44.660 --> 23:55.660]  Если бы у меня была какая-то вот такая картинка примерно, то смотрите, у меня бы точка ПЖ лежала бы внутри вот этого треугольника, значит в частности внутри вот этого круга.
[24:01.660 --> 24:02.660]  Но таких точек не бывает.
[24:02.660 --> 24:12.660]  Мы знаем, что пустой круг с центром в ХКЛ никаких других сайтов кроме ПКП или не содержит, поэтому в частности внутри этого треугольника других сайтов быть не может, ПЖ здесь быть не может.
[24:13.660 --> 24:22.660]  Получается недопустимая конструкция, недопустимое такое перечень треугольников, когда ПИ или ПЖ лежит в другом треугольнике, и то же самое нельзя чтобы ПКП лежала в другом треугольнике.
[24:23.660 --> 24:28.660]  Поэтому конструкция обязательно именно такая, и пересечение не просто 1 такое, но есть обязательно еще какое-то.
[24:28.660 --> 24:33.280]  какой-то, по крайней мере, одну. Значит, тогда отсюда можно сказать, давайте запишу, что
[24:33.280 --> 24:53.980]  PIPG не лежат в треугольнике PK-PL-XKL, аналогично с PK-PL. Тогда эти два треугольника обязательно
[24:53.980 --> 25:07.900]  где-то еще пересекаются, пересекаются где-то еще. Вот, ну и, например, на этой картинке у меня
[25:07.900 --> 25:20.140]  получилось, что у меня цветной есть, нет, нету. Значит, тогда у меня вот этот вот отрезок пересекается
[25:20.140 --> 25:31.820]  вот с этим отрезком, да, PL-XKL, PG-XIG. Но я знаю, что эти отрезки оба целиком вложены в свои ячейки
[25:31.820 --> 25:37.540]  диаграммы Воронова. То есть я написал, что у меня вот этот вот интервал, XIG-PG, люди строго вжиты
[25:37.540 --> 25:42.780]  ячейки. То есть все вот эти точки люди во внутренности V от PG. То же самое здесь, все вот эти
[25:42.780 --> 25:49.180]  точки внутренние лежат во внутренности ячейки PL, и при этом они пересекаются. Но мы знаем, что
[25:49.180 --> 26:01.260]  ячейки по внутренности о мне пересекаются. Нет, еще раз. Вот я сказал, что просто одного пересечения
[26:01.260 --> 26:11.380]  быть не может. Нет, не может, потому что, потому что вас тогда обязательно, ну, картинка какая-то
[26:11.380 --> 26:17.020]  вот такая будет, что вас будет PG внутри или PE внутри. Честно-честно. Вот если все случаи
[26:17.020 --> 26:33.900]  порисовать, то можно убедиться в этом. Что? Да. Не, не будем, не будем. Значит, что я хочу записать,
[26:33.900 --> 26:55.420]  что тогда какая-то из сторон, из сторон XIG-PI или XIG-PG пересекается с какой-то из сторон
[26:55.420 --> 27:12.620]  XKL-PL или XKL-PK. Ну, это противоречие с тем, что у меня эти стороны лежат только во внутренности
[27:12.620 --> 27:29.780]  ячеек, да, тогда, получается, у меня пересекаются внутренности ячеек противоречия. Еще раз. Да, да,
[27:29.780 --> 27:40.020]  да, да, да. То есть, когда я провожу эти отрезки, они будут попарно не пересекаться. Да. Так, хорошо.
[27:40.020 --> 27:47.780]  Это что мы сделали. Вот. Ну и дальше, значит, если у нас граф плоский, можно еще доказать
[27:47.780 --> 27:54.060]  следующее утверждение, которое во многом основывается на то, что мы делали про, значит,
[27:54.060 --> 28:04.380]  диаграмму Воронова. Значит, во-первых, в графе Дилане присутствует ребро PI-PG,
[28:04.380 --> 28:17.260]  ребро PI-PG, если и только если мы знаем критерий. Существует точка Q на серпере между ними,
[28:17.260 --> 28:31.740]  такая, что максимальный пустой круг с центра вниз содержит только PI-PG. Существует Q содержит
[28:31.740 --> 28:44.420]  только PI-PG. Это по факту я просто переначал критерий пересекаемости двух ячеек диаграммы
[28:44.420 --> 28:57.540]  Воронова. Это просто то же самое. Вот. Во-вторых, три точки PI-PG-PK являются вершинами одной и
[28:57.540 --> 29:13.740]  той же грани графа Дилане, являются вершинами одной грани графа Дилане, если и только если
[29:13.740 --> 29:20.580]  существует точка Q, такая, что пустой круг с центра вниз содержит эти три точки на границе,
[29:20.580 --> 29:38.580]  содержат их на границе. Вот. Ну, это переначанное условие про вершину диаграммы Воронова. Как
[29:38.580 --> 29:42.500]  хорошо такое вершина. Это такая точка, которая одновременно инцидентна нескольким ячейкам,
[29:42.500 --> 29:46.460]  хотя бы трём. Значит, для неё вот это вот верно, что если провести максимальный круг,
[29:46.460 --> 30:01.540]  то там будет много точек, и вот они образуют грань графа Дилане. Вот. Ну и в частности давайте
[30:01.540 --> 30:13.140]  напишем продолжение подтверждения. Более того, каждая грань графа Дилане
[30:16.900 --> 30:39.580]  это вписанный выпукланный многоугольник. Вот. Ну, потому что вершины одной грани лежат на какой-то
[30:39.580 --> 30:44.140]  одной общей окружности. Как вот в этом случае у меня вот здесь есть вот эти четыре точки,
[30:44.140 --> 30:49.260]  они являются вершинами одной грани, но там для любых трёх из них существует какой-то круг,
[30:49.260 --> 30:53.140]  который содержит только их. Значит, есть круг, который их все содержит. Ну, вот, собственно,
[30:53.140 --> 30:59.620]  и будет тот самый. Ой, тут круг, конечно, не получается, но давайте считать, что это круг.
[30:59.620 --> 31:13.460]  Вот. Значит, есть какой-то круг, который их как раз на границе содержит. Так. Окей? Вот. Ну,
[31:13.460 --> 31:28.460]  вот там. Предиказательство. Каждая грань, да, спасибо. Спасибо. Ну, вот. Значит, теперь,
[31:28.460 --> 31:32.540]  когда мы более-менее понимаем, как были графы Дилане, определение, что такое триангуляция Дилане.
[31:32.540 --> 31:47.380]  Триангуляция Дилане. Значит, это произвольное дотриангулирование графа Дилане. То есть у нас
[31:47.380 --> 31:52.820]  есть граф Дилане какой-то, там большинство грани, скажем так, треугольники. Не треугольники,
[31:52.820 --> 31:58.140]  только вот такие какие-то вписанные там четырёхугольники и более. Пяти шестиугольники. Сколько хочешь,
[31:58.140 --> 32:02.940]  столько может быть. Вот. Ну, давайте просто как угодно их дотриангулируем. Вот захотим,
[32:02.940 --> 32:06.620]  то есть вот скажем, в этом четырёхугольник я могу провести вот такую диагональ, могу вот такую. Как
[32:06.620 --> 32:11.860]  хочу, так и делаю. Это всё будет триангуляция Дилане. Ну, давайте напишем, что это просто
[32:11.860 --> 32:23.900]  произвольная триангуляция графа Дилане. Вот. Почему произвольная? Ну, смотрите, если мы живём в
[32:23.900 --> 32:28.580]  парадигме, что мы хотим максимизировать минимальный угол, то от того, что мы произвольным образом
[32:28.580 --> 32:33.220]  триангулируем выпуклый вписанный многоугольник, у нас угол не меняется минимальный. Потому что,
[32:33.220 --> 32:38.180]  ну вот скажем, был у меня какой-то круг, был у меня здесь какой-то многоугольник. От того, что я
[32:38.180 --> 32:45.420]  триангулирую его, в любом случае будет какой-то угол, опирающийся на наименьшую дугу. Скажем,
[32:45.420 --> 32:49.780]  если у меня вот эта дуга наименьшая, то обязательно, ну там, вот эта штука будет являться
[32:49.780 --> 32:56.900]  стороной какого-то треугольника, значит обязательно будет угол, опирающийся на эту дугу. Ну,
[32:56.900 --> 33:00.940]  значит, минимальный угол однозначно определён, как не триангулируй. Обязательно будет кто-то
[33:00.940 --> 33:06.220]  сюда опирающийся, поэтому минимальный угол один и тот же всегда, независимо от триангуляции.
[33:06.220 --> 33:22.740]  Замечание, минимальный угол независит от триангуляции. Вот, поэтому я имею право,
[33:22.740 --> 33:36.180]  как угодно, до триангулировать, если есть граф. Вот, ну и теперь, если мы так всё
[33:36.180 --> 33:41.860]  это определили, если мы так всё определили, то у нас есть готовый алгоритм построения
[33:41.860 --> 33:51.140]  триангулирации Делане. Значит, он просто следует из всего того, что мы уже знаем. У нас есть алгоритм
[33:51.140 --> 33:56.260]  Форчина, который строит диаграмму Воронова. Давайте мы просто будем вот, ну там, либо можно
[33:56.260 --> 34:00.620]  сказать так, либо давайте просто построим диаграмму Воронова, потом переберём пересекающие ячейки и
[34:00.620 --> 34:04.820]  проведём ребра между ними, а там как-нибудь до триангулируем. Либо можно просто сказать, смотрите,
[34:04.820 --> 34:09.660]  давайте мы Форчину ещё раз вспомним. Значит, он идёт сверху вниз, поддерживает береговую линию,
[34:09.660 --> 34:16.140]  как набор дуг-парабол, вот таких вот каких-то. Что такое соседние дуги-парабол? Это значит,
[34:16.140 --> 34:21.980]  что вот здесь вот точки вот эти вот вычерчивают ребра, вычерчивают ребра ячеек. Это значит,
[34:21.980 --> 34:28.140]  что в этот момент времени фокус вот этой параболы и фокус вот этой параболы являются соседними
[34:28.140 --> 34:31.740]  ячейками, да, потому что у них вот эта точка вычерчивает границу, вычерчивает серпер между
[34:31.740 --> 34:36.700]  ними как раз. Ну, значит, в момент, когда у меня две параболы пересекаются, точнее являются
[34:36.700 --> 34:41.020]  соседними в береговой линии, я говорю, что вот здесь вот появляется ребро графа Дилана,
[34:41.020 --> 34:47.100]  да, потому что как раз вот эти две параболы задаются, задают серпер между вот этими точками,
[34:47.100 --> 34:55.860]  значит у меня есть ребро между этими точками в графе Дилана. Вот. Можно ещё раз, смотрите,
[34:55.860 --> 35:00.260]  когда мы вспоминаем алгоритм Форчуна, у нас есть береговая линия, как набор парабол, и мы знаем,
[35:00.260 --> 35:07.420]  что точки пересечения соседних парабол вычерчивают ребра в диаграмме Воронова. Вот. Ну,
[35:07.420 --> 35:12.980]  что такое ребро? Это как раз граница, разделяющая два сайта, два, две ячейки. Теперь, если мы просто
[35:12.980 --> 35:19.100]  следим за вот этими точками пересечения соседних ячеек, в каждом времени, когда появляется новая
[35:19.100 --> 35:24.500]  точка пересечения двух парабол, скажем вот, которая соответствует вот этому сайту и вот этому сайту,
[35:24.500 --> 35:29.580]  вот две параболы, они вот здесь пересекаются. Я такой, окей, это значит, что в графе Дилане вот
[35:29.580 --> 35:34.340]  такое ребро есть. Я его просто провожу, потому что вот они пересекаются. Эти две ячейки пересекаются.
[35:34.340 --> 35:39.620]  Ну и всё, я так прошеду сверху вниз, слежу за новыми пересечениями соседних парабол,
[35:39.620 --> 35:52.060]  когда появляется новая, добавляю ребро в граф. Значит, Форчун, отслеживаем пересечение соседних
[35:52.060 --> 36:03.100]  парабол. Вот, тем самым в конце у нас получится граф Дилане, останется его как-нибудь дотреангулировать.
[36:03.100 --> 36:10.900]  Как можно его треангулировать? Ну, например, смотрите, вот у меня получился какой-то граф на
[36:10.900 --> 36:17.300]  плоскости. Многие грани треугольные, но иногда бывают какие-то вот такие вот
[36:17.340 --> 36:24.740]  вписанные многоугольники. Как его дотреангулировать? Ну, например, можно, если вообще не думать,
[36:24.740 --> 36:30.220]  можно написать алгоритм выделения грани в плоском графе. То есть, представьте, у вас вот это вот
[36:30.220 --> 36:37.620]  всё вершины, ну в смысле сайты, да, и есть между ними какие-то ребра. Давайте выделим грани. Что это
[36:37.620 --> 36:41.820]  значит? Вот давайте мы для каждой точки посортируем по полярному углу все исходящие из неё ребра,
[36:41.820 --> 36:48.860]  и дальше давайте начнем обходить все многоугольники против часовой стрелки.
[36:48.860 --> 36:55.260]  Скажем, начнем идти вот так вот. Дойдем до сюда. Нам нужно следующее ребро, в порядке обхода
[36:55.260 --> 36:59.380]  против часовой стрелки, это это ребро. Бин поиском определяется следующее. Если у нас всё посорчено,
[36:59.380 --> 37:02.940]  можноtaking поиском понять следующее. Пришли сюда, следующие , это вот это, пришли сюда,
[37:02.940 --> 37:07.660]  следующем за этим это вот это. Вернули сюда обошли весь многоугольник против часовой Стрелки.
[37:07.660 --> 37:11.020]  То же самое можно сделать с каждой гранью, выделить
[37:11.020 --> 37:13.980]  все гранья, ну и дальше дотреангулировать, если
[37:13.980 --> 37:17.220]  у вас известно выделение граней, если вам известно,
[37:17.220 --> 37:19.900]  какие именно многоугольники у вас входят в граф, то
[37:19.900 --> 37:22.100]  надо потом просто провести диагонали как хотите, так
[37:22.100 --> 37:23.100]  проводите.
[37:23.100 --> 37:30.180]  В конце выделить грань и треангулировать.
[37:30.180 --> 37:42.780]  Так, ну давайте первое, что мы хотим там, какой-то
[37:42.780 --> 37:45.180]  угол максимизировать, пока что мы просто построили
[37:45.180 --> 37:48.540]  явную конструкцию, вот такой-то граф, такая треангуляция,
[37:48.540 --> 37:50.460]  да, мы умеем его быстро строить, вопрос как это
[37:50.460 --> 37:51.460]  связано с минимальным углом.
[37:51.460 --> 37:58.540]  Начну, определение, флип ребра, это следующая простая
[37:58.540 --> 37:59.540]  процедура.
[37:59.540 --> 38:03.980]  Представьте, что у вас была какая-то треангуляция,
[38:03.980 --> 38:08.060]  где были два вот таких вот треугольничка, разделяющие
[38:08.060 --> 38:09.060]  общую сторону.
[38:09.060 --> 38:11.380]  Так вот, флип, это просто изменение вот такой диагонали
[38:11.380 --> 38:13.340]  в этом выпуклённом четырёхугольнике на противоположном.
[38:13.340 --> 38:23.100]  То есть, если есть два треугольника, разделяющих общую сторону,
[38:23.100 --> 38:26.460]  можно поменять их в такую-то диагональ, на такую.
[38:26.620 --> 38:29.700]  И давайте назовём вот эту вот процедуру, то есть,
[38:29.700 --> 38:31.900]  ну, флип ребра, это просто смена одной диагонали на
[38:31.900 --> 38:32.900]  другую.
[38:32.900 --> 38:33.900]  Значит, когда нам это выгодно?
[38:33.900 --> 38:37.660]  Ну, понятно скажем, что если у меня, вот давайте померим
[38:37.660 --> 38:40.300]  все вот эти вот шесть углов, три угла этого треугольника,
[38:40.300 --> 38:43.780]  три угла этого треугольника, альфа-1, альфа-2 и так далее,
[38:43.780 --> 38:47.900]  альфа-6, бета-1, бета-2 и так далее, бета-6.
[38:47.900 --> 38:52.220]  Вот если у меня минимальный угол строго вырос, то понятно,
[38:52.220 --> 38:54.180]  что, ну, наверное, это полезное действие, если мы хотим
[38:54.180 --> 38:56.940]  максимизировать минимальный угол, и при этом вот тут
[38:56.940 --> 38:59.300]  вот локально я смог увеличивать минимально из этих шести
[38:59.300 --> 39:01.580]  углов, то я, наверное, победил.
[39:01.580 --> 39:04.500]  Так вот, давайте скажем тогда, что, значит, вот это
[39:04.500 --> 39:18.380]  старое ребро какое-нибудь, давайте, PEPG, ребро PEPG нелегально,
[39:18.380 --> 39:21.100]  если после флипа минимум из шести углов увеличивается.
[39:21.100 --> 39:31.300]  Значит, если минимум по альфа-и строго меньше,
[39:31.300 --> 39:34.980]  чем минимум, так, и занято, да, давайте какое-нибудь
[39:34.980 --> 39:43.300]  S и T, вот, то есть ребро нелегально, если после флипа минимальный
[39:43.300 --> 39:44.700]  угол строго увеличивается.
[39:44.700 --> 39:51.140]  Да, да, да, ну, конечно, это всё в предположении, что
[39:51.140 --> 39:52.940]  есть какая-то вот всеобъемлющая большая переангуляция.
[39:52.940 --> 40:05.220]  Вот, такие дела.
[40:05.220 --> 40:11.260]  Минимум альфа-с от одного до шести.
[40:11.260 --> 40:13.740]  Ну, предсказуемое, да, пределы?
[40:13.740 --> 40:14.740]  Понимаю.
[40:14.740 --> 40:17.260]  Вот, ну и, соответственно, значит, давайте скажем, что
[40:17.260 --> 40:19.180]  переангуляция легальна, если в нём нет ни одного
[40:19.180 --> 40:20.180]  нелегального ребра.
[40:50.180 --> 40:58.300]  Значит, утверждение простое.
[40:58.300 --> 41:04.340]  Ну, значит, пусть у меня есть два треугольника
[41:04.340 --> 41:13.700]  треангуляции, PIPGPK и PIPGPL, два треугольника треангуляции.
[41:14.700 --> 41:26.940]  Значит, тогда ребро PIPG легально, если и только если в круге
[41:26.940 --> 41:30.980]  описанном вокруг одного треугольника нет четвёртого
[41:30.980 --> 41:31.980]  сайта.
[41:31.980 --> 41:41.260]  Достаточно требовать в одном, в другой будет…
[41:41.820 --> 41:43.820]  короче, одного хватает.
[41:43.820 --> 41:55.180]  Описанном вокруг PIPGPK внутри не содержится PL, то есть
[41:55.180 --> 41:56.900]  может быть на границе, но не может быть внутри.
[41:56.900 --> 42:06.860]  Ну, и поскольку определение симметрично, то, значит,
[42:06.860 --> 42:09.980]  в частности, в другом круге нет первого сайта.
[42:09.980 --> 42:23.340]  Так, ну, доказывать я не буду, давайте нарисую просто
[42:23.340 --> 42:24.340]  одну картинку.
[42:24.340 --> 42:25.340]  Что?
[42:25.340 --> 42:32.380]  Значит, давайте нарисую одну картинку, смотрите.
[42:32.380 --> 42:39.260]  Пусть у меня, давайте нарисую какой-то круг вокруг нашего
[42:39.260 --> 42:40.260]  треугольника.
[42:40.260 --> 42:43.540]  Значит, я вот уже следующего, давайте померим угол, вот
[42:43.540 --> 42:44.540]  этот вот.
[42:44.540 --> 42:48.260]  И давайте рассмотрим три случая, где лежит PL.
[42:48.260 --> 42:51.300]  Значит, PL может лежать где-то внутри этого круга, давайте
[42:51.300 --> 42:53.020]  назову тут вариант A.
[42:53.020 --> 42:55.980]  Вариант B на границе, вариант C где-то вовне.
[42:55.980 --> 43:03.740]  Так, пока не хочу рисовать ПК, то есть она на самом деле
[43:03.740 --> 43:06.620]  вот здесь вот, извините, она на самом деле вот здесь
[43:06.620 --> 43:07.620]  вот.
[43:07.620 --> 43:08.620]  Вот.
[43:08.620 --> 43:12.860]  Значит, если я рассмотрю три точки внутри, на границе
[43:12.860 --> 43:19.180]  и вне, и померю вот эти вот углы, то они будут
[43:19.180 --> 43:20.180]  убывать.
[43:20.180 --> 43:23.500]  Любой угол внутри круга меньше, больше, чем угол
[43:23.500 --> 43:25.500]  на границе, больше, чем угол вне.
[43:25.500 --> 43:35.420]  То есть угол PEAJ строго больше угла PEBJ, строго больше
[43:35.420 --> 43:38.420]  угла PICPJ.
[43:38.420 --> 43:39.420]  Вот.
[43:39.420 --> 43:48.420]  Ну и, короче, это все доказывается, этого достаточно, чтобы
[43:48.420 --> 43:51.420]  доказать.
[43:51.420 --> 43:54.700]  Если хочется, порисуйте, докажите.
[43:54.700 --> 44:12.700]  Ну и, значит, теперь, то есть у нас есть, по факту
[44:12.700 --> 44:14.340]  у нас есть просто как бы другая интерпретация
[44:14.340 --> 44:15.340]  легальности ребра.
[44:15.340 --> 44:20.740]  Вот здесь было всех разных углов, ребро легально, если
[44:20.740 --> 44:24.020]  после флипа минимум не увеличивается.
[44:24.020 --> 44:28.100]  Значит, вот другая интерпретация просто с точки зрения кругов.
[44:28.100 --> 44:31.260]  Значит, теорема, триангуляция является триангуляцией
[44:31.260 --> 44:32.660]  деланной, если только, если она легальна.
[44:32.660 --> 44:44.340]  Если только, если она легальна.
[44:44.340 --> 44:45.340]  Вот.
[44:45.340 --> 44:50.180]  Ну, тоже за нехватка времени давайте оставим без доказательства.
[44:50.180 --> 45:00.060]  Да, там в одну сторону очевидно.
[45:00.060 --> 45:05.220]  Ну, давай, давай, ты вы сказали.
[45:05.220 --> 45:18.340]  Вот, значит, обычно доказывается так, значит, действительно
[45:18.340 --> 45:20.460]  слева-направо просто, мы знаем, что в триангуляции
[45:20.460 --> 45:24.820]  деланной круг описан вокруг любого треугольника, внутри
[45:24.820 --> 45:26.900]  себя никаких сайтов не следит, только на границе.
[45:26.900 --> 45:30.420]  Мы знаем, что каждая грань, она, это вписан на многоугольник,
[45:30.420 --> 45:32.700]  поэтому никаких других сайтов там внутри нет.
[45:32.700 --> 45:33.700]  Вот.
[45:33.700 --> 45:36.260]  Справа-налево доказывается в два шага.
[45:36.260 --> 45:39.660]  Значит, сначала из легальности, что такое легальности?
[45:39.660 --> 45:42.140]  Значит, если мы описали круг вокруг одного треугольника,
[45:42.540 --> 45:46.820]  Тco, Paa, Pjéc, Pkk.
[45:48.740 --> 45:50.480]  Да?
[45:50.880 --> 45:54.480]  Значит, легальность означает, что в этом круге нет трёх
[45:54.480 --> 45:55.880]  других соседних сайтов.
[45:55.880 --> 45:59.120]  То есть нет третьей вершины вот этого треугольника,
[45:59.120 --> 46:00.940]  нет третьей вершины вот этого треугольника, нет третьей
[46:00.940 --> 46:02.420]  вершины вот этого треугольника.
[46:02.420 --> 46:05.320]  То есть, есть вот эти три соседних треугольника, вот эти точки,
[46:05.320 --> 46:07.600]  вот эти сайты, лежат вне вот этого круга.
[46:08.080 --> 46:10.080]  Это легальность.
[46:10.080 --> 46:14.320]  Значит, отсюда, если предполагать легальность
[46:14.320 --> 46:17.080]  триангуляции, можно доказать следующее, что не просто
[46:17.080 --> 46:19.880]  в каждом таком круге не лежат три соседних сайта,
[46:19.880 --> 46:21.280]  но вообще никакие сайты не лежат.
[46:21.280 --> 46:24.440]  То есть, из легальности, из предположения того,
[46:24.440 --> 46:26.680]  что нет соседних сайтов в круге, можно доказать,
[46:26.680 --> 46:28.240]  что нет вообще никаких других сайтов в этом круге.
[46:28.240 --> 46:33.080]  Сайты не лежат, да.
[46:33.080 --> 46:42.160]  Ну, типа, потому что если бы кто-то лежал, тогда можно
[46:42.160 --> 46:46.200]  было бы нарисовать вот такой вот другой круг вокруг
[46:46.200 --> 46:48.600]  вот этого треугольника такой, что здесь этот сайт
[46:48.600 --> 46:49.600]  тоже лежал.
[46:49.600 --> 46:54.360]  И скажем, если рассматривать вот такой вот угол, ну как
[46:54.360 --> 46:59.160]  бы плохой угол, под которым из плохого сайта видна какая-то
[46:59.160 --> 47:02.000]  сторона, то вот этот вот угол можно было бы нарисовать
[47:02.000 --> 47:05.280]  другой круг вокруг другого треугольника, здесь этот
[47:05.280 --> 47:08.480]  сайт тоже был бы внутри этого круга, и из него эта
[47:08.480 --> 47:11.240]  сторона была бы видна под еще большим углом.
[47:11.240 --> 47:13.120]  И получается, что можно бесконечно увеличивать
[47:13.120 --> 47:14.120]  угол, что неверно.
[47:14.120 --> 47:19.440]  Ну, опять же, это тонкость, давайте я идею пропишу.
[47:19.440 --> 47:23.320]  Значит, слева направо тривиально, справа налево.
[47:23.320 --> 47:26.560]  Из легальности сначала можно доказать, что нет
[47:26.560 --> 47:28.800]  не просто соседних сайтов, но нет никаких других сайтов.
[47:28.800 --> 47:42.720]  Из легальности следует следующее, что круг, описанный вокруг
[47:42.720 --> 47:55.560]  любого треугольника, не содержит внутри себя других
[47:55.560 --> 47:56.560]  сайтов.
[47:57.560 --> 48:00.560]  Ну, точнее, просто внутри себя они содержат сайтов.
[48:00.560 --> 48:04.560]  Внутри себя сайтов.
[48:08.560 --> 48:12.560]  Ну, а оттуда уже деланное более-менее очевидно.
[48:27.560 --> 48:32.560]  Так, хорошо, значит, ну и теперь мы наконец-то готовы
[48:32.560 --> 48:36.560]  доказать следующий факт, что в триангуляции деланной
[48:36.560 --> 48:41.560]  минимальный угол максимально возможен.
[48:41.560 --> 48:48.560]  Триангуляция деланной, минимальный угол максимально возможен.
[48:56.560 --> 49:01.560]  Доказательства.
[49:01.560 --> 49:06.560]  Ну, пусть не так, пусть есть какая-то другая триангуляция,
[49:06.560 --> 49:10.560]  где минимальный угол будет строго больше.
[49:10.560 --> 49:12.560]  Значит, давайте как-нибудь обозначим.
[49:12.560 --> 49:21.560]  Пусть T1 это триангуляция деланная, T2 это другая триангуляция
[49:21.560 --> 49:24.560]  с большим минимальным углом.
[49:25.560 --> 49:31.560]  Триангуляция с большим минимальным углом.
[49:36.560 --> 49:40.560]  Тогда, значит, давайте первое, что я сделаю, это я легализую T2.
[49:46.560 --> 49:48.560]  Что значит легализация?
[49:48.560 --> 49:49.560]  Что значит легализация?
[49:49.560 --> 49:52.560]  Значит, давайте пока в T2 есть нелегальные ребра, их флипать.
[49:53.560 --> 49:56.560]  То есть пока есть нелегальное ребро, его флипаем.
[50:19.560 --> 50:20.560]  Вот, значит, вопрос к вам.
[50:20.560 --> 50:23.560]  Скажите, пожалуйста, почему это вообще конечный процесс?
[50:23.560 --> 50:25.560]  Почему в конце получим какую-то триангуляцию?
[50:26.560 --> 50:27.560]  Еще раз?
[50:32.560 --> 50:33.560]  Ну, не совсем.
[50:33.560 --> 50:35.560]  У меня увеличивается минимальный угол в четырехугольнике,
[50:35.560 --> 50:37.560]  но вообще глобально он может быть и не увеличился.
[50:41.560 --> 50:42.560]  Не уменьшается.
[50:43.560 --> 50:45.560]  Вот, да, значит, можно сказать следующее.
[50:45.560 --> 50:48.560]  Можно рассмотреть отсортированный список всех углов.
[50:49.560 --> 50:53.560]  Тогда флип ребра обязательно увеличивает лексикографически этот вектор.
[50:55.560 --> 51:06.560]  Если α1, α2 и так далее, альфа3t это отсортированный список всех углов,
[51:10.560 --> 51:14.560]  то после флипа этот список строго возрастает лексикографически.
[51:15.560 --> 51:16.560]  Вот.
[51:30.560 --> 51:33.560]  Ну и поскольку значение каждого угла лишь конечное количество,
[51:33.560 --> 51:37.560]  ну точно не больше mn куб, потому что вершина и две другие,
[51:37.560 --> 51:39.560]  вот, значит, процесс конечен обязательно,
[51:39.560 --> 51:41.560]  потому что у меня есть какой-то вектор, он всегда увеличивается,
[51:41.560 --> 51:43.560]  для него конечное количество конфигураций,
[51:43.560 --> 51:46.560]  поэтому мы какую-то triangуляцию в конце получим, а легально.
[51:47.560 --> 51:50.560]  Получается, что мы из t2 получили какую-то легальную t2 звездочку.
[51:59.560 --> 52:00.560]  Нет, из t2 вроде.
[52:00.560 --> 52:03.560]  t1-то делане, она и так легальна, ее не надо легализировать.
[52:03.560 --> 52:04.560]  Вот.
[52:04.560 --> 52:07.560]  И при этом, пока мы легализовывали t2, у меня, понятное дело,
[52:07.560 --> 52:09.560]  минимальный угол не уменьшался точно.
[52:09.560 --> 52:13.560]  Поэтому, когда я ее долегализовал, у меня минимальный угол мог только вырасти,
[52:13.560 --> 52:15.560]  ну или остаться таким же, как был.
[52:15.560 --> 52:18.560]  Поэтому у нас получается, что, ну давайте,
[52:18.560 --> 52:24.560]  напишу, минимальный угол в t2 звездочка больше минимального угла в t1.
[52:25.560 --> 52:28.560]  И при этом, мы знаем, что вот это легально, друзья,
[52:28.560 --> 52:29.560]  а это делане.
[52:31.560 --> 52:33.560]  И мы знаем, что легальная делане, это одно и то же.
[52:35.560 --> 52:36.560]  Значит, это тоже делане.
[52:36.560 --> 52:47.360]  И при этом мы знаем, что вот это легально, а это деланэ.
[52:47.360 --> 52:51.920]  Еще мы знаем, что легальное деланэ – это одно и то же.
[52:51.920 --> 52:56.080]  Значит, это тоже деланэ.
[52:56.080 --> 52:58.200]  Получается у нас есть две триангуляции деланэ, в
[52:58.200 --> 53:00.100]  которых минимальные углы различны.
[53:00.100 --> 53:02.320]  Мы знаем, что это не так, потому что мы проговаривали,
[53:02.320 --> 53:05.760]  что они отличаются только тем, как именно мы триангулируем
[53:05.760 --> 53:07.760]  вписанные многоугольники, от этого минимальные углы
[53:07.760 --> 53:08.760]  не меняются.
[53:08.760 --> 53:09.760]  Патива речи.
[53:09.760 --> 53:24.000]  Так, ну что, с кайфом.
[53:24.000 --> 53:31.520]  Ну хорошо.
[53:31.520 --> 53:34.600]  Тогда получается, что мы победили.
[53:34.760 --> 53:38.000]  Мы показали, что то, что мы делали, это не бесполезно,
[53:38.000 --> 53:40.880]  это не просто какая-то триангуляция, а именно та, которая в частности
[53:40.880 --> 53:43.520]  нам позволяет достигать максимального значения минимального
[53:43.520 --> 53:44.520]  угла.
[53:44.520 --> 53:52.520]  Ну хорошо.
[53:52.520 --> 53:55.120]  Давайте тогда, теперь, если мы поняли, что это такая
[53:55.120 --> 53:58.560]  хорошая триангуляция, давайте попробуем сделать другой
[53:58.560 --> 54:01.240]  алгоритм, который ее строит.
[54:01.240 --> 54:03.440]  Возможно, он покажется кому-то проще.
[54:03.440 --> 54:08.560]  Значит, а именно мы выйдем в 3D и будем строить выпуклоболочку
[54:08.560 --> 54:09.560]  в 3D.
[54:09.560 --> 54:13.440]  Тут уже ваш выбор, что вам кажется приятнее, писать
[54:13.440 --> 54:16.440]  выпуклоболочку в 3D или алгоритм в Fortune?
[54:16.440 --> 54:17.440]  Кому как.
[54:17.440 --> 54:24.080]  Ну, мне кажется, выпуклоболочку попроще все-таки пишется.
[54:24.080 --> 54:31.240]  Итак, что мы сделаем?
[54:31.240 --> 54:38.000]  Давайте напишем выход в 3D.
[54:38.000 --> 54:40.440]  Давайте скажем, что все мои точки, которые я хотел
[54:40.440 --> 54:44.880]  триангулировать, лежали в плоскости z равно нулю.
[54:44.880 --> 54:51.840]  Давайте я построю в пространстве вот такой параболлоид.
[54:51.840 --> 54:52.840]  Двайму вот таким уравнением.
[54:52.840 --> 55:00.480]  И давайте я все точки с плоскости подниму на параболлоид.
[55:00.480 --> 55:03.440]  Если тут у меня были какие-то точки, которые мне хотел
[55:03.440 --> 55:05.920]  триангулировать, я каждую из них могу вот так вот
[55:05.920 --> 55:06.920]  поднять на параболлоид.
[55:06.920 --> 55:08.640]  Ну, соответственно, если у меня была точка x запятая
[55:08.640 --> 55:13.480]  y, то новые ее координаты будут x, y, x квадрат плюс y квадрат.
[55:13.480 --> 55:21.600]  Просто все точки, давайте напишем, что точки pi на
[55:21.600 --> 55:25.600]  плоскости я поднял, преобразовал в точки pi с волной в пространстве
[55:25.600 --> 55:26.600]  на параболлоиде.
[55:26.600 --> 55:31.160]  Тогда вот ожидается следующее, что чтобы построить грав-дилане,
[55:31.160 --> 55:35.680]  нам достаточно поднять все вот эти точки на параболлоид,
[55:35.680 --> 55:40.000]  на них построить выпуклую оболочку и спроецировать
[55:40.000 --> 55:42.240]  на плоскость нижнюю часть этой выпуклой оболочки.
[55:42.240 --> 55:59.960]  Сейчас я напишу, наверное.
[55:59.960 --> 56:11.840]  Значит, построим выпуклую оболочку, точек pi 1 с волной
[56:11.840 --> 56:18.600]  и так далее, pn с волной.
[56:18.600 --> 56:21.560]  Дальше, чтобы мы построили оболочку, это какой-то многогранник
[56:21.560 --> 56:22.560]  выпуклый, у него есть какие-то грани.
[56:22.560 --> 56:27.280]  Так же, как в плоскости, я могу определить нижнюю
[56:27.280 --> 56:29.400]  часть выпуклой оболочки и верхнюю часть выпуклой
[56:29.400 --> 56:30.400]  оболочки.
[56:30.400 --> 56:31.680]  Ну, грубо говоря, нижние – это те, которые вот так
[56:31.680 --> 56:33.480]  вот расположены, верхние – это те, которые вот так
[56:33.480 --> 56:34.480]  вот расположены.
[56:34.480 --> 56:35.480]  Понятно.
[56:35.480 --> 56:36.480]  Если надо, можно формализовать.
[56:36.480 --> 56:39.320]  Так вот, дальше давайте мы просто спроектируем на
[56:39.320 --> 56:53.840]  плоскость все грани нижней части выпуклой оболочки.
[56:53.840 --> 56:59.400]  Все грани нижней части выпуклой оболочки.
[56:59.400 --> 57:22.040]  Я отражаю, что мы получим в точности граф Дилане.
[57:23.040 --> 57:26.200]  В частности, да.
[57:26.200 --> 57:33.160]  Видите, а вы говорили, что плохой алгоритм.
[57:33.160 --> 57:51.240]  Так, ну что, давайте попробуем это доказать.
[57:51.240 --> 57:55.560]  Да, ну, как бы, давайте попробуем что-нибудь нарисовать
[57:55.560 --> 57:56.560]  сначала.
[57:56.560 --> 57:59.720]  Ну, вот пусть у меня на проблоде были какие-то
[57:59.720 --> 58:00.720]  точки.
[58:00.720 --> 58:06.680]  Вот у меня там была какая-то грань, например, вот, о божечка
[58:06.680 --> 58:07.680]  моя.
[58:07.680 --> 58:08.680]  Как?
[58:08.680 --> 58:09.680]  Нет, невозможно рисовать, конечно.
[58:09.680 --> 58:24.120]  Неважно, у меня тоже какая-то фигура, какой-то многогранник.
[58:24.120 --> 58:27.600]  Да, очень плоский получился.
[58:27.600 --> 58:28.600]  Неважно.
[58:28.600 --> 58:33.120]  Значит, вот давайте рассмотрим какую-то его грань нижнюю.
[58:33.120 --> 58:36.120]  Одну из нижних граней.
[58:36.120 --> 58:38.920]  Моя плоскость, вот есть какая-то грань.
[58:38.920 --> 58:39.920]  Что такое грань?
[58:39.920 --> 58:43.920]  По факту, это какая-то плоскость, пересекающая наш параболоид.
[58:43.920 --> 58:46.920]  Ну, сечение там, в общем случае, будет, наверное,
[58:46.920 --> 58:47.920]  эллипс.
[58:47.920 --> 58:49.880]  Давайте нарисуем эту плоскость, она как-то пересекается
[58:49.880 --> 58:52.240]  по эллипсу с параболоидом, и, в частности, там есть
[58:52.240 --> 58:56.280]  какая-то грань нашей выпуклооболочки, ну, например, там четырехугольник
[58:56.280 --> 58:57.280]  какой-то.
[58:57.280 --> 58:59.320]  Вот пусть вот эта вот грань выпуклооболочки.
[58:59.320 --> 59:04.760]  Значит, тогда я ее проектирую обратно на плоскость и утверждаю,
[59:04.760 --> 59:08.200]  что вот эти вот четыре ребра будут задавать одну из
[59:08.200 --> 59:09.200]  граней графодилана.
[59:09.200 --> 59:12.360]  То есть, по факту, грани выпуклооболочки у меня отображаются в
[59:12.360 --> 59:13.360]  грани графодилана.
[59:13.360 --> 59:22.280]  Вот, и, то есть, если я построю выпуклооболочку, просто пройдусь
[59:22.280 --> 59:25.640]  по граням, ну, нижней части, если я нахожу очередную
[59:25.640 --> 59:29.400]  грань выпуклооболочки, то она же будет гранью графодилана,
[59:29.400 --> 59:31.960]  и если что, я могу ее дотриангулировать, чтобы получить триангуляцию.
[59:31.960 --> 59:35.560]  Так, давайте попробуем понять, почему это верно.
[59:35.560 --> 59:36.560]  Нет.
[59:36.560 --> 59:42.480]  Значит, для этого сначала я построю касательную
[59:42.480 --> 59:45.040]  плоскость к моему параболойду в данной точке.
[59:45.040 --> 59:49.880]  Давайте рассмотрим какую-нибудь точку A, B, A квадрат плюс B
[59:49.880 --> 59:50.880]  квадрат.
[59:50.880 --> 59:53.640]  Давайте я рассмотрю касательную плоскость, проходящую через
[59:53.640 --> 59:56.240]  эту точку, касательную к нашему параболойду.
[59:56.240 --> 01:00:01.920]  Нет, это пока произвольная точка вообще, пока просто
[01:00:01.920 --> 01:00:02.920]  точка на параболойде.
[01:00:02.920 --> 01:00:07.240]  Точка произвольная, дальше проживу к ней касательную
[01:00:07.240 --> 01:00:08.240]  плоскость.
[01:00:08.240 --> 01:00:10.640]  Значит, как она устроена?
[01:00:10.640 --> 01:00:15.680]  Я утверждаю, что, чтобы построить уравнение касательной,
[01:00:15.680 --> 01:00:17.200]  точнее просто уравнение касательной, выглядит как-то
[01:00:17.200 --> 01:00:18.200]  так.
[01:00:18.200 --> 01:00:22.200]  Значит, ну, смотрите, мне по факту, касательная
[01:00:22.200 --> 01:00:24.320]  это по факту приближение первой степени, поэтому
[01:00:24.320 --> 01:00:26.960]  мне нужно продиференцировать вот здесь вот эту штуку
[01:00:26.960 --> 01:00:32.640]  по X и по Y в точке A, B, поэтому коэффициент перед X будет
[01:00:32.640 --> 01:00:38.600]  2AX, 2A, перед Y будет 2B, ну и дальше минус какой свободный
[01:00:38.600 --> 01:00:39.600]  член?
[01:00:39.600 --> 01:00:40.600]  Минус какой?
[01:00:40.600 --> 01:00:43.840]  Вот такой, потому что с ним сойдется.
[01:00:43.840 --> 01:00:49.280]  Ну, значит, если подставить точку AB вот с этими координатами
[01:00:49.280 --> 01:00:53.600]  сюда, то как раз одна сумма квадратов уберется и будет
[01:00:53.600 --> 01:00:58.720]  вот такое, такое уравнение, значит, это уравнение касательной
[01:00:58.720 --> 01:01:17.320]  к плоскости параболойду в точке A, B, A квадрат плюс
[01:01:17.320 --> 01:01:24.320]  B квадрат.
[01:01:24.320 --> 01:01:30.320]  Дальше давайте мы ее поднимем на какое-то расстояние,
[01:01:30.320 --> 01:01:40.000]  давайте рассмотрим новую плоскость, которую я просто
[01:01:40.000 --> 01:01:45.000]  вверх сдвину на R квадрат, то есть вот у меня была какая-то
[01:01:45.000 --> 01:01:47.600]  касательная плоскость, я ее просто поднял на R квадрат
[01:01:47.600 --> 01:01:50.880]  вверх, получу какую-то новую плоскость, ну параллельную
[01:01:51.440 --> 01:01:55.040]  она как-то еще пересекает наш, то есть теперь она
[01:01:55.040 --> 01:01:56.600]  начинает пересекать наш параболойд, потому что
[01:01:56.600 --> 01:01:59.840]  я ее поднял, вот по какой-то фигурке, по какому-то эллипсу
[01:01:59.840 --> 01:02:00.840]  видимо.
[01:02:00.840 --> 01:02:08.080]  Вот это новая, новая, новая плоскость.
[01:02:08.080 --> 01:02:09.080]  Пока произвольное число.
[01:02:09.280 --> 01:02:21.280]  Дальше, вот пусть, я хочу сказать, что пусть вот эта
[01:02:21.280 --> 01:02:24.120]  вот та самая плоскость, которая задает одно из
[01:02:24.120 --> 01:02:27.680]  граней выпуклой оболочки, то есть пусть вот эта штука
[01:02:27.680 --> 01:02:42.000]  это плоскость, задающая одно из граней, граней выпуклой
[01:02:42.000 --> 01:02:43.000]  оболочки.
[01:02:43.000 --> 01:02:49.120]  Ну видимо, я любую плоскость могу так задать, потому
[01:02:49.120 --> 01:02:51.920]  что я ее могу опустить до касания с параболойдом,
[01:02:51.920 --> 01:02:54.560]  как получится как раз сначала вот это, потом я ее как-то
[01:02:54.560 --> 01:02:55.920]  обратно поднимаю на какой-то R квадрат.
[01:02:56.160 --> 01:03:01.680]  Вот, то есть я могу любую плоскость по факту, что
[01:03:01.680 --> 01:03:04.520]  такое плоскость, задающая одно из граней, это такая
[01:03:04.520 --> 01:03:07.160]  плоскость, проходящая через три или более точек нашего
[01:03:07.160 --> 01:03:10.880]  множества, такая, что все остальные строго выше.
[01:03:10.880 --> 01:03:14.880]  Что какие-то точки лежат на этой плоскости, лежат
[01:03:14.880 --> 01:03:16.960]  в этой грани, а все остальные строго выше.
[01:03:16.960 --> 01:03:19.960]  Я как раз рассматриваю нижнюю часть выпуклой оболочки,
[01:03:19.960 --> 01:03:22.760]  поэтому все остальные точки лежат выше, чем вот эта
[01:03:22.760 --> 01:03:23.760]  вот плоскость.
[01:03:24.600 --> 01:03:33.960]  Получается, что в этой плоскости лежат какие-то точки, а все
[01:03:33.960 --> 01:03:34.960]  остальные выше.
[01:03:39.960 --> 01:03:40.960]  Все остальные выше.
[01:03:53.960 --> 01:04:08.360]  Так, теперь давайте сделаем следующее.
[01:04:08.360 --> 01:04:12.960]  Давайте мы спроектируем вот этот вот эллипс, который
[01:04:12.960 --> 01:04:14.160]  является пересвечением.
[01:04:14.160 --> 01:04:15.880]  Я вообще не глупость говорю, что в пересвечении плоскости
[01:04:15.880 --> 01:04:16.880]  пробудет эллипс.
[01:04:16.880 --> 01:04:21.880]  Это похоже на правду?
[01:04:22.000 --> 01:04:27.000]  Гипербол, видимо, если у меня вертикальная.
[01:04:27.000 --> 01:04:32.000]  А здесь что?
[01:04:32.000 --> 01:04:35.000]  Не эллипс, думаете?
[01:04:35.000 --> 01:04:38.000]  Это какая-то кривая второго порядка, очевидно.
[01:04:38.000 --> 01:04:44.000]  Ну да, поэтому я так вольно говорю эллипс.
[01:04:44.000 --> 01:04:47.000]  Давайте я вот говорю, что это эллипс, тогда никого
[01:04:47.000 --> 01:04:48.000]  не корежет.
[01:04:48.120 --> 01:04:51.120]  Давайте назовем это эллипс тоже.
[01:04:51.120 --> 01:04:52.120]  Хороший план.
[01:04:52.120 --> 01:05:00.120]  Так вот, давайте этот эллипс спроектируем на плоскость.
[01:05:00.120 --> 01:05:16.120]  Спроектируем эллипс пересечения плоскости параболойда
[01:05:16.240 --> 01:05:19.240]  на плоскость z равная нулю.
[01:05:23.240 --> 01:05:28.240]  Я утверждаю, что получится круг с центром вa, b радиуса
[01:05:28.240 --> 01:05:29.240]  r.
[01:05:37.240 --> 01:05:38.240]  Почему?
[01:05:38.240 --> 01:05:41.240]  Ну потому что, что такое пересечение параболойда
[01:05:41.240 --> 01:05:44.240]  и вот этого вот безобразия этой плоскости?
[01:05:44.360 --> 01:05:47.360]  Это те точки, где вместо z стоит x квадрат плюс y
[01:05:47.360 --> 01:05:48.360]  квадрат.
[01:05:48.360 --> 01:05:53.360]  Поэтому то, что я хочу спроектировать, это точки удовлетворяющие
[01:05:53.360 --> 01:05:54.360]  вот такому равнению.
[01:06:00.360 --> 01:06:02.360]  Но если я это перепишу в нормальном виде, у меня
[01:06:02.360 --> 01:06:04.360]  как раз получится равнение окружности.
[01:06:09.360 --> 01:06:10.360]  Волшебным образом.
[01:06:10.480 --> 01:06:17.480]  Получается, что с точки зрения координата x, y это
[01:06:17.480 --> 01:06:20.480]  эллипс, то есть после проекции на z равная нулю, то есть
[01:06:20.480 --> 01:06:23.480]  если мы живем в плоскости вот этой вот нашей изначальной,
[01:06:23.480 --> 01:06:26.480]  то этот эллипс выглядит как круг, как окружность.
[01:06:26.480 --> 01:06:31.480]  Получается, что проекция это круг.
[01:06:34.480 --> 01:06:35.480]  Ну и более-менее все.
[01:06:35.480 --> 01:06:38.480]  Мы поняли, что смотрите, мы взяли какую-то плоскость,
[01:06:38.600 --> 01:06:39.600]  выعة вели плоскость через одно из граний.
[01:06:42.600 --> 01:06:44.960]  На этой грани, на этой плоскости лежали какие-то сайте,
[01:06:44.960 --> 01:06:47.960]  какие-то точки нашего множества, все остальные были выше.
[01:06:47.960 --> 01:06:49.760]  Теперь, когда я проекцирую на плоскость, у меня получается
[01:06:49.760 --> 01:06:50.760]  круг.
[01:06:50.760 --> 01:06:53.200]  То есть вместо вот этой вместо эллипса получается
[01:06:53.200 --> 01:06:56.200]  круг, на границе которого лежат как раз эти вот сайты,
[01:06:56.200 --> 01:06:58.920]  но потому что раз они лежали на плоскости, то они лежали
[01:06:58.920 --> 01:07:00.520]  как раз на границе круга после проекции.
[01:07:01.520 --> 01:07:04.920]  А все остальные сайты лежат выше эллипса, то есть вне
[01:07:04.920 --> 01:07:06.600]  круга.
[01:07:06.600 --> 01:07:12.360]  эллипса, когда вот здесь значок был больше, вот здесь вот значок был больше, выше значит z больше
[01:07:12.360 --> 01:07:16.980]  чем это, значит все остальные точки, которые стояли неравенственно вот здесь больше, значит здесь больше
[01:07:16.980 --> 01:07:23.720]  значит они лежали вне круга. Получается, что у нас получилось вот с точностью то, что мы хотели, что
[01:07:23.720 --> 01:07:29.880]  грань выпуклой оболочки проецируется в грань графа делана, то есть набор точек таких, что все остальные
[01:07:29.880 --> 01:07:36.480]  выше этой плоскости проецируются в круг, такой, что все на границе, а остальные вне, ну вот и
[01:07:36.480 --> 01:07:48.840]  получилось, что грань нижней выпуклой оболочки у нас проецировалась в грань графа делана,
[01:07:48.840 --> 01:07:59.560]  то есть здесь все точки должны были лежать выше плоскости, здесь все точки перешли в точки вне круга,
[01:07:59.560 --> 01:08:10.360]  то есть точки выше плоскости перешли в точки вне круга.
[01:08:10.360 --> 01:08:34.920]  Прикол. Это магия, мне кажется, какая-то честно говоря. Вот, то есть получается, что вместо того,
[01:08:34.920 --> 01:08:40.000]  что писать Fortune, можно было бы написать алгоритм по стороне выпуклой оболочки в 3D, то есть можно
[01:08:40.000 --> 01:08:44.880]  было бы поднять все точки с плоскости в пространство, запустить 3D выпуклую оболочку, дальше у вас
[01:08:44.880 --> 01:08:49.200]  построился многогранник с какими-то гранями, ну мы рассматриваем те из них, которые ориентированы
[01:08:49.200 --> 01:08:56.160]  как-то вот так вот, одну, то есть верхнюю часть отбрасываем и все все грани проецируем, они образуют
[01:08:56.160 --> 01:09:13.000]  грань графа делана. Ну, типа того, да, потому что если мы вспомним, как у нас работает выпуклая
[01:09:13.000 --> 01:09:17.200]  оболочка в 3D, у нас там каждая грань задается обходом против чего стрелки, если смотреть
[01:09:17.200 --> 01:09:36.040]  со внешности, ну из внешности многогранника, то есть, например, вот если вот, то есть по факту,
[01:09:36.040 --> 01:09:42.560]  после того, как вы написали выпуклую оболочку в 3D, у вас каждая грань имеет обход против всего стрелки,
[01:09:42.920 --> 01:09:49.220]  и, соответственно, вы знаете, куда торчит вектор нормалии из нее, ну вот если вектор нормалии
[01:09:49.220 --> 01:09:54.960]  который торчит в нему в внешности, но у вас все грань ориентирована, потому вы бы знаете,
[01:09:54.960 --> 01:09:58.780]  куда смотрит нормаль здесь нормально смотрит на нас, тут нормально куда-то туда,
[01:09:58.780 --> 01:10:02.780]  то нормально вверх там влево там вниз и так далее, вот ну и дальше просто по направлению вектора
[01:10:02.780 --> 01:10:09.340]  нормалей, если вверх смотрит, то это верхняя часть, если вниз, то нижняя, ну то есть, в смысле если z
[01:10:09.340 --> 01:10:23.300]  координата нормалия меньше равна нуля, тогда это не часть нижней, ну вот локальные
[01:10:23.300 --> 01:10:36.540]  физические мемы. Так, ну хорошо, хорошо, тогда давайте последнее, что скажу, это
[01:10:36.540 --> 01:10:49.540]  про двойственность вороновой делане и выпуклой оболочки в 3d и верхней огибающей. Значит,
[01:10:49.540 --> 01:10:54.980]  смотрите, мы с вами, когда строили граф деланы, мы по факту построили двойственный граф к диаграмме
[01:10:54.980 --> 01:11:02.700]  воронова. Мы говорили, что вершина это сайт, то есть по факту ячейка, у нас ячейки сайт это одно и
[01:11:02.700 --> 01:11:09.180]  тоже, а соединяю ребрами я такие ячейки, которые пересекаются, которые соседние. По факту это
[01:11:09.180 --> 01:11:26.460]  просто двойственный граф к плоскому графу. Да, кстати. Вот, значит, что-то похожее можно было бы
[01:11:26.540 --> 01:11:34.020]  сделать и в пространстве. Значит, я вот ожидаю следующее. Давайте альтернативный, ну то есть такой
[01:11:34.020 --> 01:11:41.660]  же алгоритм выхода в 3d для диаграммы воронова. Значит, смотрите, мы сделаем то же самое, опять,
[01:11:41.660 --> 01:11:50.500]  если у меня был набор точек, я построю параболоид, подниму каждую точку на параболоид и давайте скажем,
[01:11:50.500 --> 01:11:57.620]  что пусть h и t это полуплоскость, касательная полуплоскость к параболоиду в точке p и t с
[01:11:57.620 --> 01:12:14.500]  фолной. Касательная плоскость к параболоиду в точке p и t с фолной. То есть я каждую точку
[01:12:14.500 --> 01:12:22.780]  поднял на параболоид и вот здесь нависывал касательную плоскость h и t. Дальше, что такое,
[01:12:22.780 --> 01:12:28.220]  давайте определим, что такое верхняя огибающая этого семейства полуплоскостей. Просто плоскости,
[01:12:28.220 --> 01:12:41.740]  извините. Верхняя огибающая для h1 и так далее hm. Ну вот представьте, у вас вот есть параболоид,
[01:12:41.740 --> 01:12:50.140]  какой-то такой стаканчик и вы провели много-много касательных к нему полуплоскостей. Они там
[01:12:50.140 --> 01:13:00.100]  как-то пересекаются, что-то делают. Вот давайте мы в каждой точке плоскости проведем такой луч
[01:13:00.100 --> 01:13:09.140]  вертикально вверх и посмотрим самую верхнюю точку перчения этого луча с одной из плоскостей.
[01:13:09.140 --> 01:13:13.940]  То есть понятно, там много плоскостей пересекают один тот же луч. Давайте рассмотрим самую верхнюю
[01:13:13.940 --> 01:13:21.620]  точку пересечения. Вот это и будет верхняя огибающая. Можно написать так, что в каждой точке x,
[01:13:21.620 --> 01:13:34.660]  y на плоскости сопоставляется максимальная координата пересечения вертикального луча
[01:13:34.660 --> 01:13:56.180]  с одной из плоскостей. Либо можно так сказать, смотрите, вот у вас есть какие-то полуплоскости,
[01:13:56.180 --> 01:14:03.460]  по факту обрезающий ваш параболоид. Вот если мы сверху начнем наливать водичку в каждой точке,
[01:14:03.460 --> 01:14:10.980]  то она как раз будет падать до самой верхней полуплоскости. То, что у вас будет водичкой,
[01:14:10.980 --> 01:14:17.460]  это как раз верхняя огибающая. Нижняя граница водички, это верхняя огибающая. Ну вот,
[01:14:17.460 --> 01:14:29.980]  и тогда утверждается следующее, что диаграмма Воронова, она получается проекцией верхней
[01:14:29.980 --> 01:14:53.340]  огибающей вот этого семейства плоскостей. Проекция верхней огибающей. Да-да-да. Ну то есть мы
[01:14:53.340 --> 01:14:59.220]  проецируем граничные точки, то есть точки, ну вот эти вот лучи или отрезки пересечения. И это как
[01:14:59.220 --> 01:15:06.420]  раз проекция будет диаграммой Воронова. Вот. Ну доказывается, вот какой-то похожей техникой,
[01:15:06.420 --> 01:15:12.220]  вот тоже надо просто понять, что такое, а то даже еще проще. Надо понять, что такое вот эта вот
[01:15:12.220 --> 01:15:17.060]  максимальная Z-координата пересекающая какой-то вертикальный луч. То есть из всех таких плоскостей
[01:15:17.060 --> 01:15:22.380]  мы выбираем самую высокую. И можно показать, что эта самая высокая плоскость как раз соответствует
[01:15:22.380 --> 01:15:30.540]  самому близкому сайту. То есть вот если мы пускаем вертикальный луч, то самая высокая пересекающего
[01:15:30.540 --> 01:15:42.020]  плоскость соответствует самому близкому к нему сайту. Можно показать. Вот. И, значит в чем прикол.
[01:15:42.020 --> 01:15:46.620]  Смотрите, у нас есть с вами двойственность графа Дилане и диаграммы Воронова. Мы знаем,
[01:15:46.660 --> 01:15:55.580]  что они получаются друг из друга каким-то простым преобразованием. И более того, существует некая
[01:15:55.580 --> 01:16:00.500]  простая двойственность между вот этой вот нижней частью выпуклой оболочки и верхней
[01:16:00.500 --> 01:16:13.500]  огибающей вот этого семейства плоскостей. Это похоже на то, когда мы строили пересечение
[01:16:13.500 --> 01:16:18.220]  полуплоскостей. Я там говорил, давайте полуплоскости посортирую по углу и дальше там начну вот так
[01:16:18.220 --> 01:16:22.620]  заворачивать. Было очень похоже на выпуклую оболочку на плоскость. Здесь то же самое. Нижняя
[01:16:22.620 --> 01:16:28.860]  часть выпуклой оболочки и верхней огибающей для семейства плоскостей в пространстве это двойственная
[01:16:28.860 --> 01:16:39.700]  задача. Значит, а именно, если у меня был набор точек x и t, y и t, z и t, если по точке построить вот
[01:16:39.700 --> 01:16:58.380]  такую плоскость, вроде бы вот так, да, по-моему, ровно так. То есть, если я вот таким вот образом
[01:16:58.380 --> 01:17:07.820]  спарю точки и плоскости, да, ровно так, то у меня нижняя часть выпуклой облочки такого семейства
[01:17:07.820 --> 01:17:12.460]  точек будет совпадать с верхней огибающей, то есть, будет соответствовать верхней огибающей. То есть,
[01:17:12.460 --> 01:17:17.580]  те точки, которые участвуют здесь, в нижней части выпуклой оболочки, здесь участвуют в верхней
[01:17:17.580 --> 01:17:22.940]  части огибающей плоскостей. Ну и, соответственно, да, вот если здесь в этой задаче нам нужно было
[01:17:22.940 --> 01:17:28.260]  найти верхнюю огибающую для семейства плоскостей, мы можем эти плоскости сначала превратить в точки,
[01:17:28.260 --> 01:17:33.300]  то есть, на самом деле, отображение в обе стороны работает. Можно сначала плоскости отразвести
[01:17:33.300 --> 01:17:37.460]  с точками. Ну, на самом деле, это будут как раз вот те самые точки, потому что здесь все двойственное
[01:17:37.460 --> 01:17:41.420]  друг другу соответствует. Поэтому можно построить нижнюю часть вот этой вот выпуклой оболочки,
[01:17:41.420 --> 01:17:48.060]  отразвести их вот с этими плоскостями, и это и будет как раз верхней огибающей. То есть, короче,
[01:17:48.060 --> 01:17:53.820]  пафос в том, что двойственность диаграммы Вороновой графа Дилане позволяет нам что-то говорить
[01:17:53.820 --> 01:17:58.980]  про двойственность. То есть, на самом деле, в любом случае так работает, но можно, как бы, мы здесь
[01:17:58.980 --> 01:18:05.620]  на это выходим, что если у нас есть набор точек в пространстве, мы можем им сопоставить вот такие
[01:18:05.620 --> 01:18:11.260]  вот плоскости, и тогда задача нахождения здесь нижней выпуклой оболочки, а здесь верхней огибающей
[01:18:11.260 --> 01:18:17.420]  это одна и та же задача. Если вы умеете решать одно, то умеете решать другое. Здесь нижней выпуклой
[01:18:17.420 --> 01:18:29.700]  оболочка соответствует вот здесь вот верхней огибающей. Ну вот, на этом все.
