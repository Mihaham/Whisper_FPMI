[00:00.000 --> 00:10.000]  Итак, новая технология поиска поток, вот, вообще новая.
[00:10.000 --> 00:16.000]  Ну, на самом деле, я говорю именно технология, но это не технология, ну вот.
[00:16.000 --> 00:21.000]  Ну, потому что, на самом деле, то есть сейчас мы введем в партию все то, что можно назвать словом framework.
[00:21.000 --> 00:23.000]  Такое модное слово есть.
[00:23.000 --> 00:28.000]  Вот, там framework, на основе которого, на самом деле, можно придумать многое.
[00:30.000 --> 00:33.000]  Вот, framework, значит, будет работать так.
[00:33.000 --> 00:45.000]  Значит, смотрите, у нас, то есть первая аксема такая, что раньше мы искали потоки по принципу, ну там, разными способами, но все они упирались в одно.
[00:45.000 --> 00:50.000]  Мы каким-то образом нашли путь в остаточной сети и протолкнули по нему поток.
[00:50.000 --> 00:56.000]  То есть, таким образом, в каждый момент времени, условно говоря, у нас корректный поток, просто он может быть еще не максимальный.
[00:56.000 --> 00:58.000]  Ну, искали мы потоки.
[00:58.000 --> 01:03.000]  Да, там этот путь либо в тупую, ну либо там каким-то вот блокирующим поток.
[01:05.000 --> 01:07.000]  Значит, теперь мы сделаем немножко альтернативы.
[01:07.000 --> 01:19.000]  Мы себе сейчас разрешаем, значит, мы себе разрешаем, чтобы у нас в вершину втекало больше воды, чем вытекало.
[01:19.000 --> 01:21.000]  Временно.
[01:22.000 --> 01:25.000]  Это мы будем называть предпоток.
[01:27.000 --> 01:29.000]  Вот, значит, смотрите, то есть определение.
[01:30.000 --> 01:32.000]  То есть, вот давайте скажем f.
[01:36.000 --> 01:39.000]  Ну, давайте вот в программистских терминах напишем.
[01:39.000 --> 01:45.000]  E, значит, в соответственно R, ну как вы помните, у нас больше или в равно порядке.
[01:45.000 --> 01:47.000]  Это предпоток.
[01:50.000 --> 01:52.000]  Если, ну соответственно.
[01:53.000 --> 02:00.000]  Ну, во-первых, конечно, для любого ребра верно, что f от e меньше либо равно c от e.
[02:01.000 --> 02:03.000]  Да, и в данном случае больше либо равно нуля.
[02:03.000 --> 02:05.000]  Давайте я на всякий случай еще раз напишу, хотя я это уже писал.
[02:06.000 --> 02:19.000]  И второе, самое главное, где я напишу, что для любой вершины v не являющейся истоком истока.
[02:22.000 --> 02:24.000]  Значит, я напишу так, e от v.
[02:26.000 --> 02:27.000]  E от v.
[02:29.000 --> 02:31.000]  Лучше, конечно, больше либо равно нуля.
[02:32.000 --> 02:33.000]  Вот.
[02:34.000 --> 02:35.000]  Где?
[02:36.000 --> 02:38.000]  Ладно, e это плохо писать, потому что e у нас это ребро.
[02:39.000 --> 02:43.000]  Поэтому мы напишем excess от v больше либо равно нуля.
[02:44.000 --> 02:47.000]  Ну, я просто хочу отдельно написать, что такое excess.
[02:48.000 --> 02:54.000]  То есть excess от v это сумма всех втекающих потоков.
[02:55.000 --> 03:00.000]  Значит, e.finish равен v.
[03:01.000 --> 03:02.000]  f от e.
[03:07.000 --> 03:09.000]  Ну, я сейчас написал просто в программистском виде.
[03:10.000 --> 03:11.000]  Да.
[03:12.000 --> 03:18.000]  Если бы я писал это в математическом виде, то да, было бы просто сумма всех f.
[03:19.000 --> 03:20.000]  Сумма всех f от v, да.
[03:21.000 --> 03:24.000]  Ну, а на самом деле идеи на одно и то же.
[03:25.000 --> 03:26.000]  Вот.
[03:27.000 --> 03:32.000]  То есть видите, то есть отличие на самом деле от потока, только то, что...
[03:33.000 --> 03:38.000]  То есть на самом деле заметим, что поток это такой предпоток, у которого все excess равны нуля.
[03:39.000 --> 03:42.000]  То есть как excess, это называется вообще избыток по-русски.
[03:44.000 --> 03:47.000]  Нормальное такое русское слово.
[03:50.000 --> 03:53.000]  И будем теперь говорить, что вершина v.
[03:57.000 --> 03:59.000]  Переполненная.
[04:04.000 --> 04:06.000]  Переполненная.
[04:07.000 --> 04:14.000]  Если, соответственно, excess от v больше нуля.
[04:17.000 --> 04:18.000]  Ну, это я просто такой вот цеплен был.
[04:19.000 --> 04:21.000]  Такая ничего страшного в этом мире.
[04:22.000 --> 04:23.000]  Вот.
[04:24.000 --> 04:25.000]  Но это не вся технология.
[04:26.000 --> 04:31.000]  Теперь мы, то есть забирать сразу скажем, что поток мы будем теперь искать, что мы будем...
[04:32.000 --> 04:35.000]  Вот у нас будут в некоторых вершинах избытки, и мы эти избытки будем куда-то проталкивать.
[04:37.000 --> 04:40.000]  Но тоже мы их будем проталкивать совершенно не от балды.
[04:43.000 --> 04:49.000]  Значит, дело в том, что помимо этого мы введем функцию h.
[04:50.000 --> 04:57.000]  Значит, теперь у каждой, значит, этот избыток будет еще и связан как-то с высотой.
[04:58.000 --> 05:02.000]  То есть мы, то есть высота, это функция, это такая функция.
[05:05.000 --> 05:13.000]  Значит, функция, соответственно, из тоже v в z больше либо равно нуля.
[05:14.000 --> 05:16.000]  То есть высота у нас целая не отрицается.
[05:17.000 --> 05:18.000]  Вот.
[05:22.000 --> 05:25.000]  И теперь смотрите, какая ситуация.
[05:26.000 --> 05:28.000]  Значит, высота, ну вот, то есть высота это непросто.
[05:29.000 --> 05:32.000]  Значит, она иногда меняется, но у нее есть тоже важный аксел.
[05:33.000 --> 05:37.000]  Значит, во-первых, у истока и истока высоты не меняются никогда.
[05:38.000 --> 05:42.000]  Высота s равна, соответственно, модулю v.
[05:43.000 --> 05:46.000]  Ht всегда равна нулю.
[05:48.000 --> 05:49.000]  Это раз.
[05:54.000 --> 05:55.000]  И теперь есть два.
[06:00.000 --> 06:05.000]  А теперь говорим, что для любого, так сказать, вот как бы это написать?
[06:09.000 --> 06:10.000]  Вот так напишем.
[06:13.000 --> 06:18.000]  Для любого ребра в, вот в нашей технологии напишем, в остаточной сети.
[06:21.000 --> 06:31.000]  Причем не просто ребра остаточной сети, да, вот чтобы во избежание кривотолков сразу спрашиваем, у которого c, вот эта остаточная пропускная способность, больше нуля.
[06:33.000 --> 06:40.000]  То есть для любого ребра в остаточной сети, по которому еще можно что-то пустить, ну потому что у нас в остаточной сети по этой ребре ничего нельзя пустить, но они нас сейчас не интересуют.
[06:40.000 --> 06:45.000]  В общем, для любого ребра, по которому можно что-то пустить еще, в чем как прямого, так и обратно.
[06:46.000 --> 06:49.000]  Верно, маленькая приятная вещь.
[06:49.000 --> 07:14.000]  Значит, высота конца этого ребра, ну вот она как минимум, как минимум, это как минимум высота стартовой вершины.
[07:15.000 --> 07:22.000]  Это как минимум высота стартовой вершины, минус один.
[07:22.000 --> 07:34.000]  А это вообще возможно?
[07:35.000 --> 07:36.000]  А что такое?
[07:37.000 --> 07:41.000]  Если у нас есть какой-то короткий путь из...
[07:42.000 --> 07:46.000]  А, в смысле, ладно, мы же еще не говорили о том, на каких шагах.
[07:47.000 --> 07:50.000]  Вот, значит мы будем поддерживать вот такой вариант.
[07:53.000 --> 07:55.000]  Вот.
[07:56.000 --> 08:04.000]  Ну, конечно же, в самом начале, конечно, ну правда, да, то есть действительно выясняет естественный вопрос, что в самом начале это очень странно.
[08:05.000 --> 08:17.000]  Потому что кажется, что, например, если у нас есть ребра из С в Т, допустим, да, то тогда эти ребра будут изначально просто сразу противоречить вот этой орсеоне.
[08:18.000 --> 08:21.000]  Но они не будут это делать.
[08:22.000 --> 08:27.000]  То есть если у нас любой путь из С в Т не проходя через все вершины, нет?
[08:28.000 --> 08:29.000]  Ну, практически да.
[08:30.000 --> 08:31.000]  Вот.
[08:32.000 --> 08:36.000]  Ну, на самом деле, смотрите, ну тут, на самом деле, чем это вообще приятно?
[08:37.000 --> 08:39.000]  Эта штука на самом деле приятна вот чем.
[08:40.000 --> 08:43.000]  Что сразу давайте вот тогда, чтобы там раздаваться, смотреть.
[08:43.000 --> 08:47.000]  Предположим, что у нас нашелся поток, даже не предпоток.
[08:48.000 --> 08:56.000]  Ну, в общем, пусть у нас будет предпоток, то пусть у нас сейчас будет поток и какой-то набор высот, удовлетворяющий вот этим условиям.
[09:00.000 --> 09:02.000]  Тогда я утверждаю, что этот поток максимальный.
[09:07.000 --> 09:08.000]  Загадываетесь почему?
[09:08.000 --> 09:14.000]  Потому что это условие невозможно удовлетворить, если есть хоть один путь из С в Т.
[09:15.000 --> 09:19.000]  Ну да, то есть действительно, если в остаточной сети есть путь по ненасыщенным ребрам из С в Т,
[09:20.000 --> 09:24.000]  то учитывая, что каждый переход по ребру уменьшает высоту не более чем на один,
[09:25.000 --> 09:29.000]  то получается, что, чтобы дойти до Т, вам нужно сделать хотя бы модуль В шагов.
[09:30.000 --> 09:34.000]  А вы столько шагов не сделаете, у вас там любой простой путь может быть максимальный.
[09:35.000 --> 09:40.000]  То есть по сути, вам нужно просто будет найти высоту, высоту между В и ноль,
[09:41.000 --> 09:44.000]  на которой нет ни одной вершины, а такая по принципу делихали найдется.
[09:45.000 --> 09:51.000]  И просто заявить, что давайте у нас будет разрез, что доля С все шо выше, доля Т все шо ниже.
[09:53.000 --> 09:54.000]  Понимаете, да?
[09:55.000 --> 10:01.000]  То есть поэтому наша цель будет подогнать такой поток, вот такой.
[10:02.000 --> 10:05.000]  То есть найти какой-нибудь поток и подогнать какие-то высоты.
[10:09.000 --> 10:10.000]  Вот, ну как же это делать?
[10:11.000 --> 10:15.000]  Но оказывается, и это мы тоже будем делать не обыкаким образом.
[10:18.000 --> 10:22.000]  А технология будет заключаться, значит технология теперь заключается в следующем.
[10:23.000 --> 10:26.000]  Ну то есть там разные варианты, но металгоритм будет такой.
[10:26.000 --> 10:38.000]  То есть такой, так сказать, мета-алгоритм, так сказать, нашего Эндрю, Вячеслав, Владислав,
[10:39.000 --> 10:40.000]  соответственно, Голдберг.
[10:42.000 --> 10:44.000]  Значит, он предлагает следующее.
[10:46.000 --> 10:49.000]  Значит, первый шаг, в чем первый шаг вполне алгоритмический.
[10:50.000 --> 10:54.000]  Значит, первый шаг, в чем первый шаг вполне алгоритмический.
[10:55.000 --> 10:58.000]  Значит, присваиваем все высоты, равно нулю.
[10:59.000 --> 11:01.000]  Значит, h от s равно 0 в, пардон.
[11:03.000 --> 11:09.000]  Значит, h от t, ну, h от, все остальные вершины равно нулю.
[11:10.000 --> 11:13.000]  Где v это вот просто любое, любой неисток.
[11:17.000 --> 11:18.000]  Это во-первых.
[11:20.000 --> 11:22.000]  Да, пока это еще все некорректно.
[11:23.000 --> 11:25.000]  Но все, но корректно сейчас все станет после второго шара.
[11:26.000 --> 11:27.000]  А второй шаг.
[11:28.000 --> 11:29.000]  Наполните серебра из s.
[11:30.000 --> 11:31.000]  Да, я так это назову.
[11:32.000 --> 11:37.000]  Насытить все ребра из s.
[11:37.000 --> 11:38.000]  Да.
[11:46.000 --> 11:50.000]  То есть, это по сути, эти два шага, по сути, инициализация.
[11:51.000 --> 11:56.000]  То есть, после этого заметим, что у нас в графе имеется предпоток абсолютно корректный.
[11:57.000 --> 11:58.000]  Видите, да?
[11:59.000 --> 12:04.000]  То есть, абсолютно корректный предпоток, удовлетворяющий действительно вот этим вот высотам.
[12:05.000 --> 12:06.000]  Видите, да?
[12:08.000 --> 12:09.000]  Вот.
[12:10.000 --> 12:13.000]  Ну, а чтобы довершить его до потока, все.
[12:14.000 --> 12:15.000]  m это что?
[12:16.000 --> 12:17.000]  m? Это модуль v.
[12:18.000 --> 12:23.000]  Нет, m это не модуль v, m просто не существует.
[12:28.000 --> 12:29.000]  Что это за разорванная m?
[12:38.000 --> 12:41.000]  Ну, а чтобы превратить этот предпоток в поток.
[12:46.000 --> 12:47.000]  Ну вот.
[12:50.000 --> 12:51.000]  Ну вот.
[12:56.000 --> 12:58.000]  Вот дальше сейчас я напишу некоторое заклинание.
[12:59.000 --> 13:04.000]  Выполняем, скажу я, в некотором порядке.
[13:04.000 --> 13:06.000]  В некотором порядке.
[13:07.000 --> 13:08.000]  В некотором порядке.
[13:09.000 --> 13:12.000]  Вот это слово некоторые превращает алгоритм в металгоритм, собственно.
[13:16.000 --> 13:17.000]  Порядки.
[13:19.000 --> 13:20.000]  Порядки.
[13:21.000 --> 13:22.000]  Операции.
[13:26.000 --> 13:27.000]  Уж.
[13:29.000 --> 13:30.000]  И релейбл.
[13:31.000 --> 13:33.000]  Ну и в других редакциях лифт.
[13:35.000 --> 13:37.000]  Мы ее будем называть релейбл.
[13:39.000 --> 13:40.000]  Пока.
[13:44.000 --> 13:47.000]  Не останется.
[13:53.000 --> 13:54.000]  Ни одной.
[14:01.000 --> 14:02.000]  Ладно, так.
[14:03.000 --> 14:04.000]  I don't speak Russian.
[14:05.000 --> 14:06.000]  I don't speak English.
[14:10.000 --> 14:12.000]  I can't speak German, etc.
[14:14.000 --> 14:15.000]  Пока.
[14:17.000 --> 14:18.000]  Ну вот, есть.
[14:21.000 --> 14:22.000]  Хотя бы.
[14:23.000 --> 14:24.000]  Одна.
[14:24.000 --> 14:25.000]  Вершина В не исток.
[14:28.000 --> 14:29.000]  С.
[14:30.000 --> 14:31.000]  Excess от В.
[14:33.000 --> 14:34.000]  Больше 0.
[14:39.000 --> 14:40.000]  Вот такая мета.
[14:41.000 --> 14:42.000]  Тихон.
[14:44.000 --> 14:45.000]  Вот.
[14:45.000 --> 14:46.000]  Такая вот магия.
[14:47.000 --> 14:49.000]  Да, мы пока не знаем, что такое push-re-label.
[14:49.000 --> 14:52.000]  Но замечаем, что если нам удастся выполнить push-re-label
[14:52.000 --> 14:56.000]  и добиться того, что ни одной вершины success от В больше 0 нет,
[14:56.000 --> 14:59.000]  то тогда это действительно мы нашли максимальный поток.
[14:59.000 --> 15:00.000]  Согласны?
[15:01.000 --> 15:03.000]  Как мы уже только что выяснили.
[15:05.000 --> 15:06.000]  Но обратите внимание.
[15:06.000 --> 15:08.000]  То есть пункт 3 на самом деле явно подразумевает,
[15:08.000 --> 15:12.000]  что сетью вы делаете, ну самой сетью, только push-re-label.
[15:13.000 --> 15:15.000]  Но мы не знаем, что такое push-re-label.
[15:15.000 --> 15:18.000]  Сетью вы делаете, ну самой сетью, только push-re-label.
[15:20.000 --> 15:22.000]  То есть именно, ну вот.
[15:23.000 --> 15:28.000]  То есть больше, ну то есть все остальное, это вы делаете сетью как-то вот не ясно.
[15:30.000 --> 15:31.000]  Значит, смотрите.
[15:31.000 --> 15:34.000]  В общем, сеть в данном случае даже имеет расширенное понятие,
[15:34.000 --> 15:37.000]  потому что мы к вершинам еще и вцепляем вот Аши.
[15:38.000 --> 15:40.000]  Значит, теперь пришло время понять,
[15:40.000 --> 15:44.000]  значит, каким же образом мы модифицируем, проталкиваем потоки и изменяем Аши.
[15:44.000 --> 15:47.000]  Но на самом деле тут разделение труда еще более простое.
[15:48.000 --> 15:52.000]  Дело в том, что push на самом деле,
[15:53.000 --> 15:57.000]  то есть дело в том, что у нас push конкретно будет отвечать за проталкивание воды,
[15:58.000 --> 16:02.000]  а не label будет отвечать за то, чтобы вершину поднять.
[16:04.000 --> 16:05.000]  Вот, понятно?
[16:07.000 --> 16:08.000]  Извините, я вызываю.
[16:08.000 --> 16:09.000]  Извините, я вызываю.
[16:09.000 --> 16:10.000]  Да.
[16:12.000 --> 16:13.000]  Значит, а именно.
[16:13.000 --> 16:14.000]  Значит, поехали.
[16:14.000 --> 16:17.000]  Значит, теперь пришло время тогда более точно сказать,
[16:18.000 --> 16:19.000]  что конкретно такой push.
[16:20.000 --> 16:21.000]  Значит, смотрите.
[16:23.000 --> 16:29.000]  Значит, push принимает на вход ребро Z.
[16:32.000 --> 16:33.000]  Такое, что.
[16:33.000 --> 16:38.000]  Значит, то есть это, значит, ребро в остаточной сети
[16:39.000 --> 16:40.000]  и, конечно же, оно ненасыщенное.
[16:43.000 --> 16:44.000]  F от E вот так скажем.
[16:46.000 --> 16:49.000]  Ну, точнее так, остаточная вот эта пропускная способность C, F от E,
[16:50.000 --> 16:52.000]  она строго больше 0.
[16:56.000 --> 16:58.000]  А также еще один важный момент,
[16:59.000 --> 17:01.000]  то есть если брать пререквизиты,
[17:01.000 --> 17:05.000]  то еще требуется, что, значит,
[17:06.000 --> 17:13.000]  значит, E.start не равно S и T.
[17:17.000 --> 17:20.000]  Finish, пожалуйста, а вот start, боже упаси.
[17:21.000 --> 17:22.000]  И еще для нас важно,
[17:22.000 --> 17:31.000]  чтобы excess от E.start был строго больше 0.
[17:32.000 --> 17:34.000]  То есть смысл очень простой,
[17:35.000 --> 17:36.000]  смысл очень простой,
[17:37.000 --> 17:39.000]  то есть чтобы выполнить push по ребро,
[17:40.000 --> 17:42.000]  то есть цель push'а протолкнуть воду по ребро.
[17:43.000 --> 17:45.000]  Но для этого нужно, чтобы, во-первых, ребро было ненасыщенное,
[17:46.000 --> 17:51.000]  во-вторых, чтобы, так сказать, из стартовой вершины было что пихать.
[17:53.000 --> 17:55.000]  Но есть еще и третье важное требование.
[17:56.000 --> 17:58.000]  Важное требование заключается в том,
[17:59.000 --> 18:05.000]  чтобы на этот раз H от E.finish,
[18:07.000 --> 18:13.000]  на этот раз был равен H от E.start
[18:15.000 --> 18:17.000]  минус 1.
[18:17.000 --> 18:23.000]  То есть вот вспомнили, у нас теперь еще будут высоты.
[18:24.000 --> 18:29.000]  То есть и мы говорим, что вода у нас пропускается только если ребро смотрит вниз.
[18:30.000 --> 18:31.000]  Причем рога на 1.
[18:32.000 --> 18:33.000]  Ну, а нижаная не строй.
[18:34.000 --> 18:39.000]  Мы говорим, что слишком низко у нас под крутым углом трубы у нас не идут,
[18:40.000 --> 18:42.000]  но если труба идет вверх, то воду мы по ней не пускаем.
[18:43.000 --> 18:45.000]  А то нас ждет интеллектуальная душа.
[18:46.000 --> 18:47.000]  Вот.
[18:48.000 --> 18:49.000]  Так вот.
[18:50.000 --> 18:52.000]  Это, соответственно, пререквизиты.
[18:54.000 --> 18:56.000]  То есть сам по себе push.
[18:57.000 --> 18:58.000]  Что он делает?
[18:59.000 --> 19:02.000]  Ну, естественно, он пускает максимально возможное число воды по этому ребру.
[19:05.000 --> 19:08.000]  То есть, то есть, вот так вот, push.
[19:09.000 --> 19:10.000]  Так, требование.
[19:10.000 --> 19:11.000]  Значит, требования такие.
[19:12.000 --> 19:15.000]  А действие будет, ну, формально его можно писать так.
[19:16.000 --> 19:19.000]  Delta просто присвоит минимум из того, что есть.
[19:27.000 --> 19:29.000]  И, соответственно, то, что можем пустить.
[19:30.000 --> 19:31.000]  C, F от E.
[19:31.000 --> 19:32.000]  Ну, а, соответственно.
[19:35.000 --> 19:36.000]  Ну, значит, говорится.
[19:37.000 --> 19:39.000]  Ну, и говорим, соответственно, вот так скажем.
[19:40.000 --> 19:41.000]  Пустить.
[19:42.000 --> 19:45.000]  Delta по ребру E.
[19:47.000 --> 19:48.000]  Ну, я так сразу напишу.
[19:49.000 --> 19:50.000]  Понятно там.
[19:51.000 --> 19:52.000]  По тематической интерпретации.
[19:53.000 --> 19:54.000]  По тематической интерпретации.
[19:55.000 --> 19:56.000]  По тематической интерпретации.
[19:56.000 --> 19:57.000]  Ну, я так сразу напишу.
[19:58.000 --> 19:59.000]  Понятно там.
[20:00.000 --> 20:01.000]  По тематической интерпретации.
[20:02.000 --> 20:04.000]  Подразумевал, что F от U, V плюс равно delta.
[20:05.000 --> 20:06.000]  F от V у минус равно delta.
[20:07.000 --> 20:08.000]  И еще эксцессы там пересчитать.
[20:09.000 --> 20:10.000]  Ну, думаю, все понятно.
[20:11.000 --> 20:12.000]  Понятно?
[20:13.000 --> 20:14.000]  Да.
[20:15.000 --> 20:16.000]  Окей.
[20:17.000 --> 20:18.000]  То есть, обратите внимание.
[20:19.000 --> 20:20.000]  То есть, вот такой push.
[20:21.000 --> 20:22.000]  Только он будет пускать воду.
[20:23.000 --> 20:24.000]  Только он будет пускать воду.
[20:24.000 --> 20:25.000]  Он будет пускать воду.
[20:26.000 --> 20:28.000]  При этом высоты он не меняет от слова никак.
[20:29.000 --> 20:30.000]  Обратите на это внимание.
[20:31.000 --> 20:32.000]  Понимаете, да?
[20:34.000 --> 20:37.000]  У нас E.start на брюкдане равно S и T.
[20:38.000 --> 20:39.000]  Да.
[20:40.000 --> 20:43.000]  И push единственная операция с ребрами, которые у нас есть.
[20:44.000 --> 20:45.000]  Да.
[20:46.000 --> 20:47.000]  В смысле?
[20:48.000 --> 20:49.000]  Не, не, я не об этом.
[20:50.000 --> 20:53.000]  И о том, что у нас вообще будет момент, когда мы куда-нибудь...
[20:54.000 --> 20:55.000]  Когда мы уменьшаем суммарный поток.
[20:56.000 --> 20:58.000]  Да, когда мы уменьшаем суммарный поток вообще.
[20:59.000 --> 21:00.000]  Ответ очень простой.
[21:01.000 --> 21:03.000]  Start в эгошине не должна быть равна S и T.
[21:04.000 --> 21:06.000]  Совсем формально математически, кстати, лучше это, наверное, вот так.
[21:07.000 --> 21:09.000]  А, мы типа можем протолкнуть обратно в S?
[21:10.000 --> 21:11.000]  Совершенно верно.
[21:12.000 --> 21:13.000]  И мы будем это делать.
[21:14.000 --> 21:15.000]  Столько у нас будут вершины выше, чем...
[21:16.000 --> 21:17.000]  Да.
[21:18.000 --> 21:20.000]  Да, то есть, помните, вода может деться куда.
[21:21.000 --> 21:22.000]  Либо в T, либо в S.
[21:22.000 --> 21:23.000]  Ну, в S вернуться обратно.
[21:26.000 --> 21:27.000]  Кайф.
[21:28.000 --> 21:29.000]  Так что вот такая красота.
[21:30.000 --> 21:34.000]  Но для того, чтобы вершины стали выше S, наверное, высоты должны как-то меняться.
[21:35.000 --> 21:36.000]  Да, нет.
[21:37.000 --> 21:39.000]  Потому что, скажем, в самом начале, например, мы ни одного pushа выполнить не можем.
[21:41.000 --> 21:44.000]  Справиться с этим нам помогают...
[21:47.000 --> 21:48.000]  Так.
[21:49.000 --> 21:50.000]  Функция reliable.
[21:53.000 --> 21:54.000]  Так, смотрите.
[21:56.000 --> 21:58.000]  Итак, функция reliable от V.
[22:01.000 --> 22:02.000]  Требования.
[22:09.000 --> 22:11.000]  Значит, требования пишем.
[22:12.000 --> 22:14.000]  Во-первых, вершина V – это вершина.
[22:15.000 --> 22:17.000]  Да, как всегда, не исток и несток.
[22:18.000 --> 22:20.000]  То есть, исток исток у нас навсегда появится.
[22:22.000 --> 22:24.000]  Своим, соответственно, местам на стенке.
[22:26.000 --> 22:27.000]  И что еще?
[22:28.000 --> 22:34.000]  А, и, конечно, еще важно, чтобы excess от V был больше 0.
[22:35.000 --> 22:36.000]  Excess?
[22:37.000 --> 22:38.000]  Да.
[22:39.000 --> 22:40.000]  Вот.
[22:41.000 --> 22:42.000]  А.
[22:43.000 --> 22:44.000]  Нет.
[22:45.000 --> 22:46.000]  Еще один.
[22:47.000 --> 22:49.000]  Нельзя выполнить push.
[22:50.000 --> 22:51.000]  Нигде в графе.
[22:52.000 --> 22:53.000]  Нет.
[22:54.000 --> 22:55.000]  Нельзя выполнить push из вершины V.
[22:56.000 --> 22:58.000]  То есть, по любому ребру из вершины V.
[22:59.000 --> 23:04.000]  Push от E с E.start равновое.
[23:10.000 --> 23:14.000]  Ну, то есть, для каждой вершины, если из нее можно куда-то по комнату ребру сделать push, делай push.
[23:15.000 --> 23:19.000]  А вот когда push нельзя делать, вот тогда возвышайтесь.
[23:20.000 --> 23:23.000]  Это были требования.
[23:24.000 --> 23:25.000]  А что делать?
[23:26.000 --> 23:27.000]  Ну, идея очень проста.
[23:28.000 --> 23:37.000]  Раз push нельзя сделать, а от избытка надо избавиться, значит, надо просто поднять вершину так, чтобы push выполнить было можно.
[23:38.000 --> 23:42.000]  Ну, с этим условием, на самом деле, куда ее повышать, в общем-то, все происходит однозначно.
[23:44.000 --> 23:46.000]  То есть, ну, давайте я вот тут напишу.
[23:46.000 --> 23:47.000]  Действие.
[23:49.000 --> 23:50.000]  Вот очень простое.
[23:52.000 --> 23:58.000]  То есть, h от V просто мы пересчитаем 1 плюс минимум.
[24:02.000 --> 24:08.000]  Минимум из, значит, соответственно, h от E.finish.
[24:08.000 --> 24:16.000]  Такое, что E это ребро, торчащее из вершины V.
[24:20.000 --> 24:23.000]  Ну и, соответственно, EF, конечно.
[24:24.000 --> 24:25.000]  Не путать, да.
[24:26.000 --> 24:28.000]  То есть, не в исходной сети, а именно в остаточной.
[24:29.000 --> 24:34.000]  И, конечно же, значит, по которой можно еще что-то делать.
[24:35.000 --> 24:41.000]  То есть, когда мы говорим ребра, нас вообще интересуют только ребра, по которым вас что-то пропихнут.
[24:42.000 --> 24:47.000]  Вот в некоторых терминологиях вообще там считают, что у нас существует только ребра ненасыщенные.
[24:48.000 --> 24:50.000]  Если они насыщенные, то их типа нет.
[24:53.000 --> 24:54.000]  Вот.
[24:55.000 --> 25:02.000]  Ну, то есть, обратите внимание, это все, что мы можем сделать для того, чтобы из этой вершины можно было что-то пропихивать и при этом не нарушить вариант.
[25:04.000 --> 25:05.000]  Вот.
[25:08.000 --> 25:11.000]  Так что вот такая ситуация.
[25:14.000 --> 25:15.000]  Вот.
[25:16.000 --> 25:22.000]  То есть, ну, по большому счету, то есть, действительно, на самом деле, операция достаточно жесткая.
[25:24.000 --> 25:32.000]  То есть, заметите, если мы тыкнули в вершину, то из вершины можно, с избытком, можно выполнить только либо push, либо relabel.
[25:33.000 --> 25:35.000]  Хотя, нет, по-хорошему, на самом деле, еще вопрос.
[25:36.000 --> 25:40.000]  То есть, как говорится, то есть, на самом деле, теперь вот вопрос о корректности мета-алгоритма.
[25:42.000 --> 25:48.000]  Вот, предположим, мы делаем, делаем, делаем, делаем вот эти вот, выполняем push и relabel, и потом в какой-то момент выясняется.
[25:50.000 --> 25:51.000]  Ну, что может выясниться?
[25:52.000 --> 25:57.000]  Ну, во-первых, да, если выяснилось, что ни одного эксцесса больше нуля нет, значит все, мы поняли, это поток, он максимальный, мы победим.
[25:58.000 --> 25:59.000]  Ну, теперь у меня есть какая-то вопрос.
[26:00.000 --> 26:09.000]  А не может ли быть так, что у нас есть вершина, допустим, с эксцессом, для несколько, вот, то есть, есть вершина, но из нее нельзя выполнить ни push, ни relabel?
[26:10.000 --> 26:11.000]  Нет.
[26:12.000 --> 26:13.000]  Почему?
[26:14.000 --> 26:20.000]  Ну, если из нее, ну, давайте сначала, если из нее можно сделать push, то можно сделать push, теперь пусть из нее нельзя сделать push.
[26:21.000 --> 26:24.000]  Тогда у нее, но при этом у нее эксцесс больше нуля, понятное дело.
[26:25.000 --> 26:26.000]  Да.
[26:26.000 --> 26:27.000]  А не если ты, понятное дело.
[26:28.000 --> 26:29.000]  Да.
[26:30.000 --> 26:36.000]  А, тогда почему из нее может не быть, может быть невозможно сделать relabel?
[26:37.000 --> 26:41.000]  Только если поднятие ее высоты, сейчас из нее нет сходящих ребер.
[26:42.000 --> 26:43.000]  Ну, не нашли все.
[26:44.000 --> 26:45.000]  Да.
[26:46.000 --> 26:51.000]  Значит, может ли изменение ее высоты в плюс нарушить вариант на входящих в нее ребер?
[26:52.000 --> 26:53.000]  Нет, не может.
[26:54.000 --> 26:55.000]  Нет, на входящих-то не может.
[26:56.000 --> 26:59.000]  То есть, вот, может быть, действительно, а вдруг этих исходящих из нее ребер нет вообще?
[27:00.000 --> 27:02.000]  И, на самом деле, вот этот минимум тупо некорректен.
[27:03.000 --> 27:05.000]  В обстоточной сети всегда есть исходящие ребра.
[27:06.000 --> 27:07.000]  Э, они насыщенные.
[27:08.000 --> 27:11.000]  Ну, вот, в обстоточной сети всегда есть ненасыщенные исходящие ребра.
[27:12.000 --> 27:13.000]  Почему?
[27:14.000 --> 27:19.000]  Потому что сумма по любой вершине, ну, не совсем ноль сейчас, как это нормально сказать.
[27:20.000 --> 27:24.000]  Ну, если насыщенное ребро прямое, то ненасыщенное обратное.
[27:25.000 --> 27:26.000]  Ну, откровенно говоря, да.
[27:27.000 --> 27:33.000]  То есть, действительно, если, да, то есть, действительно, если у нас у вершины есть избыток, значит, в нее втекает больше, чем вытекает.
[27:34.000 --> 27:36.000]  Значит, в нее что-то втекает.
[27:37.000 --> 27:38.000]  О-о-о.
[27:39.000 --> 27:44.000]  А раз что-то втекает, значит, есть обратное ребро, обратное ненасыщенное ребро, по которому этот поток можно отменить.
[27:45.000 --> 27:46.000]  Да.
[27:46.000 --> 27:54.000]  Поэтому, если вершина имеет, соответственно, не нулевой избыток, значит, из нее этот избыток можно куда-то деть.
[27:55.000 --> 28:01.000]  Ну, в смысле, по камере, существует ребро, по которому теоретически можно было бы деть, если бы это был Сашка.
[28:02.000 --> 28:03.000]  Да.
[28:04.000 --> 28:07.000]  Но, значит, действительно, хорошо.
[28:08.000 --> 28:12.000]  Но, правда, вытекает такой следующий, на самом деле, тоже относительно корректный вопрос.
[28:12.000 --> 28:16.000]  А почему это не зациклите на бесконечности и у нас не будет двадцать девятой высоты?
[28:17.000 --> 28:18.000]  Потому что высота не больше, чем 2В.
[28:19.000 --> 28:20.000]  Наверное. Я очень надеюсь на это.
[28:21.000 --> 28:22.000]  Почему именно 2В?
[28:23.000 --> 28:25.000]  Ну, иначе мы до старта не дадим вам ничего такого.
[28:26.000 --> 28:27.000]  А-а-а, действительно.
[28:28.000 --> 28:35.000]  Вот, действительно, кажется, что, а вдруг действительно так случится, что эти пушеры, лейбл, у нас будут там действительно выполняться до скончания века и зациклятся.
[28:38.000 --> 28:39.000]  Вот.
[28:39.000 --> 28:40.000]  Ну, а, на самом деле, действительно.
[28:41.000 --> 28:42.000]  Да, очень да.
[28:43.000 --> 28:50.000]  Но, на самом деле, справиться с этим нам помогает следующий приятный факт.
[28:54.000 --> 29:01.000]  Значит, такой весьма, может быть, неожиданный, но в нашем случае очень-очень-очень приятный.
[29:01.000 --> 29:02.000]  Очень приятно.
[29:08.000 --> 29:10.000]  Значит, мистическое утверждение.
[29:15.000 --> 29:16.000]  Мистическое утверждение звучит так.
[29:17.000 --> 29:40.000]  Если, значит, если f, значит, соответственно, предпоток, значит, v, соответственно, неисток и неисток, но вершина при этом, и у нее не нулевой избыток,
[29:40.000 --> 30:08.000]  то, внимание, в остаточной сети существует путь из v в s по ненасыщенным ребрам.
[30:10.000 --> 30:11.000]  Ачев.
[30:11.000 --> 30:12.000]  Что?
[30:12.000 --> 30:13.000]  Ачев.
[30:13.000 --> 30:14.000]  Ачев?
[30:14.000 --> 30:15.000]  Ой-ой.
[30:15.000 --> 30:16.000]  Ну, и как докажешь?
[30:16.000 --> 30:19.000]  Ну, она же туда как-то что-то втекает.
[30:19.000 --> 30:20.000]  И что?
[30:20.000 --> 30:22.000]  Ну, притекло, откуда есть путь.
[30:22.000 --> 30:23.000]  И что?
[30:23.000 --> 30:27.000]  А потом там остальное, а потом те ребра потом притекло, зело и отменилось.
[30:27.000 --> 30:28.000]  И что?
[30:28.000 --> 30:29.000]  И почему путь существует?
[30:29.000 --> 30:30.000]  Что?
[30:30.000 --> 30:31.000]  Ну, мало ли.
[30:31.000 --> 30:32.000]  Ладно, хорошо.
[30:32.000 --> 30:33.000]  Я тоже докажу.
[30:33.000 --> 30:34.000]  Ну, вот.
[30:34.000 --> 30:35.000]  Ну, вот.
[30:35.000 --> 30:42.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно легко, иногда там хочется это просто по индукции доказывать, да?
[30:42.000 --> 30:43.000]  Ну.
[30:43.000 --> 30:44.000]  Ну, вот.
[30:44.000 --> 30:45.000]  Ну, вот.
[30:45.000 --> 30:46.000]  По пушам или лейблам?
[30:46.000 --> 30:47.000]  Что после каждого пуша и после каждого лейбла ничего не происходит.
[30:47.000 --> 30:48.000]  Нет, ну, заметим, что после лейбла, в принципе, ничего не происходит.
[30:48.000 --> 30:49.000]  Ну, вот.
[30:49.000 --> 30:50.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно легко, иногда там хочется это просто по индукции доказывать, да?
[30:50.000 --> 30:51.000]  Ну, вот.
[30:51.000 --> 30:52.000]  По пушам или лейблам?
[30:52.000 --> 30:53.000]  Что после каждого пуша и после каждого лейбла ничего не происходит.
[30:53.000 --> 30:54.000]  Нет, ну, заметим, что после лейбла, в принципе, ничего не происходит.
[30:54.000 --> 30:55.000]  Ну, вот.
[30:55.000 --> 30:56.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно легко, иногда там хочется это просто по индукции доказывать, да?
[30:56.000 --> 30:57.000]  Ну, вот.
[30:57.000 --> 30:58.000]  По пушам или лейблам?
[30:58.000 --> 30:59.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно легко, иногда там хочется это просто по индукции доказывать, да?
[30:59.000 --> 31:00.000]  Ну, вот.
[31:00.000 --> 31:01.000]  По пушам или лейблам?
[31:01.000 --> 31:02.000]  Что после каждого пуша и после каждого лейбла ничего не происходит.
[31:02.000 --> 31:03.000]  Нет, ну, заметим, что после лейбла, в принципе, ничего не происходит.
[31:03.000 --> 31:04.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:04.000 --> 31:05.000]  Ну, вот.
[31:05.000 --> 31:06.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:06.000 --> 31:07.000]  Ну, вот.
[31:07.000 --> 31:08.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:08.000 --> 31:09.000]  Ну, вот.
[31:10.000 --> 31:11.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:11.000 --> 31:12.000]  Ну, вот.
[31:12.000 --> 31:13.000]  По пушам или лейблам?
[31:13.000 --> 31:14.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:14.000 --> 31:15.000]  Ну, вот.
[31:15.000 --> 31:16.000]  По пушам или лейблам?
[31:16.000 --> 31:17.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:17.000 --> 31:18.000]  Ну, вот.
[31:18.000 --> 31:19.000]  По пушам или лейблам?
[31:19.000 --> 31:20.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:20.000 --> 31:21.000]  Ну, вот.
[31:21.000 --> 31:22.000]  По пушам или лейблам?
[31:22.000 --> 31:23.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать, да?
[31:39.000 --> 31:40.000]  Ну, вот.
[31:40.000 --> 31:41.000]  По пушам или лейблам?
[31:41.000 --> 31:42.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[31:42.000 --> 31:43.000]  да?
[31:43.000 --> 31:44.000]  Ну, вот.
[31:44.000 --> 31:45.000]  По пушам или лейблам?
[31:45.000 --> 31:46.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[31:46.000 --> 31:47.000]  да?
[31:47.000 --> 31:48.000]  Ну, вот.
[31:48.000 --> 31:49.000]  По пушам или лейблам?
[31:49.000 --> 31:50.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[31:50.000 --> 31:51.000]  да?
[31:51.000 --> 31:52.000]  Ну, вот.
[31:52.000 --> 31:53.000]  По пушам или лейблам?
[31:53.000 --> 31:54.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[31:54.000 --> 31:55.000]  да?
[31:55.000 --> 31:56.000]  Ну, вот.
[31:56.000 --> 31:57.000]  По пушам или лейблам?
[31:57.000 --> 31:58.000]  Ну, вот.
[31:58.000 --> 31:59.000]  По пушам или лейблам?
[31:59.000 --> 32:00.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:00.000 --> 32:01.000]  да?
[32:01.000 --> 32:02.000]  Ну, вот.
[32:02.000 --> 32:03.000]  По пушам или лейблам?
[32:03.000 --> 32:04.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:04.000 --> 32:05.000]  да?
[32:05.000 --> 32:06.000]  Ну, вот.
[32:06.000 --> 32:07.000]  По пушам или лейблам?
[32:07.000 --> 32:08.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:08.000 --> 32:09.000]  да?
[32:09.000 --> 32:10.000]  Ну, вот.
[32:10.000 --> 32:11.000]  По пушам или лейблам?
[32:11.000 --> 32:12.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:12.000 --> 32:13.000]  да?
[32:13.000 --> 32:14.000]  Ну, вот.
[32:14.000 --> 32:15.000]  По пушам или лейблам?
[32:15.000 --> 32:16.000]  Ну, вот.
[32:16.000 --> 32:17.000]  По пушам или лейблам?
[32:17.000 --> 32:18.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:18.000 --> 32:19.000]  да?
[32:19.000 --> 32:20.000]  Ну, вот.
[32:20.000 --> 32:21.000]  По пушам или лейблам?
[32:21.000 --> 32:22.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:22.000 --> 32:23.000]  да?
[32:23.000 --> 32:24.000]  Ну, вот.
[32:24.000 --> 32:25.000]  По пушам или лейблам?
[32:25.000 --> 32:26.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:26.000 --> 32:27.000]  да?
[32:27.000 --> 32:28.000]  Ну, вот.
[32:28.000 --> 32:29.000]  По пушам или лейблам?
[32:29.000 --> 32:30.000]  Ну, да, то есть интуитивно кажется, что действительно достаточно просто по индукции доказывать,
[32:30.000 --> 32:31.000]  да?
[32:31.000 --> 32:32.000]  Ну, вот.
[32:32.000 --> 32:33.000]  По пушам или лейблам?
[32:33.000 --> 32:34.000]  Ну, вот.
[32:34.000 --> 32:35.000]  По пушам или лейблам?
[32:35.000 --> 32:36.000]  Ну, вот.
[32:36.000 --> 32:37.000]  По пушам или лейблам?
[32:37.000 --> 32:38.000]  Ну, вот.
[32:38.000 --> 32:39.000]  По пушам или лейблам?
[32:39.000 --> 32:40.000]  Ну, вот.
[32:40.000 --> 32:41.000]  По пушам или лейблам?
[32:41.000 --> 32:42.000]  Ну, вот.
[32:42.000 --> 32:43.000]  По пушам или лейблам?
[32:43.000 --> 32:44.000]  Ну, вот.
[32:44.000 --> 32:45.000]  По пушам или лейблам?
[32:45.000 --> 32:46.000]  Ну, вот.
[32:46.000 --> 32:47.000]  По пушам или лейблам?
[32:47.000 --> 32:48.000]  Ну, вот.
[32:48.000 --> 32:49.000]  По пушам или лейблам?
[32:49.000 --> 32:50.000]  Ну, вот.
[32:50.000 --> 32:51.000]  По пушам или лейблам?
[32:51.000 --> 32:52.000]  Ну, вот.
[32:52.000 --> 32:53.000]  По пушам или лейблам?
[32:53.000 --> 32:54.000]  Ну, вот.
[32:54.000 --> 32:55.000]  По пушам или лейблам?
[32:55.000 --> 32:56.000]  Ну, вот.
[32:56.000 --> 32:57.000]  По пушам или лейблам?
[32:57.000 --> 32:58.000]  Ну, вот.
[33:03.000 --> 33:06.000]  Ну, в чём теперь идея?
[33:06.000 --> 33:07.000]  Вот.
[33:07.000 --> 33:10.000]  Ну, идея теперь заключается в следующем.
[33:10.000 --> 33:20.000]  Казалось бы, что если вы теперь делаете пуш, то тогда, получается, у вас появляется вот это вот обратное ребро.
[33:20.000 --> 33:23.000]  Нужно посмотреть, что случилось.
[33:23.000 --> 33:25.000]  Да, какие случились?
[33:25.000 --> 33:29.000]  Во-первых, мы могли пропушить как раз-таки по этому обратному ребру к С.
[33:30.000 --> 33:33.000]  Нет, если мы пропушили по этому ребру, к нему есть обратное.
[33:33.000 --> 33:34.000]  Сейчас.
[33:34.000 --> 33:35.000]  Ну, вот где пора?
[33:35.000 --> 33:41.000]  И тогда, действительно, кажется, что вот просто тогда из В в С вот он путь.
[33:41.000 --> 33:43.000]  Логично, да?
[33:43.000 --> 33:50.000]  Хотя, да, есть единственное ограничение, что вдруг это ребро лежало вот на этом пути.
[33:50.000 --> 33:51.000]  Тогда что могло быть?
[33:51.000 --> 33:54.000]  Тогда единственная проблема, которая может произойти, это...
[33:54.000 --> 33:58.000]  Ну, тогда вот из В по любому пути есть.
[33:58.000 --> 33:59.000]  Ну, возникает вопрос.
[33:59.000 --> 34:02.000]  А может быть, тогда теперь этот путь перестал быть в У?
[34:05.000 --> 34:06.000]  Вдруг такое?
[34:10.000 --> 34:12.000]  Вот, действительно.
[34:12.000 --> 34:14.000]  Ну, во-первых, да.
[34:14.000 --> 34:16.000]  Ладно, надо еще обговориться, что...
[34:16.000 --> 34:18.000]  А что на тему других вершин?
[34:19.000 --> 34:21.000]  Да, но у других вершин, да.
[34:21.000 --> 34:23.000]  У других вершин был путь.
[34:23.000 --> 34:26.000]  Был путь, и он остался, потому что мы его не тронули.
[34:26.000 --> 34:27.000]  Хотя они договорились.
[34:27.000 --> 34:30.000]  Если только этот путь проходил не через вот эту.
[34:30.000 --> 34:34.000]  А если он проходил через В, можно сказать, что он доходит до У и идет напрямую к ДС.
[34:34.000 --> 34:37.000]  Если только это ребро, на этом пути не нужно.
[34:37.000 --> 34:39.000]  Вот, да. Ребро на пути мы еще не рассмотрели.
[34:39.000 --> 34:44.000]  Да. То есть, может быть, действительно такое, что этот путь у нас действительно лежит...
[34:44.000 --> 34:48.000]  То есть, путь, на самом деле, от У до В, он действительно вот такой.
[34:54.000 --> 34:55.000]  Так, вот внимание и вопрос.
[34:57.000 --> 35:03.000]  Как говорится, и были там какие-то вершины W, из которых этот путь проходил через вот это ребро?
[35:03.000 --> 35:05.000]  А потом это ребро бабах отменился.
[35:05.000 --> 35:09.000]  Да даже у нас сейчас у может перестать быть путь.
[35:09.000 --> 35:12.000]  Ну да. Ведь может так случиться, что...
[35:12.000 --> 35:16.000]  Ну, правда, в половине пушей, правда, у перестанет быть избыточной вершиной.
[35:16.000 --> 35:19.000]  В половине пушей это игрок, я сказал. В смысле, да.
[35:19.000 --> 35:21.000]  Ну, там, ну, условно, да. Там два случая.
[35:21.000 --> 35:26.000]  Либо, потому что заметим, что в результате пуши у нас либо стартовая вершина перестанет быть избыточной, либо ребро у нас.
[35:26.000 --> 35:28.000]  Мы можем усилить утверждение.
[35:30.000 --> 35:31.000]  А именно?
[35:31.000 --> 35:37.000]  Что у нас есть поток из У в В, что там, эксцессов?
[35:42.000 --> 35:47.000]  А вдруг у этой вершины W был поток, и это ребро было важной его составляющей?
[35:50.000 --> 35:52.000]  Ну, бывает.
[35:53.000 --> 35:54.000]  Ну, бывает, это проблема.
[35:57.000 --> 36:00.000]  Да, это проблема.
[36:00.000 --> 36:05.000]  Собственно, видимо, ровно поэтому тут начинают доказывать принципиально по-другому.
[36:09.000 --> 36:12.000]  То есть, идея, ну, то есть, на самом деле, достаточно классическая идея.
[36:15.000 --> 36:16.000]  А именно?
[36:16.000 --> 36:19.000]  Вот, ну, на самом деле, тоже достаточно стандартная для нас.
[36:19.000 --> 36:20.000]  Вот, смотрите.
[36:20.000 --> 36:25.000]  Вот из вершины W по ненасыщенным ребрам дойти до С нельзя.
[36:26.000 --> 36:28.000]  А теперь идея.
[36:28.000 --> 36:31.000]  А давайте посмотрим, а докуда можно.
[36:33.000 --> 36:35.000]  Где-то у нас была уже такая идея, да?
[36:39.000 --> 36:44.000]  Давайте просмотрим, докуда можно вершины W вообще дойти.
[36:48.000 --> 36:51.000]  Так вот, так вот, вот так вот, и вот так вот.
[36:56.000 --> 36:57.000]  Вот.
[37:04.000 --> 37:06.000]  Вот рассмотрим вот такое множество.
[37:07.000 --> 37:09.000]  Я его даже назову У-красивое.
[37:15.000 --> 37:16.000]  Вот, внимание, вопрос.
[37:16.000 --> 37:20.000]  Что можно сказать про множество У-красивое?
[37:26.000 --> 37:28.000]  Ну, из него не видят ни одного ребра.
[37:29.000 --> 37:30.000]  С одной стороны.
[37:31.000 --> 37:33.000]  Ну, ни одного ненасыщенного.
[37:34.000 --> 37:36.000]  Но при этом, я вот вычитаю парадоксальную вещь.
[37:37.000 --> 37:39.000]  В него втекает.
[37:39.000 --> 37:40.000]  Больше чем вытекает.
[37:40.000 --> 37:42.000]  Да, больше чем вытекает, совершенно вероятно.
[37:44.000 --> 37:45.000]  Почему так?
[37:45.000 --> 37:47.000]  Ну, раз стихососа тут В.
[37:48.000 --> 37:50.000]  Ну, вот.
[37:50.000 --> 37:53.000]  У нас в каждую втекает хотя бы столько втекает.
[37:53.000 --> 37:54.000]  Да.
[37:54.000 --> 37:55.000]  Одну вершину втекает больше.
[37:55.000 --> 37:56.000]  Ну, да, просто идея такая.
[37:56.000 --> 37:59.000]  Давайте просуммируем все эксцессы по этим вершинам.
[38:01.000 --> 38:02.000]  Вот.
[38:02.000 --> 38:03.000]  А, ну, правда есть маленькая оговорка.
[38:03.000 --> 38:06.000]  А вдруг выяснится, что от вершины В можно дойти до Т.
[38:08.000 --> 38:09.000]  Ну, с другой стороны, в этом ничего страшного нет.
[38:09.000 --> 38:12.000]  Потому что эксцесс от Т тоже больше либо равен нуля всегда.
[38:13.000 --> 38:15.000]  То есть, просуммируем все эксцессы.
[38:16.000 --> 38:18.000]  То есть, как бы, просуммируем.
[38:18.000 --> 38:23.000]  То есть, перебираем все вершины У-красивом и просуммируем эксцессы.
[38:24.000 --> 38:26.000]  Это строго больше нуля.
[38:28.000 --> 38:30.000]  С другой стороны, а что такое эксцесс?
[38:34.000 --> 38:36.000]  Это сколько...
[38:37.000 --> 38:39.000]  Ой, слушайте, а правильное ли я вам определение сказал?
[38:40.000 --> 38:42.000]  Сколько втекает, минус, сколько вытекает.
[38:43.000 --> 38:44.000]  Я так сказал?
[38:44.000 --> 38:45.000]  Ага.
[38:45.000 --> 38:46.000]  А, значит, я не ошибся, да?
[38:47.000 --> 38:49.000]  Точно, я там минус, прям минус слово писал, да?
[38:49.000 --> 38:50.000]  Все, хорошо.
[38:50.000 --> 38:51.000]  Ну, окей.
[38:51.000 --> 38:52.000]  Значит, я все правильно сказал.
[38:52.000 --> 38:53.000]  Значит, тогда смотрите.
[38:54.000 --> 38:55.000]  То есть, что это такое?
[38:57.000 --> 39:01.000]  Мы должны пробежаться по всем вершинам, просуммировать все, что в них втекает.
[39:02.000 --> 39:07.000]  А потом пробежаться по всем вершинам и вычесть то, что из них вытекает, правда?
[39:09.000 --> 39:12.000]  Ну, я могу это все формально порасписывать, но теперь заметим следующее.
[39:13.000 --> 39:16.000]  Задействованы будут все рёбра, которые как-то связаны с этими вершинами.
[39:16.000 --> 39:21.000]  Но заметим, что если репро лежит строго внутри множество у, то его вклад взаиму уничтожится, правда?
[39:22.000 --> 39:25.000]  Потому что он в этой вершине будет со знаком плюс, а в этой со знаком минус.
[39:26.000 --> 39:27.000]  Понимаете, да?
[39:30.000 --> 39:31.000]  Или надо просписывать?
[39:33.000 --> 39:34.000]  Не надо?
[39:34.000 --> 39:35.000]  Нет?
[39:35.000 --> 39:36.000]  Вот.
[39:37.000 --> 39:39.000]  Но тогда остаются только две вершины.
[39:39.000 --> 39:44.000]  Ну, тогда остаются только рёбра, которые связывают с множеством у изверения.
[39:45.000 --> 39:53.000]  То есть, тогда останутся только вот рёбра со знаком плюс, которые ведут в множество у, и минус рёбра, по которым вода вытекает.
[39:54.000 --> 39:55.000]  То есть, никакие?
[39:55.000 --> 39:56.000]  Нет.
[39:56.000 --> 39:58.000]  Ну, то есть, вот такие, минус вот такие.
[39:59.000 --> 40:00.000]  Ну, вот минус таких – 0.
[40:00.000 --> 40:01.000]  Да.
[40:01.000 --> 40:03.000]  То есть никакие?
[40:03.000 --> 40:05.000]  Нет, ну то есть вот такие, минус вот такие.
[40:05.000 --> 40:07.000]  Ну вот, минус таких ноль.
[40:07.000 --> 40:09.000]  Да, ну, во-первых, да.
[40:09.000 --> 40:11.000]  Но теперь, а это, ну вот.
[40:11.000 --> 40:13.000]  Ну вот, а это же нам уже не важно.
[40:13.000 --> 40:15.000]  Хорошо.
[40:15.000 --> 40:17.000]  Почему? Потому что самое главное, что
[40:17.000 --> 40:19.000]  excess-то больше ноля.
[40:19.000 --> 40:21.000]  Нет, а это не важно. Кстати, нет, такие не ноль,
[40:21.000 --> 40:23.000]  потому что сейчас-то мы считали, сколько
[40:23.000 --> 40:25.000]  воды течет, а не сколько воды можно
[40:25.000 --> 40:27.000]  протекать.
[40:27.000 --> 40:29.000]  Ну, мы сейчас что
[40:29.000 --> 40:31.000]  суммировали? Мы суммировали excess-а.
[40:31.000 --> 40:33.000]  Excess-а – это не сколько воды
[40:33.000 --> 40:35.000]  может протечь. Excess – это
[40:35.000 --> 40:37.000]  сколько воды уже
[40:37.000 --> 40:39.000]  втекает. То есть,
[40:39.000 --> 40:41.000]  поэтому могут быть вполне ребра,
[40:41.000 --> 40:43.000]  по которым вода отсюда вытекает.
[40:43.000 --> 40:45.000]  Да.
[40:45.000 --> 40:47.000]  Вот.
[40:47.000 --> 40:49.000]  Это разная вещь.
[40:49.000 --> 40:51.000]  Ну а теперь, смотрите. Раз у нас
[40:51.000 --> 40:53.000]  excess больше нуля, и он равен
[40:53.000 --> 40:55.000]  сколько воды втекает,
[40:55.000 --> 40:57.000]  минус сколько воды вытекает, значит
[40:57.000 --> 40:59.000]  найдется ребро, по которому вода
[40:59.000 --> 41:01.000]  сюда втекает. Правда?
[41:01.000 --> 41:03.000]  Ну раз excess больше нуля, да?
[41:03.000 --> 41:05.000]  Но тогда,
[41:05.000 --> 41:07.000]  если по этому ребру течет
[41:07.000 --> 41:09.000]  какой-то не нулевой поток,
[41:09.000 --> 41:11.000]  значит, существует обратное
[41:11.000 --> 41:13.000]  ребро, по которому этот поток можно обменить.
[41:15.000 --> 41:17.000]  Противоречие.
[41:17.000 --> 41:19.000]  Противоречие с тем, чтобы вот такого
[41:19.000 --> 41:21.000]  у нас не было.
[41:21.000 --> 41:23.000]  Вот такая идея.
[41:29.000 --> 41:31.000]  Лято.
[41:33.000 --> 41:35.000]  А если бы
[41:35.000 --> 41:37.000]  S доходило, почему
[41:37.000 --> 41:39.000]  противоречие бы исчезло?
[41:39.000 --> 41:41.000]  Потому что у S, да, excess меньше нуля, да.
[41:41.000 --> 41:43.000]  Именно.
[41:43.000 --> 41:45.000]  То есть, ну по сути,
[41:45.000 --> 41:47.000]  то есть, вообразить себе, то есть,
[41:47.000 --> 41:49.000]  интуитивная идея такая,
[41:49.000 --> 41:51.000]  что у нас в этом множестве
[41:51.000 --> 41:53.000]  вершин, да,
[41:53.000 --> 41:55.000]  то есть, в некоторых вершиков, conex с
[41:55.000 --> 41:57.000] Americans, сколько втекает, сколько вытекает, а в некоторых
[41:57.000 --> 41:59.000]  вода, что там, часть воды застревает.
[41:59.000 --> 42:01.000]  То есть получается,
[42:01.000 --> 42:03.000]  что всё это множество, как бы,
[42:03.000 --> 42:05.000]  засасывает в себя воду.
[42:05.000 --> 42:07.000]  Но эта вода откуда-то берется?
[42:07.000 --> 42:09.000]  Берется она только из у我是тока.
[42:09.000 --> 42:11.000]  Тогда получается, что в это множество
[42:11.000 --> 42:13.000]  из из толка вода должна как-то попасть.
[42:13.000 --> 42:19.000]  Ну да. А у нас У это... А, все окей.
[42:19.000 --> 42:21.000]  Может достижима СВ по остаточному равному?
[42:21.000 --> 42:25.000]  Не, может что-то мы еще про сумму эти написали. Ну там понятно, что будет что-то больше.
[42:25.000 --> 42:27.000]  Для В будет что-то больше.
[42:27.000 --> 42:28.000]  Да.
[42:28.000 --> 42:34.000]  Ну эта сумма понятна, но с другой стороны мы просто переписываем чему этот excess равен и взауничтожаем его внутри.
[42:38.000 --> 42:42.000]  Ну вот это была часть рассуждения. Так ладно, давайте формально рассмотрим.
[42:43.000 --> 42:56.000]  Ну вот просто рисовали, что там можно пройти, потом мы понимаем, что у нас, поскольку сумма excessа больше 0, значит какой-то поток туда входит, значит здесь обратно ребро, значит можно дойти.
[42:58.000 --> 43:03.000]  Ну там было важно доказать, что существует именно какое-то ребро, в котором вода входит сюда извне.
[43:06.000 --> 43:09.000]  А нам недостаточно того, что excess больше 0?
[43:09.000 --> 43:10.000]  У excess.
[43:10.000 --> 43:14.000]  Ну excess у В больше 0, значит сумма всех excess тоже больше 0.
[43:14.000 --> 43:15.000]  Правильно.
[43:15.000 --> 43:16.000]  Это да.
[43:16.000 --> 43:17.000]  Это что?
[43:17.000 --> 43:19.000]  Угадит, что что-то входит.
[43:19.000 --> 43:20.000]  Почему?
[43:21.000 --> 43:26.000]  Ну мы как бы, по сути это значит сумма всех excess, это excess множество.
[43:27.000 --> 43:30.000]  Ну это да, но это просто тут как бы надо формально просто говорить.
[43:30.000 --> 43:31.000]  А, окей, хорошо.
[43:32.000 --> 43:34.000]  Значит смотрите, давайте попробуем.
[43:34.000 --> 43:36.000]  Ну формально математически дальше доказательство звучит так.
[43:36.000 --> 43:38.000]  Что такое вот эта сумма excess?
[43:38.000 --> 43:56.000]  Это сумма по всем ребрам, значит суммируем по всем e, и соответственно и говорим, что там e.finish лежит в множестве u, значит f от e.
[43:57.000 --> 44:00.000]  Минус, то же самое, только проста.
[44:09.000 --> 44:10.000]  Вот.
[44:11.000 --> 44:14.000]  Ну, пишем, да, ну вот.
[44:15.000 --> 44:16.000]  Ну теперь заметим следующее.
[44:16.000 --> 44:19.000]  Мы можем ребра делиться на два типа.
[44:19.000 --> 44:23.000]  Те, которые целиком лежат, и те, которые целиком не лежат.
[44:25.000 --> 44:28.000]  Ну давайте я могу даже вот так написать.
[44:28.000 --> 44:39.000]  Сумма по всем, значит e.start лежит в u, e.finish лежит в u.
[44:40.000 --> 44:42.000]  Это, значит суммируем f от e.
[44:42.000 --> 44:50.000]  Плюс сумма по всем e.start не лежит в u, а e.finish лежит.
[44:53.000 --> 44:55.000]  Это тоже f от e.
[44:55.000 --> 44:56.000]  Минус.
[44:56.000 --> 44:57.000]  Теперь раскладываем то же самое.
[44:57.000 --> 44:59.000]  То есть я просто сумму раскладываю на две суммы.
[44:59.000 --> 45:01.000]  Больше я ничего не делаю.
[45:02.000 --> 45:04.000]  То есть тут f от e, и тут f от e.
[45:05.000 --> 45:19.000]  Значит тут мы пьют, но тут уже на это раз цепляемся, что e.start лежит в u, значит тут e.finish тоже он как бы, он может лежать, а может не лежать.
[45:20.000 --> 45:27.000]  Так, u и e.finish лежит в u.
[45:30.000 --> 45:35.000]  Ну если очень внимательно на это посмотреть, то на лицо шлеп-шлеп.
[45:38.000 --> 45:39.000]  Что остается?
[45:39.000 --> 45:46.000]  Остается то, что втекает извне, минус то, что вытекает вовне.
[45:47.000 --> 46:00.000]  Но так как это больше нуля, то тогда получается, что вот это больше нуля, значит найдется ребро, по которому именно извне что-то втекает.
[46:00.000 --> 46:14.000]  Ну это я в программерской концепции, точнее парадигме.
[46:14.000 --> 46:18.000]  То есть если писать математически, то это было бы конечно гораздо проще.
[46:18.000 --> 46:20.000]  То есть как-то короче было бы писать.
[46:22.000 --> 46:26.000]  Ну во-первых, такую версию вы найдете в кормине, если что.
[46:27.000 --> 46:28.000]  Вот такую?
[46:29.000 --> 46:30.000]  Нет, математическую версию.
[46:31.000 --> 46:37.000]  Ну там было бы то же самое, только эффект был бы в два раза меньше, и тут бы я писал там сумму по всем УВ.
[46:40.000 --> 46:47.000]  То есть суть идеи на абсолютно та же самая, просто вот здесь она более в нашу любимую программическую.
[46:48.000 --> 46:49.000]  Так вот.
[46:53.000 --> 46:59.000]  То есть вот таким вот образом, то есть мы убеждаемся в том, что действительно из вершины В в С путь есть.
[47:00.000 --> 47:23.000]  Но раз он есть, тогда прямое следствие, что действительно H от любой вершины В не превосходит, ну может даже УЗ, а на самом деле 2В-2.
[47:24.000 --> 47:28.000]  Потому что Тета на этом пути лежать не будет.
[47:29.000 --> 47:31.000]  Слишком сильное выживление.
[47:33.000 --> 47:36.000]  Ага, проверять его мы конечно не будем.
[47:37.000 --> 47:39.000]  Ну хотя что его проверять на самом деле.
[47:40.000 --> 47:45.000]  Да, то есть можно совсем прям на 2В-2, то есть ну обычно сейчас доказывают про В-1, на самом деле В-2.
[47:45.000 --> 47:53.000]  Ну просто потому что рассмотрим путь до С, то есть на самом деле высота вершины В не более чем модуль В плюс количество ревер на этом пути.
[47:54.000 --> 47:55.000]  А сколько ревер на этом пути?
[47:56.000 --> 48:01.000]  Ну сколько на этом пути вершин без учета самой вершины, самого истока.
[48:03.000 --> 48:07.000]  Вершин у нас всего кроме С и Т не более чем В-2, поэтому 2В-2.
[48:08.000 --> 48:17.000]  Ну с точки зрения асимптотипе конечно вообще не важно, то есть нам уже 2В бы хватило для дальнейших осуждений, но на самом деле 2В-2.
[48:19.000 --> 48:25.000]  Вот, отсюда конечно вытекает маленький приятный вывод.
[48:28.000 --> 48:33.000]  Что ну по крайней мере релейблов будет не бесконечное количество.
[48:34.000 --> 48:40.000]  А на самом деле он даже больше, даже можем уже начать даже оценивать будущую асимптотипу.
[48:41.000 --> 48:47.000]  Вот скажите мне пожалуйста, за какое время суммарно будут работать все релейблы?
[48:48.000 --> 48:49.000]  Смотри как мы их реализуем.
[48:51.000 --> 48:53.000]  Мы будем проходиться по всем ребрам каждый раз?
[48:54.000 --> 48:55.000]  Да.
[48:56.000 --> 48:57.000]  Давайте да.
[48:57.000 --> 49:02.000]  Тогда В квадрат, ВЕ.
[49:03.000 --> 49:06.000]  Ну на самом деле да, О от В, Е на самом деле.
[49:09.000 --> 49:19.000]  Да, то есть мы подозреваем что релейбл мы будем реализовывать, то есть каждый релейбл мы будем в честную реализовывать за О от ДЕГАУТ от В.
[49:22.000 --> 49:24.000]  Ну исходящая степень вершины В.
[49:25.000 --> 49:27.000]  Ну в остаточной сети естественно имеется в виду.
[49:29.000 --> 49:30.000]  Может даже аут.
[49:31.000 --> 49:32.000]  Ну ладно.
[49:33.000 --> 49:35.000]  Суть в общем понятна, так что получайте суммарно О от В.
[49:36.000 --> 49:43.000]  Ну кстати должно быть неплохо учитывая что пока мы не умеем искать поток быстрее чем ЗВЕ.
[49:44.000 --> 49:46.000]  Причем по словам мы я подразумеваю человечество.
[49:49.000 --> 49:50.000]  Ну просто факт.
[49:50.000 --> 49:55.000]  Придумайте быстрее, посылайте получайте какую-нибудь премию веселую.
[49:56.000 --> 49:59.000]  Ну я не знаю дадут ли за это премию не тюрлинга.
[50:00.000 --> 50:02.000]  Но на сообщество руку вам пожрет конечно.
[50:05.000 --> 50:07.000]  То есть сообщество порадуется.
[50:12.000 --> 50:13.000]  Ну вот.
[50:14.000 --> 50:15.000]  ОТОПЕРИЧА ПУШИ.
[50:16.000 --> 50:17.000]  Да.
[50:18.000 --> 50:21.000]  Ну кстати еще важный момент что это суммарное время работы всех.
[50:22.000 --> 50:23.000]  Вот так я напишу.
[50:24.000 --> 50:25.000]  Ну вот.
[50:26.000 --> 50:27.000]  То есть суммарное время работы.
[50:28.000 --> 50:29.000]  Ага.
[50:30.000 --> 50:31.000]  Если мы ни один релейбл зря не вызвали.
[50:32.000 --> 50:33.000]  Ага.
[50:34.000 --> 50:36.000]  И каждый релейбл еще и увеличил высоту прям реально на 1-2.
[50:37.000 --> 50:38.000]  А не сразу там?
[50:39.000 --> 50:40.000]  Нет.
[50:41.000 --> 50:42.000]  Это оценка сверху.
[50:43.000 --> 50:44.000]  Только если мы нечаянно не вызываем релейблу.
[50:45.000 --> 50:47.000]  Который вначале проверяет а можно ли вообще выйти с релейбла.
[50:48.000 --> 50:49.000]  Ну да.
[50:50.000 --> 50:51.000]  Ну это не очень.
[50:52.000 --> 50:54.000]  Ну предположим что мы откуда-то знаем.
[50:55.000 --> 50:57.000]  То есть я имею в виду что.
[50:58.000 --> 51:00.000]  Ну так почему это метод релейбл.
[51:01.000 --> 51:03.000]  Потому что у нас есть как бы мистический черный ящик.
[51:04.000 --> 51:06.000]  То есть мистический алгоритм.
[51:07.000 --> 51:08.000]  Который будет тыкать кнопки push релейбл.
[51:08.000 --> 51:09.000]  Причем он будет гарантировать что.
[51:10.000 --> 51:11.000]  Когда тычешь релейбл.
[51:12.000 --> 51:13.000]  Он реально надо делать релейбл.
[51:14.000 --> 51:15.000]  А когда тычешь push.
[51:16.000 --> 51:17.000]  Он еще и тыкнет тебе в ребро.
[51:18.000 --> 51:19.000]  По которому надо делать push.
[51:20.000 --> 51:21.000]  Да.
[51:22.000 --> 51:23.000]  Ну еще конечно оговоримся.
[51:24.000 --> 51:27.000]  Ну вот если мы говорим что о числе релейблов.
[51:28.000 --> 51:30.000]  Именно сколько раз мы вызываем релейбл.
[51:31.000 --> 51:32.000]  То там вот во квадрат.
[51:33.000 --> 51:35.000]  Ну тут конечно есть более сильное утверждение.
[51:36.000 --> 51:37.000]  То есть если в каждом релейбле.
[51:38.000 --> 51:39.000]  На сколько он увеличил высоту.
[51:40.000 --> 51:42.000]  То суммарное увеличение не превосходит во квадрата.
[51:43.000 --> 51:44.000]  Да.
[51:45.000 --> 51:46.000]  Ну два во квадрата.
[51:47.000 --> 51:49.000]  Ну в смысле вот это вот умножить на В.
[51:50.000 --> 51:51.000]  В смысле на В-2.
[51:52.000 --> 51:53.000]  И вот.
[51:54.000 --> 51:56.000]  Короче вот во квадрат.
[51:57.000 --> 51:58.000]  Но push.
[51:59.000 --> 52:01.000]  Я пока даже не уверен что они не зацикнутся.
[52:02.000 --> 52:03.000]  Так.
[52:04.000 --> 52:05.000]  А вот давайте подумаем.
[52:05.000 --> 52:07.000]  А как может быть так.
[52:08.000 --> 52:11.000]  Чтобы push зациклились при конечном числе релейблов.
[52:12.000 --> 52:13.000]  Никак.
[52:14.000 --> 52:15.000]  Все доказано.
[52:16.000 --> 52:17.000]  Никак.
[52:18.000 --> 52:19.000]  Ну действительно.
[52:20.000 --> 52:22.000]  Даже push всегда толкает вершину с меньшей высотой.
[52:23.000 --> 52:24.000]  Да.
[52:25.000 --> 52:27.000]  То есть между двумя релейблами произойдет конечное число push.
[52:28.000 --> 52:29.000]  Ну да.
[52:30.000 --> 52:31.000]  Но это надо все-таки более точно.
[52:32.000 --> 52:33.000]  Давайте более точно.
[52:33.000 --> 52:34.000]  Давайте представим себе.
[52:35.000 --> 52:36.000]  Вот теперь важный момент.
[52:37.000 --> 52:38.000]  Давайте теперь внимательно представим.
[52:39.000 --> 52:40.000]  Что происходит между двумя релейблами.
[52:41.000 --> 52:42.000]  Происходит следующее.
[52:43.000 --> 52:45.000]  У нас есть вершины расположенные как-то по слоям.
[52:46.000 --> 52:47.000]  Вот.
[52:48.000 --> 52:51.000]  И каждый push проталкивает воду.
[52:52.000 --> 52:54.000]  Собственно строго вниз.
[52:55.000 --> 52:56.000]  Понимаете да?
[52:57.000 --> 52:58.000]  Понимаете?
[52:59.000 --> 53:01.000]  И тогда получается следующее.
[53:01.000 --> 53:03.000]  Вот я даже сразу на будущее давайте напишу.
[53:04.000 --> 53:06.000]  Push'а бывают двух типов.
[53:07.000 --> 53:09.000]  Кстати пересекающие все по характеру.
[53:10.000 --> 53:12.000]  Я даже вот так напишу.
[53:13.000 --> 53:14.000]  Насыщающие.
[53:19.000 --> 53:20.000]  Ну это насыщающие.
[53:21.000 --> 53:26.000]  Это когда вот этот ребро становится изостаточной сети и исчезает.
[53:29.000 --> 53:30.000]  И.
[53:31.000 --> 53:32.000]  Нет вот так напишу.
[53:35.000 --> 53:36.000]  И не насыщающие.
[53:42.000 --> 53:45.000]  То есть здесь мы говорим что C, F от E.
[53:46.000 --> 53:48.000]  Пересекающие, не насыщающие и не насыщающие.
[53:49.000 --> 53:50.000]  Да, потому что они не насыщающие.
[53:51.000 --> 53:54.000]  Ну соответственно потому что если ребро не насытилось, значит что произошло?
[53:55.000 --> 53:58.000]  Значит этот excess от E.start.
[53:58.000 --> 53:59.000]  Стал нулю.
[54:00.000 --> 54:02.000]  Значит кончилась вода, которую можно попушить.
[54:03.000 --> 54:08.000]  Я их не случайно рисую пересекающие, потому что один push может одновременно быть и тем и тем.
[54:09.000 --> 54:11.000]  Да, и насыщающим и не насыщающим.
[54:12.000 --> 54:15.000]  Слово не насыщающие, это менее какое-нибудь истощающее, не важно.
[54:16.000 --> 54:17.000]  Что-нибудь не противоречащее.
[54:20.000 --> 54:23.000]  Ага, мне кажется что обнуляющие и не насыщающие.
[54:23.000 --> 54:24.000]  Ну да.
[54:25.000 --> 54:26.000]  Ну не знаю.
[54:27.000 --> 54:30.000]  Ну просто нет, обычно говорят не насыщающие и не насыщающие.
[54:32.000 --> 54:33.000]  О господи.
[54:36.000 --> 54:37.000]  Ну ладно.
[54:38.000 --> 54:39.000]  Значит обычно не насыщающие и не насыщающие.
[54:40.000 --> 54:42.000]  То есть будем считать что насыщающие и не насыщающие это не противоречащие.
[54:43.000 --> 54:44.000]  Другого слова.
[54:45.000 --> 54:46.000]  Ну ладно.
[54:46.000 --> 54:47.000]  Избыто ковнуляющее.
[54:48.000 --> 54:49.000]  Вот.
[54:50.000 --> 54:51.000]  Ну а теперь давайте посмотрим.
[54:52.000 --> 54:53.000]  Вот.
[54:54.000 --> 54:55.000]  Ну или можно опросить.
[54:56.000 --> 54:58.000]  Ну то есть я тут мог бы чуть-чуть пересекаться, а можно опросить.
[54:59.000 --> 55:01.000]  Теперь давайте представим себе вот что.
[55:02.000 --> 55:05.000]  Сколько насыщающих и не насыщающих?
[55:06.000 --> 55:07.000]  Ну вот.
[55:08.000 --> 55:09.000]  Ну вот.
[55:10.000 --> 55:11.000]  Ну вот.
[55:12.000 --> 55:13.000]  Ну вот.
[55:14.000 --> 55:15.000]  Ну вот.
[55:16.000 --> 55:18.000]  Какие насыщающие проталкивали?
[55:19.000 --> 55:24.000]  Смотрите, я утверждаю следующее вот между двумя релеблами,
[55:25.000 --> 55:27.520]  вот предположим вот у вас вот между двумя релеблами
[55:28.000 --> 55:32.000]  произошло насыщающее проталкивание.
[55:33.000 --> 55:35.000]  Тогда я утверждаю следующее,
[55:36.000 --> 55:39.000]  до следующего релебла это ребро, поэтому ребровый пуш никогда не делаете.
[55:40.000 --> 55:41.000]  И его обратная тоже.
[55:41.000 --> 55:43.000]  Ну, кстати, да.
[55:43.000 --> 55:45.000]  Кстати, ровно по этой причине.
[55:45.000 --> 55:47.000]  Потому что прямо сейчас вы не сможете
[55:47.000 --> 55:49.000]  по обратному ребру протолкнуть воду,
[55:49.000 --> 55:51.000]  потому что раз вы сейчас протолкнули, значит
[55:51.000 --> 55:53.000]  В ниже. Вот, кстати, начинаем
[55:53.000 --> 55:55.000]  пользоваться высотами.
[55:55.000 --> 55:57.000]  То есть В ниже.
[55:57.000 --> 55:59.000]  Пока В станет выше, вы обратно
[55:59.000 --> 56:01.000]  воду не толкаете, и, как следствие,
[56:01.000 --> 56:03.000]  это ребро не раздосытится.
[56:03.000 --> 56:05.000]  То есть получается, между релейблами
[56:05.000 --> 56:07.000]  каждое насыщающее проталкивание
[56:07.000 --> 56:09.000]  может быть выполнено не более, чем
[56:09.000 --> 56:11.000]  один раз.
[56:11.000 --> 56:13.000]  Ну, всего ребер у нас есть.
[56:13.000 --> 56:15.000]  Ну, в смысле два есть, но
[56:15.000 --> 56:17.000]  актуальных всё равно нет, потому что
[56:17.000 --> 56:19.000]  пара ребер хоть одно, да не актуально.
[56:19.000 --> 56:21.000]  Поэтому мы получаем, что
[56:21.000 --> 56:23.000]  насыщающих проталкивание суммарно
[56:23.000 --> 56:25.000]  не более, чем
[56:25.000 --> 56:27.000]  ну, там, два вея.
[56:27.000 --> 56:29.000]  Это прям точная оценка.
[56:29.000 --> 56:31.000]  За одно
[56:31.000 --> 56:33.000]  что?
[56:33.000 --> 56:35.000]  За когда?
[56:35.000 --> 56:37.000]  Ну, вот,
[56:37.000 --> 56:39.000]  за всегда.
[56:43.000 --> 56:45.000]  Ну, потому что мы говорим именно о
[56:45.000 --> 56:47.000]  насыщающих проталкиваниях.
[56:47.000 --> 56:49.000]  Как мы уже сказали,
[56:49.000 --> 56:51.000]  а, ладно, уточняю,
[56:51.000 --> 56:53.000]  не просто до ближайшего
[56:53.000 --> 56:55.000]  релейбла, а до ближайшего релейбла
[56:55.000 --> 56:57.000]  связанного с вершиной В.
[56:57.000 --> 56:59.000]  Именно с В.
[56:59.000 --> 57:01.000]  Да, согласен.
[57:01.000 --> 57:03.000]  Потому что пока вы не повысите вершину В,
[57:03.000 --> 57:05.000]  она выше его не станет точно.
[57:05.000 --> 57:07.000]  Может, там, это ребро насытится,
[57:07.000 --> 57:09.000]  и вы пользуетесь этим возвысить вершину В?
[57:11.000 --> 57:13.000]  Ну, вот, конечно, но тогда от этого вершины
[57:13.000 --> 57:15.000]  В всё равно должно стать ещё выше.
[57:15.000 --> 57:17.000]  Так что именно два вея.
[57:17.000 --> 57:19.000]  Понимаете, да?
[57:19.000 --> 57:21.000]  Понимаете?
[57:23.000 --> 57:25.000]  Вот.
[57:25.000 --> 57:27.000]  Ну, пока неплохо.
[57:27.000 --> 57:29.000]  Ну, а теперь начинается самое интересное.
[57:31.000 --> 57:33.000]  А что с не насыщающими?
[57:35.000 --> 57:37.000]  Ну, если в хорошем порядке вызывать,
[57:37.000 --> 57:39.000]  то мало.
[57:39.000 --> 57:41.000]  Например, сверху вниз
[57:41.000 --> 57:43.000]  можно вызывать.
[57:43.000 --> 57:45.000]  Ну, по ситуации.
[57:45.000 --> 57:47.000]  Вот.
[57:47.000 --> 57:49.000]  Потому что там тоже может...
[57:49.000 --> 57:51.000]  Ну, иногда, ну, как сказать,
[57:51.000 --> 57:53.000]  сверху вниз тут сложно, потому что вы тут
[57:53.000 --> 57:55.000]  делаете, делаете, делаете, а потом пришлось
[57:55.000 --> 57:57.000]  релейбла вызывать.
[57:57.000 --> 57:59.000]  Если внутри одного релейбла делаете их сверху вниз,
[57:59.000 --> 58:01.000]  то будет от Е тоже.
[58:01.000 --> 58:03.000]  Ну, как сказать, ну, правда...
[58:03.000 --> 58:05.000]  Ну, внутри одного релейбла понятное дело.
[58:05.000 --> 58:07.000]  Да, да, да.
[58:07.000 --> 58:09.000]  Ну, да.
[58:09.000 --> 58:11.000]  Ну, порядок, хотя да.
[58:11.000 --> 58:13.000]  Ну, там, правда, по здоровьем порядок немножко
[58:13.000 --> 58:15.000]  может меняться.
[58:15.000 --> 58:17.000]  Ну, понятно, что
[58:17.000 --> 58:19.000]  между релейблами будет меняться.
[58:19.000 --> 58:21.000]  От одного между релейбля
[58:21.000 --> 58:23.000]  до другого.
[58:23.000 --> 58:25.000]  Нет, понятно, понятно.
[58:25.000 --> 58:27.000]  Ну, там...
[58:27.000 --> 58:29.000]  Хорошо, да?
[58:29.000 --> 58:31.000]  А в общем случае не очень понятно.
[58:31.000 --> 58:33.000]  Ну, да.
[58:33.000 --> 58:35.000]  Ну, тут, смотрите, да.
[58:35.000 --> 58:37.000]  Ну, тогда это, кстати, почему приведет?
[58:37.000 --> 58:39.000]  Если, да, между релейблами
[58:39.000 --> 58:41.000]  мы как минимум можем проталкивать
[58:41.000 --> 58:43.000]  действительно все сверху вниз.
[58:43.000 --> 58:45.000]  И это получится...
[58:45.000 --> 58:47.000]  Ну, это какая симпатика получится?
[58:47.000 --> 58:49.000]  Е на релейбл, то есть в квадрат Е.
[58:49.000 --> 58:51.000]  Да, в квадрат Е.
[58:51.000 --> 58:53.000]  Ну, а мы докажем более сильные факты.
[58:53.000 --> 58:55.000]  Я считаю,
[58:55.000 --> 58:57.000]  что ненасыщающих проталкиваний
[58:57.000 --> 58:59.000]  в принципе не будет больше, чем вот в квадрат Е.
[58:59.000 --> 59:01.000]  Независимо от того,
[59:01.000 --> 59:03.000]  что конкретно мы пихнули, да.
[59:03.000 --> 59:05.000]  То есть то, что ты сказал,
[59:05.000 --> 59:07.000]  это вообще получается просто...
[59:07.000 --> 59:09.000]  То есть на самом деле еще и будет алгоритм за В квадрат Е.
[59:09.000 --> 59:11.000]  Кстати, да.
[59:11.000 --> 59:13.000]  Ну, давайте смотреть,
[59:13.000 --> 59:15.000]  что получается.
[59:15.000 --> 59:17.000]  Значит, почему?
[59:17.000 --> 59:19.000]  Ну, то есть если делать push в рандомном порядке,
[59:19.000 --> 59:21.000]  то, конечно, будет очень философский вопрос.
[59:21.000 --> 59:23.000]  Что происходит?
[59:23.000 --> 59:25.000]  Вот.
[59:25.000 --> 59:27.000]  Потому что какие-то решины будут
[59:27.000 --> 59:29.000]  с избыточной, какие-то будут исчезать
[59:29.000 --> 59:31.000]  из избыточной.
[59:31.000 --> 59:33.000]  Может быть даже между релейблами может случиться так,
[59:33.000 --> 59:35.000]  что вершина перестала быть избыточной,
[59:35.000 --> 59:37.000]  а потом неожиданно
[59:37.000 --> 59:39.000]  снова стала избыточной,
[59:39.000 --> 59:41.000]  потому что к ней сверху что-то пишет.
[59:41.000 --> 59:43.000]  Может быть такое, правда?
[59:43.000 --> 59:45.000]  Что делать?
[59:45.000 --> 59:47.000]  Ну, вот. Но тем не менее, значит,
[59:47.000 --> 59:49.000]  аккуратно рассматривать это можно.
[59:49.000 --> 59:51.000]  И, собственно,
[59:51.000 --> 59:53.000]  в этом месте нам приходит
[59:53.000 --> 59:55.000]  время воспользоваться
[59:57.000 --> 59:59.000]  такой красивой штукой, как
[59:59.000 --> 01:00:01.000]  метод потенциал.
[01:00:07.000 --> 01:00:09.000]  Ну, это не тот метод потенциала, который вот...
[01:00:09.000 --> 01:00:11.000]  А, ну, хотя в общем-то и тот.
[01:00:11.000 --> 01:00:13.000]  То есть мы введем
[01:00:13.000 --> 01:00:15.000]  потенциал. Давайте там
[01:00:15.000 --> 01:00:17.000]  его принято называть.
[01:00:17.000 --> 01:00:19.000]  Потенциал, давайте, phi
[01:00:21.000 --> 01:00:23.000]  от нашей сети
[01:00:23.000 --> 01:00:25.000]  g, g.
[01:00:25.000 --> 01:00:27.000]  Это вот что.
[01:00:27.000 --> 01:00:29.000]  Это мы
[01:00:29.000 --> 01:00:31.000]  просуммируем высоты
[01:00:31.000 --> 01:00:33.000]  у всех избыточных вершин.
[01:00:49.000 --> 01:00:51.000]  Вот такой потенциал.
[01:00:51.000 --> 01:00:53.000]  Ой, надо было его зелененьким
[01:00:53.000 --> 01:00:55.000]  нарисовать.
[01:01:01.000 --> 01:01:03.000]  А вот теперь давайте думать,
[01:01:03.000 --> 01:01:05.000]  как потенциал меняется в процессе?
[01:01:05.000 --> 01:01:07.000]  Изначально он чему равен?
[01:01:15.000 --> 01:01:17.000]  Да.
[01:01:17.000 --> 01:01:19.000]  Чему он еще может быть равен, действительно?
[01:01:19.000 --> 01:01:21.000]  Когда все высоты равны нулю, в принципе.
[01:01:21.000 --> 01:01:23.000]  Ну, не все.
[01:01:23.000 --> 01:01:25.000]  Ну, кроме и стока,
[01:01:25.000 --> 01:01:27.000]  у которого мы избыточный считаем
[01:01:27.000 --> 01:01:29.000]  от слова вообще.
[01:01:29.000 --> 01:01:31.000]  Да, ну, теперь давайте думать,
[01:01:31.000 --> 01:01:33.000]  как изменяет высоты
[01:01:33.000 --> 01:01:35.000]  relabel?
[01:01:35.000 --> 01:01:37.000]  А, увеличивает.
[01:01:37.000 --> 01:01:39.000]  Значит, увеличивает потенциал.
[01:01:39.000 --> 01:01:41.000]  Да, он увеличивает потенциал,
[01:01:41.000 --> 01:01:43.000]  но суммарно он его
[01:01:43.000 --> 01:01:45.000]  увеличивает,
[01:01:45.000 --> 01:01:47.000]  то есть суммарно
[01:01:47.000 --> 01:01:49.000]  плюс
[01:01:49.000 --> 01:01:51.000]  не более, чем
[01:01:51.000 --> 01:01:53.000]  два вайфа.
[01:01:53.000 --> 01:01:55.000]  Мы знаем, что суммарно высот не более, чем два вайфа.
[01:01:55.000 --> 01:01:57.000]  То есть нам нужно только показать,
[01:01:57.000 --> 01:01:59.000]  что каждый пуш, который нас интересует,
[01:01:59.000 --> 01:02:01.000]  увеличивает потенциал,
[01:02:01.000 --> 01:02:03.000]  а каждый, который нас не интересует, не уменьшает его.
[01:02:03.000 --> 01:02:05.000]  Ну, к сожалению,
[01:02:05.000 --> 01:02:07.000]  он уменьшается.
[01:02:07.000 --> 01:02:09.000]  Блин, все, не учу.
[01:02:09.000 --> 01:02:11.000]  Вот тут и проблема, что
[01:02:11.000 --> 01:02:13.000]  вот эта штука, да.
[01:02:13.000 --> 01:02:15.000]  Ну, хотя нет, тут как повезет,
[01:02:15.000 --> 01:02:17.000]  на самом деле.
[01:02:17.000 --> 01:02:19.000]  То есть, на самом деле, да,
[01:02:19.000 --> 01:02:21.000]  то есть, если,
[01:02:21.000 --> 01:02:23.000]  ну,
[01:02:23.000 --> 01:02:25.000]  ну, хотя, да, давайте
[01:02:25.000 --> 01:02:27.000]  внимательно смотреть.
[01:02:27.000 --> 01:02:29.000]  То есть, на самом деле, потенциал может
[01:02:29.000 --> 01:02:31.000]  вполне увеличиваться.
[01:02:31.000 --> 01:02:33.000]  Вот каждая насыщающая,
[01:02:33.000 --> 01:02:35.000]  оно может как уменьшить
[01:02:35.000 --> 01:02:37.000]  потенциал на единичку,
[01:02:39.000 --> 01:02:41.000]  так и уменьшить его на аж, кстати.
[01:02:42.000 --> 01:02:44.000]  Потому что, ну, вот.
[01:02:44.000 --> 01:02:46.000]  Уменьшение потенциала это хорошо.
[01:02:46.000 --> 01:02:48.000]  Ну, это не, ну, смотрите, ладно, давайте, смотрите,
[01:02:48.000 --> 01:02:50.000]  что происходит. Заметим следующее,
[01:02:50.000 --> 01:02:52.000]  что у нас, что мы гарантируем после пуша,
[01:02:52.000 --> 01:02:54.000]  это то, что вот эта высота в потенциал включится,
[01:02:56.000 --> 01:02:58.000]  а вот эта как повезет.
[01:02:58.000 --> 01:03:00.000]  И была ли эта высота включена
[01:03:00.000 --> 01:03:02.000]  перед пушем тоже как повезет, правильно?
[01:03:04.000 --> 01:03:06.000]  Вот.
[01:03:06.000 --> 01:03:08.000]  Ну, давайте смотреть.
[01:03:08.000 --> 01:03:10.000]  Но, заметим следующее.
[01:03:10.000 --> 01:03:12.000]  Если оно насыщающее,
[01:03:14.000 --> 01:03:16.000]  то эта вершина заведомо выключается
[01:03:16.000 --> 01:03:18.000]  из потенциала, правда?
[01:03:18.000 --> 01:03:20.000]  Почему нет?
[01:03:20.000 --> 01:03:22.000]  Потому что она перестает быть насыщенной.
[01:03:22.000 --> 01:03:24.000]  Избыточной, да.
[01:03:24.000 --> 01:03:26.000]  Насыщающее?
[01:03:26.000 --> 01:03:28.000]  Насыщающее насыщает ребро.
[01:03:30.000 --> 01:03:32.000]  Если оно не насыщающее.
[01:03:32.000 --> 01:03:34.000]  А, ну да, да, да. Если оно не насыщающее,
[01:03:34.000 --> 01:03:36.000]  то каждый такой потенциал,
[01:03:36.000 --> 01:03:38.000]  то есть это как минимум,
[01:03:38.000 --> 01:03:40.000]  изменение меньше либо равно,
[01:03:40.000 --> 01:03:42.000]  чем минус 1.
[01:03:42.000 --> 01:03:44.000]  А может и больше.
[01:03:44.000 --> 01:03:46.000]  Может минус а шатку,
[01:03:46.000 --> 01:03:48.000]  если выяснилось, что
[01:03:48.000 --> 01:03:50.000]  эта вершина и так была включена.
[01:03:50.000 --> 01:03:52.000]  То есть и так было испытано.
[01:03:54.000 --> 01:03:56.000]  А что касается насыщающего ребра,
[01:03:56.000 --> 01:03:58.000]  вот давайте я вот себе возьму так.
[01:03:58.000 --> 01:04:00.000]  Вот давайте я возьму
[01:04:00.000 --> 01:04:02.000]  то насыщающее, которое еще и
[01:04:02.000 --> 01:04:04.000]  избыточ не убивает.
[01:04:04.000 --> 01:04:06.000]  Заметим, что оно...
[01:04:08.000 --> 01:04:10.000]  Ну что, может ли оно
[01:04:10.000 --> 01:04:12.000]  увеличить потенциал?
[01:04:12.000 --> 01:04:14.000]  Вполне.
[01:04:14.000 --> 01:04:16.000]  А насколько оно его может увеличить?
[01:04:16.000 --> 01:04:18.000]  На аш-тершины, в которые входят, да?
[01:04:18.000 --> 01:04:20.000]  Ну да. А аш у нас не происходит,
[01:04:20.000 --> 01:04:22.000]  2v.
[01:04:22.000 --> 01:04:24.000]  То есть получается,
[01:04:24.000 --> 01:04:26.000]  ну так и пишем, что
[01:04:26.000 --> 01:04:28.000]  суммарно, то есть оно может
[01:04:28.000 --> 01:04:30.000]  увеличивать на плюс не более,
[01:04:30.000 --> 01:04:32.000]  чем 2v.
[01:04:32.000 --> 01:04:34.000]  Ну минус 2
[01:04:34.000 --> 01:04:36.000]  пишем.
[01:04:36.000 --> 01:04:38.000]  И суммарно
[01:04:38.000 --> 01:04:40.000]  получается
[01:04:40.000 --> 01:04:42.000]  сколько?
[01:04:42.000 --> 01:04:44.000]  4v2e.
[01:04:50.000 --> 01:04:52.000]  Ну то есть у нас есть потенциал,
[01:04:52.000 --> 01:04:54.000]  который растет суммарно
[01:04:54.000 --> 01:04:56.000]  на 4v2e
[01:04:56.000 --> 01:04:58.000]  плюс 2v2.
[01:04:58.000 --> 01:05:00.000]  А вычитается
[01:05:00.000 --> 01:05:02.000]  только вот в таких вот ненасыщенных
[01:05:02.000 --> 01:05:04.000]  ребрах, но каждый раз хотя бы
[01:05:04.000 --> 01:05:06.000]  на один.
[01:05:06.000 --> 01:05:08.000]  Меньше нуля он не становится,
[01:05:08.000 --> 01:05:10.000]  что важно.
[01:05:10.000 --> 01:05:12.000]  Следовательно, он уменьшается
[01:05:12.000 --> 01:05:14.000]  не большее число раз, чем увеличивается.
[01:05:16.000 --> 01:05:18.000]  И отсюда
[01:05:18.000 --> 01:05:20.000]  как раз и следует,
[01:05:22.000 --> 01:05:24.000]  что ненасыщающих
[01:05:24.000 --> 01:05:26.000]  пушень
[01:05:26.000 --> 01:05:28.000]  всего
[01:05:28.000 --> 01:05:30.000]  меньше
[01:05:30.000 --> 01:05:32.000]  либо равно, чем o
[01:05:32.000 --> 01:05:34.000]  от v2e.
[01:05:38.000 --> 01:05:40.000]  То есть это вот больше теперь технический факт.
[01:05:40.000 --> 01:05:42.000]  Как вы не делаете
[01:05:42.000 --> 01:05:44.000]  пушей и релейблы?
[01:05:44.000 --> 01:05:46.000]  Ну конечно вы там можете делать и искать эти пуши и релейблы
[01:05:46.000 --> 01:05:48.000]  за бесконечную секточку, конечно.
[01:05:48.000 --> 01:05:50.000]  Но пушей
[01:05:50.000 --> 01:05:52.000]  всего вы больше, чем v2e
[01:05:52.000 --> 01:05:54.000]  ну от v2e
[01:05:54.000 --> 01:05:56.000]  не сделаете.
[01:05:56.000 --> 01:05:58.000]  Просто и жесткая вот.
[01:05:58.000 --> 01:06:00.000]  А также насыщающих
[01:06:00.000 --> 01:06:02.000]  вы сделаете не более, чем
[01:06:02.000 --> 01:06:04.000]  2e, ну а релейблов
[01:06:04.000 --> 01:06:06.000]  вы сделаете не больше, чем v2e.
[01:06:06.000 --> 01:06:08.000]  То есть вот оказывается,
[01:06:08.000 --> 01:06:10.000]  что технология достаточно
[01:06:10.000 --> 01:06:12.000]  жесткая. Уже на уровне
[01:06:12.000 --> 01:06:14.000]  мета алгоритма, если вы это каким-то образом
[01:06:14.000 --> 01:06:16.000]  проделаете, то пушей и релейблов вы суммарно
[01:06:16.000 --> 01:06:18.000]  сделаете не сильно много.
[01:06:20.000 --> 01:06:22.000]  Ну и в принципе да, как сделать
[01:06:22.000 --> 01:06:24.000]  за v2e?
[01:06:24.000 --> 01:06:26.000]  Ну в принципе да, тут два варианта.
[01:06:26.000 --> 01:06:28.000]  Можно сразу подумать, а можно ли реализовать
[01:06:28.000 --> 01:06:30.000]  технологию, которая вам за 1
[01:06:30.000 --> 01:06:32.000]  будет тыкать носом в каком ребре вы можете сделать
[01:06:32.000 --> 01:06:34.000]  пушь или релейбл?
[01:06:36.000 --> 01:06:38.000]  Ну там это будет какая-нибудь веселая технология
[01:06:38.000 --> 01:06:40.000]  из сыпла. Давайте в каком-нибудь
[01:06:40.000 --> 01:06:42.000]  двусвязанном списке храним все
[01:06:42.000 --> 01:06:44.000]  избыточные вершины,
[01:06:44.000 --> 01:06:46.000]  храним все ребра, по которым там можно
[01:06:46.000 --> 01:06:48.000]  еще что-то делать, ну и там
[01:06:48.000 --> 01:06:50.000]  аккуратненько там в результате
[01:06:50.000 --> 01:06:52.000]  на каждом шаге достаем что-нибудь типа
[01:06:52.000 --> 01:06:54.000]  делаем из списка вершину, избыточную
[01:06:54.000 --> 01:06:56.000]  смотрим, так, есть ли у нее в списке
[01:06:56.000 --> 01:06:58.000]  ребра, о, есть, отлично, значит
[01:06:58.000 --> 01:07:00.000]  давайте делаем пушь,
[01:07:00.000 --> 01:07:02.000]  ну а если нет, давайте делаем релейбл.
[01:07:04.000 --> 01:07:06.000]  Ну теоретически так можно, но утих
[01:07:06.000 --> 01:07:08.000]  оно было проще.
[01:07:10.000 --> 01:07:12.000]  А у тебя был алгоритм, который за
[01:07:12.000 --> 01:07:14.000]  v2e, просто предлагает
[01:07:14.000 --> 01:07:16.000]  следующее, давайте между каждыми
[01:07:16.000 --> 01:07:18.000]  релейблами отсортируем вершины
[01:07:18.000 --> 01:07:20.000]  по высоте, по убыванию, а это
[01:07:20.000 --> 01:07:22.000]  как, кстати, за отвы делается,
[01:07:22.000 --> 01:07:24.000]  обратите внимание подсчетом, да?
[01:07:24.000 --> 01:07:26.000]  Ну не то, чтобы это сильно важно, но
[01:07:26.000 --> 01:07:28.000]  а потом после этого
[01:07:30.000 --> 01:07:32.000]  а потом
[01:07:32.000 --> 01:07:34.000]  после этого делаем, а что
[01:07:34.000 --> 01:07:36.000]  мы после этого делаем?
[01:07:36.000 --> 01:07:38.000]  Да, а после этого мы просто
[01:07:38.000 --> 01:07:40.000]  по сути пробегаемся
[01:07:42.000 --> 01:07:44.000]  после этого мы там
[01:07:44.000 --> 01:07:46.000]  просто сверху вниз, пробегаемся
[01:07:46.000 --> 01:07:48.000]  по всем ребрам, делаем пушь
[01:07:48.000 --> 01:07:50.000]  пока ребра не закончится
[01:07:50.000 --> 01:07:52.000]  ну или соответственно
[01:07:54.000 --> 01:07:56.000]  если избыток не закончился
[01:07:56.000 --> 01:07:58.000]  если избыток не закончился,
[01:07:58.000 --> 01:08:00.000]  то мы в этом месте сразу делаем релейбл
[01:08:00.000 --> 01:08:02.000]  и переходим к следующей фазе
[01:08:02.000 --> 01:08:04.000]  если релейбл
[01:08:04.000 --> 01:08:06.000]  а если избыток
[01:08:06.000 --> 01:08:08.000]  закончился, значит берем следующую вершину
[01:08:08.000 --> 01:08:10.000]  и продолжаем
[01:08:10.000 --> 01:08:12.000]  зацикла не произойдет,
[01:08:12.000 --> 01:08:14.000]  потому что мы
[01:08:14.000 --> 01:08:16.000]  идем сверху вниз, поэтому если у вершины
[01:08:16.000 --> 01:08:18.000]  получился избыток, то до следующего релейбла
[01:08:18.000 --> 01:08:20.000]  избыток не нулевым не станет
[01:08:22.000 --> 01:08:24.000]  так что вот получился еще один
[01:08:24.000 --> 01:08:26.000]  очень простой алгоритм, как можно делать
[01:08:26.000 --> 01:08:28.000]  в квадрате
[01:08:36.000 --> 01:08:38.000]  ну что
[01:08:40.000 --> 01:08:42.000]  если тут еще какие-то вопросы
[01:08:46.000 --> 01:08:48.000]  секунду
[01:08:50.000 --> 01:08:52.000]  идея в том, что мы
[01:08:52.000 --> 01:08:54.000]  от артеровали
[01:08:54.000 --> 01:08:56.000]  все вершины по высоте
[01:08:56.000 --> 01:08:58.000]  пошли сверху вниз
[01:08:58.000 --> 01:09:00.000]  и в каждой вершине делаем пуши
[01:09:00.000 --> 01:09:02.000]  пока можем, когда не можем
[01:09:02.000 --> 01:09:04.000]  делаем релейбл
[01:09:04.000 --> 01:09:06.000]  почему мы не делаем релейбл для каждой вершины?
[01:09:08.000 --> 01:09:10.000]  нет, зачем для каждой?
[01:09:10.000 --> 01:09:12.000]  почему мы за один проход
[01:09:12.000 --> 01:09:14.000]  делаем релейбл не для каждой вершины?
[01:09:14.000 --> 01:09:15.000]  А зачем нам для каждой?
[01:09:15.000 --> 01:09:15.500]  Нет.
[01:09:15.500 --> 01:09:21.000]  Мы как только очередной лекшином сделали релегл, мы все прекращаем эту фазу и делаем все заново.
[01:09:21.000 --> 01:09:23.000]  А почему мы не продолжить?
[01:09:24.000 --> 01:09:26.000]  Потому что будет другая вариация.
[01:09:26.000 --> 01:09:28.000]  Ага.
[01:09:28.000 --> 01:09:30.000]  Нет, если вы еще хотите, пожалуйста, можно и продолжить.
[01:09:30.000 --> 01:09:32.000]  Это корректно.
[01:09:32.000 --> 01:09:34.000]  Ну, в общем-то да.
[01:09:34.000 --> 01:09:41.000]  Это на самом деле метод. Пробежимся по всем лекшинам и пробежимся по всем левым и сделаем все пуши.
[01:09:41.000 --> 01:09:43.000]  А если левушки закончились, часть будет так.
[01:09:43.000 --> 01:09:45.000]  Нет, значит делаем релейну.
[01:09:45.000 --> 01:09:46.000]  Круто.
[01:09:46.000 --> 01:09:47.000]  Моим и собственной релейну.
[01:09:47.000 --> 01:09:49.000]  По-моему, быстро разберем.
[01:09:49.000 --> 01:09:50.000]  Ага.
[01:09:50.000 --> 01:09:51.000]  Да.
[01:09:51.000 --> 01:09:53.000]  Самое смешное, что еще быстрее, чем кажется.
[01:09:53.000 --> 01:09:56.000]  Вот скажите, по-моему, у вас домашних заданий будет это.
[01:09:56.000 --> 01:10:01.000]  Докажите, что если вы перебегаете вершины даже не в порядке высоты, а просто от одного до а.
[01:10:01.000 --> 01:10:03.000]  То это работает на куб.
[01:10:03.000 --> 01:10:04.000]  В куб.
[01:10:04.000 --> 01:10:05.000]  Прям в куб.
[01:10:05.000 --> 01:10:07.000]  Ну, подразумевает, что нет кратных берегов где, конечно.
[01:10:07.000 --> 01:10:08.000]  Понятно.
[01:10:08.000 --> 01:10:09.000]  Вот.
[01:10:09.000 --> 01:10:10.000]  Верю.
[01:10:10.000 --> 01:10:11.000]  Верю.
[01:10:11.000 --> 01:10:12.000]  Вот.
[01:10:12.000 --> 01:10:13.000]  А иначе за VE?
[01:10:13.000 --> 01:10:14.000]  Или что?
[01:10:14.000 --> 01:10:15.000]  Да.
[01:10:15.000 --> 01:10:16.000]  Так.
[01:10:16.000 --> 01:10:17.000]  Сейчас.
[01:10:17.000 --> 01:10:18.000]  А что иначе за VE?
[01:10:18.000 --> 01:10:19.000]  Ну...
[01:10:19.000 --> 01:10:22.000]  Нет, там будет, туда будет V куб плюс VE формально.
[01:10:22.000 --> 01:10:23.000]  Вот так.
[01:10:23.000 --> 01:10:24.000]  Верю.
[01:10:24.000 --> 01:10:30.000]  V куб плюс VE, но если вы сожмете, будет куб и будет кайф.
[01:10:30.000 --> 01:10:31.000]  Вот.
[01:10:31.000 --> 01:10:35.000]  Но если переходить к кубическим алгоритмам, то, как я уже сказал, у нас их в курсе
[01:10:35.000 --> 01:10:36.000]  трое.
[01:10:36.000 --> 01:10:39.000]  Значит, два из них у вас там в теоретическом домашнем задании.
[01:10:40.000 --> 01:10:43.000]  Это ваше задание теоретическое, потому что на практике вы не выздали, что?
[01:10:43.000 --> 01:10:48.000]  Нет, на практике вы сами выберете, какой кубический алгоритм вы захотите написать.
[01:10:48.000 --> 01:10:49.000]  А там есть хотя бы...
[01:10:49.000 --> 01:10:52.000]  Надо узнать домашний, который реально нужно писать, это...
[01:10:52.000 --> 01:10:53.000]  Да.
[01:10:53.000 --> 01:10:54.000]  Ну, реально в каком плане?
[01:10:54.000 --> 01:10:56.000]  У вас уже слишком динец не зайдет.
[01:10:56.000 --> 01:10:58.000]  А, нет, ну это правда.
[01:10:58.000 --> 01:11:01.000]  Ну, потому что очень мало верят, потому что вы динца не запихаете.
[01:11:01.000 --> 01:11:02.000]  Кайф.
[01:11:02.000 --> 01:11:03.000]  Вот.
[01:11:03.000 --> 01:11:04.000]  Сегодня у нас...
[01:11:04.000 --> 01:11:05.000]  Так.
[01:11:05.000 --> 01:11:06.000]  Вот сколько у нас еще?
[01:11:06.000 --> 01:11:08.000]  То есть у нас сегодня еще одно занятие будет.
[01:11:08.000 --> 01:11:09.000]  Да, ну вот.
[01:11:09.000 --> 01:11:13.000]  И соответственно, видимо, на нем мы все-таки будем обсуждать теоремы как заново,
[01:11:13.000 --> 01:11:16.000]  которые покажут, что на самом деле в подавляющем большинстве задач
[01:11:16.000 --> 01:11:19.000]  на самом деле динец, скорее всего, уверенно зайдет.
[01:11:21.000 --> 01:11:22.000]  Интересная теорема.
[01:11:23.000 --> 01:11:28.000]  Ну, вообще, он будет показывать, что на самом деле он будет хорошо заходить.
[01:11:28.000 --> 01:11:31.000]  На самом деле количество задач, когда динец зайдет.
[01:11:31.000 --> 01:11:35.000]  Ну, как сказать, с точки зрения Олимпиад, вообще, динец это там основной алгоритм.
[01:11:36.000 --> 01:11:39.000]  То есть, скорее всего, если нужно писать что-то более не тривиальное,
[01:11:39.000 --> 01:11:42.000]  скорее всего, это там имеет отношение к конкретных задач.
[01:11:43.000 --> 01:11:46.000]  Ну, то есть теоретически, наверное, можно, может быть, придумать задачу,
[01:11:46.000 --> 01:11:49.000]  где там это динец завалится, а именно прифлопуш,
[01:11:49.000 --> 01:11:52.000]  но это какой-то очень, очень внимательный какой-то алгоритм должен быть.
[01:11:53.000 --> 01:11:55.000]  То есть, именно вот, внимательно использовать.
[01:11:55.000 --> 01:11:58.000]  То есть, я, конечно, один раз полноталкивался на задачу,
[01:11:58.000 --> 01:12:01.000]  где нужен именно алгоритм Барувки, например.
[01:12:02.000 --> 01:12:05.000]  А, ой, вы не знаете, сколько алгоритм Барувки?
[01:12:05.000 --> 01:12:07.000]  Это на Рэпе на Миросково?
[01:12:07.000 --> 01:12:08.000]  На Миросково, да.
[01:12:08.000 --> 01:12:09.000]  Было?
[01:12:10.000 --> 01:12:11.000]  Что, уже ничего не помню?
[01:12:11.000 --> 01:12:12.000]  Нет, здесь его не было.
[01:12:12.000 --> 01:12:13.000]  Не было.
[01:12:13.000 --> 01:12:16.000]  Когда мы из каждой компоненты ищем ребро, все ребра добавляем.
[01:12:16.000 --> 01:12:17.000]  Ну, да.
[01:12:17.000 --> 01:12:18.000]  Было же.
[01:12:18.000 --> 01:12:19.000]  Не было.
[01:12:19.000 --> 01:12:20.000]  Не, не.
[01:12:20.000 --> 01:12:22.000]  Нет, был прим, был краска.
[01:12:22.000 --> 01:12:24.000]  То есть, был прим, когда у нас есть одна компонента,
[01:12:24.000 --> 01:12:26.000]  и мы подключаем минимальное ребро.
[01:12:26.000 --> 01:12:29.000]  Не было еще поиски с выдачами кучи?
[01:12:29.000 --> 01:12:30.000]  Нет.
[01:12:30.000 --> 01:12:31.000]  Это не так.
[01:12:31.000 --> 01:12:32.000]  Нет, не так.
[01:12:32.000 --> 01:12:33.000]  Я скажу так.
[01:12:33.000 --> 01:12:35.000]  Был прим, где мы к одной компоненте подключаем одно ребро.
[01:12:35.000 --> 01:12:36.000]  Да.
[01:12:36.000 --> 01:12:39.000]  Был краска, где мы просто сортируем ребра и обведения.
[01:12:39.000 --> 01:12:42.000]  Были там, особенно у прим, огромное количество модификаций.
[01:12:42.000 --> 01:12:43.000]  Да.
[01:12:43.000 --> 01:12:44.000]  Вот.
[01:12:44.000 --> 01:12:46.000]  Да, дело это было, которые там нас в какой-то момент дошли
[01:12:46.000 --> 01:12:50.000]  едва ли не за ОАТВ плюс Е, там, при каких-то условиях.
[01:12:51.000 --> 01:12:53.000]  А тут еще было со сливами кучки.
[01:12:53.000 --> 01:12:54.000]  Да.
[01:12:54.000 --> 01:12:55.000]  Это оно было?
[01:12:55.000 --> 01:12:56.000]  Нет, это другое было.
[01:12:56.000 --> 01:12:58.000]  Нет, это был миностов с ориентированными графами.
[01:12:58.000 --> 01:12:59.000]  Вот.
[01:12:59.000 --> 01:13:00.000]  А.
[01:13:00.000 --> 01:13:01.000]  Да-да-да.
[01:13:01.000 --> 01:13:02.000]  Это когда?
[01:13:02.000 --> 01:13:05.000]  Это два китайца плюс сливаемые кучи равно елоговое.
[01:13:05.000 --> 01:13:06.000]  Да-да-да.
[01:13:07.000 --> 01:13:08.000]  Ой.
[01:13:11.000 --> 01:13:12.000]  Ну а что?
[01:13:12.000 --> 01:13:13.000]  Ну да.
[01:13:13.000 --> 01:13:14.000]  Ну а что такое?
[01:13:14.000 --> 01:13:17.000]  Если есть метод четырех русских, то, наверное, есть алгоритм двух китайцев.
[01:13:18.000 --> 01:13:19.000]  Да.
[01:13:19.000 --> 01:13:20.000]  Ну ничего, ладно.
[01:13:20.000 --> 01:13:24.000]  Когда-нибудь, как говорится, будет алгоритм трех американцев.
[01:13:25.000 --> 01:13:26.000]  Ой.
[01:13:27.000 --> 01:13:28.000]  Так-так.
[01:13:30.000 --> 01:13:31.000]  Значит, что, да, ну вот.
[01:13:31.000 --> 01:13:36.000]  Ну а теперь, значит, возвращаясь к push-re-label, то будет что-нибудь еще.
[01:13:36.000 --> 01:13:39.000]  Ну а то теперь, значит, попробуем, значит, попихать за вакуум.
[01:13:40.000 --> 01:13:44.000]  Ну один из классических алгоритмов, как запихнуть за вакуум.
[01:13:45.000 --> 01:13:50.000]  Ну, конечно, то есть речь будет идти о том, что, конечно же, пуши надо делать как-то более аккуратно.
[01:13:51.000 --> 01:13:53.000]  Ну, то есть более кому-то аккуратно поят.
[01:13:56.000 --> 01:13:57.000]  Вот.
[01:13:59.000 --> 01:14:05.000]  Ну вот, алгоритм, ну, на самом деле, основная его идея зашита уже в название метода.
[01:14:06.000 --> 01:14:09.000]  Название метода relabel to front.
[01:14:15.000 --> 01:14:19.000]  The question is to front of what?
[01:14:23.000 --> 01:14:24.000]  Вот.
[01:14:24.000 --> 01:14:26.000]  Ну, а идея очень проста.
[01:14:27.000 --> 01:14:31.000]  Дело в том, что у нас будет что-то типа очереди.
[01:14:34.000 --> 01:14:39.000]  Значит, будет у нас, смотрите, значит, что-то типа очереди.
[01:14:40.000 --> 01:14:46.000]  Значит, ну метод тоже, действительно, мы будем в некотором смысле проталкивать воду сверху вниз, но не совсем сверху.
[01:14:47.000 --> 01:14:52.000]  Дело в том, что мы будем, оп-оп-оп, значит, оп-оп.
[01:14:55.000 --> 01:14:56.000]  Значит, жила была вода.
[01:14:57.000 --> 01:15:00.000]  Вот она, вот она, вот она, вот она, вот она, вот она.
[01:15:01.000 --> 01:15:03.000]  То есть у нас будет вот такая длинная цепочка вершины.
[01:15:07.000 --> 01:15:15.000]  И гарантируется следующее, что с точки зрения этой цепочки,
[01:15:16.000 --> 01:15:21.000]  все ребра, по которым можно выполнить push,
[01:15:22.000 --> 01:15:26.000]  в чем, когда я говорю на этот раз выполнить push, я говорю буквально, то есть выполнены прям вот все условия.
[01:15:27.000 --> 01:15:28.000]  В том числе на высоты.
[01:15:29.000 --> 01:15:37.000]  Значит, цепочка будет устроена так, что все эти ребра будут смотреть вот так.
[01:15:38.000 --> 01:15:39.000]  Слева направо.
[01:15:40.000 --> 01:15:41.000]  Что это вообще за цепочка?
[01:15:42.000 --> 01:15:44.000]  Вот просто цепочка вершин, из которых мы хотим...
[01:15:45.000 --> 01:15:46.000]  Эти вот синие ребра, это не ребра, это просто...
[01:15:47.000 --> 01:15:51.000]  Да, это просто намек на то, что это односвязный список.
[01:15:55.000 --> 01:15:57.000]  Ну, можно просто посветить.
[01:15:57.000 --> 01:15:58.000]  Вот.
[01:16:08.000 --> 01:16:10.000]  Значит, мы будем идти слева направо.
[01:16:12.000 --> 01:16:13.000]  И делать...
[01:16:17.000 --> 01:16:18.000]  Ну вот.
[01:16:19.000 --> 01:16:21.000]  И делать тотальную зачистку.
[01:16:21.000 --> 01:16:24.000]  То есть мы будем просто перебирать все ребра и смотреть, можно ли сделать push.
[01:16:25.000 --> 01:16:26.000]  Если можно сделать push, делаем.
[01:16:27.000 --> 01:16:32.000]  Если ребра закончились, а 0 xs не наступило,
[01:16:34.000 --> 01:16:36.000]  тогда мы делаем следующее.
[01:16:37.000 --> 01:16:42.000]  Тогда мы берем эту вершину, делаем у нее relabel,
[01:16:43.000 --> 01:16:46.000]  и торжественно отправляем в начало.
[01:16:46.000 --> 01:16:50.000]  Мы идем по вершинам, как-то с куда-то по когда-то.
[01:16:51.000 --> 01:16:53.000]  Нет, просто слева направо, с самого начала и до самого конца.
[01:16:54.000 --> 01:16:56.000]  И в каждой вершине, прям...
[01:16:57.000 --> 01:16:59.000]  Прям, давайте так, пока тупо,
[01:17:00.000 --> 01:17:01.000]  пока прям очень тупо,
[01:17:02.000 --> 01:17:04.000]  делаем, значит,
[01:17:06.000 --> 01:17:08.000]  в каждой вершине, прям,
[01:17:09.000 --> 01:17:10.000]  пока тупо,
[01:17:11.000 --> 01:17:12.000]  пока прям очень тупо,
[01:17:13.000 --> 01:17:14.000]  делаем, значит,
[01:17:15.000 --> 01:17:19.000]  перебираем ребра и пытаемся делать push.
[01:17:20.000 --> 01:17:21.000]  Ну, если она, конечно, xs у нее больше 0.
[01:17:22.000 --> 01:17:23.000]  Если xs у нее равен 0, то ничего не делаем.
[01:17:24.000 --> 01:17:26.000]  Значит, делаем, идем по ребрам,
[01:17:27.000 --> 01:17:28.000]  если делаем push,
[01:17:29.000 --> 01:17:32.000]  и остановится этот процесс либо когда ребра закончится, либо когда избыток станет 0 или 0.
[01:17:33.000 --> 01:17:36.000]  Ну, если избыток стал 0 или 0, значит, мы идем к следующей вершине и продолжаем.
[01:17:37.000 --> 01:17:38.000]  А эту вершину не трогаем?
[01:17:39.000 --> 01:17:40.000]  А эту вершину не трогаем.
[01:17:41.000 --> 01:17:43.000]  Но если у какой-то вершины неожиданно ребра закончились,
[01:17:45.000 --> 01:17:47.000]  а relabel не наступил,
[01:17:48.000 --> 01:17:49.000]  фу, да,
[01:17:50.000 --> 01:17:51.000]  xs нулевым не стал,
[01:17:52.000 --> 01:17:53.000]  значит, мы делаем relabel.
[01:17:54.000 --> 01:18:01.000]  Но когда мы делаем relabel, мы эту вершину торжественно отправляем в начало списка.
[01:18:08.000 --> 01:18:10.000]  Вот такая вот неожиданная идея.
[01:18:11.000 --> 01:18:13.000]  И после этого, кстати, мы теперь
[01:18:14.000 --> 01:18:17.000]  еще раз прибираемся по вершинам, но уже начинает с этой вершины.
[01:18:18.000 --> 01:18:19.000]  То есть дальше, пояс дальше не идет.
[01:18:20.000 --> 01:18:21.000]  Пояс идет сначала.
[01:18:25.000 --> 01:18:27.000]  А, то есть мы не доходим до конца.
[01:18:28.000 --> 01:18:30.000]  Мы каждый раз выкину вершину, опять зеленую начинаем.
[01:18:31.000 --> 01:18:32.000]  Да.
[01:18:35.000 --> 01:18:38.000]  А зеленая стрелочка это просто какое-то ребро или что?
[01:18:39.000 --> 01:18:42.000]  Это, нет, смысл зеленой стрелочки, что мы поддерживаем вариант,
[01:18:42.000 --> 01:18:44.000]  что все ребра, которым можно реально сделать push,
[01:18:45.000 --> 01:18:48.000]  ну, вот со всеми условиями, прямо сейчас прямо взять и сделать push,
[01:18:49.000 --> 01:18:52.000]  то есть все эти ребра смотрят с точки зрения этого списка слева направо.
[01:18:53.000 --> 01:18:54.000]  А изначально у нас какой список?
[01:18:55.000 --> 01:18:58.000]  Ну изначально вершины, просто все вершины расположены в рандомном порядке.
[01:18:59.000 --> 01:19:03.000]  Там нам начать просто потому, что в самом начале вы push не можете сделать в принципе.
[01:19:10.000 --> 01:19:11.000]  Так что вот такая красота.
[01:19:12.000 --> 01:19:19.000]  Правда, остается понять две вещи.
[01:19:20.000 --> 01:19:21.000]  Так, первое самое.
[01:19:22.000 --> 01:19:27.000]  Почему это вообще, ну, во-первых, мы тут заявляли какой-то инвариант,
[01:19:28.000 --> 01:19:29.000]  а почему этот инвариант вообще работает?
[01:19:34.000 --> 01:19:37.000]  Ну, не говоря уже о той мелочи, а почему этот алгоритм вообще работает?
[01:19:37.000 --> 01:19:38.000]  Ну, понять это несложно.
[01:19:39.000 --> 01:19:44.000]  Потому что если мы пользуемся, верим в этот инвариант, что все слева направо,
[01:19:45.000 --> 01:19:50.000]  то тогда это означает следующее, что если тут вот мы прошлись по вершинам и релейблов не было,
[01:19:51.000 --> 01:19:54.000]  то тогда мы гарантируем, что у этих вершин избыток ноль,
[01:19:55.000 --> 01:20:00.000]  и более того, пока мы не выполним релейбл, избытки у этих вершин ни нули, ни выми, ни станут.
[01:20:01.000 --> 01:20:03.000]  Потому что все дальнейшие push, они будут такими же, как и мы,
[01:20:04.000 --> 01:20:09.000]  они будут отправлять воду вот куда-то, туда-туда-туда.
[01:20:10.000 --> 01:20:11.000]  Понимаете, да?
[01:20:14.000 --> 01:20:18.000]  Тогда получается, что этот процесс, если мы поверим в инвариант, конечно,
[01:20:19.000 --> 01:20:23.000]  получается, что каждый проход по списку у нас заканчивается либо релейблом,
[01:20:25.000 --> 01:20:27.000]  либо мы дойдем прямо вот до конца,
[01:20:28.000 --> 01:20:30.000]  и тогда это будет означать, что мы прошлись по всем вершинам
[01:20:30.000 --> 01:20:33.000]  и гарантируем, что теперь у всех этих вершин избыток нулей.
[01:20:35.000 --> 01:20:38.000]  А это, как вы помните, в точности означает, что мы нашли поток и мы победили.
[01:20:42.000 --> 01:20:43.000]  Понятно, да?
[01:20:44.000 --> 01:20:45.000]  Понятно, да.
[01:20:47.000 --> 01:20:48.000]  Так вот.
[01:20:49.000 --> 01:20:50.000]  Да.
[01:20:51.000 --> 01:20:53.000]  Нет, он уже за куб работает, если мы верим в инвариант.
[01:20:54.000 --> 01:20:55.000]  За куб?
[01:20:56.000 --> 01:20:57.000]  Потому что?
[01:20:57.000 --> 01:20:58.000]  Потому что каждая фаза работает.
[01:20:59.000 --> 01:21:00.000]  Ну, если мы верим в инвариант...
[01:21:01.000 --> 01:21:02.000]  А, за В квадрат Е.
[01:21:03.000 --> 01:21:05.000]  Да, пока каждая фаза работает за В Е. Пока.
[01:21:06.000 --> 01:21:07.000]  Вот.
[01:21:08.000 --> 01:21:11.000]  Но давайте пойдем по инварианту сначала, чтобы подумать, как эту В Е допилить до куба.
[01:21:13.000 --> 01:21:14.000]  Просто идея, теперь следующая.
[01:21:16.000 --> 01:21:18.000]  А почему этот инвариант вообще работает?
[01:21:23.000 --> 01:21:24.000]  Давайте посмотрим, значит...
[01:21:24.000 --> 01:21:25.000]  Ну да.
[01:21:26.000 --> 01:21:28.000]  Что происходит при лейбле, что происходит при пуше.
[01:21:29.000 --> 01:21:32.000]  Ну, во-первых, заметим, что если мы вот дошли уже до этой вершины,
[01:21:33.000 --> 01:21:36.000]  то вот этих вот ребер, обратите внимание, которые ведут откуда-то отсюда, куда-то дальше,
[01:21:37.000 --> 01:21:38.000]  их уже нет.
[01:21:39.000 --> 01:21:40.000]  Почему их нет?
[01:21:41.000 --> 01:21:42.000]  Потому что все эти вершины перестали быть избыточными.
[01:21:43.000 --> 01:21:46.000]  А у пуши есть такое маленькое условие, что пушь делается только при избытке.
[01:21:47.000 --> 01:21:48.000]  Понимаете, да?
[01:21:49.000 --> 01:21:50.000]  Да.
[01:21:50.000 --> 01:21:54.000]  Поэтому получается, что самое главное для нас, по сути, нам надо было доказать,
[01:21:55.000 --> 01:21:59.000]  что при вот этом рейлейбле этой вершины в нее не ведет хороших ребер.
[01:22:00.000 --> 01:22:02.000]  Вот мы и показали, что их не видел.
[01:22:03.000 --> 01:22:06.000]  Потому что из этих вершин вообще никаких адекватных ребер не видел.
[01:22:09.000 --> 01:22:14.000]  Ну правда, могли, конечно, появиться после рейлейбла адекватные ребра, ведущие в эти вершины,
[01:22:15.000 --> 01:22:17.000]  но, собственно, ровно с этой целью мы ее в начало и перекинули.
[01:22:20.000 --> 01:22:24.000]  Ну а все остальные, у всех остальных вершин высоты не поменялись,
[01:22:25.000 --> 01:22:27.000]  поэтому, собственно, все избытки не поменялись,
[01:22:28.000 --> 01:22:32.000]  поэтому, собственно, все пушевости все равно остаются слева-направо.
[01:22:34.000 --> 01:22:37.000]  Поэтому получается, что их вариант коррективен.
[01:22:42.000 --> 01:22:43.000]  Вот.
[01:22:44.000 --> 01:22:45.000]  Понятно?
[01:22:47.000 --> 01:22:49.000]  Вот, да, нет, наверное.
[01:22:50.000 --> 01:22:51.000]  Сейчас.
[01:23:08.000 --> 01:23:13.000]  Почему, если мы делаем пуш по рейбру слева-направо, не появится рейбро справа-налево?
[01:23:14.000 --> 01:23:15.000]  А, потому что рейлейбла не произошло, окей.
[01:23:16.000 --> 01:23:17.000]  Нет, вообще непонятно.
[01:23:17.000 --> 01:23:18.000]  Понятно.
[01:23:19.000 --> 01:23:20.000]  Почему у нас не могло нового рейбра?
[01:23:21.000 --> 01:23:22.000]  Да, действительно.
[01:23:23.000 --> 01:23:25.000]  Так, да, действительно, в таком варианте, да,
[01:23:26.000 --> 01:23:28.000]  что если мы просто так говорим, что если-то тогда мы можем сделать пуш,
[01:23:29.000 --> 01:23:32.000]  и тут появится какое-то, ну вот, какое-то адекватное рейбро,
[01:23:33.000 --> 01:23:35.000]  в котором этот пуш это реально можно сделать.
[01:23:37.000 --> 01:23:38.000]  Так.
[01:23:41.000 --> 01:23:42.000]  Так, все сделано.
[01:23:42.000 --> 01:23:43.000]  Хорошо.
[01:23:46.000 --> 01:23:47.000]  Хорошо.
[01:23:48.000 --> 01:23:49.000]  Действительно.
[01:23:50.000 --> 01:23:53.000]  А насколько нам тут прям принципиально, что эти вершины перестали быть избуточены?
[01:23:55.000 --> 01:23:56.000]  Очень.
[01:23:57.000 --> 01:23:58.000]  Прямо очень.
[01:24:01.000 --> 01:24:06.000]  Ну, почему не могу попросить такого, что мы сделаем пуш по рейбру, вершина направо какой-нибудь,
[01:24:07.000 --> 01:24:11.000]  и из нее появится рейбро вообще хоть куда-нибудь.
[01:24:12.000 --> 01:24:14.000]  У нее станет excess 0.
[01:24:15.000 --> 01:24:16.000]  Да, теперь.
[01:24:17.000 --> 01:24:19.000]  Да, но есть одна маленькая проблема.
[01:24:20.000 --> 01:24:22.000]  Что означает, что был адекватный рейбро?
[01:24:23.000 --> 01:24:25.000]  Ну, допустим, вот мы скажем, что рейбро называется хорошим,
[01:24:26.000 --> 01:24:29.000]  то есть там пушером, если в нем выполнены все условия пуш,
[01:24:30.000 --> 01:24:32.000]  кроме, может быть, избыточности вершины.
[01:24:35.000 --> 01:24:36.000]  Ладно.
[01:24:37.000 --> 01:24:39.000]  Кроме, может быть, избыточности вершины.
[01:24:40.000 --> 01:24:42.000]  Тогда смотрите какая ситуация.
[01:24:43.000 --> 01:24:45.000]  Чтобы было, существовало вот такое рейбро УВ,
[01:24:46.000 --> 01:24:52.000]  тогда должно быть выполнено, что h от У равно h от В плюс 1.
[01:24:54.000 --> 01:25:00.000]  Но если бы выполнили рейбл УВ, значит, высота-то строго увеличилась.
[01:25:00.000 --> 01:25:02.000]  Высота-то строго увеличилась.
[01:25:05.000 --> 01:25:06.000]  Ну, это в этом.
[01:25:07.000 --> 01:25:09.000]  Потому что высота-то строго увеличилась,
[01:25:10.000 --> 01:25:12.000]  а значит, это рейбро, даже если оно было хорошим,
[01:25:13.000 --> 01:25:16.000]  ровно в момент релейбла, хорошим быть перестало.
[01:25:19.000 --> 01:25:22.000]  Можно пошагом еще раз, где у нас вообще было доказательство того,
[01:25:23.000 --> 01:25:25.000]  что у нас все рёбра всегда будут вести слева-направо.
[01:25:26.000 --> 01:25:28.000]  Нужно проверить, чтобы все пуши и все релейблы
[01:25:28.000 --> 01:25:30.000]  не создают рёбры, ведущих справа-налево.
[01:25:31.000 --> 01:25:33.000]  Но не всех рёбр.
[01:25:34.000 --> 01:25:36.000]  Нас интересует не все рёбра.
[01:25:37.000 --> 01:25:42.000]  Нас интересует только ненасыщенные рёбра,
[01:25:43.000 --> 01:25:45.000]  то есть ненасыщенные рёбра,
[01:25:46.000 --> 01:25:50.000]  торчащие не из устока,
[01:25:51.000 --> 01:25:56.000]  и у которых разность высот между стартом и финишем равна ровно 1.
[01:25:57.000 --> 01:26:00.000]  Нас интересуют только эти рёбры.
[01:26:01.000 --> 01:26:03.000]  Теперь смотрите.
[01:26:04.000 --> 01:26:08.000]  В результате пуша таких рёбр, конечно же, не появляются.
[01:26:09.000 --> 01:26:14.000]  В результате пуша появляется только обратное рибро с разностью высот минус 1.
[01:26:15.000 --> 01:26:17.000]  А почему у нас может...
[01:26:18.000 --> 01:26:23.000]  Сейчас, есть еще одно условие, что excess больше 0.
[01:26:23.000 --> 01:26:27.000]  А вот это условия у нас больше нет.
[01:26:28.000 --> 01:26:32.000]  Нас интересует рёбра, у которых разность высот 1,
[01:26:33.000 --> 01:26:35.000]  и у которых ненасыщенные рёбры.
[01:26:36.000 --> 01:26:38.000]  Вот это условие нас сейчас не интересует.
[01:26:39.000 --> 01:26:40.000]  Вот.
[01:26:41.000 --> 01:26:43.000]  Теперь смотрите, какая ситуация.
[01:26:44.000 --> 01:26:46.000]  Это было хорошее рибро.
[01:26:47.000 --> 01:26:51.000]  При пуше у нас появляется только обратное рибро с разностью высот минус 1.
[01:26:51.000 --> 01:26:55.000]  И в результате чего получается хорошо.
[01:26:56.000 --> 01:27:00.000]  В результате чего получается, что это рибро имеет разность с высот минус 1,
[01:27:01.000 --> 01:27:04.000]  и как следствие, хорошим пушем он на текущий момент не является.
[01:27:05.000 --> 01:27:07.000]  Теперь осмотрим релейбл.
[01:27:08.000 --> 01:27:12.000]  Вот смотрите, шли мы тут по списку, шли, и появился релейбл.
[01:27:13.000 --> 01:27:15.000]  Теперь давайте думаем.
[01:27:16.000 --> 01:27:18.000]  Значит, что поменялось?
[01:27:19.000 --> 01:27:25.000]  Ну, во-первых, конечно, из этой вершины могли появиться хорошие рёбра, теперь торчащие куда-то сюда.
[01:27:26.000 --> 01:27:29.000]  Но с ними никаких проблем нет, потому что мы как раз эту вершину вначале пихаем.
[01:27:30.000 --> 01:27:33.000]  Всё, что нам надо показать, это то, что у нас теперь нет.
[01:27:34.000 --> 01:27:37.000]  Нет хороших релейблов, которые ведут в вершину V.
[01:27:40.000 --> 01:27:42.000]  Ну, смотрите.
[01:27:43.000 --> 01:27:49.000]  Но смотрите, тут заметим, что в результате релейбла у нас ребра не появляются и не исчезают.
[01:27:52.000 --> 01:27:56.000]  Но заметим вот что, предположим, что было перед релейблом хорошее ребро.
[01:27:58.000 --> 01:28:00.000]  Нет, хотя нет, было.
[01:28:01.000 --> 01:28:03.000]  Хотя нет, не появляются и не исчезают, это неправильная формулировка.
[01:28:04.000 --> 01:28:08.000]  Я имею в виду, что ребра, насыщенность ребра не появляется и не исчезает.
[01:28:09.000 --> 01:28:13.000]  А теперь предположим, что было какое-то ребро.
[01:28:14.000 --> 01:28:18.000]  Было ненасыщенное ребро, ведущее откуда-то слева.
[01:28:19.000 --> 01:28:21.000]  Ну, справа вести не могло, да?
[01:28:22.000 --> 01:28:23.000]  Было вот слева.
[01:28:24.000 --> 01:28:31.000]  Но для того, чтобы оно было пушевым, оно не только должно быть ненасыщенное, а ещё должно быть выполнено, что h2 должно быть равно hv плюс 1.
[01:28:32.000 --> 01:28:34.000]  Это должно быть выполнено после релейбла.
[01:28:35.000 --> 01:28:39.000]  Это должно быть выполнено перед релейблом, потому что это часть инварианта.
[01:28:40.000 --> 01:28:41.000]  Я не понял.
[01:28:42.000 --> 01:28:43.000]  Часть инварианта.
[01:28:44.000 --> 01:28:45.000]  Я не понимаю, что мы докажем.
[01:28:46.000 --> 01:28:47.000]  Что инвариант сохраняется.
[01:28:48.000 --> 01:28:49.000]  При релейбле.
[01:28:50.000 --> 01:28:52.000]  Для этого инвариант – это отсутствие хороших ребер справа налево.
[01:28:53.000 --> 01:28:54.000]  Да.
[01:28:55.000 --> 01:28:56.000]  Вот мы думаем, откуда они могли появиться.
[01:28:57.000 --> 01:29:01.000]  Могли они появиться только из-за того, что у нас есть какое-то хорошее ребро.
[01:29:01.000 --> 01:29:03.000]  Не хорошее, а которое стало хорошим.
[01:29:05.000 --> 01:29:06.000]  Или сейчас что?
[01:29:07.000 --> 01:29:08.000]  Которое может быть стало хорошим.
[01:29:09.000 --> 01:29:10.000]  У нас у v менялся h только что.
[01:29:11.000 --> 01:29:13.000]  Оно могло быть плохим, стать хорошим.
[01:29:14.000 --> 01:29:15.000]  Нет? Я не понимаю.
[01:29:16.000 --> 01:29:17.000]  Окей.
[01:29:18.000 --> 01:29:19.000]  Так.
[01:29:20.000 --> 01:29:21.000]  Так, ну хорошо, ладно.
[01:29:22.000 --> 01:29:26.000]  После того, как вы пишите h от u или h от v, вы понимаете, что h только что поменялось.
[01:29:27.000 --> 01:29:28.000]  Какой именно h вы видите?
[01:29:29.000 --> 01:29:30.000]  Так.
[01:29:31.000 --> 01:29:32.000]  Так.
[01:29:33.000 --> 01:29:34.000]  Так, хорошо.
[01:29:35.000 --> 01:29:39.000]  Значит, у нас неожиданно в результате релейбла появилось ребро.
[01:29:40.000 --> 01:29:41.000]  Из uv, да?
[01:29:42.000 --> 01:29:43.000]  Ага.
[01:29:44.000 --> 01:29:47.000]  В котором выполнено это ребро e.
[01:29:48.000 --> 01:29:53.000]  И мы знаем, что пропускная способность этого e cf от e больше нуля.
[01:29:54.000 --> 01:29:58.000]  А еще мы знаем, что h от u прямо сейчас равно h от v плюс 1.
[01:29:59.000 --> 01:30:00.000]  Это правда.
[01:30:02.000 --> 01:30:03.000]  Да.
[01:30:04.000 --> 01:30:05.000]  Только маленькая проблема.
[01:30:06.000 --> 01:30:07.000]  А теперь что было непосредственно перед релейблом?
[01:30:08.000 --> 01:30:11.000]  А перед релейблом непосредственно h от v был еще меньше.
[01:30:12.000 --> 01:30:13.000]  Да.
[01:30:14.000 --> 01:30:23.000]  То есть у нас было ненасыщенное ребро, у которого разность перепад высот был больше чем 1.
[01:30:24.000 --> 01:30:25.000]  А, ну да.
[01:30:26.000 --> 01:30:31.000]  А это противоречит просто, извините, исходно заданной технологии.
[01:30:32.000 --> 01:30:34.000]  Такого у нас типа не было.
[01:30:35.000 --> 01:30:36.000]  Вот и все.
[01:30:39.000 --> 01:30:40.000]  Вот.
[01:30:45.000 --> 01:30:48.000]  То есть таким образом этот алгоритм работает.
[01:30:49.000 --> 01:30:54.000]  В том плане, что вариант корректен, следует на рано или поздно все релейблы закончатся.
[01:30:55.000 --> 01:30:59.000]  И он там один раз пройдется по всем вершинам, все пропихнет, скажет, что релейблов не было, вода закончилась.
[01:31:00.000 --> 01:31:01.000]  Ура да здрасьте.
[01:31:02.000 --> 01:31:06.000]  Но единственная проблема, что этот алгоритм пока все еще работает за v2e.
[01:31:10.000 --> 01:31:13.000]  Но на самом деле, ну почему за v2e?
[01:31:13.000 --> 01:31:14.000]  А почему за v2e?
[01:31:15.000 --> 01:31:20.000]  Потому что суммарно все наши вот эти вот проходы, каждый проход работает за v2e.
[01:31:21.000 --> 01:31:22.000]  А проходов у нас...
[01:31:24.000 --> 01:31:28.000]  Ага, кстати, v2 проходов и каждый проход работает за v2e.
[01:31:29.000 --> 01:31:30.000]  А, просто за e, за e, да.
[01:31:31.000 --> 01:31:32.000]  E и v2.
[01:31:34.000 --> 01:31:37.000]  Но на самом деле возникает следующая идея.
[01:31:38.000 --> 01:31:42.000]  Сейчас у нас будет, может быть на самом деле, который вырастает просто в надстройку над push.relay.
[01:31:43.000 --> 01:31:45.000]  А идея следующая, смотрите.
[01:31:46.000 --> 01:31:48.000]  Вот жила-была вершина, да?
[01:31:51.000 --> 01:31:53.000]  Жила-была вершина.
[01:31:54.000 --> 01:31:56.000]  Была она избыточной.
[01:32:02.000 --> 01:32:06.000]  И чтобы избавиться от избытка, вы стали перебирать ребра.
[01:32:08.000 --> 01:32:10.000]  Перебирали, сделали push.
[01:32:10.000 --> 01:32:11.000]  Сделали push.
[01:32:12.000 --> 01:32:14.000]  Сделали push и избыток закончился.
[01:32:19.000 --> 01:32:23.000]  А потом в какой-то момент избыток появился.
[01:32:27.000 --> 01:32:28.000]  Теперь возникает вопрос.
[01:32:29.000 --> 01:32:32.000]  Если при этом, тогда возникает вот этот вопрос.
[01:32:33.000 --> 01:32:40.000]  Имеет ли смысл, когда мы сейчас второй будем делать проход, рассматривать вот эти ребра?
[01:32:48.000 --> 01:32:50.000]  Ну, в общем случае, конечно, да.
[01:32:54.000 --> 01:32:55.000]  Ну а теперь маленькое уточнение.
[01:32:55.000 --> 01:33:03.000]  А теперь давайте себе представим, что между этими двумя попытками что-то пропихнуть relabel не вызывался.
[01:33:06.000 --> 01:33:13.000]  То есть, смотрите, если вы делали чё-то, попихали, избыток закончился, а потом вы захотели, появился ещё избыток, но relabel не было.
[01:33:14.000 --> 01:33:17.000]  А, ну, собственно, если появился избыток, то, очевидно, и relabel быть не могло, да?
[01:33:18.000 --> 01:33:23.000]  То я утверждаю, что надо начинать перебирать ровно с того ребра, на котором вы остановились передать.
[01:33:24.000 --> 01:33:37.000]  Потому что с этими вот ребрами они все либо нам не подходят, а если они нам не подходят по высотам, то подойти по высотам всё равно не могут, правда?
[01:33:40.000 --> 01:33:41.000]  Вот.
[01:33:43.000 --> 01:33:48.000]  Ну, либо это были, то есть, если они нам подходят по высотам, то они были насыщены.
[01:33:50.000 --> 01:33:51.000]  Понимаете, да?
[01:33:51.000 --> 01:33:54.000]  То есть, и без там relabel-ов они не разносытятся.
[01:33:55.000 --> 01:34:00.000]  То есть, а если оно было насыщено, а потом разносытилось, значит, эта вершина стала выше, чем V.
[01:34:01.000 --> 01:34:03.000]  И, соответственно, пока мы не сделаем relabel от V, ничего не поменяйте.
[01:34:05.000 --> 01:34:06.000]  Понятно, да?
[01:34:07.000 --> 01:34:17.000]  А пока, вообще, это могло произойти, тогда мы можем между, ну, в принципе, в нашем окреплении, потому что, тогда мы можем к одной вершине два раза пройти между двумя relabel-ами.
[01:34:18.000 --> 01:34:21.000]  Если избытки маленькие, а ребр много.
[01:34:22.000 --> 01:34:23.000]  И что?
[01:34:24.000 --> 01:34:25.000]  То есть, если как бы спрос, меньше предложения.
[01:34:26.000 --> 01:34:27.000]  Ну, смотри.
[01:34:28.000 --> 01:34:29.000]  Вот наш лагеритм. Мы идём, идём, идём, пихаем.
[01:34:30.000 --> 01:34:31.000]  Мы же не могли пихнуть влево.
[01:34:32.000 --> 01:34:33.000]  Влево не могли.
[01:34:34.000 --> 01:34:35.000]  Значит, мы пихаем только вправо.
[01:34:36.000 --> 01:34:37.000]  А что такое влево-вправо?
[01:34:38.000 --> 01:34:39.000]  Вот у нас же есть список.
[01:34:40.000 --> 01:34:41.000]  Нет, слушай, вот от списка сейчас можно абстрагироваться.
[01:34:42.000 --> 01:34:43.000]  Хорошо, ладно.
[01:34:44.000 --> 01:34:54.000]  Я имею в виду именно как relabel самой вершины V, потому что могли быть вызваны, потому что между этим фактом могли быть вызваны relabel от вот этих всех вершин.
[01:34:55.000 --> 01:34:57.000]  А, то есть нам нужно именно relabel у V.
[01:34:58.000 --> 01:35:01.000]  Именно V. Именно V.
[01:35:02.000 --> 01:35:05.000]  Ну, то есть, заметим следующее, что у нас в каждом из ребра есть ребра.
[01:35:06.000 --> 01:35:15.000]  Некоторые из этих ребр, некоторые из этих ребр имеют перепад высот больше одного, но, как следствие, они насыщены.
[01:35:16.000 --> 01:35:22.000]  Некоторые имеют перепад высот ровно один, а некоторые имеют перепад высот какой-то неположительный.
[01:35:23.000 --> 01:35:32.000]  Но заметим, что если какое-то ребро имеет перепад высот неположительный, то пока мы не вызовем relabel от V, он так и V мы останемся, правда?
[01:35:33.000 --> 01:35:39.000]  Поэтому если мы какое-то вот просмотрели ребро, увидели, что у него перепад высот какой-то неположительный, значит мы говорим сразу до свидания.
[01:35:41.000 --> 01:35:42.000]  Понимаете, да?
[01:35:44.000 --> 01:35:45.000]  Понимаете?
[01:35:46.000 --> 01:35:47.000]  Вот.
[01:35:48.000 --> 01:35:49.000]  Значит, да.
[01:35:49.000 --> 01:35:50.000]  Да.
[01:35:51.000 --> 01:35:55.000]  Значит, могло ли быть так, что какое-то ребро...
[01:35:56.000 --> 01:36:02.000]  Но если ребро было насыщенное, то до ближайшего relabel V его тоже бесполезно рассматривать.
[01:36:03.000 --> 01:36:04.000]  Почему?
[01:36:05.000 --> 01:36:13.000]  Да потому что, если это ребро было насыщенным, в том раз насытилось, значит его конец имеет высоту на один больше, чем у вершины V.
[01:36:14.000 --> 01:36:17.000]  Значит, до relabel V мы его все равно не оприходуем.
[01:36:20.000 --> 01:36:24.000]  Остаются только ребра, у которых разность высот ровно один.
[01:36:25.000 --> 01:36:26.000]  Ну что с ними происходит?
[01:36:27.000 --> 01:36:31.000]  Мы либо по ним делаем push, то есть в процессе, может быть, мы его прошли мимо, да?
[01:36:32.000 --> 01:36:37.000]  Но если мы его прошли мимо, то оно, значит, было либо насыщенным, и тогда, смотри, предыдущий пункт.
[01:36:39.000 --> 01:36:40.000]  Вот.
[01:36:41.000 --> 01:36:46.000]  Ну еще периодически бывает, что у ребра разность высот меняется.
[01:36:46.000 --> 01:36:47.000]  То есть прежде, чем мы по нему...
[01:36:48.000 --> 01:36:55.000]  Но, правда, если мы тут прошли мимо него, уже дальше мимо него прошли, то тогда это ребро просто уже было насыщенным, да, с собой не интересует.
[01:36:56.000 --> 01:37:00.000]  То есть все пройденные ребра либо насыщенные, либо не подходят и не подойдут в высоте?
[01:37:01.000 --> 01:37:06.000]  Да, совершенно верно. То есть, если они насыщенные, то они нам уже точно не подойдут до relabel V.
[01:37:07.000 --> 01:37:09.000]  И, соответственно, либо...
[01:37:10.000 --> 01:37:11.000]  А почему-то они могли быть...
[01:37:12.000 --> 01:37:13.000]  А, понятно.
[01:37:13.000 --> 01:37:18.000]  Либо они нас просто не подходят по высотам, и тогда, значит, тем более по высотам они будущим нам тоже не подойдут.
[01:37:19.000 --> 01:37:20.000]  Есть еще один вариант.
[01:37:21.000 --> 01:37:30.000]  Но если бы у нас было ребро в вершину очень маленькой высоты, и у нее потом поднялась высота для подходящей, то, казалось бы, появилось новое ребро, но такого просто не бывает, потому что...
[01:37:31.000 --> 01:37:32.000]  Нет, просто если...
[01:37:33.000 --> 01:37:34.000]  Сейчас.
[01:37:35.000 --> 01:37:39.000]  Если разность высоты у ребра очень большая больше одного, то это значит, что оно тупо насыщенное.
[01:37:40.000 --> 01:37:41.000]  Да.
[01:37:41.000 --> 01:37:42.000]  Иначе противоречие бы было.
[01:37:43.000 --> 01:37:44.000]  Да.
[01:37:45.000 --> 01:37:47.000]  Поэтому, на самом деле, этот случай, можно сказать, уже рассмотрен.
[01:37:48.000 --> 01:37:51.000]  То есть, оно либо насыщенное, либо...
[01:37:52.000 --> 01:37:55.000]  Ну, короче, либо насыщенное, либо...
[01:37:56.000 --> 01:38:01.000]  То есть, либо насыщенное, либо не подходит по высотам, потому что высота этой вершины слишком большая.
[01:38:02.000 --> 01:38:05.000]  То есть, либо мы его насыщали, уже насыщали.
[01:38:06.000 --> 01:38:07.000]  Да.
[01:38:08.000 --> 01:38:09.000]  То есть, получается, что идея как в алгоритме денется теперь.
[01:38:09.000 --> 01:38:10.000]  То есть, на основе этого.
[01:38:11.000 --> 01:38:18.000]  Давайте просто в каждой вершине, в списке смежности храним, когда мы ближайшую серию пушей будем делать.
[01:38:20.000 --> 01:38:21.000]  Вот.
[01:38:22.000 --> 01:38:23.000]  То есть, так не когда, а начиная с кого.
[01:38:24.000 --> 01:38:25.000]  Да, обратите внимание.
[01:38:26.000 --> 01:38:27.000]  То есть, начинать надо строго со того же ребра.
[01:38:28.000 --> 01:38:34.000]  То есть, в том плане, что если вы сделали пуш, по этому ребру остановились, значит, в следующий раз, возможно, вы по этому же ребру еще пуш сделаете.
[01:38:35.000 --> 01:38:36.000]  Ну, могло так случиться, что просто это...
[01:38:37.000 --> 01:38:38.000]  То есть, это, наверное, был не насыщающий пуш.
[01:38:39.000 --> 01:38:43.000]  Ну, там, типа, прописанная способность ребра 10, а избыток был 3.
[01:38:44.000 --> 01:38:47.000]  Тогда вы как бы все, избыток закончился, у вас тут еще 7 осталось.
[01:38:48.000 --> 01:38:51.000]  Тогда, когда в следующий раз избыток у вас тут появится, вы сможете сделать еще.
[01:38:53.000 --> 01:38:54.000]  Понятно?
[01:38:55.000 --> 01:38:56.000]  Да.
[01:38:57.000 --> 01:38:58.000]  Вот.
[01:38:59.000 --> 01:39:02.000]  На основе этого, то есть, на самом деле, это уже превращается в технологию.
[01:39:03.000 --> 01:39:07.000]  То есть, знаете, будет очень здорово, если вы в коде даже отразите это в рамках правильного наследования классов.
[01:39:07.000 --> 01:39:08.000]  Что?
[01:39:09.000 --> 01:39:10.000]  Ну, потому что, смотрите.
[01:39:11.000 --> 01:39:12.000]  Какие классы?
[01:39:13.000 --> 01:39:15.000]  Ну, какие? Ну, классы, все плюс-плюс, и есть классы.
[01:39:16.000 --> 01:39:17.000]  Вот.
[01:39:18.000 --> 01:39:19.000]  Что, не знали?
[01:39:20.000 --> 01:39:21.000]  В смысле, где здесь классы?
[01:39:22.000 --> 01:39:23.000]  Кому наследуют?
[01:39:24.000 --> 01:39:25.000]  Наследуем в алгоритме.
[01:39:26.000 --> 01:39:28.000]  Ну, потому что, смотрите, у вас есть метод-алгоритм.
[01:39:29.000 --> 01:39:30.000]  Класс-алгоритм.
[01:39:31.000 --> 01:39:32.000]  У вас есть метод-алгоритм.
[01:39:32.000 --> 01:39:33.000]  То есть, метод-алгоритм.
[01:39:34.000 --> 01:39:40.000]  В принципе, набор алгоритмов, но все они умеют делать только push, relabel, и в самом начале делают вот это.
[01:39:43.000 --> 01:39:46.000]  Поэтому, крайне естественно, в этом месте реализовать класс,
[01:39:47.000 --> 01:39:51.000]  у который, значит, там, в конструкторе принимает себе на вход сеть, делает вот все вот эти операции,
[01:39:52.000 --> 01:39:55.000]  а дальше, предоставляет вам доступ только push и relabel.
[01:39:55.000 --> 01:40:00.000]  Ну, ладно, может быть, там еще в качестве ридонли предоставляет вам доступ к ребрам и вершинам.
[01:40:04.000 --> 01:40:05.000]  Вот.
[01:40:06.000 --> 01:40:07.000]  И тогда, ну, вот.
[01:40:08.000 --> 01:40:10.000]  Но тогда у этого тут, у него тогда возникает виртуальный метод run,
[01:40:11.000 --> 01:40:15.000]  и все алгоритмы тогда, использующие технологию push, relabel, должны быть его наследоваться.
[01:40:18.000 --> 01:40:20.000]  Тебе это просто кажется хорошей идеей, когда ты это писал?
[01:40:21.000 --> 01:40:23.000]  Ну, собственно, я, ну, даже не я.
[01:40:23.000 --> 01:40:25.000]  Куча ваших предшественников писал, и это было очень красиво.
[01:40:26.000 --> 01:40:27.000]  А почему я делаю?
[01:40:28.000 --> 01:40:29.000]  И кто-то заставлял?
[01:40:30.000 --> 01:40:31.000]  Да.
[01:40:32.000 --> 01:40:33.000]  Блин.
[01:40:34.000 --> 01:40:35.000]  Ну вот.
[01:40:36.000 --> 01:40:39.000]  То есть, более того, там хорошая, на самом деле, длинная цепочка.
[01:40:40.000 --> 01:40:43.000]  Потому что сейчас мы от этой технологии еще технологию последуем.
[01:40:44.000 --> 01:40:50.000]  Технологию, вместо технологии push, relabel, мы делаем технологию discharge.
[01:40:50.000 --> 01:40:51.000]  То есть, мы теперь вместо этого говорим.
[01:40:52.000 --> 01:40:54.000]  То есть, у нас такой металгоритм будет такой.
[01:40:55.000 --> 01:40:57.000]  Мы теперь выполняем не в некотором порядке push, relabel,
[01:40:58.000 --> 01:41:00.000]  а в некотором порядке будем вызывать функцию discharge.
[01:41:03.000 --> 01:41:06.000]  Значит, что делает функция discharge?
[01:41:07.000 --> 01:41:08.000]  Вот ровно то, что мы описали на самом деле.
[01:41:10.000 --> 01:41:14.000]  То есть, мы для каждой вершины храним вот этот вот мистический итератор.
[01:41:15.000 --> 01:41:19.000]  То есть, мы для каждой вершины храним вот этот вот мистический итератор.
[01:41:21.000 --> 01:41:22.000]  Вот, понимаете, да?
[01:41:25.000 --> 01:41:27.000]  То есть, у нас там есть условные массивы.
[01:41:30.000 --> 01:41:33.000]  Current Iterators.
[01:41:33.000 --> 01:41:34.000]  Current Iterators.
[01:41:42.000 --> 01:41:43.000]  Current Iterators.
[01:41:44.000 --> 01:41:49.000]  То есть, он указывает, значит, когда мы в предыдущий раз у нас делали какую-то серию этих push, relabel,
[01:41:50.000 --> 01:41:53.000]  мы говорили, собственно, где у нас мы остановились.
[01:41:58.000 --> 01:42:00.000]  И, соответственно, функция discharge
[01:42:03.000 --> 01:42:05.000]  принимает на вход вершину V,
[01:42:06.000 --> 01:42:09.000]  которая гарантирует, что V, естественно, не исток, и не сток.
[01:42:11.000 --> 01:42:12.000]  И, что она еще делает?
[01:42:13.000 --> 01:42:17.000]  А, ну и, конечно же, еще гарантируется, что она избыточна.
[01:42:25.000 --> 01:42:27.000]  И делает она вот прям буквально в следующем.
[01:42:28.000 --> 01:42:29.000]  Можно прям в ход написать.
[01:42:29.000 --> 01:42:31.000]  Значит, while, говорим мы,
[01:42:34.000 --> 01:42:40.000]  значит, оказалось, что там, условно, excess от V больше нуля.
[01:42:42.000 --> 01:42:43.000]  То есть, пока она избычная.
[01:42:43.000 --> 01:42:46.000]  То есть, send discharge-я ликвидировать избыток вершины V.
[01:42:48.000 --> 01:42:53.000]  Ну, мы сейчас будем пользоваться тем, что мы всегда можем сделать из вершины либо push, либо relabel.
[01:42:53.000 --> 01:42:54.000]  Понимаете, да?
[01:42:57.000 --> 01:42:58.000]  И вот мы это будем делать так.
[01:42:59.000 --> 01:43:00.000]  Значит, мы говорим,
[01:43:02.000 --> 01:43:08.000]  значит, если current iterator,
[01:43:10.000 --> 01:43:13.000]  если текущий вот этот итератор от вершины V
[01:43:14.000 --> 01:43:15.000]  valid,
[01:43:15.000 --> 01:43:17.000]  ну не на end или что?
[01:43:18.000 --> 01:43:24.000]  Ну да. Но помните, мы же описывали, что у нас конкретно тут вот этот итератор, вот у нас две недели назад было вот это описывали,
[01:43:24.000 --> 01:43:27.000]  что у нас этот итератор с методами там valid и next.
[01:43:29.000 --> 01:43:32.000]  То есть, это не совсем то, что мы делали в этом видео.
[01:43:33.000 --> 01:43:38.000]  Раз вы посмотрите, мы так вот делали,
[01:43:38.000 --> 01:43:41.040]  описывали, что у нас это итератор с методами
[01:43:41.040 --> 01:43:42.040]  Valid и Next.
[01:43:43.900 --> 01:43:46.900]  Да, то есть это не совсем классический C++ итератор
[01:43:46.900 --> 01:43:49.100]  прям в классических концепциях, но
[01:43:49.360 --> 01:43:53.000]  мы обсуждали, что такие итераторы тоже есть во всяких этих наших чанах.
[01:43:53.240 --> 01:43:56.240]  У нас после BKL двоеточие, это реально попало на C++?
[01:43:57.740 --> 01:43:59.740]  Ну, все доказания.
[01:43:59.740 --> 01:44:02.740]  Да, но не говоря уже о том, что, дайте, тут понятно, что подразумевается, что вам надо еще
[01:44:02.740 --> 01:44:05.740]  эти XS сохранить, то есть, возможно, там проталкивание потока
[01:44:05.740 --> 01:44:08.740]  в сети вам придется тоже как-то перегрузить.
[01:44:08.740 --> 01:44:11.740]  Ну, в том плане, что у вас там будет свой метод, который говорит,
[01:44:11.740 --> 01:44:15.740]  так, ладно, значит, поток-то тыкни, а XS еще и пересчитай.
[01:44:15.740 --> 01:44:19.740]  Ну, прибавь вычете W, чтобы было удобно.
[01:44:19.740 --> 01:44:22.740]  Ну, тем более, что в Аше еще там где-то будут.
[01:44:22.740 --> 01:44:25.740]  Поэтому понятно, что это все-таки в определенной степени псевдокод.
[01:44:26.740 --> 01:44:29.740]  Значит, если итератор Valid,
[01:44:29.740 --> 01:44:32.740]  вы говорите,
[01:44:32.740 --> 01:44:35.740]  значит, если
[01:44:35.740 --> 01:44:38.740]  мы можем сделать push
[01:44:38.740 --> 01:44:41.740]  по вот этому вот, так сказать, итератору,
[01:44:50.740 --> 01:44:53.740]  точнее, по его звездочке, так сказать,
[01:44:55.740 --> 01:44:58.740]  ну, что тогда? Тогда делаем push.
[01:44:59.740 --> 01:45:02.740]  Короче, не буду.
[01:45:02.740 --> 01:45:05.740]  Ну, а в противном случае,
[01:45:05.740 --> 01:45:08.740]  тогда мы говорим, что это вот безобразие,
[01:45:08.740 --> 01:45:11.740]  значит, currentIterators,
[01:45:11.740 --> 01:45:14.740]  pushConnects.
[01:45:21.740 --> 01:45:24.740]  Ура!
[01:45:24.740 --> 01:45:27.740]  Ура!
[01:45:28.740 --> 01:45:31.740]  Но это все, если
[01:45:31.740 --> 01:45:34.740]  итератор еще на что-то указывает.
[01:45:34.740 --> 01:45:37.740]  В противном же случае
[01:45:37.740 --> 01:45:40.740]  мы говорим,
[01:45:40.740 --> 01:45:43.740]  то есть вот, обратите внимание, очень важно,
[01:45:43.740 --> 01:45:46.740]  будет у вас большой соблазн next делать всегда, даже если push удался,
[01:45:46.740 --> 01:45:49.740]  но, боже, у вас упаси это делать.
[01:45:49.740 --> 01:45:52.740]  Потому что если вы сделали успешный push, может быть, как я уже сказал,
[01:45:52.740 --> 01:45:55.740]  выпустился,
[01:45:55.740 --> 01:45:58.740]  а избыток закончился, а ребра нет.
[01:45:58.740 --> 01:46:01.740]  Поэтому, возможно, в следующий раз надо будет делать push.
[01:46:01.740 --> 01:46:04.740]  В противном случае, значит, если же
[01:46:04.740 --> 01:46:07.740]  ребра все-таки закончились, то вы объявляете
[01:46:07.740 --> 01:46:10.740]  relabel от V,
[01:46:10.740 --> 01:46:13.740]  ну, и, конечно, этот итератор,
[01:46:14.740 --> 01:46:17.740]  theIterators от V
[01:46:17.740 --> 01:46:20.740]  равно,
[01:46:20.740 --> 01:46:23.740]  ну, там, в нашей технологии называлось
[01:46:23.740 --> 01:46:26.740]  network.begin от V.
[01:46:32.740 --> 01:46:35.740]  Все.
[01:46:36.740 --> 01:46:39.740]  То есть вот такая вот технология.
[01:46:42.740 --> 01:46:45.740]  То есть вот просто, то есть, заметим, что
[01:46:45.740 --> 01:46:48.740]  мы можем, в принципе, десчать все, даже не привязываясь
[01:46:48.740 --> 01:46:51.740]  обязательно к relabel по фронту.
[01:46:51.740 --> 01:46:54.740]  То есть, на самом деле, можно просто объявить такой
[01:46:54.740 --> 01:46:57.740]  второй металгоритм.
[01:46:57.740 --> 01:47:00.740]  Такой продвинутый металгоритм.
[01:47:00.740 --> 01:47:03.740]  Такой продвинутый.
[01:47:03.740 --> 01:47:06.740]  Отличие будет только в том, что
[01:47:06.740 --> 01:47:09.740]  вместо push и relabel мы будем вызывать
[01:47:09.740 --> 01:47:12.740]  только десчать.
[01:47:24.740 --> 01:47:27.740]  Ну, и
[01:47:27.740 --> 01:47:30.740]  вот,
[01:47:30.740 --> 01:47:33.740]  и
[01:47:33.740 --> 01:47:36.740]  если даже забыть про алгоритм relabel
[01:47:36.740 --> 01:47:39.740]  to front,
[01:47:39.740 --> 01:47:42.740]  то теперь давайте мы о нем забудем и предположим, что мы
[01:47:42.740 --> 01:47:45.740]  выполняем вот этот продвинутый металгоритм.
[01:47:45.740 --> 01:47:48.740]  Вот как вы думаете, за какую ассинтотику он
[01:47:48.740 --> 01:47:51.740]  работает?
[01:47:51.740 --> 01:47:54.740]  Ну, в предположении, что мы
[01:47:54.740 --> 01:47:57.740]  считаем только то, что делает
[01:47:57.740 --> 01:48:00.740]  десчать.
[01:48:00.740 --> 01:48:03.740]  В смысле? Мы проходим по всем вершинам,
[01:48:03.740 --> 01:48:06.740]  в каком-то порядке.
[01:48:06.740 --> 01:48:09.740]  Нет, имеете в виду, что на каждом шаге на какой-то черный ящик
[01:48:09.740 --> 01:48:12.740]  говорит, сделайте десчать отсюда.
[01:48:12.740 --> 01:48:15.740]  И там десчар сделать возможность?
[01:48:15.740 --> 01:48:18.740]  Вы купили?
[01:48:18.740 --> 01:48:21.740]  Ну, не совсем.
[01:48:21.740 --> 01:48:24.740]  Ну, на самом деле, я бы так сказал. Дело в том, что
[01:48:24.740 --> 01:48:27.740]  десчать делает, ну, кажется, что
[01:48:27.740 --> 01:48:30.740]  каждый десчач суммарно делает от
[01:48:30.740 --> 01:48:33.740]  количества, там,
[01:48:33.740 --> 01:48:36.740]  для каждой вершины он делает
[01:48:36.740 --> 01:48:39.740]  от количества оттачащихся у нее ребер умножить на
[01:48:39.740 --> 01:48:42.740]  количество relabel у этой вершины.
[01:48:42.740 --> 01:48:45.740]  Вот кажется, что суммарно десчать делает именно это.
[01:48:45.740 --> 01:48:48.740]  Но это, к сожалению, обидно, что это только кажется.
[01:48:48.740 --> 01:48:51.740]  Потому что, как я уже сказал,
[01:48:51.740 --> 01:48:54.740]  есть одна маленькая подлянка, что
[01:48:54.740 --> 01:48:57.740]  может быть очень много десчачей
[01:48:57.740 --> 01:49:00.740]  по одному и тому же ребру.
[01:49:00.740 --> 01:49:03.740]  Помните, да?
[01:49:03.740 --> 01:49:06.740]  Ну, слет укажется.
[01:49:06.740 --> 01:49:09.740]  Но на самом деле можно оценивать так.
[01:49:09.740 --> 01:49:12.740]  На самом деле я бы сказал так,
[01:49:12.740 --> 01:49:15.740]  что когда вы проходите мимо ребра,
[01:49:15.740 --> 01:49:18.740]  то есть у вас, смотрите,
[01:49:18.740 --> 01:49:21.740]  десчачи бывают двух типов.
[01:49:21.740 --> 01:49:23.740]  Те, которые вот дальше этого ребра так и не
[01:49:23.740 --> 01:49:26.740]  двинулись, прям сразу сделали push и закончились, да?
[01:49:26.740 --> 01:49:29.740]  И все остальные. Но все остальные действительно
[01:49:29.740 --> 01:49:32.740]  делаются завыде. Ну, в смысле,
[01:49:32.740 --> 01:49:35.740]  для каждой вершины за степень вершины умножить на количество relabel, правда?
[01:49:35.740 --> 01:49:38.740]  Ну, потому что
[01:49:38.740 --> 01:49:41.740]  от каждого ребра перейти к следующему
[01:49:41.740 --> 01:49:44.740]  все равно не более, чем бы раз делаете, правда?
[01:49:44.740 --> 01:49:47.740]  Понимаете, да?
[01:49:47.740 --> 01:49:50.740]  Поэтому на самом деле я могу сказать,
[01:49:50.740 --> 01:49:53.740]  что вся эта технология, в некотором смысле,
[01:49:53.740 --> 01:49:56.740]  будет работать за вот какую симпточку.
[01:49:56.740 --> 01:49:59.740]  За VE плюс количество
[01:49:59.740 --> 01:50:02.740]  десчачей.
[01:50:09.740 --> 01:50:12.740]  Более того, кстати, мы можем даже
[01:50:12.740 --> 01:50:15.740]  ослабить требования и сказать, что черный ящик
[01:50:15.740 --> 01:50:18.740]  иногда делает десчачи и от неизбыточных.
[01:50:18.740 --> 01:50:21.740]  Они будут работать за 1 единица.
[01:50:21.740 --> 01:50:24.740]  Да, но они тоже будут работать за 1 единица,
[01:50:24.740 --> 01:50:27.740]  просто выпросившись в этом мае сразу.
[01:50:27.740 --> 01:50:30.740]  Понятно?
[01:50:30.740 --> 01:50:33.740]  Отлично.
[01:50:33.740 --> 01:50:36.740]  Ну, теперь единственная оговорка,
[01:50:36.740 --> 01:50:39.740]  понятно, что сам алгоритм будет еще работать
[01:50:39.740 --> 01:50:42.740]  за VE плюс количество десчачей, плюс сколько времени
[01:50:42.740 --> 01:50:45.740]  делится, а куда десчач делать вообще.
[01:50:45.740 --> 01:50:48.740]  Но давайте внимательно смотреть, давайте проанализируем
[01:50:48.740 --> 01:50:51.740]  relabel-to-front.
[01:50:51.740 --> 01:50:54.740]  Идея теперь, настоящий relabel-to-front,
[01:50:54.740 --> 01:50:57.740]  прибегается по всем вершинам, и из каждой из них
[01:50:57.740 --> 01:51:00.740]  требует именно десчач.
[01:51:00.740 --> 01:51:03.740]  Но еще если десчач.
[01:51:03.740 --> 01:51:06.740]  Да, ну и соговорка, что если в результате
[01:51:06.740 --> 01:51:09.740]  десчача был выполнен хотя бы один relabel,
[01:51:09.740 --> 01:51:12.740]  а ведь заметим, кстати, что
[01:51:12.740 --> 01:51:15.740]  внутри десчача одна и та же вершина,
[01:51:15.740 --> 01:51:18.740]  может быть, relabel-to-next, раз и даже не два.
[01:51:18.740 --> 01:51:21.740]  Ну, потому что relabel-ли,
[01:51:21.740 --> 01:51:24.740]  пропушились, еще relabel-ы, пропушились, но здесь
[01:51:24.740 --> 01:51:27.740]  большой из бытов был.
[01:51:27.740 --> 01:51:30.740]  Вот.
[01:51:30.740 --> 01:51:33.740]  Значит, gel был десчач.
[01:51:33.740 --> 01:51:36.740]  Вот.
[01:51:36.740 --> 01:51:39.740]  И тогда получается,
[01:51:39.740 --> 01:51:42.740]  но тогда получается, что мы в каждом моменте,
[01:51:42.740 --> 01:51:45.740]  ну вот, то есть мы говорим, что если высота уменьшилась,
[01:51:45.740 --> 01:51:48.740]  то тогда мы эту вершину перетаскиваем в коль.
[01:51:48.740 --> 01:51:51.740]  То есть в общем-то, то есть получается, в общем-то заметим,
[01:51:51.740 --> 01:51:54.740]  эту операцию мы все равно делаем взау от единицы, правда?
[01:51:54.740 --> 01:51:57.740]  То есть по сути мы сейчас все действия,
[01:51:57.740 --> 01:52:00.740]  которые мы делаем, мы по сути вот в количестве десчарджей
[01:52:00.740 --> 01:52:03.740]  они умещаются, ну кроме своих десчарджей.
[01:52:04.740 --> 01:52:07.740]  А теперь внимание вопрос, сколько десчарджей?
[01:52:10.740 --> 01:52:13.740]  Мало.
[01:52:13.740 --> 01:52:16.740]  Ну мало это сколько, давайте так, проходов, вот сколько у нас
[01:52:16.740 --> 01:52:19.740]  проходов вот таких произошло?
[01:52:19.740 --> 01:52:22.740]  Не более в квадраты.
[01:52:22.740 --> 01:52:25.740]  Каждый не более в 10 отживей. Да, не более, да.
[01:52:25.740 --> 01:52:28.740]  То есть действительно так, не более в квадрат, совершенно верно.
[01:52:28.740 --> 01:52:31.740]  Потому что у нас relabel-ов не более, чем в квадрат.
[01:52:31.740 --> 01:52:34.740]  Но внутри каждого прохода не более, чем в десчарджей.
[01:52:34.740 --> 01:52:37.740]  Потому что у нас совершенно не более вв.
[01:52:39.740 --> 01:52:42.740]  Так что получается, что конкретно в данном случае
[01:52:42.740 --> 01:52:47.740]  действительно нам удалось таки достичь кубической силы.
[01:52:55.740 --> 01:52:58.740]  Вот такая вот десчарджистая технология.
[01:53:01.740 --> 01:53:04.740]  Понятно? Да.
[01:53:06.740 --> 01:53:11.740]  Если у нас есть кратные рёбра, верно, что мы всегда их должны сжать?
[01:53:11.740 --> 01:53:14.740]  Да, но с точки зрения потока вообще да.
[01:53:14.740 --> 01:53:17.740]  То есть мы уже говорили, что их можно сжать,
[01:53:17.740 --> 01:53:22.740]  причём даже можно за В квадрат, можете за В плюс Е их на самом деле сжать.
[01:53:22.740 --> 01:53:26.740]  Ну да, но главное потом в конце не забыть вспомнить,
[01:53:26.740 --> 01:53:29.740]  что у вас на самом деле их потом надо сжать обратно.
[01:53:29.740 --> 01:53:32.740]  Да, ну то есть понятно, математически это не интересная задача,
[01:53:32.740 --> 01:53:35.740]  но технически вам придётся это делать.
[01:53:35.740 --> 01:53:38.740]  Но редко, правда, это реально приходится делать.
[01:53:38.740 --> 01:53:43.740]  Но тогда после, ну вот ровно имея в виду это обстоятельство,
[01:53:43.740 --> 01:53:45.740]  обычно считается, что кратных рёбр нет,
[01:53:45.740 --> 01:53:47.740]  и поэтому идеи не превосходят туда квадрата.
[01:53:47.740 --> 01:53:50.740]  И поэтому и пишут, что алгоритм работает за В.
[01:53:52.740 --> 01:53:55.740]  В общем, заметим, что, как вы будете писать в обложке,
[01:53:55.740 --> 01:53:58.740]  что алгоритм пишет очень несложно на самом деле.
[01:53:58.740 --> 01:54:00.740]  Ну, просто чем это приятен?
[01:54:00.740 --> 01:54:02.740]  Алгоритм тем, что, ну как бы технология,
[01:54:02.740 --> 01:54:05.740]  ну то есть вот тут простой код инициализации,
[01:54:05.740 --> 01:54:07.740]  простой код пуша, простой код релебла,
[01:54:07.740 --> 01:54:09.740]  там простой код дисчачи,
[01:54:09.740 --> 01:54:12.740]  а всё остальное это простое использование вот этой инфраструктуры.
[01:54:12.740 --> 01:54:14.740]  То есть подобное ощущение у вас могло быть,
[01:54:14.740 --> 01:54:16.740]  когда вы там писали декартовый деревья, например.
[01:54:18.740 --> 01:54:22.740]  Ну в том плане, что когда вы уже написали сплит и мёртвый декартовый деревья,
[01:54:22.740 --> 01:54:25.740]  то там все остальные действия там будут в основном сводиться к
[01:54:25.740 --> 01:54:28.740]  собственно, аккуратному, правильному вызову сплитов и мёртвей.
[01:54:30.740 --> 01:54:33.740]  Каждую задачу сплит можете свои, к сожалению.
[01:54:33.740 --> 01:54:34.740]  Ну да.
[01:54:34.740 --> 01:54:36.740]  А в данном случае вот, а здесь нет.
[01:54:36.740 --> 01:54:39.740]  А здесь заметим, что пуша и релебл особо не меняются.
[01:54:40.740 --> 01:54:44.740]  То есть вы просто можете их разными алгоритмами по-разному менять.
[01:54:44.740 --> 01:54:47.740]  То есть, в общем-то, из трёх алгоритмов это может быть даже самый сложный.
[01:54:49.740 --> 01:54:52.740]  Из трёх, которые сегодня были?
[01:54:53.740 --> 01:54:54.740]  Нет, из трёх...
[01:54:54.740 --> 01:54:56.740]  А какими два? Это Деница и Эднон?
[01:54:56.740 --> 01:55:00.740]  Нет, остальные... Нет, я имею в виду, что у нас в пульсе есть три алгоритма ЗВКуб на основе технологии.
[01:55:00.740 --> 01:55:04.740]  Один вот мы рассмотрели сейчас, два у вас там как минимум в теоретическом домашнем задании.
[01:55:05.740 --> 01:55:08.740]  То есть вот вам алгоритм, докажите, что он работает в ЗВКубе.
[01:55:09.740 --> 01:55:11.740]  В общем, там первый алгоритм будет...
[01:55:13.740 --> 01:55:16.740]  То есть первый алгоритм там будет что-то в духе...
[01:55:17.740 --> 01:55:21.740]  Что-то в духе... Изначально у вас есть там условно какая-то очередь.
[01:55:23.740 --> 01:55:25.740]  Ну даже не условно, а просто у вас есть очередь.
[01:55:26.740 --> 01:55:30.740]  И в очереди в каждый момент времени находятся избыточные вершины.
[01:55:32.740 --> 01:55:36.740]  И вы говорите, пока очередь не пустая.
[01:55:37.740 --> 01:55:39.740]  Достаете из очереди вершину, делаете из неё тишчач.
[01:55:39.740 --> 01:55:40.740]  Достаете из неё тишчач.
[01:55:40.740 --> 01:55:42.740]  При этом, если в процессе...
[01:55:42.740 --> 01:55:45.740]  То есть если в процессе ещё оказалось, что вы там сделали какую-то...
[01:55:45.740 --> 01:55:49.740]  Там какая-то вершина перестала быть избыточной, стала неожиданно избыточной,
[01:55:49.740 --> 01:55:51.740]  значит пихайте её в очередь дальше.
[01:55:54.740 --> 01:55:57.740]  Вот. Оказывается, уже такой метод работает в ЗВКубе.
[01:55:59.740 --> 01:56:01.740]  Но если не это слишком сложно...
[01:56:01.740 --> 01:56:03.740]  А это сложно, потому что вам придётся вот это...
[01:56:04.740 --> 01:56:08.740]  То есть это картоне пушка, где тишчач ещё допиливает в этом месте, да?
[01:56:09.740 --> 01:56:11.740]  Есть ещё более тупой метод.
[01:56:13.740 --> 01:56:16.740]  Значит говорите, пока есть избыточные вершины,
[01:56:16.740 --> 01:56:20.740]  тупо пробегаемся по всем вершинам и с каждой пытаемся делать тишчач.
[01:56:20.740 --> 01:56:24.740]  Прям тупо фор и от одного до энд, тишчач отбили. Всё.
[01:56:28.740 --> 01:56:30.740]  На каждом шаге...
[01:56:30.740 --> 01:56:33.740]  На самом деле на каждом шаге можете хоть рендом шахл делать.
[01:56:34.740 --> 01:56:36.740]  Главное на каждой фазе пробежать все вершины.
[01:56:36.740 --> 01:56:39.740]  И это тоже оказывается.
[01:56:40.740 --> 01:56:44.740]  Может быть не так тривиально доказать, но написать это прям совсем элементарно.
[01:56:46.740 --> 01:56:48.740]  То есть на самом деле вот такая вот крутая технология,
[01:56:48.740 --> 01:56:50.740]  как из крепичков собрать себе крутой лагерь.
[01:56:53.740 --> 01:56:57.740]  Так, есть тут ещё какие-то вопросы?
[01:56:58.740 --> 01:56:59.740]  Денис за сколько работал?
[01:56:59.740 --> 01:57:01.740]  Денис? Ну пока в Эквадрат Е.
[01:57:02.740 --> 01:57:04.740]  В Эквадрат Е ещё было прикольно.
[01:57:04.740 --> 01:57:08.740]  Ну там были продвинутые, типа там ВЕЛОГВ, а вот эти все, да.
[01:57:10.740 --> 01:57:12.740]  Вот этот Денис с линкатом.
[01:57:14.740 --> 01:57:15.740]  Вот это вот.
[01:57:18.740 --> 01:57:20.740]  Вот, что ещё было? Ну вот.
[01:57:21.740 --> 01:57:24.740]  А, ну потом мы обнаружили, что если графы какие-то целочисленные, особенно единичные,
[01:57:24.740 --> 01:57:26.740]  то Денис начинает работать сильно быстрее.
[01:57:27.740 --> 01:57:28.740]  За ЕКР не из Е.
[01:57:29.740 --> 01:57:31.740]  А ХОПНОТ, а про сочетание ищется вообще за ЕКР не из В.
[01:57:31.740 --> 01:57:35.740]  Ну и с прочими там этими приколами, типа теория выгоняли у КАП.
[01:57:36.740 --> 01:57:42.740]  Кстати, там не работает оценка, что работает за ЕКР не из Э.
[01:57:45.740 --> 01:57:47.740]  ЕВР АККРАТ НЕИЗЕ, что это?
[01:57:48.740 --> 01:57:51.740]  А ЕКР не из Э. Нет, ну можно ЕКР не из Е сказать, а можно сказать, что...
[01:57:52.740 --> 01:57:54.740]  Это в каком случае?
[01:57:55.740 --> 01:57:56.740]  В единичной сети.
[01:57:56.740 --> 01:57:57.740]  Да, Денис единичный сети.
[01:57:58.740 --> 01:57:59.740]  Единственного работы за ЕКР не из Е.
[01:57:59.740 --> 01:58:01.740]  Можно.
[01:58:01.740 --> 01:58:03.740]  Это покрывает обе оценки?
[01:58:03.740 --> 01:58:05.740]  Ну, на самом деле, да.
[01:58:05.740 --> 01:58:07.740]  Но обычно же мы любим писать оценки
[01:58:07.740 --> 01:58:09.740]  всё-таки от V и E,
[01:58:09.740 --> 01:58:11.740]  а не от какого-то там бистического потока.
[01:58:11.740 --> 01:58:13.740]  Пусть конкретно в данном случае.
[01:58:13.740 --> 01:58:15.740]  Ну, в принципе, да, E, K, Ne, F, D.
[01:58:15.740 --> 01:58:17.740]  Хорошие, без более негрых.
[01:58:17.740 --> 01:58:19.740]  Но на самом деле,
[01:58:19.740 --> 01:58:21.740]  сейчас после перерыва мы, видимо, вернёмся
[01:58:21.740 --> 01:58:23.740]  к этому всему и докажем там
[01:58:23.740 --> 01:58:25.740]  ещё более экзотические оценки и подобное.
[01:58:25.740 --> 01:58:27.740]  Пользуясь подобным же методом.
[01:58:27.740 --> 01:58:29.740]  Вот. А это есть, просто,
[01:58:29.740 --> 01:58:31.740]  две теоремы как заново.
[01:58:31.740 --> 01:58:33.740]  Вот. Да, мне тоже не нравится.
[01:58:33.740 --> 01:58:35.740]  Так что, а пока перерыв.
[01:58:35.740 --> 01:58:37.740]  Значит, смотрите, давайте возвращаемся
[01:58:37.740 --> 01:58:39.740]  в сладостычирующий и упалительный мир
[01:58:39.740 --> 01:58:41.740]  концепцией блокирующих поток.
[01:58:43.740 --> 01:58:45.740]  И целочисленных сетей.
[01:58:47.740 --> 01:58:49.740]  Значит, наша цель...
[01:58:49.740 --> 01:58:51.740]  Ну, вот, но мы уже научились говорить,
[01:58:51.740 --> 01:58:53.740]  что в единичных сетях мы уже умеем
[01:58:53.740 --> 01:58:55.740]  доказывать, что количество фаз будет
[01:58:55.740 --> 01:58:57.740]  не более, чем, ну, например,
[01:58:57.740 --> 01:58:59.740]  О от корень из Е,
[01:58:59.740 --> 01:59:01.740]  ну, или, как правило, техно-дрейтал,
[01:59:01.740 --> 01:59:03.740]  О от корень из Ф, на самом деле.
[01:59:03.740 --> 01:59:05.740]  Если внимательно пугаться.
[01:59:05.740 --> 01:59:07.740]  И это ключ.
[01:59:07.740 --> 01:59:09.740]  Потому что всё равно в единичной сети
[01:59:09.740 --> 01:59:11.740]  поток больше, чем О от Е, не будет.
[01:59:11.740 --> 01:59:13.740]  Но!
[01:59:13.740 --> 01:59:15.740]  Но, помимо единичных сетей,
[01:59:15.740 --> 01:59:17.740]  есть просто целочисленные сети.
[01:59:19.740 --> 01:59:21.740]  Можно, конечно, оценить
[01:59:21.740 --> 01:59:23.740]  количество фаз, именно количество фаз,
[01:59:23.740 --> 01:59:25.740]  как О от корень из С,
[01:59:25.740 --> 01:59:27.740]  на Е.
[01:59:27.740 --> 01:59:29.740]  Ну, причины ровно те же.
[01:59:29.740 --> 01:59:31.740]  Вообразим в себе каждое ребро
[01:59:31.740 --> 01:59:33.740]  пропускной способности С, как С-рёбри
[01:59:33.740 --> 01:59:35.740]  пропускной способности А.
[01:59:35.740 --> 01:59:37.740]  Вот.
[01:59:37.740 --> 01:59:39.740]  И доказательство будет, что фаз будет
[01:59:39.740 --> 01:59:41.740]  О от С. То же самое доказательство.
[01:59:41.740 --> 01:59:43.740]  Там каждый динец будет
[01:59:43.740 --> 01:59:45.740]  работать тоже за О от С, Е,
[01:59:45.740 --> 01:59:47.740]  на каждой фазе. Поэтому получится,
[01:59:47.740 --> 01:59:49.740]  что у вас при желании, в общем случае,
[01:59:49.740 --> 01:59:51.740]  алгоритм динца будет работать
[01:59:51.740 --> 01:59:53.740]  вот такой симпатии.
[01:59:57.740 --> 01:59:59.740]  Но, на самом деле, часто количество
[01:59:59.740 --> 02:00:01.740]  фаз можно оценить и сильно лучше.
[02:00:05.740 --> 02:00:07.740]  И предлагается делать это вот.
[02:00:09.740 --> 02:00:11.740]  Мы введём опять потенциал.
[02:00:11.740 --> 02:00:13.740]  И это будет
[02:00:13.740 --> 02:00:15.740]  другой потенциал.
[02:00:17.740 --> 02:00:19.740]  Нет. Мы считаем,
[02:00:19.740 --> 02:00:21.740]  что пропускные способности целочисленные
[02:00:21.740 --> 02:00:23.740]  и все от одного до С.
[02:00:25.740 --> 02:00:27.740]  Впрочем, в первой тери нам это не понадобится.
[02:00:27.740 --> 02:00:29.740]  А понадобится вот что.
[02:00:31.740 --> 02:00:33.740]  Значит, итак, пусть
[02:00:33.740 --> 02:00:35.740]  А определение пишет.
[02:00:35.740 --> 02:00:37.740]  Пусть В это не исток и несток.
[02:00:43.740 --> 02:00:45.740]  Тогда,
[02:00:45.740 --> 02:00:47.740]  значит, смотрите.
[02:00:49.740 --> 02:00:51.740]  Тогда мы объявляем
[02:00:51.740 --> 02:00:53.740]  П, значит, потенциал входящий.
[02:00:55.740 --> 02:00:57.740]  Это просто мы субмируем
[02:00:57.740 --> 02:00:59.740]  сколько в неё
[02:00:59.740 --> 02:01:01.740]  теоретически воды может войти.
[02:01:03.740 --> 02:01:05.740]  Пишем С от Е.
[02:01:05.740 --> 02:01:07.740]  Где Е это ребро?
[02:01:07.740 --> 02:01:09.740]  И где С?
[02:01:09.740 --> 02:01:11.740]  С от Е.
[02:01:11.740 --> 02:01:13.740]  То есть он констант.
[02:01:13.740 --> 02:01:15.740]  Да.
[02:01:15.740 --> 02:01:17.740]  То есть наша цель не в процессе
[02:01:17.740 --> 02:01:19.740]  что-то оценивать.
[02:01:19.740 --> 02:01:21.740]  А вот попробовать посмотреть на Сите,
[02:01:21.740 --> 02:01:23.740]  грубо прикинуть, а сколько там у неё вообще
[02:01:23.740 --> 02:01:25.740]  фаз может быть.
[02:01:27.740 --> 02:01:29.740]  Значит, это П входящие.
[02:01:31.740 --> 02:01:33.740]  И, конечно, есть потенциально П исходящее.
[02:01:33.740 --> 02:01:35.740]  А сколько вообще теоретически может выйти?
[02:01:35.740 --> 02:01:37.740]  Вот.
[02:01:45.740 --> 02:01:47.740]  Но на самом деле нам интересно
[02:01:47.740 --> 02:01:49.740]  даже не столько эти две величины,
[02:01:49.740 --> 02:01:51.740]  а их минимум.
[02:01:55.740 --> 02:01:57.740]  Почему именно минимум?
[02:01:57.740 --> 02:01:59.740]  Да по той причине,
[02:01:59.740 --> 02:02:01.740]  что на самом деле этот минимум
[02:02:01.740 --> 02:02:03.740]  имеет такую интересную функцию,
[02:02:03.740 --> 02:02:05.740]  а сколько воды вообще может
[02:02:05.740 --> 02:02:07.740]  протекать через вершину В в принципе?
[02:02:09.740 --> 02:02:11.740]  Ну как-то логично, да,
[02:02:11.740 --> 02:02:13.740]  что если, например,
[02:02:13.740 --> 02:02:15.740]  в вершину входит 3 лебра,
[02:02:15.740 --> 02:02:17.740]  единичные, а выходит 10,
[02:02:17.740 --> 02:02:19.740]  то наверно всё-таки больше чем 3 единицы воды
[02:02:19.740 --> 02:02:21.740]  наверно вытекать из этой вершины не будет.
[02:02:23.740 --> 02:02:25.740]  Поэтому нас это интересует.
[02:02:25.740 --> 02:02:27.740]  Это будет называться
[02:02:27.740 --> 02:02:29.740]  потенциал вершины.
[02:02:29.740 --> 02:02:31.740]  Ну это можно назвать входящий потенциал и исходящий потенциал,
[02:02:31.740 --> 02:02:33.740]  но мы этим даже пользоваться не будем.
[02:02:33.740 --> 02:02:35.740]  Это будет потенциал вершины.
[02:02:41.740 --> 02:02:43.740]  И теперь ещё одно важное определение,
[02:02:43.740 --> 02:02:45.740]  теперь вводим потенциал сети.
[02:02:47.740 --> 02:02:49.740]  Потенциал сети.
[02:02:53.740 --> 02:02:55.740]  Значит, P,
[02:02:55.740 --> 02:02:57.740]  ну в смысле P от G,
[02:02:57.740 --> 02:02:59.740]  это будет просто тупо
[02:02:59.740 --> 02:03:01.740]  сумма всех потенциалов.
[02:03:07.740 --> 02:03:09.740]  Это определение.
[02:03:15.740 --> 02:03:17.740]  Вот, утверждается,
[02:03:17.740 --> 02:03:19.740]  что этот потенциал
[02:03:19.740 --> 02:03:21.740]  тоже
[02:03:21.740 --> 02:03:23.740]  нам сейчас кое-чем поможет.
[02:03:25.740 --> 02:03:27.740]  Ну, во-первых, начнём вот с чего.
[02:03:27.740 --> 02:03:29.740]  Утверждение.
[02:03:29.740 --> 02:03:31.740]  Ну, я его хратко напишу.
[02:03:33.740 --> 02:03:35.740]  Если я пущу в этой сети G
[02:03:35.740 --> 02:03:37.740]  какой-нибудь поток,
[02:03:37.740 --> 02:03:39.740]  забыли про предпотоки,
[02:03:39.740 --> 02:03:41.740]  предпотоков не существует,
[02:03:41.740 --> 02:03:43.740]  запустили какой-нибудь поток G,
[02:03:43.740 --> 02:03:45.740]  то оказывается, как легко убедиться,
[02:03:47.740 --> 02:03:49.740]  потенциал этого не поменялся
[02:03:49.740 --> 02:03:51.740]  от слова никак.
[02:03:51.740 --> 02:03:53.740]  Ну, причина очень простая,
[02:03:53.740 --> 02:03:55.740]  что если у вас втекла
[02:03:55.740 --> 02:03:57.740]  единица потока в вершину,
[02:03:57.740 --> 02:03:59.740]  то тем самым образовалась
[02:03:59.740 --> 02:04:01.740]  у пропускной способности
[02:04:01.740 --> 02:04:03.740]  на единичку больше
[02:04:03.740 --> 02:04:05.740]  исходящая пропускная способность.
[02:04:05.740 --> 02:04:07.740]  Но если вытекла,
[02:04:07.740 --> 02:04:09.740]  то на единичку больше
[02:04:09.740 --> 02:04:11.740]  стала входящая.
[02:04:11.740 --> 02:04:13.740]  То есть, если и втекло,
[02:04:13.740 --> 02:04:15.740]  и вытекло одновременно,
[02:04:15.740 --> 02:04:17.740]  то ничего не поменялось.
[02:04:17.740 --> 02:04:19.740]  Ну, по сути, да.
[02:04:19.740 --> 02:04:21.740]  У нас здесь Pimp,
[02:04:21.740 --> 02:04:23.740]  а это C,
[02:04:23.740 --> 02:04:25.740]  это пропускная способность какая?
[02:04:25.740 --> 02:04:27.740]  Вообще?
[02:04:27.740 --> 02:04:29.740]  Ну, это я пишу в общей сети,
[02:04:29.740 --> 02:04:31.740]  но как бы в остаточной сети,
[02:04:31.740 --> 02:04:33.740]  но это для любой сети,
[02:04:33.740 --> 02:04:35.740]  но я могу в остаточной сети тоже
[02:04:35.740 --> 02:04:37.740]  ровно по тем же лекалам посчитать потенциал.
[02:04:41.740 --> 02:04:43.740]  Остаточная сеть тоже просто
[02:04:43.740 --> 02:04:45.740]  граф какой-то
[02:04:45.740 --> 02:04:47.740]  с пропускными способностями
[02:04:47.740 --> 02:04:49.740]  встать.
[02:04:53.740 --> 02:04:55.740]  Чего?
[02:04:59.740 --> 02:05:01.740]  Да, но при этом они
[02:05:01.740 --> 02:05:03.740]  еще поувеличивались.
[02:05:03.740 --> 02:05:05.740]  Потому что дело в том, что когда ты пустил поток,
[02:05:05.740 --> 02:05:07.740]  по обратным ребрам увеличилась
[02:05:07.740 --> 02:05:09.740]  пропускная способность,
[02:05:09.740 --> 02:05:11.740]  а по входящим уменьшилась.
[02:05:11.740 --> 02:05:13.740]  Это когда поток входит.
[02:05:13.740 --> 02:05:15.740]  А когда выходил, то исходящая уменьшилась,
[02:05:15.740 --> 02:05:17.740]  и ничего.
[02:05:17.740 --> 02:05:19.740]  Поэтому они друг друга сбалансировали,
[02:05:19.740 --> 02:05:21.740]  то есть если одна единица потока вошла и вышла,
[02:05:21.740 --> 02:05:23.740]  то ничего не поменялось.
[02:05:31.740 --> 02:05:33.740]  То есть, по сути,
[02:05:33.740 --> 02:05:35.740]  потенциал это что такое?
[02:05:35.740 --> 02:05:37.740]  Это какое суммарное
[02:05:37.740 --> 02:05:39.740]  количество воды может
[02:05:39.740 --> 02:05:41.740]  проходить через все вершины?
[02:05:41.740 --> 02:05:43.740]  Ну, такая верхняя оценка.
[02:05:45.740 --> 02:05:47.740]  Может быть, даже грубая.
[02:05:47.740 --> 02:05:49.740]  Потому что понятно, что одна и та же единица воды
[02:05:49.740 --> 02:05:51.740]  скорее всего будет проходить через несколько вершин.
[02:05:51.740 --> 02:05:53.740]  Но мы говорим, что если
[02:05:53.740 --> 02:05:55.740]  в идеале
[02:05:55.740 --> 02:05:57.740]  там каждая единица будет проходить только через одну свою вершину,
[02:05:57.740 --> 02:05:59.740]  то тогда суммарно все равно этой воды будет
[02:05:59.740 --> 02:06:01.740]  не более чем FHG.
[02:06:01.740 --> 02:06:03.740]  Ну, кстати, это тоже оценка
[02:06:03.740 --> 02:06:05.740]  может быть на поток.
[02:06:05.740 --> 02:06:07.740]  Но у нас цель, на самом деле,
[02:06:07.740 --> 02:06:09.740]  мы в поток заранее не знаем,
[02:06:09.740 --> 02:06:11.740]  как бы оценить
[02:06:11.740 --> 02:06:13.740]  по внешнему виду сети.
[02:06:15.740 --> 02:06:17.740]  Так вот.
[02:06:17.740 --> 02:06:19.740]  Теперь возникает...
[02:06:29.740 --> 02:06:31.740]  Теперь самое интересное.
[02:06:31.740 --> 02:06:33.740]  Заметим, что поток не превосходит FHG.
[02:06:33.740 --> 02:06:35.740]  О, да.
[02:06:37.740 --> 02:06:39.740]  Нет, просто из этого следует...
[02:06:39.740 --> 02:06:41.740]  То есть, на самом деле,
[02:06:41.740 --> 02:06:43.740]  тогда... Все понимают,
[02:06:43.740 --> 02:06:45.740]  почему у нас поток не превосходит...
[02:06:45.740 --> 02:06:47.740]  Почему количество фаз
[02:06:47.740 --> 02:06:49.740]  не превосходит...
[02:06:49.740 --> 02:06:51.740]  Именно количество фаз
[02:06:51.740 --> 02:06:53.740]  не превосходит
[02:06:53.740 --> 02:06:55.740]  от размера потока.
[02:06:55.740 --> 02:06:57.740]  Все понятно?
[02:06:57.740 --> 02:06:59.740]  Почему нет?
[02:06:59.740 --> 02:07:01.740]  Опять же...
[02:07:01.740 --> 02:07:03.740]  Да, ведь оно
[02:07:03.740 --> 02:07:05.740]  не ходит на корень из F.
[02:07:05.740 --> 02:07:07.740]  Количество фаз...
[02:07:07.740 --> 02:07:09.740]  Я сейчас не говорю о том,
[02:07:09.740 --> 02:07:11.740]  за сколько времени вы каждую фазу сделаете, да?
[02:07:11.740 --> 02:07:13.740]  Но я утверждаю, что
[02:07:13.740 --> 02:07:15.740]  количество фаз будет не более, чем корень из F.
[02:07:17.740 --> 02:07:19.740]  Почему я это утверждаю?
[02:07:19.740 --> 02:07:21.740]  Ну, доказательство... Схема абсолютно та же.
[02:07:21.740 --> 02:07:23.740]  То есть,
[02:07:23.740 --> 02:07:25.740]  сделаем корень из F
[02:07:25.740 --> 02:07:27.740]  фаз этой блокирующего потока,
[02:07:27.740 --> 02:07:29.740]  и что у вас остается?
[02:07:29.740 --> 02:07:31.740]  Вам остается пустить...
[02:07:31.740 --> 02:07:33.740]  Значит, у вас остается остаточная сеть,
[02:07:33.740 --> 02:07:35.740]  которую нужно пустить не более, чем
[02:07:35.740 --> 02:07:37.740]  F-потока, да?
[02:07:37.740 --> 02:07:39.740]  Но при этом этот поток
[02:07:39.740 --> 02:07:41.740]  может быть максимальной в этой остаточной сети
[02:07:41.740 --> 02:07:43.740]  и декомпозировать на пути.
[02:07:43.740 --> 02:07:45.740]  И каждый пусик будет иметь длину
[02:07:45.740 --> 02:07:47.740]  не более...
[02:07:47.740 --> 02:07:49.740]  не менее, чем корень из F.
[02:07:49.740 --> 02:07:51.740]  Потому что у нас
[02:07:51.740 --> 02:07:53.740]  расстояние 1.2T больше, чем корень из F.
[02:07:53.740 --> 02:07:55.740]  Следовательно, этих единиц потока
[02:07:55.740 --> 02:07:57.740]  у вас осталось не более, чем корень из F,
[02:07:57.740 --> 02:07:59.740]  а вам осталось еще не более, чем корень из F-потока.
[02:08:05.740 --> 02:08:07.740]  Ну, теперь, значит, это было одно утверждение.
[02:08:07.740 --> 02:08:09.740]  Теперь утверждение два.
[02:08:09.740 --> 02:08:11.740]  Да, ну, утверждение два.
[02:08:11.740 --> 02:08:13.740]  То есть,
[02:08:13.740 --> 02:08:15.740]  так сказать, Fmax,
[02:08:15.740 --> 02:08:17.740]  то есть,
[02:08:17.740 --> 02:08:19.740]  максимальный поток вот этой сети G
[02:08:19.740 --> 02:08:21.740]  не превосходит Fg.
[02:08:29.740 --> 02:08:31.740]  Ну, потому что каждому...
[02:08:31.740 --> 02:08:33.740]  каждой единицы потоков декомпозиции
[02:08:33.740 --> 02:08:35.740]  будет соответствовать одна и несколько единиц,
[02:08:35.740 --> 02:08:37.740]  притекающих через декширы.
[02:08:39.740 --> 02:08:41.740]  Ну вот.
[02:08:41.740 --> 02:08:43.740]  Ну и в результате отсюда...
[02:08:43.740 --> 02:08:45.740]  уже так можно доказать
[02:08:45.740 --> 02:08:47.740]  первую...
[02:08:47.740 --> 02:08:49.740]  первая серия Макарзанова.
[02:09:01.740 --> 02:09:03.740]  То есть,
[02:09:03.740 --> 02:09:05.740]  количество фаз...
[02:09:05.740 --> 02:09:07.740]  то есть, количество
[02:09:07.740 --> 02:09:09.740]  фаз
[02:09:11.740 --> 02:09:13.740]  в концепции блокирующего потока...
[02:09:13.740 --> 02:09:15.740]  вот я, заметьте,
[02:09:15.740 --> 02:09:17.740]  не про единицы даже пишу,
[02:09:17.740 --> 02:09:19.740]  а просто про любой
[02:09:19.740 --> 02:09:21.740]  блокирующего потока
[02:09:23.740 --> 02:09:25.740]  не превосходит
[02:09:25.740 --> 02:09:27.740]  от корень
[02:09:27.740 --> 02:09:29.740]  из этого потенциала.
[02:09:29.740 --> 02:09:31.740]  Ну вот.
[02:09:31.740 --> 02:09:33.740]  Но это если вот...
[02:09:33.740 --> 02:09:35.740]  то есть, если поверить, да,
[02:09:35.740 --> 02:09:37.740]  то есть, это на самом деле следствие,
[02:09:37.740 --> 02:09:39.740]  что это же концепция, то есть, это не превосходит
[02:09:39.740 --> 02:09:41.740]  от корня из вот этого вот
[02:09:41.740 --> 02:09:43.740]  F максимального.
[02:09:45.740 --> 02:09:47.740]  Но это уже действительно простой фаз.
[02:09:49.740 --> 02:09:51.740]  Ну вот.
[02:09:51.740 --> 02:09:53.740]  Ну вот.
[02:09:53.740 --> 02:09:55.740]  Ну вот.
[02:09:55.740 --> 02:09:57.740]  Ну вот.
[02:09:57.740 --> 02:09:59.740]  Ну или можно эту теорему там
[02:09:59.740 --> 02:10:01.740]  в каких-нибудь диких аспектах
[02:10:01.740 --> 02:10:03.740]  просто так доказывать напрямую,
[02:10:03.740 --> 02:10:05.740]  просто применять тот же самый шаблончик.
[02:10:05.740 --> 02:10:07.740]  Ну, который говорит там, что
[02:10:07.740 --> 02:10:09.740]  давайте сделаем корень из P
[02:10:09.740 --> 02:10:11.740]  итерацией, после этого мы
[02:10:11.740 --> 02:10:13.740]  там...
[02:10:13.740 --> 02:10:15.740]  как там было?
[02:10:15.740 --> 02:10:17.740]  Сделаем корень из P итерацией,
[02:10:17.740 --> 02:10:19.740]  после этого мы обнаружим, соответственно,
[02:10:19.740 --> 02:10:21.740]  теперь остаточную сеть, у которой
[02:10:21.740 --> 02:10:23.740]  расстояние от S до D.
[02:10:23.740 --> 02:10:25.740]  Ну вот.
[02:10:25.740 --> 02:10:27.740]  Там...
[02:10:27.740 --> 02:10:29.740]  Ну потенциал тот же.
[02:10:29.740 --> 02:10:31.740]  Ну вот, потенциал тот же,
[02:10:31.740 --> 02:10:33.740]  и каждая единица потока выжрет вам
[02:10:33.740 --> 02:10:35.740]  не менее, чем корень из P.
[02:10:35.740 --> 02:10:37.740]  Значит, этих самых единиц тоже не более,
[02:10:37.740 --> 02:10:39.740]  чем корень из P.
[02:10:39.740 --> 02:10:41.740]  Вот. Теперь первое теряем как заново.
[02:10:41.740 --> 02:10:43.740]  То есть, такая вот оценка.
[02:10:43.740 --> 02:10:45.740]  Вот.
[02:10:47.740 --> 02:10:49.740]  Но на самом деле есть и вторая.
[02:10:49.740 --> 02:10:51.740]  То есть, мотивируется она тем, что
[02:10:51.740 --> 02:10:53.740]  как бы для того, чтобы применить эту оценку,
[02:10:53.740 --> 02:10:55.740]  вы уже можете просто не считать поток,
[02:10:55.740 --> 02:10:57.740]  а можете посмотреть на сеть, вычитать потенциал
[02:10:57.740 --> 02:10:59.740]  и сказать, что вот, ну как минимум вот столько будет.
[02:10:59.740 --> 02:11:01.740]  То есть, не более, чем
[02:11:01.740 --> 02:11:03.740]  столько будет.
[02:11:03.740 --> 02:11:05.740]  Кстати, автоматически отсюда уже можно вывести,
[02:11:05.740 --> 02:11:07.740]  что в парасочетании вы ищете за
[02:11:07.740 --> 02:11:09.740]  E корень из V.
[02:11:09.740 --> 02:11:11.740]  Потому что обратите внимание,
[02:11:11.740 --> 02:11:13.740]  на самом деле в парасочетании там потенциал
[02:11:13.740 --> 02:11:15.740]  каждой вершины равен 1.
[02:11:15.740 --> 02:11:17.740]  Это можно было...
[02:11:17.740 --> 02:11:19.740]  Да, мы...
[02:11:19.740 --> 02:11:21.740]  Да, в прошлый раз мы, собственно,
[02:11:21.740 --> 02:11:23.740]  это можно было и и сделали,
[02:11:23.740 --> 02:11:25.740]  но теперь заметим, что мы просто привели те же рассуждения
[02:11:25.740 --> 02:11:27.740]  в обобщенном виде.
[02:11:27.740 --> 02:11:29.740]  То есть, просто более общий факт.
[02:11:31.740 --> 02:11:33.740]  Но теперь возникает следующий факт.
[02:11:33.740 --> 02:11:35.740]  Очень хочется теперь сказать, что вот,
[02:11:35.740 --> 02:11:37.740]  допустим, мы вот не хотим прям бегать и считать
[02:11:37.740 --> 02:11:39.740]  потенциалы,
[02:11:39.740 --> 02:11:41.740]  а очень хочется как-то вот оценить
[02:11:41.740 --> 02:11:43.740]  вообще это все безобразие
[02:11:43.740 --> 02:11:45.740]  через...
[02:11:45.740 --> 02:11:47.740]  Используя там терминологию
[02:11:47.740 --> 02:11:49.740]  V, E, ну или там
[02:11:49.740 --> 02:11:51.740]  я предлагаю, что E это В квадрат,
[02:11:51.740 --> 02:11:53.740]  там только В, и С.
[02:11:55.740 --> 02:11:57.740]  Хочется оценить количество фаз,
[02:11:57.740 --> 02:11:59.740]  только используя В, Е, С, и никаких вот этих потенциалов
[02:11:59.740 --> 02:12:01.740]  не используем.
[02:12:01.740 --> 02:12:03.740]  Как это можно сделать?
[02:12:07.740 --> 02:12:09.740]  А оказывается, здесь
[02:12:09.740 --> 02:12:11.740]  надо сделать это можно следующее.
[02:12:13.740 --> 02:12:15.740]  Стирай
[02:12:15.740 --> 02:12:17.740]  вот это вот все.
[02:12:17.740 --> 02:12:19.740]  Лучше, чем С, Е?
[02:12:25.740 --> 02:12:27.740]  Ну, С, Е это многовато.
[02:12:29.740 --> 02:12:31.740]  Нет, это количество фаз-то, наверное,
[02:12:31.740 --> 02:12:33.740]  в С, Е это многовато.
[02:12:33.740 --> 02:12:35.740]  Нет, это не количество фаз, а потенциал.
[02:12:35.740 --> 02:12:37.740]  Нет, мы сейчас будем вообще не потенциал.
[02:12:37.740 --> 02:12:39.740]  Хорошо.
[02:12:39.740 --> 02:12:41.740]  Есть альтернативная?
[02:12:47.740 --> 02:12:49.740]  Идея следующая.
[02:12:51.740 --> 02:12:53.740]  Мы попытаемся сейчас
[02:12:53.740 --> 02:12:55.740]  просто применить ту же логику,
[02:12:55.740 --> 02:12:57.740]  но
[02:12:57.740 --> 02:12:59.740]  у нас классическая логика.
[02:12:59.740 --> 02:13:01.740]  Террина у нас
[02:13:01.740 --> 02:13:03.740]  количество фаз не превосходит
[02:13:03.740 --> 02:13:05.740]  2k.
[02:13:05.740 --> 02:13:07.740]  Где k какое-то число?
[02:13:07.740 --> 02:13:09.740]  Как мы это доказываем?
[02:13:09.740 --> 02:13:11.740]  Ну, мы это как-то доказываем
[02:13:11.740 --> 02:13:13.740]  в духе, значит, сделаем
[02:13:13.740 --> 02:13:15.740]  k-этерация, потом докажем, что у нас
[02:13:15.740 --> 02:13:17.740]  в пути осталось не более, чем k.
[02:13:19.740 --> 02:13:21.740]  Или, например, можно
[02:13:21.740 --> 02:13:23.740]  еще как-то
[02:13:23.740 --> 02:13:25.740]  терриба
[02:13:25.740 --> 02:13:27.740]  количества фаз не более, чем
[02:13:27.740 --> 02:13:29.740]  k плюс l.
[02:13:29.740 --> 02:13:31.740]  Доказательство. Сделаем k-этерацию,
[02:13:31.740 --> 02:13:33.740]  обнаружим, что после этого потока осталось не более,
[02:13:33.740 --> 02:13:35.740]  чем l.
[02:13:39.740 --> 02:13:41.740]  Вот давайте сейчас мы применим эту же схему.
[02:13:41.740 --> 02:13:43.740]  Вот каким образом.
[02:13:43.740 --> 02:13:45.740]  Итак, говорим.
[02:13:45.740 --> 02:13:47.740]  Значит,
[02:13:47.740 --> 02:13:49.740]  там терриба,
[02:13:49.740 --> 02:13:51.740]  то есть вторая терриба
[02:13:51.740 --> 02:13:53.740]  Корзанова.
[02:13:57.740 --> 02:13:59.740]  Она говорит,
[02:13:59.740 --> 02:14:01.740]  количество итераций
[02:14:05.740 --> 02:14:07.740]  в концепции блокирующего
[02:14:07.740 --> 02:14:09.740]  потока
[02:14:09.740 --> 02:14:11.740]  не превосходит.
[02:14:11.740 --> 02:14:13.740]  Да.
[02:14:13.740 --> 02:14:15.740]  В данной ситуации количество итераций
[02:14:15.740 --> 02:14:17.740]  определенно не превосходит.
[02:14:17.740 --> 02:14:19.740]  Доказательство.
[02:14:25.740 --> 02:14:27.740]  Доказательство будет такое.
[02:14:27.740 --> 02:14:29.740]  Значит, смотрите.
[02:14:29.740 --> 02:14:31.740]  После l-этерации
[02:14:31.740 --> 02:14:33.740]  расстояние от s до t стало
[02:14:33.740 --> 02:14:35.740]  больше, чем l. Правильно?
[02:14:37.740 --> 02:14:39.740]  Вот.
[02:14:41.740 --> 02:14:43.740]  Тогда вот идея такая.
[02:14:43.740 --> 02:14:45.740]  Завтра построим
[02:14:45.740 --> 02:14:47.740]  ту самую слоистую сеть.
[02:14:47.740 --> 02:14:49.740]  Вот.
[02:14:51.740 --> 02:14:53.740]  Вот.
[02:14:53.740 --> 02:14:55.740]  Вот.
[02:14:55.740 --> 02:14:57.740]  Вот.
[02:14:57.740 --> 02:14:59.740]  Вот.
[02:14:59.740 --> 02:15:01.740]  Вот.
[02:15:05.740 --> 02:15:07.740]  Ну, мы помним, да, что тут
[02:15:07.740 --> 02:15:09.740]  ребра бывают вот такие, ребра бывают какие-то там
[02:15:09.740 --> 02:15:11.740]  идущие назад, идущие внутри,
[02:15:11.740 --> 02:15:13.740]  но там перескакивающих ребр нет.
[02:15:13.740 --> 02:15:15.740]  Помните, да?
[02:15:15.740 --> 02:15:17.740]  Помните?
[02:15:17.740 --> 02:15:19.740]  Вот.
[02:15:19.740 --> 02:15:21.740]  Там что-то еще.
[02:15:21.740 --> 02:15:23.740]  И где-то наконец тут t образовался.
[02:15:25.740 --> 02:15:27.740]  Ну, могут тут еще какие-то слои быть,
[02:15:27.740 --> 02:15:29.740]  но нижние слои нас даже не интересуют.
[02:15:31.740 --> 02:15:33.740]  А интересует нас
[02:15:33.740 --> 02:15:35.740]  вот что.
[02:15:41.740 --> 02:15:43.740]  Ну, хотя нет, надо признать киша.
[02:15:43.740 --> 02:15:45.740]  Остальные слои нас могут
[02:15:45.740 --> 02:15:47.740]  интересовать, но с другой стороны, как мы
[02:15:47.740 --> 02:15:49.740]  помним, там остальные, если из вершины
[02:15:49.740 --> 02:15:51.740]  нельзя... Ну, давайте так.
[02:15:51.740 --> 02:15:53.740]  Если из вершины,
[02:15:53.740 --> 02:15:55.740]  то есть мы можем мысленно вытянуть все
[02:15:55.740 --> 02:15:57.740]  вершины, через которые нельзя
[02:15:57.740 --> 02:15:59.740]  дойти из s до t.
[02:16:01.740 --> 02:16:03.740]  Ну, помните, у нас была теорема, что если из вершины нельзя дойти
[02:16:03.740 --> 02:16:05.740]  до t, то она нам не интересна.
[02:16:05.740 --> 02:16:07.740]  Помните, да?
[02:16:07.740 --> 02:16:09.740]  Вот.
[02:16:09.740 --> 02:16:11.740]  И да, вот. А, и более того, если
[02:16:11.740 --> 02:16:13.740]  из s до нее нельзя дойти, то и в будущем
[02:16:13.740 --> 02:16:15.740]  мы ее никогда не дойдем, можно вытянуть.
[02:16:15.740 --> 02:16:17.740]  Так вот. Значит, у нас
[02:16:17.740 --> 02:16:19.740]  вот слои, слои, слои, слои.
[02:16:19.740 --> 02:16:21.740]  Да, ну, тут вот, ладно, давайте вот
[02:16:21.740 --> 02:16:23.740]  нарисуем еще пару слоев для понятности.
[02:16:23.740 --> 02:16:25.740]  Но давайте, смотрите, давайте эти слои
[02:16:25.740 --> 02:16:27.740]  обзовем. V1,
[02:16:27.740 --> 02:16:29.740]  V2, вот множество, это V
[02:16:29.740 --> 02:16:31.740]  большое, да? V4,
[02:16:31.740 --> 02:16:33.740]  V5 и так далее, V
[02:16:35.740 --> 02:16:37.740]  Сколько тут? Больше либо равно l.
[02:16:37.740 --> 02:16:39.740]  Ну, давайте l'
[02:16:39.740 --> 02:16:41.740]  напишем, где l' больше либо равно l.
[02:16:43.740 --> 02:16:45.740]  Видите, да? Я бы даже сказал строго больше l,
[02:16:45.740 --> 02:16:47.740]  если быть точнее.
[02:16:49.740 --> 02:16:51.740]  Ну, вот какая идея возникает.
[02:16:51.740 --> 02:16:53.740]  А давайте
[02:16:53.740 --> 02:16:55.740]  рассмотрим разрез.
[02:16:59.740 --> 02:17:01.740]  Вот такой.
[02:17:01.740 --> 02:17:03.740]  Четыре отряда, да?
[02:17:03.740 --> 02:17:05.740]  Ну, допустим, четыре.
[02:17:05.740 --> 02:17:07.740]  А в общем случае именно с этим.
[02:17:13.740 --> 02:17:15.740]  А, кстати, давайте этот слой еще
[02:17:15.740 --> 02:17:17.740]  обзовем V0.
[02:17:17.740 --> 02:17:19.740]  Вот, допустим,
[02:17:19.740 --> 02:17:21.740]  если вот это вот sT,
[02:17:21.740 --> 02:17:23.740]  вот это будет sIT и TIT,
[02:17:23.740 --> 02:17:25.740]  вот разрез такой sIT TIT.
[02:17:27.740 --> 02:17:29.740]  Тогда заметим, что я могу
[02:17:29.740 --> 02:17:31.740]  оценить величину
[02:17:31.740 --> 02:17:33.740]  этого разреза.
[02:17:33.740 --> 02:17:35.740]  Как я его могу оценить?
[02:17:35.740 --> 02:17:37.740]  Да очень просто.
[02:17:37.740 --> 02:17:39.740]  V4 в игре.
[02:17:39.740 --> 02:17:41.740]  Да.
[02:17:41.740 --> 02:17:43.740]  В смысле нет.
[02:17:43.740 --> 02:17:45.740]  На 1c.
[02:17:45.740 --> 02:17:47.740]  Да, то есть если это вот равно
[02:17:47.740 --> 02:17:49.740]  v и T, вот на c это уже
[02:17:49.740 --> 02:17:51.740]  да.
[02:17:51.740 --> 02:17:53.740]  Это равно,
[02:17:53.740 --> 02:17:55.740]  то есть он меньше
[02:17:55.740 --> 02:17:57.740]  либо равно, чем модуль
[02:17:57.740 --> 02:17:59.740]  v и минус первое умножить
[02:17:59.740 --> 02:18:01.740]  на v и T на внезапно
[02:18:01.740 --> 02:18:03.740]  c.
[02:18:03.740 --> 02:18:05.740]  Почему так? А что за ребра
[02:18:05.740 --> 02:18:07.740]  вообще пересекают этот разрез?
[02:18:07.740 --> 02:18:09.740]  Ну, которые идут слева направо, очевидно
[02:18:09.740 --> 02:18:11.740]  это только ребра из вот этих вот.
[02:18:15.740 --> 02:18:17.740]  Так, ну в этом месте, правда,
[02:18:17.740 --> 02:18:19.740]  конечно, мы сразу вы должны
[02:18:19.740 --> 02:18:21.740]  записать.
[02:18:23.740 --> 02:18:25.740]  Если нет кратных ребят.
[02:18:31.740 --> 02:18:33.740]  Это важно.
[02:18:33.740 --> 02:18:35.740]  Мы сейчас этим воспользуемся, обратите внимание.
[02:18:35.740 --> 02:18:37.740]  У нас есть такое обозначение для разреза, да?
[02:18:37.740 --> 02:18:39.740]  Что? У нас есть такое обозначение для разреза?
[02:18:39.740 --> 02:18:41.740]  Нет, у нас просто есть вот
[02:18:41.740 --> 02:18:43.740]  такой разрез.
[02:18:43.740 --> 02:18:45.740]  Ну а что бы нет?
[02:18:45.740 --> 02:18:47.740]  Вот давайте я скажу, что
[02:18:47.740 --> 02:18:49.740]  доля T и T это
[02:18:49.740 --> 02:18:51.740]  как бы все вершины измножат
[02:18:51.740 --> 02:18:53.740]  v и T, v плюс первое и так далее.
[02:18:53.740 --> 02:18:55.740]  А в доле s, v нулевое, v первое и так далее
[02:18:55.740 --> 02:18:57.740]  то v и минус первое. И равно
[02:18:57.740 --> 02:18:59.740]  1, 2, 3 и так далее.
[02:18:59.740 --> 02:19:01.740]  Понимаете, да?
[02:19:03.740 --> 02:19:05.740]  То есть, ну теперь заметим,
[02:19:05.740 --> 02:19:07.740]  что этот оставшийся максимальный поток
[02:19:07.740 --> 02:19:09.740]  он не
[02:19:09.740 --> 02:19:11.740]  превосходит, то есть так сказать этот вот
[02:19:11.740 --> 02:19:13.740]  f оставшийся
[02:19:13.740 --> 02:19:15.740]  оставшийся
[02:19:15.740 --> 02:19:17.740]  не превосходит c умножить
[02:19:17.740 --> 02:19:19.740]  на минимум.
[02:19:19.740 --> 02:19:21.740]  Из очень такой интересной величины
[02:19:21.740 --> 02:19:23.740]  v0 на v1
[02:19:25.740 --> 02:19:31.740]  v1 v2 v2 v3
[02:19:33.740 --> 02:19:35.740]  и так далее
[02:19:35.740 --> 02:19:37.740]  vl штрих минус 1
[02:19:37.740 --> 02:19:39.740]  vl штрих
[02:19:41.740 --> 02:19:43.740]  1
[02:19:45.740 --> 02:19:47.740]  Ну потому что, помните, максимальный поток
[02:19:47.740 --> 02:19:49.740]  у нас не превосходит
[02:19:49.740 --> 02:19:51.740]  никакого разреза. То есть мы просто
[02:19:51.740 --> 02:19:53.740]  перебрали несколько разрезов и взяли минимум.
[02:19:55.740 --> 02:19:57.740]  А теперь
[02:19:57.740 --> 02:19:59.740]  то есть в принципе
[02:19:59.740 --> 02:20:01.740]  можно заметить, что раз поток не превосходит
[02:20:01.740 --> 02:20:03.740]  то тогда ответ у нас будет
[02:20:03.740 --> 02:20:05.740]  не превосходить l плюс
[02:20:05.740 --> 02:20:07.740]  вот это вот.
[02:20:07.740 --> 02:20:09.740]  В смысле ответ?
[02:20:09.740 --> 02:20:11.740]  Количество итераций?
[02:20:11.740 --> 02:20:13.740]  Количество итераций.
[02:20:13.740 --> 02:20:15.740]  Еще делить на l?
[02:20:15.740 --> 02:20:17.740]  Почему делить на l?
[02:20:17.740 --> 02:20:19.740]  А, да, делить на l.
[02:20:19.740 --> 02:20:21.740]  Да, то есть пока мы тут хотим
[02:20:21.740 --> 02:20:23.740]  нацепить что-то типа l плюс
[02:20:23.740 --> 02:20:25.740]  вот f ост
[02:20:25.740 --> 02:20:27.740]  делить на l, совершенно верно.
[02:20:27.740 --> 02:20:29.740]  Понимаете почему, да?
[02:20:29.740 --> 02:20:31.740]  Даже l штрих я бы сказал.
[02:20:31.740 --> 02:20:33.740]  Но мы будем
[02:20:33.740 --> 02:20:35.740]  оценивать как л.
[02:20:35.740 --> 02:20:37.740]  Ну а теперь давайте думать
[02:20:37.740 --> 02:20:39.740]  вот о чем. А теперь давайте
[02:20:39.740 --> 02:20:41.740]  просто попробуем немножко поиграть в алгебру
[02:20:41.740 --> 02:20:43.740]  и подумать, о чему может быть
[02:20:43.740 --> 02:20:45.740]  равен минимум вот этой
[02:20:45.740 --> 02:20:47.740]  штуки. Учитывая, что
[02:20:47.740 --> 02:20:49.740]  все эти v-шки целые
[02:20:49.740 --> 02:20:51.740]  положительные
[02:20:51.740 --> 02:20:53.740]  и их сумма не превосходит
[02:20:53.740 --> 02:20:55.740]  v.
[02:20:55.740 --> 02:20:57.740]  И их хотя бы l.
[02:20:57.740 --> 02:20:59.740]  Штрих.
[02:20:59.740 --> 02:21:01.740]  Ну, l штрих это l.
[02:21:01.740 --> 02:21:03.740]  Это хотя бы l.
[02:21:03.740 --> 02:21:05.740]  Да.
[02:21:05.740 --> 02:21:07.740]  Ну, если они все равны,
[02:21:07.740 --> 02:21:09.740]  то там v делить на l в квадрате.
[02:21:11.740 --> 02:21:13.740]  Ну да.
[02:21:13.740 --> 02:21:15.740]  А если не равны, то докажем, что
[02:21:15.740 --> 02:21:17.740]  это оптимально.
[02:21:17.740 --> 02:21:19.740]  Ну, можно на самом деле
[02:21:19.740 --> 02:21:21.740]  внимательно подумать, действительно,
[02:21:21.740 --> 02:21:23.740]  почему оптимально, чтобы они были именно все равны,
[02:21:23.740 --> 02:21:25.740]  чтобы это было максимально, чтобы минимум было
[02:21:25.740 --> 02:21:27.740]  можно больше.
[02:21:27.740 --> 02:21:29.740]  Но на самом деле нет необходимости.
[02:21:29.740 --> 02:21:31.740]  Потому что, смотрите,
[02:21:31.740 --> 02:21:33.740]  потому что мы можем поступить так.
[02:21:33.740 --> 02:21:35.740]  Каждая из этих штук
[02:21:35.740 --> 02:21:37.740]  мы оценим как средняя арифметическая.
[02:21:39.740 --> 02:21:41.740]  Вот.
[02:21:41.740 --> 02:21:43.740]  Ну, средняя арифметическая в квадрате, конечно.
[02:21:43.740 --> 02:21:45.740]  Минимум
[02:21:45.740 --> 02:21:47.740]  из такой штуки как
[02:21:47.740 --> 02:21:49.740]  v0 плюс v1
[02:21:49.740 --> 02:21:51.740]  пополам
[02:21:51.740 --> 02:21:53.740]  в квадрате.
[02:21:53.740 --> 02:21:55.740]  Значит,
[02:21:55.740 --> 02:21:57.740]  соответственно,
[02:21:57.740 --> 02:21:59.740]  дальше что у нас тут?
[02:21:59.740 --> 02:22:01.740]  Модуль v1 плюс модуль v2
[02:22:01.740 --> 02:22:03.740]  поделить в квадрате.
[02:22:03.740 --> 02:22:05.740]  В общем, и так далее.
[02:22:05.740 --> 02:22:07.740]  В общем, эти все квадраты. Понятно, да?
[02:22:07.740 --> 02:22:09.740]  В этом минимуме
[02:22:09.740 --> 02:22:11.740]  теперь надо просто
[02:22:11.740 --> 02:22:13.740]  найти минимальную сумму двух соседних.
[02:22:15.740 --> 02:22:17.740]  Понимаете, да?
[02:22:17.740 --> 02:22:19.740]  Но заметим, что если я это все
[02:22:19.740 --> 02:22:21.740]  просуммирую, у меня
[02:22:21.740 --> 02:22:23.740]  вот, не квадраты, конечно, сейчас могу сказать,
[02:22:23.740 --> 02:22:25.740]  что все это вот минимум и все это в квадрате, да?
[02:22:25.740 --> 02:22:27.740]  Если я просуммирую
[02:22:27.740 --> 02:22:29.740]  средние арифметические.
[02:22:29.740 --> 02:22:31.740]  То есть вот эти вот.
[02:22:31.740 --> 02:22:33.740]  То у меня что получится? У меня получится
[02:22:33.740 --> 02:22:35.740]  что-то типа v0 пополам
[02:22:35.740 --> 02:22:37.740]  плюс v1 плюс v2 плюс и так далее.
[02:22:37.740 --> 02:22:39.740]  Ну и в конце там еще v' пополам.
[02:22:41.740 --> 02:22:43.740]  Ну, короче говоря, суммы этих средних
[02:22:43.740 --> 02:22:45.740]  арифметических не превосходят v, правда?
[02:22:47.740 --> 02:22:49.740]  Но если сумма не превосходит,
[02:22:49.740 --> 02:22:51.740]  то есть у нас есть l' слагаемых.
[02:22:53.740 --> 02:22:55.740]  Их сумма не превосходит l.
[02:22:55.740 --> 02:22:57.740]  Значит, наверное, кто-то из них
[02:22:57.740 --> 02:22:59.740]  будет не больше, чем v поделить
[02:22:59.740 --> 02:23:01.740]  на l'. Правда?
[02:23:01.740 --> 02:23:03.740]  Ну, по принципу, делить v, правда?
[02:23:07.740 --> 02:23:09.740]  То есть получается, что это
[02:23:09.740 --> 02:23:11.740]  меньше либо равно, действительно,
[02:23:11.740 --> 02:23:13.740]  чем c на...
[02:23:13.740 --> 02:23:15.740]  Ну, соответственно, если c
[02:23:15.740 --> 02:23:17.740]  и
[02:23:17.740 --> 02:23:19.740]  значит, модуль v делить на l
[02:23:19.740 --> 02:23:21.740]  в квадрате.
[02:23:25.740 --> 02:23:27.740]  То есть тогда вот это вот
[02:23:27.740 --> 02:23:29.740]  получается...
[02:23:29.740 --> 02:23:31.740]  Значит, получается,
[02:23:31.740 --> 02:23:33.740]  что значит этих потоков...
[02:23:33.740 --> 02:23:35.740]  Значит, получается, пишем тут
[02:23:35.740 --> 02:23:37.740]  c на модуль v в квадрате
[02:23:37.740 --> 02:23:39.740]  делить на l в квадрате
[02:23:39.740 --> 02:23:41.740]  и все это поделить
[02:23:41.740 --> 02:23:43.740]  на l. Что-то не то.
[02:23:51.740 --> 02:23:53.740]  Слишком сильно.
[02:23:53.740 --> 02:23:55.740]  Ну, степени не такие должны быть.
[02:23:55.740 --> 02:23:57.740]  Там где-то тройка должна быть у нас в четверке.
[02:23:59.740 --> 02:24:01.740]  Ну, у нас l...
[02:24:01.740 --> 02:24:03.740]  Тут l в квадрате, тут l.
[02:24:03.740 --> 02:24:05.740]  У нас l в четверте равно c в квадрате.
[02:24:05.740 --> 02:24:07.740]  Там, вроде, l купран.
[02:24:17.740 --> 02:24:19.740]  Вот это.
[02:24:19.740 --> 02:24:21.740]  Либо мы доказали новую теорию,
[02:24:21.740 --> 02:24:23.740]  а там более крутую.
[02:24:25.740 --> 02:24:27.740]  Чем было там 40 лет, чем было 50 лет назад.
[02:24:39.740 --> 02:24:41.740]  Ну, видимо, это оставшиеся
[02:24:41.740 --> 02:24:43.740]  в уральной оценке.
[02:24:47.740 --> 02:24:49.740]  Ну, как? Ну, давайте, смотрите.
[02:24:49.740 --> 02:24:51.740]  Здесь мы оценили как произведение.
[02:24:51.740 --> 02:24:53.740]  Умножить на c.
[02:24:55.740 --> 02:24:57.740]  Каждое произведение мы оценили
[02:24:57.740 --> 02:24:59.740]  как среднее рифметическое в квадрате.
[02:25:05.740 --> 02:25:07.740]  То есть, минимум из квадратов
[02:25:07.740 --> 02:25:09.740]  это то же самое, что квадрат из минимума.
[02:25:11.740 --> 02:25:13.740]  Или нет?
[02:25:13.740 --> 02:25:15.740]  Ну, конечно.
[02:25:15.740 --> 02:25:17.740]  Вот.
[02:25:19.740 --> 02:25:21.740]  Минимум, значит,
[02:25:21.740 --> 02:25:23.740]  средних рифметических мы оценили
[02:25:23.740 --> 02:25:25.740]  как c поделить на l.
[02:25:29.740 --> 02:25:31.740]  Вот.
[02:25:31.740 --> 02:25:33.740]  Тогда получается...
[02:25:33.740 --> 02:25:35.740]  Это, значит, получается,
[02:25:35.740 --> 02:25:37.740]  что, действительно,
[02:25:37.740 --> 02:25:39.740]  это мы оценим как c на v в квадрат
[02:25:39.740 --> 02:25:41.740]  поделить на l в квадрат.
[02:25:41.740 --> 02:25:43.740]  Потом мы говорим, что каждый
[02:25:43.740 --> 02:25:45.740]  футч требует
[02:25:45.740 --> 02:25:47.740]  длины хотя бы l.
[02:25:47.740 --> 02:25:49.740]  То есть, если мы оценили
[02:25:49.740 --> 02:25:51.740]  общих реагер,
[02:25:51.740 --> 02:25:53.740]  он же у нас не единичек.
[02:25:53.740 --> 02:25:55.740]  У нас единички гораздо меньше.
[02:25:55.740 --> 02:25:57.740]  Нет, мы вот этот поток...
[02:25:57.740 --> 02:25:59.740]  Почему можно на l поделить?
[02:25:59.740 --> 02:26:01.740]  Потому что каждая единичка потока
[02:26:01.740 --> 02:26:03.740]  покушает хотя бы l единичек.
[02:26:03.740 --> 02:26:05.740]  Да.
[02:26:05.740 --> 02:26:07.740]  Мы, значит, считаем, что
[02:26:07.740 --> 02:26:09.740]  серва единичная и просто каждая
[02:26:09.740 --> 02:26:11.740]  не единичная единичка...
[02:26:11.740 --> 02:26:13.740]  Стоп, стоп, стоп.
[02:26:13.740 --> 02:26:15.740]  Да, мы оцениваем поток.
[02:26:15.740 --> 02:26:17.740]  Фаз будет столько, сколько попоков,
[02:26:17.740 --> 02:26:19.740]  а не сколько потоков делить на l.
[02:26:19.740 --> 02:26:21.740]  Поэтому этот делить на l
[02:26:21.740 --> 02:26:23.740]  мы не предъявим.
[02:26:23.740 --> 02:26:25.740]  Убедитель, да?
[02:26:25.740 --> 02:26:27.740]  Сейчас.
[02:26:27.740 --> 02:26:29.740]  И почему в итоге?
[02:26:29.740 --> 02:26:31.740]  Сейчас. Не убедитель, да?
[02:26:31.740 --> 02:26:33.740]  Мы просто
[02:26:33.740 --> 02:26:35.740]  носили аргументы, да?
[02:26:35.740 --> 02:26:37.740]  Насколько они мощно выглядят.
[02:26:37.740 --> 02:26:39.740]  Нет, то просто... А почему мы делим
[02:26:39.740 --> 02:26:41.740]  на l-то вообще?
[02:26:41.740 --> 02:26:43.740]  Ну, давай так. Как мы оцениваем количество
[02:26:43.740 --> 02:26:45.740]  фаз, в точности сколько осталось потока?
[02:26:45.740 --> 02:26:47.740]  Почему?
[02:26:47.740 --> 02:26:49.740]  Потому что каждая следующая фаза покроет
[02:26:49.740 --> 02:26:51.740]  не менее чем одну единицу потока.
[02:26:51.740 --> 02:26:53.740]  Мы когда делили на l, мы оценивали
[02:26:53.740 --> 02:26:55.740]  суммарно оставшееся количество единиц
[02:26:55.740 --> 02:26:57.740]  потока вот во всех единицах.
[02:26:57.740 --> 02:26:59.740]  А, да.
[02:26:59.740 --> 02:27:01.740]  То есть мы сейчас не пользуемся тем, что
[02:27:01.740 --> 02:27:03.740]  каждая единица потока покрывает каких-то там l ребер.
[02:27:03.740 --> 02:27:05.740]  Мы сейчас этим не пользуемся вообще.
[02:27:05.740 --> 02:27:07.740]  l мы использовали здесь.
[02:27:07.740 --> 02:27:09.740]  Поэтому
[02:27:09.740 --> 02:27:11.740]  получаем, что вот c плюс v квадрат
[02:27:11.740 --> 02:27:13.740]  поделить на l квадрат.
[02:27:13.740 --> 02:27:15.740]  В результате
[02:27:15.740 --> 02:27:17.740]  что получается?
[02:27:17.740 --> 02:27:19.740]  Ну, для того, чтобы это асимпатически было как можно
[02:27:19.740 --> 02:27:21.740]  меньше, надо подогнать l так,
[02:27:21.740 --> 02:27:23.740]  чтобы было, значит,
[02:27:23.740 --> 02:27:25.740]  там где-то l приблизительно
[02:27:25.740 --> 02:27:27.740]  c в v квадрат
[02:27:27.740 --> 02:27:29.740]  поделить на l квадрат.
[02:27:33.740 --> 02:27:35.740]  Ну, подгоняем. l, значит,
[02:27:35.740 --> 02:27:37.740]  должно быть приблизительно
[02:27:37.740 --> 02:27:39.740]  c в v квадрат.
[02:27:41.740 --> 02:27:43.740]  И получается, что a равно
[02:27:43.740 --> 02:27:45.740]  корень кубический
[02:27:45.740 --> 02:27:47.740]  из этого всего.
[02:27:51.740 --> 02:27:53.740]  И когда мы это делаем, получается и h
[02:27:53.740 --> 02:27:55.740]  столько, и вот это тоже самое столько.
[02:27:55.740 --> 02:27:57.740]  То есть получается,
[02:27:57.740 --> 02:27:59.740]  можно сказать, не
[02:27:59.740 --> 02:28:01.740]  превосходит. Пишем теперь
[02:28:01.740 --> 02:28:03.740]  2.
[02:28:03.740 --> 02:28:05.740]  Ну, можно теперь это переписать так.
[02:28:05.740 --> 02:28:07.740]  c в степени 1 треть обычно пишут,
[02:28:07.740 --> 02:28:09.740]  v в степени
[02:28:09.740 --> 02:28:11.740]  2 треть.
[02:28:11.740 --> 02:28:13.740]  Раньше у нас было то, что не превосходит
[02:28:13.740 --> 02:28:15.740]  v, но
[02:28:15.740 --> 02:28:17.740]  в качестве итерации.
[02:28:17.740 --> 02:28:19.740]  Ну, не совсем. Во-первых,
[02:28:19.740 --> 02:28:21.740]  ну, не происходит v,
[02:28:21.740 --> 02:28:23.740]  оно было всегда.
[02:28:23.740 --> 02:28:25.740]  Вот именно, всегда. Да, безусловно.
[02:28:25.740 --> 02:28:27.740]  Вот v. Ну, это как бы если
[02:28:27.740 --> 02:28:29.740]  c не сильно большое, то это лучше.
[02:28:31.740 --> 02:28:33.740]  Если c меньше, чем v.
[02:28:33.740 --> 02:28:35.740]  Ну, бывает такое, да.
[02:28:35.740 --> 02:28:37.740]  Славно.
[02:28:37.740 --> 02:28:39.740]  Ну, да.
[02:28:39.740 --> 02:28:41.740]  Ну, да.
[02:28:41.740 --> 02:28:43.740]  Вот.
[02:28:43.740 --> 02:28:45.740]  Ну, и соответственно,
[02:28:45.740 --> 02:28:47.740]  и что еще?
[02:28:47.740 --> 02:28:49.740]  Ну, там по-разному.
[02:28:49.740 --> 02:28:51.740]  В единичных графах
[02:28:51.740 --> 02:28:53.740]  итерация была не более, чем корень из e.
[02:28:53.740 --> 02:28:55.740]  Вот.
[02:28:55.740 --> 02:28:57.740]  Ну, там тоже так получалось.
[02:28:57.740 --> 02:28:59.740]  Ну, то есть, конечно,
[02:28:59.740 --> 02:29:01.740]  корень из e у нас в худшем случае это v.
[02:29:01.740 --> 02:29:03.740]  Поэтому, кстати, в единичных
[02:29:03.740 --> 02:29:05.740]  это, кстати, теперь даже
[02:29:05.740 --> 02:29:07.740]  лучше.
[02:29:07.740 --> 02:29:09.740]  Если граф не сильно разрешенный, конечно.
[02:29:09.740 --> 02:29:11.740]  Да.
[02:29:11.740 --> 02:29:13.740]  Ну, как бы нет. Тут просто надо,
[02:29:13.740 --> 02:29:15.740]  потому что такая тялема есть.
[02:29:15.740 --> 02:29:17.740]  Да. Может быть,
[02:29:17.740 --> 02:29:19.740]  то есть, ну, вот.
[02:29:19.740 --> 02:29:21.740]  Так что, вот, получилась вот такая тялема,
[02:29:21.740 --> 02:29:23.740]  и просто разными способами можно оценивать
[02:29:23.740 --> 02:29:25.740]  максимальный поток.
[02:29:25.740 --> 02:29:27.740]  Вот.
[02:29:27.740 --> 02:29:29.740]  Так что, вот это называется
[02:29:29.740 --> 02:29:31.740]  две тялемы Красанова.
[02:29:31.740 --> 02:29:33.740]  И у нас осталось 4 минуты.
[02:29:33.740 --> 02:29:35.740]  Так.
[02:29:35.740 --> 02:29:37.740]  Ну, за которые все, что можно,
[02:29:37.740 --> 02:29:39.740]  это разве что прикинуть. А что нам по потокам
[02:29:39.740 --> 02:29:41.740]  вообще осталось?
[02:29:41.740 --> 02:29:43.740]  Минкост.
[02:29:43.740 --> 02:29:45.740]  Так, ну, во-первых, да.
[02:29:45.740 --> 02:29:47.740]  Да, безусловно, да.
[02:29:47.740 --> 02:29:49.740]  Во-первых, остался его величество
[02:29:49.740 --> 02:29:51.740]  Минкост.
[02:29:51.740 --> 02:29:53.740]  Нет. Особенно есть еще раз Лету я, может быть,
[02:29:53.740 --> 02:29:55.740]  что-то забыл, но есть, как минимум, еще два алгоритма,
[02:29:55.740 --> 02:29:57.740]  которые обязательно в этом контексте надо
[02:29:57.740 --> 02:29:59.740]  обсудить.
[02:29:59.740 --> 02:30:01.740]  Ну, во-первых, Ренгеркартич.
[02:30:01.740 --> 02:30:03.740]  Нет. Ну, скажем тогда,
[02:30:03.740 --> 02:30:05.740]  он входит в Минкост.
[02:30:05.740 --> 02:30:07.740]  Вот. И, конечно же, алгоритм
[02:30:07.740 --> 02:30:09.740]  Шторвагнера.
[02:30:09.740 --> 02:30:11.740]  Именно он, да. Точно знаю, который.
[02:30:11.740 --> 02:30:13.740]  Напомните, что это?
[02:30:13.740 --> 02:30:15.740]  Алгоритм Шторвагнера — это поиск
[02:30:15.740 --> 02:30:17.740]  глобального разреза.
[02:30:17.740 --> 02:30:19.740]  Уууу.
[02:30:19.740 --> 02:30:21.740]  В смысле, с его сочетанием, да?
[02:30:21.740 --> 02:30:23.740]  Сочетание.
[02:30:23.740 --> 02:30:25.740]  А это вот... СТ больше нет.
[02:30:25.740 --> 02:30:27.740]  Значит, задача такая. У вас есть
[02:30:27.740 --> 02:30:29.740]  просто СТ нет, есть просто
[02:30:29.740 --> 02:30:31.740]  реалинтированный граф.
[02:30:31.740 --> 02:30:33.740]  У графа есть там...
[02:30:33.740 --> 02:30:35.740]  Значит, есть веса.
[02:30:35.740 --> 02:30:37.740]  Не отрицательные.
[02:30:37.740 --> 02:30:39.740]  И вам очень хочется разбить
[02:30:39.740 --> 02:30:41.740]  вершины на два некуда.
[02:30:41.740 --> 02:30:43.740]  То есть, провести разрез, но не тривиальный.
[02:30:43.740 --> 02:30:45.740]  То есть, чтобы с левой и с правой что-то было.
[02:30:45.740 --> 02:30:47.740]  Но так, чтобы суммарный вес
[02:30:47.740 --> 02:30:49.740]  Ренгеркартич-разрез был все равно как можно меньше.
[02:30:51.740 --> 02:30:53.740]  А, размещались. Все.
[02:30:53.740 --> 02:30:55.740]  Еще есть дерево-гамуреку вообще.
[02:30:55.740 --> 02:30:57.740]  Кайфовая структура.
[02:30:57.740 --> 02:30:59.740]  Ооо.
[02:30:59.740 --> 02:31:01.740]  Шедевр. Это шедевр.
[02:31:01.740 --> 02:31:03.740]  Нет, мы друзья писали.
[02:31:03.740 --> 02:31:05.740]  Какую-то задачу.
[02:31:05.740 --> 02:31:07.740]  Я должен был поток искать
[02:31:07.740 --> 02:31:09.740]  в двумерном дерево-адреску.
[02:31:11.740 --> 02:31:13.740]  Ой, напомни потом эту задачу, что это
[02:31:13.740 --> 02:31:15.740]  шедевр, да? Повеселимся.
[02:31:15.740 --> 02:31:17.740]  Если я его вспомню,
[02:31:17.740 --> 02:31:19.740]  это будет чистое...
[02:31:19.740 --> 02:31:21.740]  Это будет вауда.
