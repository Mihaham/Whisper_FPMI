[00:00.000 --> 00:09.240]  Значит, я напомню, что прошлый раз я начал рассказывать
[00:09.240 --> 00:14.460]  про эллиминацию кванторов, то есть в некоторых моделях
[00:14.460 --> 00:17.960]  любая формула равносильно бескванторная.
[00:17.960 --> 00:21.240]  Это сильно сужает выразительные возможности модели, это
[00:21.240 --> 00:25.600]  важный такой случай, который нужно иметь в виду.
[00:25.600 --> 00:30.800]  И я доказал несколько лем, я их не буду передоказывать,
[00:30.800 --> 00:32.200]  но напомню в процессе.
[00:32.200 --> 00:41.280]  А сегодня я хотел бы рассказать примеры, когда удается
[00:41.280 --> 00:42.960]  эллиминировать кванторы.
[00:42.960 --> 00:50.760]  Ну и вот первый пример относительно простой и тем
[00:50.760 --> 00:54.540]  не менее важный и интересный, он такая модель, рациональное
[00:54.540 --> 00:58.980]  число, сравнение чисел на равенство по величине,
[00:58.980 --> 01:01.740]  сложение и две константы 0 и 1.
[01:01.740 --> 01:04.540]  Ну мы в прошлый раз обсуждали, что автоморфизма у этой
[01:04.540 --> 01:09.060]  модели нет, поэтому если хотеть доказывать невыразимость
[01:09.060 --> 01:12.180]  каких-то кванторов в этой модели, нам нужны какие-то
[01:12.180 --> 01:13.180]  средства.
[01:13.180 --> 01:16.860]  Ну в прошлый раз я проверил, что предикат х равно целый
[01:16.860 --> 01:20.980]  и невыразимый в этой модели, это в общем-то не очень сложно.
[01:20.980 --> 01:23.940]  И мы уже немножко пообсуждали, как там устроены термы
[01:23.940 --> 01:27.740]  и атомарные формулы, это я сейчас тоже напомню.
[01:27.740 --> 01:32.980]  А сейчас я хочу вот доказать, что эллиминация квантора
[01:32.980 --> 01:34.260]  в этой модели возможна.
[01:34.260 --> 01:38.780]  То есть любая формула может, будет эквивалентная,
[01:38.780 --> 01:39.780]  некоторая бескванторная.
[01:39.780 --> 01:43.180]  Более того, эта эллиминация эффективная, по формуле
[01:43.180 --> 01:47.060]  существует алгоритм, который по формуле строит равносильную
[01:47.060 --> 01:48.060]  бескванторную.
[01:48.060 --> 01:50.860]  Ну в частности, если формула замкнутая, то мы получаем
[01:50.860 --> 01:57.940]  алгоритм, который проверяет истинность формулы в этой
[01:57.940 --> 01:58.940]  модели.
[01:58.940 --> 01:59.940]  Почему?
[01:59.940 --> 02:01.820]  Потому что после того, как мы эллиминируем все кванторы,
[02:01.820 --> 02:05.440]  у нас замкнутой формулой у нас вообще переменных
[02:05.440 --> 02:07.900]  не останется, у нас останутся только константы.
[02:07.900 --> 02:10.780]  То есть будут атомарные формулы вида там одно число
[02:10.780 --> 02:13.700]  больше другого или равно другому, мы можем вычислить
[02:13.700 --> 02:17.180]  значение этих атомарных формул и дальше посчитать
[02:17.180 --> 02:20.660]  обычным образом значение булевой формулы, которая
[02:20.660 --> 02:22.620]  у нас получается.
[02:22.620 --> 02:26.460]  Таким образом это дает способ про любую замкнутую формулу
[02:26.460 --> 02:29.180]  в этой модели первого порядка определить истина она или
[02:29.180 --> 02:30.180]  ложна.
[02:30.180 --> 02:31.180]  Алгоритм.
[02:31.180 --> 02:35.100]  Хорошо, а как же мы это будем делать?
[02:35.100 --> 02:39.220]  Ну я напомню сразу, что нам нужно, давайте здесь
[02:39.220 --> 02:47.740]  может быть я напишу, достаточно эллиминировать кванторы.
[02:47.740 --> 02:57.940]  В таких ситуациях, первая ситуация, чуть более общая,
[02:57.940 --> 03:03.180]  у нас есть формула вида, существует y и дальше некоторая
[03:03.340 --> 03:04.340]  кванторная формула.
[03:04.340 --> 03:15.900]  Это я в прошлый раз доказывал, сейчас я доказывать не
[03:15.900 --> 03:18.820]  буду, но там доказательства не очень сложные, нужно
[03:18.820 --> 03:23.140]  пользоваться леммой, а заменю и постепенно эллиминировать
[03:23.140 --> 03:26.380]  кванторы один за другим, начиная с нижних.
[03:26.380 --> 03:27.900]  Но можно усилить этот результат.
[03:27.900 --> 03:40.980]  Достаточно эллиминировать кванторы в формулах, где
[03:40.980 --> 04:00.020]  а это конъюнция атомарных, атомарных формул и отрицание
[04:00.020 --> 04:14.300]  атомарных.
[04:14.300 --> 04:17.380]  Ну я быстро напомню идею этого доказательства, нужно
[04:17.380 --> 04:20.900]  взять формулу такого вида, вот эта формула бескванторная,
[04:20.900 --> 04:23.500]  то есть это булева формула, куда вместо переменных
[04:23.500 --> 04:26.860]  подставили атомарные формулы в нашей сигнатуре.
[04:27.020 --> 04:30.580]  Ну и теперь что мы делаем, мы преобразуем эту булевую
[04:30.580 --> 04:32.140]  формулу к dnf.
[04:32.140 --> 04:34.060]  Мы знаем, что для любой булевой формулы существует
[04:34.060 --> 04:36.620]  равносильная dnf.
[04:36.620 --> 04:42.940]  А дальше пользуемся перестановочностью квантора существования
[04:42.940 --> 04:43.940]  и дизюнции.
[04:43.940 --> 04:55.780]  Я сейчас выпишу соответствующую общезначимую формулу, она
[04:55.780 --> 05:00.540]  нам буквально через 2 минуты понадобится, поэтому лучше
[05:00.540 --> 05:01.540]  ее иметь в виду.
[05:01.540 --> 05:04.740]  Это общезначимая формула, она вообще для любых формул
[05:04.740 --> 05:08.100]  верна, но в частности, если a и b бескванторная, то
[05:08.100 --> 05:12.140]  же верна.
[05:12.140 --> 05:15.940]  Таким образом, когда мы говорим о том, что в модели
[05:15.940 --> 05:18.460]  можно иллюминировать кванторы, достаточно учиться решать
[05:18.460 --> 05:21.940]  задачу вот только для таких формул.
[05:21.940 --> 05:24.140]  Давайте посмотрим, что это за формулы, ну теперь уже
[05:24.300 --> 05:25.540]  применительно к нашей модели.
[05:25.540 --> 05:34.340]  Я напомню, что атомарные формулы в нашей модели имеют
[05:34.340 --> 05:38.580]  вид, ну я прям переписываю те предикаты, которые есть
[05:38.580 --> 05:39.580]  пока что.
[05:39.580 --> 05:50.020]  Что такое отрицание атомарной формулы?
[05:50.900 --> 05:55.260]  Это отрицание строгого неравенства, это понятное
[05:55.260 --> 06:02.620]  дело, не строгое неравенство, а отрицание равенства,
[06:02.620 --> 06:09.940]  ну тут надо написать отрицание, значит не отрицание, а дизюнкцию.
[06:09.940 --> 06:16.980]  Значит t1 строго меньше t2 или t2 строго меньше t1.
[06:17.940 --> 06:22.140]  То есть, если я беру конъюнцию вот таких вот формул, обратите
[06:22.140 --> 06:25.460]  внимание, сейчас я возьму тряпочку, тут лишнее отрицание
[06:25.460 --> 06:26.460]  появилось.
[06:34.460 --> 06:37.940]  У нас, когда мы записываем конъюнцию атомарных формул
[06:37.940 --> 06:41.500]  и их отрицаний, у нас появляются, во-первых, не строгие неравенства,
[06:41.500 --> 06:44.700]  но не строгое неравенство, вы понимаете, оно может
[06:45.420 --> 06:51.100]  быть записано как опять-таки дизюнция строгого неравенства
[06:51.100 --> 06:52.100]  и равенства.
[06:52.100 --> 06:59.260]  Ну и равенство можно выразить через не строгое неравенство,
[06:59.260 --> 07:02.340]  вот строгое неравенство и не строгое, их эквивалентным
[07:02.340 --> 07:04.860]  образом не преобразуешь в случае рациональных
[07:04.860 --> 07:07.380]  чисел, тут возникает некоторая сложность, но мы ее сейчас
[07:07.380 --> 07:10.700]  преодолеем, это не очень большая сложность.
[07:10.700 --> 07:12.820]  Давайте вспомним, как устроены термы.
[07:12.820 --> 07:19.420]  Ну, у нас есть функциональный символ плюс, то есть, что
[07:19.420 --> 07:21.620]  мы можем делать, как мы можем строить терм, можем
[07:21.620 --> 07:24.980]  брать константы, можем брать переменные и складывать
[07:24.980 --> 07:25.980]  их.
[07:25.980 --> 07:28.420]  В результате получится линейная функция, то есть
[07:28.420 --> 07:37.020]  любой терм, это по сути дела линейная функция.
[07:37.020 --> 07:45.020]  С целыми и не отрицательными коэффициентами.
[07:45.020 --> 07:58.220]  Ну, целые и не отрицательные, потому что мы одну переменную
[07:58.220 --> 08:00.500]  можем несколько раз использовать, значит, если она войдет
[08:00.500 --> 08:03.460]  два раза, появится коэффициент два при этой переменной.
[08:03.460 --> 08:06.540]  Ну и константа тоже самая.
[08:06.540 --> 08:11.300]  То есть, по сути дела, теперь смотрите, как избавиться
[08:11.300 --> 08:14.540]  от этих дизъюнций, если мы хотим от них избавиться.
[08:14.540 --> 08:15.540]  Ну, очень просто.
[08:15.540 --> 08:23.980]  Давайте подставим в конъюнцию вот эти вот равносильные
[08:23.980 --> 08:29.740]  выражения вместо отрицания равенства и раскроем скобки.
[08:29.740 --> 08:32.380]  У нас получится конъюнция членов, где иногда бывают
[08:32.380 --> 08:33.380]  дизъюнции.
[08:33.380 --> 08:36.140]  Ну, мы пользуясь дистрибутивностью конъюнции, дизъюнцией раскроем
[08:36.140 --> 08:37.140]  члены.
[08:37.140 --> 08:39.220]  И представим это в виде дизъюнции, уже конъюнции,
[08:39.220 --> 08:40.220]  вот таких вот неравенств.
[08:40.220 --> 08:45.140]  Значит, то есть у нас в конечном счете вот эта вот формула,
[08:45.140 --> 08:48.700]  давайте я ее как-нибудь в звездочку поставлю, чтоб
[08:48.700 --> 08:54.820]  не переписывать, и где-нибудь вот здесь помечу, что звездочка
[08:54.820 --> 09:00.580]  равносильна конъюнции неравенств.
[09:01.420 --> 09:03.620]  Вот каждому терму отвечает своя линейная функция.
[09:03.620 --> 09:25.700]  Ну, давайте я пока ограничусь нестрогими и нестрогими
[09:25.700 --> 09:29.140]  неравенствами, я немножко переусложняю.
[09:29.140 --> 09:32.060]  У нас, видно, вот эта вторая эквивалентность позволяет
[09:32.060 --> 09:36.140]  нам оставить строгое неравенство и равенство, но рассуждение
[09:36.140 --> 09:40.900]  технически, оно будет не сильно проще, поэтому давайте
[09:40.900 --> 09:44.180]  более общий случай рассмотрим, он более показателен, в более
[09:44.180 --> 09:46.580]  сложных примерах он удобнее.
[09:46.580 --> 09:52.340]  То есть фактически мы получаем такой вопрос, у нас есть
[09:52.340 --> 09:57.340]  система неравенств на переменные, переменные принимают
[09:57.340 --> 09:59.820]  рациональные значения, коэффициенты уже произвольные
[09:59.820 --> 10:00.820]  целые.
[10:00.820 --> 10:01.820]  Почему?
[10:01.820 --> 10:04.420]  Потому что у нас же, смотрите, у нас вот есть вот такие
[10:04.420 --> 10:07.500]  термы, значит здесь целый не отрицательный коэффициент,
[10:07.500 --> 10:10.380]  здесь, но когда мы запишем это в виде неравенства вот
[10:10.380 --> 10:13.860]  такого с нулевой правой частью, коэффициент уже
[10:13.860 --> 10:15.660]  может приобрести любой знак, потому что если мы
[10:15.660 --> 10:19.100]  переносим из левой части в правую, знак меняется
[10:19.100 --> 10:21.820]  где-то больше, где-то меньше, значит может получиться
[10:21.820 --> 10:28.820]  отрицательный коэффициент, то есть коэффициенты здесь
[10:28.820 --> 10:29.980]  произвольные целые числа.
[10:29.980 --> 10:33.180]  Но это все, они в любом случае целые числа, у нас есть
[10:33.180 --> 10:39.460]  конечное число таких неравенств, и что нам нужно, посмотрите
[10:39.460 --> 10:42.220]  на формулу, существует такой у, что выполняются
[10:42.220 --> 10:44.780]  все эти неравенства, то есть на х надо смотреть как
[10:44.780 --> 10:48.620]  на параметры, у нас есть система линейных неравенств
[10:48.620 --> 10:52.220]  от одной переменной, но с параметрами, и мы хотим
[10:52.220 --> 10:55.300]  записать условия разрешимости этой системы в терминах
[10:55.300 --> 10:58.900]  параметров, то есть хотим избавиться от у, вот что
[10:58.900 --> 11:02.660]  нам нужно сделать, и записать это без кванторов, ну сейчас
[11:02.660 --> 11:07.020]  станет ясно, что это не так уж сложно, хотя есть технические
[11:07.020 --> 11:08.020]  проблемы.
[11:08.020 --> 11:15.100]  Ну давайте, как это мы сделаем, во-первых, у нас могут быть
[11:15.100 --> 11:20.980]  неравенства, куда у вообще не входит, давайте смотреть
[11:20.980 --> 11:24.900]  на формулу, вот тут конъюнция, чего-то там, в том числе
[11:24.900 --> 11:28.220]  неравенства, куда у не входит, но мы тогда знаем, у нас была
[11:28.220 --> 11:31.420]  такая лемма, что если у нас есть, я где-нибудь здесь
[11:31.420 --> 11:36.740]  запишу, квантор существования по конъюнции, вообще говоря,
[11:36.740 --> 11:47.660]  это неравносильно, в общем случае так неверно, но если
[11:47.660 --> 11:56.580]  а не имеет параметра х, то есть если нет свободного
[11:56.580 --> 12:03.100]  вхождения х, то это уже верно, мы это специально доказывали,
[12:03.100 --> 12:05.660]  это для преобразования к предваренной нормальной
[12:05.660 --> 12:08.260]  форме было нужно, но это вот некоторый вообще факт,
[12:08.260 --> 12:11.500]  поэтому все такие неравенства мы просто сразу вынесем,
[12:11.500 --> 12:14.060]  там уже у нет, и хорошо, у нас будет конъюнция на
[12:14.060 --> 12:18.780]  все остальные условия, никакого квантора тут не нужно, значит
[12:18.780 --> 12:25.700]  останутся только неравенства, куда входит у, следующая
[12:25.700 --> 12:28.100]  техническая проблема может сходить с коэффициентом
[12:28.100 --> 12:33.420]  каким-то целым, если он входит, тут мы делаем такой трюк,
[12:33.660 --> 12:36.580]  входит каким-то целым коэффициентом, давайте поделим неравенство
[12:36.580 --> 12:42.620]  на модуль этого коэффициента, не, даже на сам коэффициент
[12:42.620 --> 12:45.740]  давайте поделим, мы знаем, что если мы делим на положительное
[12:45.740 --> 12:48.140]  число, то неравенство сохраняется, если делим на отрицательное
[12:48.140 --> 12:51.260]  число, то неравенство меняется, то есть в конечном счете
[12:51.260 --> 12:54.180]  мы, да, и потом у нас уже коэффициент при у становится
[12:54.180 --> 12:57.900]  единицы, и мы сделаем еще такую вещь, мы у перенесем
[12:57.900 --> 13:10.340]  в левую часть, а в правой части будем писать что придется, что у нас там получается. То есть у нас
[13:10.340 --> 13:18.840]  будет система такая вот у меньше каких-то линейных уже функций от x, у меньше либо равен каких-то
[13:18.840 --> 13:27.120]  других линейных функций от x. Ну вот я индексы пишу разные, чтобы было понятно, что это вообще
[13:27.120 --> 13:33.440]  говоря разные неравенства. Ну там какой-нибудь ck, t от x, k тоже пробегает. Сколько-то таких
[13:33.440 --> 13:44.200]  неравенств может быть. Ну и сколько-то нистрогих неравенств снизу. Ну пусть будет l. Вот нам нужно
[13:44.200 --> 13:53.200]  про такую систему записать условия разрешимости. Ну, идейна понятная, это метод интервалов,
[13:53.200 --> 14:00.040]  которые в школе изучаются. Вот у нас есть интервалы и нам нужно написать условия, что у них есть
[14:00.040 --> 14:14.920]  пересечение. То есть нам нужно указать какую-то точку. Вот я отметил какие-то случайные точки. И
[14:14.920 --> 14:23.520]  нужно указать вот какую-то, что существует такая точка, что все неравенства вот из второй группы,
[14:23.520 --> 14:28.320]  они вот с этой стороны, причем неравенство из четвертой группы, могут прямо в эту точку попадать.
[14:28.320 --> 14:33.440]  А все неравенства из этой группы справа, но опять-таки из второй группы могут попадать прямо в эту точку.
[14:33.440 --> 14:39.200]  Вот нам нужно такое условие записать. То есть более-менее ясно, что все определяется упорядочением
[14:39.200 --> 14:49.680]  вот этих вот правых частей. Оно при разных значениях x может быть разным, но из этой
[14:49.680 --> 14:55.960]  трудности мы можем какой выход найти. Мы можем сказать, что существует подходящее упорядочение,
[14:56.040 --> 15:00.840]  в котором есть нужный нам интервал. Сколько подходящих упорядочений? Допустим, всего
[15:00.840 --> 15:11.000]  ну там, не знаю, n большое неравенство. Ну и соответственно правых частей. Давайте теперь
[15:11.000 --> 15:18.720]  вот эти вот c и t от x, я для краткости буду обозначать там какие-нибудь, не знаю, r альфа.
[15:18.720 --> 15:24.280]  То есть чтобы не, поскольку у меня четыре группы неравенства, я хочу им дать однородные имена. И
[15:24.760 --> 15:31.040]  теперь я хочу сделать следующее. Я, во-первых, хочу выбрать какую-то перестановку этих правых частей.
[15:31.040 --> 15:45.000]  То есть p это перестановка. А дальше я хочу указать это, я считаю, что я их выстроил в
[15:45.000 --> 15:50.240]  порядке возрастания. И мне теперь надо еще указать знаки. Нужна расстановка знаков.
[15:50.240 --> 16:00.920]  Тут что-то, тут где-то может быть равно. Вот какие-то такие знаки.
[16:00.920 --> 16:09.320]  Сколько всего расстановок знаков? Ну у нас есть n-1 место, и на каждом можем поставить,
[16:09.320 --> 16:15.160]  по сути дела, два знака. Раз я предполагаю, что я упорядочу в порядке возрастания,
[16:15.160 --> 16:20.360]  там может стоять знак строгого неравенства или просто равенства. Значит у нас получается всего
[16:20.360 --> 16:31.480]  n! это количество перестановок умножить на 2 в степени n-1 вариантов. Ну число большое,
[16:31.480 --> 16:37.040]  но конечное. Мы же доказываем, что формула существует, и что мы ее можем выписать алгоритмом.
[16:37.040 --> 16:41.480]  Нас не интересует, что этот алгоритм может работать очень долго. Я рассказываю не самую
[16:41.480 --> 16:46.520]  экономную версию иллюминации квантера в этой модели. Вот здесь как раз можно очень сильно
[16:46.520 --> 16:53.200]  сэкономить, но нас сейчас экономия ресурса не интересует. Алгоритм может работать сколько угодно
[16:53.200 --> 16:58.800]  долго, лишь бы он остановился в какой-то момент и выдал нам ответ. Давайте теперь про каждый знак
[16:58.800 --> 17:08.480]  поймем, что происходит. Просто для каждого варианта упорядочения правых частей запишем свое условие,
[17:08.960 --> 17:23.600]  свое условие разрешимости. Вот у нас есть эти правые части, которые сейчас обозначаю,
[17:23.600 --> 17:29.680]  рытые для экономии. Некоторые могут совпадать в зависимости от рассталовки знаков. То есть я
[17:29.680 --> 17:36.120]  считаю, что я сейчас зафиксировал упорядочение правых частей и знаки между ними. А теперь,
[17:36.120 --> 17:42.200]  что я хочу сказать. Смотрите, у меня появляется вот n таких знаков, они дают n плюс один интервал.
[17:42.200 --> 18:03.080]  Ну от минус бесконечности до r1. Даже давайте 2n плюс 1, вот так вот удобнее. Это несколько
[18:03.080 --> 18:10.320]  расточительно и вам может показаться, что это не нужно и действительно здесь это не нужно. Но в
[18:10.320 --> 18:15.160]  более общей ситуации это может оказаться важным. Я хочу сейчас нарисовать некоторую схему,
[18:15.160 --> 18:22.480]  которая без особых, с модификациями, но сработает в более сложной ситуации. То есть я во-первых
[18:22.480 --> 18:29.960]  выберу вот такие одноточечные интервалы, отвечающие точкам r1, r2 и интервалы между ними. То есть вот этот,
[18:29.960 --> 18:43.240]  потом r1, r2, ну и так далее. То есть у меня получится много таких интервалов. Много,
[18:43.240 --> 18:53.840]  но конечное число 2n плюс 1. И смотрите, давайте возьмем какой-нибудь интервал. Что мы можем сказать?
[18:53.840 --> 18:59.680]  Во-первых, некоторые интервалы могут оказаться пустыми. Например, если r1 равняется r2, то интервал
[18:59.680 --> 19:06.080]  открытый числа, который строго больше r1 и строго меньше r2, он пуст. И ясно, что когда у нас уже
[19:06.080 --> 19:10.720]  записана вот эта вот расстановка знаков, мы эти пустые интервалы сразу можем найти, сразу их
[19:10.720 --> 19:16.640]  выбросить. Поэтому я буду говорить о непустых интервалах. Вот у меня есть непустой интервал,
[19:16.640 --> 19:25.480]  он может из одной точки состоять, неважно. Но если я беру в нем какое-то значение у, то вот эти
[19:25.480 --> 19:31.200]  вот неравенства, истинные или ложные, одновременно для всех у из этого интервала. Потому что, смотрите,
[19:31.200 --> 19:37.160]  все правые части, они либо левее всех этих у, либо правее. Значит, знак неравенства не меняется.
[19:37.160 --> 19:45.760]  Поэтому про каждый интервал я могу сказать, является ли он решением вот такой системы. И условия
[19:45.760 --> 19:52.320]  разрешимости системы – это дизъюнция. Существует такой интервал из этих 2n плюс 1. То есть это не
[19:52.320 --> 19:57.880]  кванторсуществование, а прям дизъюнция. Берем первый интервал. Записываем условия, что вот как у
[19:57.880 --> 20:10.680]  нас расставлены правые части, все они больше, чем наша точка. Ну, такое иногда бывает, иногда не
[20:10.680 --> 20:16.920]  бывает. Но вот такое условие мы записываем. По-моему, следующее. Вот скажем, здесь между r1 и r1 плюс 1,
[20:16.920 --> 20:22.760]  что мы должны написать? Мы вот все вот эти вот должны посмотреть, что вот сюда попадают все неравенства,
[20:22.760 --> 20:30.320]  где y больше либо равен. Вот так вот. А сюда те, которые меньше либо равен. И со знаком равенства у
[20:30.320 --> 20:37.760]  нас особое отношение. Равенство может выполняться только вот в одноточных интервалах. Почему я их
[20:37.760 --> 20:44.080]  выделил? Что если я нахожусь внутри открытого интервала, там все неравенства строгие. Ну,
[20:44.080 --> 20:50.320]  а если я нахожусь на одноточном интервале, то для каких-то правых частей будет выполняться
[20:50.320 --> 20:58.960]  равенство. Надо посмотреть, где это нас устраивает. Таким образом, мы получаем условия. Дизъюнция по
[20:58.960 --> 21:19.080]  порядкам, по расстановкам знаков, по интервалам. Такого предиката, я его напишу сейчас неформально,
[21:19.080 --> 21:35.120]  интервал удовлетворяет системе. А вот это вот условие, давайте теперь смотреть, из чего оно
[21:35.120 --> 21:41.400]  состоит. Что значит, что интервал удовлетворяет системе? Ну, это означает, что должны выполняться
[21:41.400 --> 21:53.480]  неравенства между правыми частями. Что какой-нибудь там c1 меньше, чем c5. C2 больше, наоборот, чем c1. Ну,
[21:53.480 --> 21:58.480]  опять-таки вот, то есть у нас есть для каждого интервала те правые части, которые меньше,
[21:58.480 --> 22:05.800]  которые больше, ну и которые равны в общем случае. И мы должны записать условия, чтобы выполнялось
[22:05.800 --> 22:12.960]  неравенство. Понятно, что нужно. Нужно, чтобы те, которые меньше этого интервала, они попадали бы вот
[22:12.960 --> 22:21.720]  сюда. Те, которые больше, попадали бы сюда или с точностью до равенства. И вот примерно так.
[22:21.720 --> 22:30.760]  Может быть, для простоты нестрогое неравенство нужно было убрать, тогда было бы проще. Тогда
[22:30.760 --> 22:36.840]  появились бы равенства, все равно это требовало проверки отдельной. Большого выигрыша нет. Но вот
[22:36.840 --> 22:42.800]  здесь, смотрите, дизъюнция, вообще говоря, очень большая, но все равно получается n факториал умножить
[22:42.800 --> 22:49.240]  на 2 в степени n-1 умножить на 2n плюс 1 членов в этой дизъюнции. А каждая дизъюнция это неравенство.
[22:49.240 --> 22:59.520]  Сколько этих неравенств? Вот если у нас всего n, что у нас фактически есть? Мы разбили наши n правых
[22:59.520 --> 23:07.920]  частей. Ну вот, в самом общем случае, мы разбили их на три группы. Равно, меньше, больше. В самом
[23:07.920 --> 23:18.000]  общем случае. И мы должны записать соответствующие неравенства. То есть, написать n-1, да, и в сумме это
[23:18.000 --> 23:29.280]  должно давать n большое. Мы должны записать вот столько строй их неравенств вот здесь. Столько
[23:29.280 --> 23:44.560]  строгих неравенств, наоборот, вот это вот сюда. Ну и для нестрогих неравенств нам нужны еще вот
[23:44.560 --> 23:51.160]  неравенства, то есть, что те, которые нестрогие, у нас еще попадают вот сюда, там, ну что-то порядка,
[23:51.160 --> 23:57.640]  там, n квадрат. На самом деле нужны пары, конечно, ну пусть будет n квадрат. 2 неравенств, которые
[23:57.640 --> 24:07.960]  нестрогие. Ну видно, что если это в сумме n, каждый из этих слагаемых точно не больше там, чем 2 n
[24:07.960 --> 24:15.800]  квадрат. Ну и значит, у нас опять-таки длина вот этого система неравенств, которую мы записываем
[24:15.800 --> 24:22.560]  в конъюнцию, она будет конечной. Нас волнует конечность сейчас. Мы за эффективностью не следим. Тут
[24:22.560 --> 24:28.240]  можно выиграть очень много, потому что неравенства не сравниваются по транзитивности, мы можем много
[24:28.240 --> 24:33.440]  чего не писать в эти дизюнкции и конъюнции, но давайте сейчас про это не думать, просто вот таким
[24:33.440 --> 24:43.240]  самым простейшим способом будем действовать. Ну а что означает конкретное неравенство, ну вот скажем
[24:43.240 --> 24:50.600]  вот такое. Заметьте, что тут у нас уже коэффициенты рациональные. Я напомню, что когда мы приводили к
[24:50.600 --> 25:02.680]  этим неравенствам, мы еще делили. Ну понятно, что если мы умножим на НК знаменателей, это положительное
[25:02.680 --> 25:20.200]  число, мы получим соответствующее неравенство с целыми коэффициентами. Ну а теперь надо
[25:20.200 --> 25:24.680]  в обратную сторону перейти к атомарным формулам. У нас есть неравенство с целыми коэффициентами,
[25:24.680 --> 25:29.440]  значит если коэффициент вдруг отрицательный, мы эту переменную переносим в правую часть, если
[25:29.440 --> 25:35.400]  положительные оставляем, ну вот так вот перебросим, чтобы неравенство превратилось в сравнение двух
[25:35.400 --> 25:41.120]  линейных функций с неотрицательными целыми коэффициентами. А это мы видели, вот там вот у нас
[25:41.120 --> 25:49.000]  прям мы специально написали, что это в точности то, что нам предоставляет наша модель. Мы можем
[25:49.000 --> 25:53.000]  записать конъюнцию таких атомарных формул, то есть каждое такое неравенство это атомарная
[25:53.000 --> 26:00.200]  формула, ну или ее отрицание. Если меньше либо равно, то это надо, значит, ставить отрицание к
[26:00.200 --> 26:05.920]  строгому неравенству. Ну если равно, у нас такое есть. Если отрицание равенства, ну мы должны
[26:05.920 --> 26:12.160]  записать это в виде дизюнции. В любом случае у нас получается булева формула. У нас получается
[26:12.160 --> 26:18.600]  булева формула без всяких кванторов. Заметьте, что это формула очень простого вида. Дизюнция,
[26:18.600 --> 26:23.800]  дизюнция, дизюнция, потом конъюнции, ну может быть некоторые члены конъюнции сами по себе
[26:23.800 --> 26:28.840]  дизюнции, когда нам нужно выразить в нашей модели нестрогое неравенство. Я мог бы добавить нестрогое
[26:28.840 --> 26:34.600]  неравенство в модель, но это принципиально бы ничего не изменило. Рассуждение от этого сильно
[26:34.600 --> 26:42.680]  проще бы не стало. Ну вот. И что? И получилась бескванторная формула, которая равносильна
[26:42.680 --> 26:48.280]  исходной, потому что это и есть условия разрешимости нашей системы неравенства линейного. То есть мы
[26:48.280 --> 26:53.320]  избавились от квантора существования. Ну и полемя, которое я в прошлый раз доказал, означает, что мы
[26:53.320 --> 26:59.600]  можем избавиться от квантора существования для любой формулы в этой модели. То есть вот такое
[26:59.600 --> 27:05.760]  доказательство. Видно, что в сущности во многом оно держится на том, что наши предикаты устроены
[27:05.760 --> 27:11.560]  достаточно просто. Они задают линейный порядок, ну там с точностью строге неравенство или нестроге,
[27:11.560 --> 27:19.000]  и мы это используем для эллиминации. То есть вот то, что написано вот здесь, вот эти попарные
[27:19.000 --> 27:30.040]  сравнения. Это и есть метод удаления переменной при решении уравнений. При решении неравенства
[27:30.040 --> 27:35.800]  то же самое есть. Мы можем удалять, если допустим все неравенства нестрогие, так проще понять. Мы
[27:35.800 --> 27:43.760]  можем удалять переменную, если мы запишем верхние оценки на эту переменную, нижние оценки. Полученная
[27:43.760 --> 27:50.160]  система неравенства в смысле разрешимости. Разрешимость эквивалентна разрешимости системы
[27:50.160 --> 27:54.920]  неравенства на правые части. Все нижние оценки должны быть не больше всех верхних. Если неравенства
[27:54.920 --> 28:00.320]  нестрогие, этого в точности достаточно. Если неравенства строгие, там начинаются нюансы. Нужно вот
[28:00.320 --> 28:06.320]  учесть, что если у нас интервал сжался в точку, то строгого неравенства там не добьешься. Поэтому
[28:06.320 --> 28:14.360]  я написал вот такую более сложную конструкцию. Я сейчас объясню, почему я так сделал.
[28:14.360 --> 28:28.160]  Для этой модели мы справились. Модель правда очень игрушечная. Давайте посмотрим на уже не
[28:28.160 --> 28:34.520]  игрушечную модель, а такую, которая действительно интересна многим, а именно на алгебрутарского.
[28:34.520 --> 28:57.080]  Я напомню, что алгебрутарского это такая модель. Это действительные числа. Это действительные
[28:57.080 --> 29:03.080]  числа. Те же самые сравнения. Но теперь, что существенно, у нас есть еще и умножение. И
[29:03.080 --> 29:09.080]  константы пусть будут 0 и 1. То есть основная разница состоит в том, что у нас действительные
[29:09.080 --> 29:14.600]  числа нам нужны, чтобы, например, существовали квадратные корни. Но добавлена операция умножения.
[29:14.600 --> 29:23.320]  Вот это очень существенно. И на самом деле, как мы позже поймем, если заменить здесь, ну прорациональные
[29:23.320 --> 29:28.400]  числа я говорить не буду, это тоже правда. Но если заменить здесь, скажем, на целые, на натуральные
[29:28.400 --> 29:34.120]  числа я буду менять. Это то, что называется модель вифметика. С ней все гораздо хуже, чем с алгебритарского.
[29:34.120 --> 29:57.160]  А вот в этой вот алгебре иллюминация кванторов возможна. Это называется теорема Зайденберга
[29:57.160 --> 30:04.560]  Ротарского. Возможность иллюминации кванторов в этой алгебре. И доказательство более-менее следует
[30:04.560 --> 30:19.760]  вот этим вот пути. Единственная разница теперь какая. У нас вот тут были линейные функции,
[30:19.760 --> 30:28.520]  а теперь у нас есть умножение. Поэтому у нас теперь будут многочлены. И в многочленах уже не
[30:28.520 --> 30:34.040]  так просто делить, потому что мы тогда перейдем к рациональным функциям. Поэтому на самом деле у
[30:34.040 --> 30:46.240]  нас получится вот что. У нас получится, когда мы будем преобразовывать вот так атомарные формулы,
[30:46.360 --> 31:09.480]  у нас получится система полинамиальных уравнений. Я для краткости всю ее не выписываю. Тут такие же
[31:09.480 --> 31:19.240]  наборы переменных. Просто неравенства могут быть строгими, могут быть нестрогими. Ну если бы тут
[31:19.240 --> 31:27.440]  были строгие равенства всюду, множество решений полинаминой системы уравнений. Да, а коэффициенты
[31:27.440 --> 31:38.280]  целые тоже. Ну по той же самой причине, что и раньше. Если бы у нас были только равенства,
[31:38.280 --> 31:44.440]  такие бы множества назывались алгебраическими множествами ВРН. Ну N это общее количество
[31:44.440 --> 31:51.360]  переменных. А если неравенства, они называются полуалгебраическими множествами. И в сущности,
[31:51.360 --> 31:54.880]  вот с точностью до той леммы, про которую я говорил, что можно иллюминировать только квантор
[31:54.880 --> 32:00.720]  существования, навешанный на формулы, которые являются конъюнциями атомарных и их отрицаний,
[32:00.720 --> 32:07.160]  мы получаем, что нам теорема Зайденберг-Атарского в сущности утверждает следующее, что если я возьму
[32:07.420 --> 32:12.400]  проекцию полуалгебраического множ六, то проекцию, это как раз взятие квантора существования. То есть
[32:12.400 --> 32:17.380]  вот у меня написано полуалгебраическое множество. Теперь я хочу взять его проекцию. То есть
[32:17.380 --> 32:22.820]  написать условия, что есть такой у, который вот попадает под эту точку. Так вот что
[32:22.820 --> 32:27.280]  оно тоже полуалгебр Again гибр itч. То мы можем это записать в виде неравенств. Т и probability
[32:28.280 --> 32:34.040]  что모, как раньше нам нужно решать параметрическую систему неравенств и уравнений.の что
[32:34.040 --> 32:37.680]  уравнения можно задать двумя неравенствами, от одной
[32:37.680 --> 32:38.680]  переменной.
[32:38.680 --> 32:41.840]  Но только теперь неравенство, соответственно, нелинейная
[32:41.840 --> 32:46.160]  функция, она многочленная, и это, понятное дело, сложнее.
[32:46.160 --> 32:49.920]  Но тем не менее, вы знаете, вас в школе учили в некоторых
[32:49.920 --> 32:51.960]  случаях, как с этим справляться.
[32:51.960 --> 33:07.760]  Вот я сейчас напишу пример, который вам должен быть
[33:07.760 --> 33:08.760]  известен.
[33:08.760 --> 33:14.440]  Вот у нас есть уравнение параметрическое с параметрами
[33:14.440 --> 33:19.720]  p и q, x квадрат плюс px плюс q равно нулю.
[33:19.720 --> 33:22.440]  Как написать условия разрешимости этого уравнения?
[33:22.440 --> 33:25.920]  Теорема Зейденберг-Гатарского говорит нам, что можно написать
[33:25.920 --> 33:28.960]  алгебрайческие условия с неравенствами на коэффициенты
[33:28.960 --> 33:29.960]  p и q.
[33:29.960 --> 33:34.040]  Ну и да, вы знаете, как эти неравенства записать.
[33:34.040 --> 33:39.240]  Нужно, чтобы p квадрат минус 4q было не отрицательным.
[33:39.240 --> 33:44.840]  То есть вся теорема Зейденберг-Гатарского обобщает решение квадратных
[33:44.840 --> 33:45.840]  уравнений.
[33:45.840 --> 33:48.800]  Ну те, кто знают про метод штурма, по-моему, не знают,
[33:48.800 --> 33:51.720]  но в стихе, к сожалению, никто его не учит, никто
[33:51.720 --> 33:52.720]  ему не учит.
[33:52.720 --> 33:56.640]  Поднимите руки, кто знает, как устроен метод штурма
[33:56.640 --> 34:00.200]  определения количества корней многочленов на отрезке.
[34:00.200 --> 34:02.320]  То есть у взадного многочленов действительно имеют коэффициент.
[34:02.320 --> 34:04.640]  У взадного отрезок нужно сказать, сколько корней
[34:04.640 --> 34:05.640]  на этом отрезке.
[34:05.640 --> 34:10.000]  Ну вот не знаете, да, и я вас этому не учу в алгебре.
[34:10.000 --> 34:11.880]  Это можно было бы делать в курсе алгебры, если бы
[34:11.880 --> 34:14.560]  он был чуть длиннее, а так не помещается.
[34:15.240 --> 34:19.040]  Потому что там метод штурма очень близок к алгоритму
[34:19.040 --> 34:20.040]  Ивклида.
[34:20.040 --> 34:22.880]  Там на самом деле нужно немножко модифицировать алгоритм
[34:22.880 --> 34:26.040]  Ивклида, начитать последовательность многочленов, посмотреть,
[34:26.040 --> 34:29.040]  как меняются их знаки на концах интервала и по количеству
[34:29.040 --> 34:31.760]  изменений знаков сказать, сколько корней.
[34:31.760 --> 34:34.160]  Но это вот некоторая такая хитрая вещь.
[34:34.160 --> 34:39.400]  И это тоже частный случай, потому что понятно, примерно
[34:39.400 --> 34:40.400]  про то же самое.
[34:41.240 --> 34:43.800]  Когда мы хотим сказать, что у нас количество корней
[34:43.800 --> 34:44.800]  бескрадностей.
[34:44.800 --> 34:48.320]  Когда мы хотим сказать, что на отрезке есть ровно
[34:48.320 --> 34:52.400]  три корня, это означает, что существует x1, x2, x3, такие
[34:52.400 --> 34:56.680]  что они все разные, там x1 меньше, x2 меньше, x3, и каждый
[34:56.680 --> 34:57.680]  является корнем.
[34:57.680 --> 35:00.760]  Ну и еще, что они попадают на отрезок еще не равенство.
[35:00.760 --> 35:04.160]  То есть, ясно, что это можно записать в виде условия
[35:04.160 --> 35:05.160]  алгебритарского.
[35:05.920 --> 35:10.480]  Ну а в общем случае нужно что-то сделать, и это что-то
[35:10.480 --> 35:12.960]  очень напоминает то, что я делал.
[35:12.960 --> 35:15.880]  Потому что, смотрите, каждый многочлен, что мы знаем про
[35:15.880 --> 35:19.720]  многочлен в степени n, что у него не больше, чем n корней.
[35:19.720 --> 35:21.660]  То есть нам нужно опять-таки представить себе такую
[35:21.660 --> 35:25.640]  мысль напрямую, действительно, на ней отметить возможные
[35:25.640 --> 35:30.600]  корни и расставить знаки, потому что с многочленами
[35:30.600 --> 35:34.760]  что-то, вы знаете, бывает такая история, что корень
[35:34.760 --> 35:37.240]  у него есть, а знаки тем не менее по обеим частям
[35:37.240 --> 35:38.240]  от корня одинаковые.
[35:38.240 --> 35:43.480]  То есть нам нужно расставить знаки, и вот нужно найти
[35:43.480 --> 35:49.960]  все возможные способы, все области на нашей переменной,
[35:49.960 --> 35:52.600]  какие знаки можно получать.
[35:52.600 --> 36:00.280]  Это прямая y, и конечно эти области зависит от x, но
[36:00.280 --> 36:02.240]  зависит они будут алгебраическим образом.
[36:02.240 --> 36:05.520]  Вот тут начинаются технические сложности, и я не буду рассказывать
[36:05.520 --> 36:09.160]  технические доказательства тюремы Зейденберг-Атарского.
[36:09.160 --> 36:11.600]  Идея примерно та же, что и была, только в случае
[36:11.600 --> 36:14.080]  линейных функций мы сразу могли писать сравнения
[36:14.080 --> 36:16.120]  между линейными функциями.
[36:16.120 --> 36:18.720]  А здесь немножко сложнее, нам не хватит тех функций,
[36:18.720 --> 36:20.560]  которые у нас есть изначально.
[36:20.560 --> 36:23.080]  Мы должны это множество расширить.
[36:23.080 --> 36:26.800]  Мы должны брать для этих функций производные.
[36:26.800 --> 36:29.040]  Зачем нужны производные, можно, например, понять вот
[36:29.640 --> 36:30.640]  здесь.
[36:30.640 --> 36:34.160]  Как определить, что корень именно такой, но это значит,
[36:34.160 --> 36:37.100]  что у него вторая производная положительная.
[36:37.100 --> 36:40.480]  Нам нужно брать многочлены с остатком.
[36:40.480 --> 36:43.340]  Делить многочлены с остатком.
[36:43.340 --> 36:46.160]  Ну это техническое требование, но нужно, тут возникает
[36:46.160 --> 36:47.560]  еще одна сложность.
[36:47.560 --> 36:50.280]  Я Вас учил, что нельзя делить многочлены с целымию коэффициентами
[36:50.280 --> 36:53.340]  с остатком, но будем делить модифицированным образом,
[36:53.340 --> 36:55.920]  потому что деление многочленов с целыми коэффициентами
[36:55.920 --> 37:05.420]  остаткам возможно, если у нас каждый коэффициент делимого делится на достаточно большую степень
[37:05.420 --> 37:11.440]  старшего коэффициента делителя. Потому что где возникает дробь, когда мы смотрим,
[37:11.440 --> 37:15.920]  вот мы делим, и у нас возникает необходимость поделить на старший коэффициент делителя.
[37:15.920 --> 37:21.760]  Но если, эту трудность как можно преодолеть? Ну давайте, нам будут нужны только знаки этих
[37:21.760 --> 37:26.040]  многочленов. Поэтому давайте умножим на большое положительное число, на старший коэффициент
[37:26.040 --> 37:31.800]  делителя в очень большой степени. Ну столько сколько у нас может быть шагов при делении столбиком.
[37:31.800 --> 37:37.120]  И тогда деление с остатком станет возможным. То есть такое модифицированное деление с остатком.
[37:37.120 --> 37:44.120]  Плюс нужно уметь из многочлена выделять старший член и остаток. То есть нужно уметь делить на
[37:44.120 --> 37:50.720]  части. Старший член и остаток. Это тоже понятно почему. Потому что вообще на х в кубе, скажем,
[37:50.720 --> 37:55.800]  плюс один и минус х в кубе плюс один, ведут себя по-разному, когда х стремится к бесконечности.
[37:55.800 --> 38:00.400]  Один стремится к плюс бесконечности, другой к минус бесконечности. Ясно, что нам нужно это знать,
[38:00.400 --> 38:05.960]  потому что у нас будут интервалы, и нам знак на конце интервала при больших положительных х,
[38:05.960 --> 38:11.000]  при больших отрицательных х нужен. Поэтому нам это нужно брать, и нужно брать остаток,
[38:11.000 --> 38:19.080]  чтобы продолжать манипуляции. То есть это много таких операций, их нужно все выполнять. Причем,
[38:19.080 --> 38:24.600]  чтобы можно было считать знаки всех многочленов, которые получаются, мы должны эти операции
[38:24.600 --> 38:29.920]  интерировать. То есть мы взяли исходные многочлены, поделили их с остатком как только можно,
[38:29.920 --> 38:35.160]  разделили на старшие члены на все, что осталось, взяли производные, получили новое множество
[38:35.160 --> 38:41.240]  многочленов, мы должны к нему опять применить это дело. Процесс конечный, потому что степень
[38:41.240 --> 38:47.520]  многочленопределений с остатком уменьшаются, при взятии производной тоже уменьшаются. Ну и когда
[38:47.520 --> 38:52.480]  мы выделяем старший член, ну тоже вот мы выделили старший член, то что осталось имеет меньшую степень,
[38:52.480 --> 38:59.080]  а из старшего члена уже старший член заново не выделишь. Это он и будет. Поэтому этот процесс
[38:59.080 --> 39:04.840]  конечный, он очень большой, он гораздо больше. Тут я написал с очень большим запасом, это
[39:04.840 --> 39:10.120]  эллиминацию квантора в модели рациональных чисел со сложением можно выполнить более эффективно,
[39:10.120 --> 39:16.820]  а в случае алгебритарского вот не видно способа как избежать вот того, что мы должны выписать кучу-
[39:16.820 --> 39:23.000]  кучу многочленов, написать на них вот условия, что там один больше нуля, другой там меньше нуля,
[39:23.000 --> 39:30.000]  тогда мы можем для исходных многочленов определить знаки и проверить выполняется ли для вот такой
[39:30.000 --> 39:34.480]  расстановки знаков для всех многочленов выполняется ли наша система не равна. Ну и опять-таки вот
[39:34.480 --> 39:42.720]  написать вот такую вот вещь. Там будут всюду конечные дизюнкты. Так, сейчас нужно сделать перерыв,
[39:42.720 --> 39:50.720]  я буквально вот два слова закончу. Конечные, но их будет очень много. Давайте я еще все-таки
[39:50.720 --> 39:58.920]  один комментарий про алгебритарского сделаю после перерыва, а сейчас перерыв. Потому что они
[39:58.920 --> 40:07.120]  уже сейчас особо нужны не будут. Я хотел еще одну вещь сказать про алгебритарского. Напомню,
[40:07.120 --> 40:17.200]  что задачи элементарной геометрии выражаются как утверждение в алгебритарского. И алгоритм
[40:17.200 --> 40:21.760]  лиминации кванторов дает алгоритм решения любой задачи элементарной геометрии. Берете там
[40:21.760 --> 40:31.120]  задачи из EG и запускаете этот алгоритм. Но есть проблема. Вы видели, ну я так попытался в очень
[40:31.120 --> 40:36.920]  общих чертах описать как устроен алгоритм. Истребление одного квантора стоит нам дорого. Мы
[40:36.920 --> 40:41.840]  добавляем очень большое количество условий. Потому что у нас возникает большое количество
[40:41.840 --> 40:46.800]  многочленов, мы должны на них написать неравенство. И это мы истребили только один квантор. А если их
[40:46.800 --> 40:52.400]  несколько, это нужно повторить несколько раз. И получается совсем плохая оценка,
[40:52.400 --> 40:59.280]  которая была у Тарского. Она вообще там башня степеней двоек. Это очень плохо. Можно улучшить
[40:59.280 --> 41:05.680]  до 2 в степени 2 в степени n, где n размер формулы. Это сравнительно несложно. Но дальше уже не очень
[41:05.680 --> 41:11.160]  то улучшишь. А нет, извините, по-моему башня из трех степеней двоек это вот иллюминация одного
[41:11.160 --> 41:17.560]  квантора два в степени два в степени. На самом деле потом Коллинс улучшил иллюминацию одного
[41:17.560 --> 41:26.360]  квантора до просто однократной экспоненты. И это уже довольно сложная вещь. Это я не буду вам
[41:26.360 --> 41:32.080]  объяснять. Я и сам подробности не все знаю. Но что существенно? Существенно, что доказано,
[41:32.080 --> 41:37.560]  это утверждение доказано, что никакой алгоритм не может разрешать алгебру Тарского быстро.
[41:37.560 --> 41:43.320]  Любой алгоритм, который по формуле Валгебритарского определяет истинно или ложно, по замкнутой формуле,
[41:43.320 --> 41:49.920]  он работает за время, которое экспоненциально велико по сравнению с размером формулы. Очень
[41:49.920 --> 41:56.120]  много утверждений в теории сложности носит условный характер, что если там что-то выполняется,
[41:56.120 --> 42:01.920]  то тогда нет хорошего алгоритма. Вот то, что я сказал, это безусловное утверждение. Это просто так,
[42:02.080 --> 42:10.200]  вот такого алгоритма нет, это доказано. Уже 50 лет как доказано. Поэтому надежда решать все задачи
[42:10.200 --> 42:15.080]  геометрии с помощью алгоритмов, разрешающих алгебру Тарского, она иллюзорна. Даже алгоритм
[42:15.080 --> 42:19.840]  Коллинза, который существенно быстрее. Экспериментировали люди на компьютерах,
[42:19.840 --> 42:26.920]  где он работает, но он ломается на очень простых формулах. То есть я не думаю, что какую-нибудь
[42:26.920 --> 42:31.400]  сколь-нибудь интересную теорему из элементарной геометрии он сможет доказать. Может быть какие-нибудь
[42:31.400 --> 42:41.000]  самые простые сможет, но вряд ли очень много. Я не знаю, что медианы пересекаются в одной точке,
[42:41.000 --> 42:49.520]  он почти заведомо сможет доказать. Что-нибудь менее очевидное. Люди от геометрии знают,
[42:49.520 --> 42:54.080]  что задач по геометрии очень много, их каждый год придумывают десятки, если не сотни. И
[42:54.080 --> 43:01.400]  люди каждый раз придумают какой-то свой способ решения. Это связано с тем, что хорошего алгоритма,
[43:01.400 --> 43:07.160]  который работает одинаково для всех задач элементарной геометрии, просто нет. Это то,
[43:07.160 --> 43:12.920]  что я хотел сказать про алгебру Тарского. Дальнейших подробностей, к сожалению, уже сказать не смогу.
[43:12.920 --> 43:21.200]  Я хочу еще один пример привести, важный. Это называется арифметика Презбургера. Я уже,
[43:21.200 --> 43:28.080]  по-моему, про нее говорил в прошлый раз. Сейчас я модель немножко по-другому сформулирую. Это вот
[43:28.080 --> 43:35.680]  почти что такая модель, только мы заменяем рациональные числа на целые и добавляем
[43:35.680 --> 43:41.600]  предикаты сравнимости по модулю N. Я напомню, что если оставить вот такую сигнатуру и заменить на
[43:41.600 --> 43:47.920]  целые числа, там кванторы нельзя иллюминировать, потому что есть формула, которая выражает предикат
[43:47.920 --> 43:59.400]  х-четное число. Существует такой у, что х равнится у плюс у. А если добавить предикат сравнимости по
[43:59.400 --> 44:09.280]  модулю N, то такая уже теория допускает, вот такая модель, извините, допускает иллюминацию кванторов.
[44:09.280 --> 44:16.360]  И в сущности там все очень похоже на то, что я рассказывал. В чем возникает дополнительная
[44:16.360 --> 44:22.440]  сложность? Когда мы преобразовали систему линейных нераз, нам нужно было в некоторый момент делить,
[44:22.440 --> 44:28.480]  но в целых числах делить уже нельзя. И выход такой, мы должны брать остатки по модулю, вот у нас есть
[44:28.480 --> 44:33.240]  какой-то коэффициент, на который мы хотим поделить, ну точнее, наименьший общекратный этих коэффициентов.
[44:33.240 --> 44:39.960]  Мы должны разбить все целые числа на арифметические прогрессии в зависимости от остатка по этому модулю.
[44:39.960 --> 44:46.320]  Арифметическая прогрессия, по сути дела, тоже такое линейное множество, а плюс bt, где t это какой-то
[44:46.320 --> 44:51.400]  целочистный параметр, и вот на этот целочистный параметр мы уже можем писать неравенство. То есть
[44:51.400 --> 44:57.600]  получается так, что нам нужно еще условия, какой именно остаток там по какому-то конкретному
[44:57.600 --> 45:06.400]  константному модулю возникает. Это приводит к увеличению формулы, и здесь опять-таки можно доказать,
[45:06.400 --> 45:11.480]  что арифметика Презбургера, хотя разрешима, но разрешается плохо, все алгоритмы работают
[45:12.440 --> 45:18.800]  Это некоторые важные факты для логики, что вот модели вроде бы разрешимы, есть алгоритмы их
[45:18.800 --> 45:25.160]  разрешающие, но все они работают долго, на этом основаны разные другие результаты такого типа,
[45:25.160 --> 45:32.960]  но это я рассказывать не буду, и в параллельном курсе теория алгоритма этого вам тоже не расскажут,
[45:32.960 --> 45:38.000]  на самом деле это естественная тема для следующего семестра, когда вам будут рассказывать про
[45:38.000 --> 45:44.920]  сложность с ограничениями на ресурсы, ну там на время, вычисления или на память, но насколько
[45:44.920 --> 45:52.280]  я знаю, и там про это не рассказывают, это все-таки основную технику рассказывают уже несколько лет,
[45:52.280 --> 46:00.240]  как в этих курсах, то что называется диагонализация, но технические подробности как формулами Валги
[46:00.240 --> 46:06.320]  Бритарского задать произвольные вычисления достаточно длинные, они все-таки, ну там просто
[46:06.320 --> 46:11.600]  много технических подробностей, это надо все аккуратно записать, на это не остается время, то есть
[46:11.600 --> 46:17.200]  идея в общем такая, что формулой Валги Бритарского вы можете написать утверждение, что данные там,
[46:17.200 --> 46:24.440]  машины Тюринга у вас уже появились, нет? Нет, ну появятся, в общем данная программа работает там
[46:24.440 --> 46:31.280]  за данное время T и дает такой-то ответ, вот по длине записи этой программы в разумной модели
[46:31.280 --> 46:35.440]  вычисления можно написать формулу Валги Бритарского, которая не сильно длиннее,
[46:35.440 --> 46:41.520]  которая равносильна этому утверждению, то есть идея примерно такая, что вообще результат любого
[46:41.520 --> 46:46.120]  вычисления, причем долгого вычисления, вы можете представить в виде формулы Валги Бритарского,
[46:46.120 --> 46:52.560]  это совершенно неочевидный факт, потому что, ну как это сделать, как хотя бы закодировать очень
[46:52.560 --> 47:00.920]  большое число, но оказывается есть трюк, я тоже сейчас про это уже рассказывать не буду, можете
[47:00.920 --> 47:08.920]  где-нибудь попробовать посмотреть, как это делается, а я хочу перейти к следующей теме, она тоже отчасти
[47:08.920 --> 47:14.640]  связана с выразимостью, но немножко другая, значит это то, что называется элементарная эквивалентность
[47:14.640 --> 47:41.480]  теории, только не теория модели, значит давайте я как-нибудь обозначу, вот тут уже надо говорить
[47:41.480 --> 47:46.220]  слово теория, что такое элементарные теории модели, я напомни, что теории я называю множество
[47:46.220 --> 47:51.800]  замкнутых формул, произвольные, а что такое элементарная теория модели, это формулы первого
[47:51.800 --> 47:58.400]  порядка замкнутые, которые в этой модели истинны, то есть в каком-то смысле, это все утверждения о
[47:58.400 --> 48:05.040]  модели, которые истинные утверждения о модели, которые можно записать формализме первого порядка,
[48:05.040 --> 48:10.500]  ну в каком смысле нас это элементарная теория интересует, мы хотим конечно различать, какие
[48:10.500 --> 48:15.420]  утверждения истины, какие ложны в данной модели. И вот примерно это нам и нужно.
[48:15.420 --> 48:26.260]  Теперь вот мы говорим, что модель М1, я даже не знаю, как записать эту эквивалентность.
[48:26.260 --> 48:37.220]  Я потом придумаю какое-нибудь лучшее обозначение. Элементарный эквивалент на
[48:37.220 --> 48:50.900]  две модели, если их элементарные теории просто равны. Любая формула у модели,
[48:50.900 --> 48:54.020]  естественно, должны быть в одинаковой сигнатуре, иначе вообще непонятно,
[48:54.020 --> 48:59.620]  почему бы формулы были равны. Берем формулу, интерпретируем ее в модели М1,
[48:59.620 --> 49:06.300]  интерпретируем ее в модели М2. И обязательно, если формула истина в одной модели,
[49:06.300 --> 49:08.820]  она обязательно истина в другой модели. Если она ложна в одной модели,
[49:08.820 --> 49:13.220]  она обязательно ложна в другой модели. То есть множество истинных формул просто совпадают.
[49:13.220 --> 49:25.400]  Ну это по определению. Это определение такое. То есть мы говорим, что модели элементарно
[49:25.400 --> 49:30.460]  эквивалентны. Примеры элементарно эквивалентных моделей очень легко построить. Представьте,
[49:30.460 --> 49:35.900]  что модели изоморфные, существует изоморфизм. Вот так, как мы в прошлый раз писали автоморфизм,
[49:35.900 --> 49:42.380]  мы можем также определить изоморфизм. И ясно, что изоморфизм, это практически пересказ доказательства,
[49:42.380 --> 49:47.780]  который был в прошлый раз, он сохраняет значение замкнутых формул. Ну и поэтому, конечно, они
[49:47.780 --> 49:57.260]  элементарно эквивалентны. Но элементарная эквивалентность гораздо слабее изоморфизма. У
[49:57.260 --> 50:04.300]  нас есть много примеров элементарно эквивалентных теорий, которые не изоморфны. И в сущности у нас
[50:04.300 --> 50:15.740]  такие примеры появятся. У них может быть даже разная мощность. Ну вот, например, ой, про эту
[50:15.740 --> 50:21.940]  модель я уверен, что она элементарно эквивалентна. Я, пожалуй, не возьмусь вам это доказывать. То есть
[50:21.940 --> 50:27.740]  я могу, конечно, посмотреть, как это умные люди делают, но, по-моему, там без очень сильной возни
[50:27.740 --> 50:34.900]  не обойтись. То есть не то, чтобы она совершенно невозможна, но я не вижу простого способа все это
[50:34.900 --> 50:40.860]  сказать. То есть более-менее очевидно, что если я там вместо Q поставлю R, то будет то же самое. Ну
[50:40.860 --> 50:46.300]  когда у вас есть неравенство и уравнение с целыми коэффициентами, то какая вам разница
[50:46.300 --> 50:51.180]  действительно или рациональные числа? То есть это некоторый такой факт, который легко доказать,
[50:51.180 --> 50:57.260]  что если у вас есть решение, то обязательно такой система неравенства есть и решение с рациональными
[50:57.260 --> 51:03.900]  коэффициентами, но нам нужно чуть больше, нам нужно, чтобы любые формулы были равны. И там есть свои
[51:03.900 --> 51:11.500]  сложности. Я сейчас не хочу особо в это вдаваться. Ну, для более простых моделей существенно что,
[51:11.500 --> 51:16.460]  что Q и R отличаются даже по мощности. Они не то что не изоморфные, там носители имеют разную
[51:16.460 --> 51:22.940]  мощность. У нас нет шансов построить объект между носителями этих моделей. И вот такие примеры у
[51:22.940 --> 51:32.980]  нас будут, но более простые. От чего? Элементарная теория по определению. У вас есть модель и мы
[51:32.980 --> 51:38.060]  рассматриваем все формулы первого порядка, замкнутые, которые в этой модели истины. Это
[51:38.060 --> 51:52.700]  просто по определению. Давайте я как-нибудь это напишу. А то я написал элементарную эквивалентность,
[51:52.700 --> 52:08.220]  а само это не написал. Значит, phi истинно в этой модели. Ну и phi замкнуто. Мы для простоты
[52:08.220 --> 52:17.020]  будем ограничимся замкнутыми формулами, не замкнуя предикаты какие-то, задают это сложнее.
[52:17.020 --> 52:21.740]  Ну, большой разницы нет. На самом деле для невыразимости нам потом нужно переходить к предикатам.
[52:21.740 --> 52:27.220]  Я надеюсь, что у меня будет время обсудить хотя бы простейший пример доказательства
[52:27.220 --> 52:32.300]  невыразимости. Опять-таки возникают технические сложности. Идея это, в общем-то, понятна.
[52:32.300 --> 52:42.740]  Ну вот, и возникает вопрос, как проверить, вот данные две модели, как проверить элементарно
[52:42.740 --> 52:48.980]  не эквивалентно или нет. Оказывается, есть очень красивый и удобный в применении критерий
[52:48.980 --> 52:58.260]  элементарной эквивалентности. Но он не очевидный. Он потребует некоторых новых конструкций. И
[52:58.260 --> 53:06.420]  сегодня я разве что успею ввести основной инструмент, с помощью которого эти критерии
[53:06.420 --> 53:23.780]  формулируются. Это то, что называется игрой Ренфойхта. Ну, игра происходит на паре моделей.
[53:23.780 --> 53:34.500]  Значит, про модели сигнатура. У нас будет ограничение на сигнатуру. Сигнатура – только
[53:34.500 --> 53:53.660]  предикатные символы. Ну, вы скажете, как же так без функций, без констант. Я вас убеждал,
[53:53.660 --> 53:58.540]  что они нужны. Они нам понадобятся в других ситуациях. А здесь они нам мешают. Но с точки
[53:58.540 --> 54:03.580]  зрения выразительной возможности, предикатные, функциональные символы и константы мало на что
[54:03.580 --> 54:13.340]  влияют. Вот пусть у нас есть модели константа С. Давайте зададим предикат х равно С, который
[54:13.340 --> 54:30.620]  исчезнет тогда и только тогда, когда х равен С. Тогда, смотрите, если у меня есть какая-то атомарная
[54:30.620 --> 54:36.460]  формула, куда входит С, но я остальные переменные не пишу для краткости. Как ее можно переписать в
[54:36.460 --> 54:42.300]  этой сигнатуре с таким предикатным символом? Нужно записать условия. Существует такой у,
[54:42.300 --> 54:55.460]  что он равен С и теперь уже формула, куда вместо константы подставлен на у. Ну и все. Константа
[54:55.460 --> 55:00.740]  исчезла, но по сути дела она есть. Мы просто задали вот такой предикатный символ. Ну и соответственно,
[55:00.740 --> 55:10.580]  если у нас есть функциональный символ, ну давайте н плюс один арный предикатный символ запишем.
[55:10.580 --> 55:29.480]  Такой, что это единицы, если у равняется f от x1 xn и нулю иначе. Ну и понятно, что опять-таки,
[55:29.480 --> 55:36.540]  когда у нас в какой-то терм входит вот такая функция, но я должен просто добавить условия,
[55:36.660 --> 55:45.020]  существует переменная такая, что выполняется вот это вот и дальше использовать вместо
[55:45.020 --> 55:52.940]  соответствующей функции вот эту переменную. Понятно, что если у нас сложный терм, мне придется
[55:52.940 --> 55:57.740]  написать конъюнцию нескольких таких условий для верхнего, потом для тех, что подставлены,
[55:57.740 --> 56:02.860]  но в конечном счете вот после конъюнции нескольких условий вот таких вот предикатных символов у
[56:02.860 --> 56:07.900]  нас все получится. Поэтому в выразительных возможностях мы себя не ограничиваем,
[56:07.900 --> 56:15.980]  но станет немножко проще. Значит, в чем состоит игра? Я вообще не знаю, учил ли вас кто-то играм
[56:15.980 --> 56:23.860]  комбинаторным? Учил, не учил, более-менее. Я знаю, что в школе, если кто-то в Москве жил,
[56:23.860 --> 56:27.100]  то наверно в турнире Ломоносова принимал участие, он не только в Москве проводится,
[56:27.100 --> 56:31.660]  там есть конкурс по играм, в котором там чуть ли не с шестого класса люди участвуют. В общем,
[56:31.660 --> 56:36.620]  я надеюсь, что какое-то представление о том, как устроены игры, вы знаете, потому что не хочется
[56:36.620 --> 56:40.860]  тратить время на объяснение очевидных вещей, которые большинству известны. Но если кому-то
[56:40.860 --> 56:50.180]  что-то непонятно, вы не стесняетесь уточнить. Значит, игроков два. Один будет называть N от
[56:50.180 --> 56:59.780]  слова новатор, а второй будет называть K от слова консерватор. Значит, цели игроков различны.
[56:59.780 --> 57:06.940]  Новатор хочет убедить, но он высказывает такой тез. Эти модели разные. Консерватор говорит,
[57:06.940 --> 57:13.180]  нет, эти модели одинаковые. И вот игра эта, по сути дела, дисплот между ними. Они приводят
[57:13.180 --> 57:20.260]  доводы. Какие доводы они могут приводить? Ну, во-первых, игра состоит в том, что в начале новатор
[57:20.260 --> 57:36.100]  выбирает K. Положительное число. И дальше происходит уже K раундов. На каждом раунде в начале
[57:36.100 --> 57:48.700]  новатор выбирает элемент из модели, скажем, M1 или из M2. То есть это на его усмотрение. Консерватор
[57:48.700 --> 57:55.500]  должен ответить элементом из другой модели. То есть, если новатор выбрал из первой модели,
[57:55.500 --> 58:01.860]  консерватор должен указать из второй. Если из второй, то, наоборот, из первой. То есть,
[58:01.860 --> 58:06.620]  по смыслу, что происходит? Ну, новатор, прежде всего, говорит, так, мы долго диспутировать не
[58:06.620 --> 58:13.900]  будем. Вот за 10 раундов должны управиться. Это решает новатор. Он обещает за заданное время убедить,
[58:13.900 --> 58:23.140]  что модели разные. Хорошо, говорит, консерватор, давай. И вот новатор начинает. Он говорит, вот у
[58:23.140 --> 58:29.780]  меня в модели есть такой-то элемент. Он достает этот элемент, показывает за его. Ну, что должен
[58:29.780 --> 58:34.120]  сделать консерватор? Он же пытается увидеть, что модели одинаковые. Значит, он из другой модели
[58:34.120 --> 58:38.460]  должен взять какой-то элемент, сказать, вот нет, модели одинаковые. Вот смотрите, вот он. Вот он
[58:38.460 --> 58:41.660]  показал этот, а вот я показываю точно такое же, но из другой модели.
[58:41.660 --> 58:47.340]  Ну, поэтому новатор может выбирать, из какой модели он вытаскивает очередной
[58:47.340 --> 58:52.980]  элемент, но консерватор должен отвечать в другую модель. В результате, как
[58:52.980 --> 59:01.820]  подводится итог игры. Вот они сделали ходы к штук, и у них
[59:01.820 --> 59:08.020]  получились последовательности элементов из первой модели и из второй модели. На
[59:08.020 --> 59:13.460]  каждом раунде выбираются по одному элементу из одной модели, и по одному, и
[59:13.460 --> 59:20.860]  с другой. Теперь подводим итог игры. Значит, если у нас в сигнатуре есть какие-то
[59:20.860 --> 59:29.140]  предикаты, ну давайте я их условно напишу вот так, p1, p2, ps. Если какой-то
[59:29.140 --> 59:39.340]  из предикатов на каких-то, ну он может, предикат может быть разной арности, он на
[59:39.340 --> 59:44.860]  каких-то из элементов этой модели дает разные значения. Вот это вот в первой
[59:44.860 --> 59:52.100]  модели, а во второй модели тот же самый предикат на соответственных элементах.
[59:52.100 --> 01:00:07.940]  K у меня уже было, тут как всегда нужно много букв. Вот если такое нашлось, то выиграл новатор,
[01:00:07.940 --> 01:00:17.780]  иначе выиграл консерватор. То есть, если все предикаты из сигнатуры одинаковые значения
[01:00:17.780 --> 01:00:22.340]  принимают на соответственных моделях. Консерватор говорит, ну посмотрите, что там новатор объяснял,
[01:00:22.340 --> 01:00:27.340]  что модели разные. Вот я предъявил, он мне называл какие-то элементы, вот я ему предъявил элементы
[01:00:27.340 --> 01:00:34.380]  точно такие же, все одинаково. Что вы хотите от меня? Ну а если новатор сказал, получил вот такой
[01:00:34.380 --> 01:00:40.620]  набор, он говорит, ну послушайте, ну консерватор мог выбирать на свое усмотрение соответственные
[01:00:40.620 --> 01:00:46.340]  элементы, но вот он выбирал-выбирал, а получилось, что все равно на них предикаты разные. Ну модели,
[01:00:46.340 --> 01:00:51.900]  значит, разные, то есть ничего консерватор не смог нам убедить. То есть, вот такие правила игры.
[01:00:51.900 --> 01:01:00.060]  Ну и они все-таки не вполне очевидны, поэтому сегодня я успею разве что разобрать несколько
[01:01:00.060 --> 01:01:06.700]  примеров таких игр. Попроще, посложнее, ну и самый сложный, не знаю, надеюсь, что успею, но посмотрим.
[01:01:06.700 --> 01:01:21.700]  Хотелось бы. Ну самый простой пример, просто чтобы прибиться к определениям, давайте рассмотрим
[01:01:21.700 --> 01:01:31.500]  модель, две модели. У нас всегда игры на двух моделях. Модель натуральные числа с порядком и
[01:01:31.500 --> 01:01:37.980]  целые числа с порядком. Я хочу, как раз, чтобы модели были попроще, чтобы быстрее можно было в эти
[01:01:37.980 --> 01:01:48.060]  игры играть. Ну, кто выигрывает в игре Ренфойхта на таких моделях? Выигрышная стратегия есть у
[01:01:48.060 --> 01:01:55.340]  новатора. Ну, кто выигрывает, это я прошу прощения, вы знаете, наверное, что когда есть игра и говорят,
[01:01:55.340 --> 01:02:00.260]  кто выиграет, это имеет в виду, что существует выигрышная стратегия. То есть, не просто, что в какой-то
[01:02:00.260 --> 01:02:05.220]  партии выиграла, что вот у одного из игроков есть правило, которое определяет, как ему делать ходы,
[01:02:05.220 --> 01:02:16.260]  чтобы выигрывать. И вот тут выигрышная стратегия у новатора. Значит, он, во-первых, выбирает два раунда,
[01:02:16.260 --> 01:02:27.220]  а дальше делает следующее, первый раунд. Он выбирает, давайте, вот здесь я буду обозначать
[01:02:27.220 --> 01:02:36.820]  A и T, а здесь B и T для определенности. И вот новатор выбирает натуральное число ноль. Это новатор
[01:02:36.820 --> 01:02:46.340]  выбирает. Ну, консерватор в ответ должен выбрать какое-то целое число. Теперь новатор выбирает
[01:02:46.340 --> 01:02:56.500]  целое число, которое на единичку меньше выбрано консерватором. И что должен сделать консерватор?
[01:02:56.500 --> 01:03:07.220]  Он должен указать какое-то натуральное число. Вот это вот B2. Консерватор вынужден, поскольку
[01:03:07.220 --> 01:03:12.660]  новатор уже выбрал целое число, консерватор должен выбрать какое-то натуральное число. Но,
[01:03:12.660 --> 01:03:22.060]  смотрите, B2, прошу прощения, по выбору новатора строго меньше, чем B1. Значит, чтобы все предикаты
[01:03:22.060 --> 01:03:27.180]  сохранились, у нас один предикат. Нам нужно выбрать такое натуральное число, 2, которое строго меньше
[01:03:27.180 --> 01:03:36.300]  нуля. А такого нет. Поэтому, какой бы ход не сделал консерватор, он проигрывает. То есть видно,
[01:03:36.300 --> 01:03:41.980]  на самом деле, я думаю, вы уже начинаете чувствовать, что какая связь между элементарной
[01:03:41.980 --> 01:03:48.140]  эквивалентностью ноль в этой модели, он определяется на натуральных числах. Это наименьшее число. Нет
[01:03:48.140 --> 01:03:53.820]  такого натурального числа, которое строго меньше нуля. Это свойство ноль определяет. А в Z
[01:03:53.820 --> 01:03:58.860]  такого числа нет. То есть вот есть формула, которая истинна в одной модели и ложна в другой модели.
[01:03:58.860 --> 01:04:07.660]  Разречает эти модели. Ну хорошо, давайте теперь для следующего примера. Мне понадобится,
[01:04:07.660 --> 01:04:29.700]  а нет, еще не понадобится. Давайте возьмем порядок на рациональных и на действительных числах.
[01:04:29.700 --> 01:04:49.900]  Вот тут выигрышная стратегия есть, наоборот, у консерватора. Ну почему? Давайте подумаем.
[01:04:49.900 --> 01:04:57.860]  Значит, консерватор должен играть против любого числа ходов. То есть вот новатор,
[01:04:57.940 --> 01:05:04.940]  он выбирает какое-то число K, а потом консерватор должен отвечать на каждый ход новатора как-то. И он
[01:05:04.940 --> 01:05:15.540]  будет поддерживать такой вариант, что вот у нас после какого-то количества ходов S выбраны вот
[01:05:15.540 --> 01:05:25.460]  такие рациональные числа и вот такие действительные. И нужно, чтобы существовала перестановка.
[01:05:25.460 --> 01:05:48.420]  Ну мы упорядочиваем. У нас числа убирались в каком-то порядке, но мы хотим просто упорядочить
[01:05:48.420 --> 01:05:55.300]  по величине. И та же перестановка должна также упорядочивать по величине. И вторую группу,
[01:05:55.780 --> 01:06:02.220]  это, заметьте, одна и та же перестановка. То есть, если a1 меньше, чем a2, b1 тоже должно быть
[01:06:02.220 --> 01:06:15.100]  меньше, чем b2. И при этом, если api от i равняется api плюс 1, у нас могут быть одинаковые числа в этой
[01:06:15.100 --> 01:06:22.900]  последовательности, то тогда и соответственные b тоже равны. Ну это называется порядковый
[01:06:22.900 --> 01:06:29.500]  изоморфизм. То есть, мы хотим, у нас есть две последовательности чисел, они порядковые изоморфизмы.
[01:06:29.500 --> 01:06:35.500]  Что это означает? Что если мы их упорядочим по включению, то вот они будут идти, вот соответственные
[01:06:35.500 --> 01:06:41.140]  числа будут одинаково упорядочены, как по-строгому не нравится, так и по-нестрогому. То есть,
[01:06:41.140 --> 01:06:46.300]  если у нас первое число, допустим, оно самое маленькое в одном и в другом, допустим все остальные
[01:06:46.300 --> 01:06:52.300]  строго больше, а второе и третье в a равны, ну тогда они должны быть равны и в b. То есть,
[01:06:52.300 --> 01:06:55.820]  выполняются строгие и нестрогие неравенства одинаковым образом. Ну вот в терминах, как я
[01:06:55.820 --> 01:07:01.300]  говорил, разметки знаков должны совпадать. То есть, где-то меньше, где-то равно, вот они
[01:07:01.300 --> 01:07:08.980]  должны быть одинаковы на обоих последовательностях. Это цель, это я пока еще стратегию не сформулировал.
[01:07:08.980 --> 01:07:15.100]  Я сказал, что консерватор будет поддерживать такой инвариант. Ну и смотрите, если ему действительно
[01:07:15.100 --> 01:07:20.860]  удастся поддерживать такой инвариант, то ясно, что когда игра останавливается, вот это вот условие
[01:07:20.860 --> 01:07:27.340]  будет не выполнено. То есть, все числа будут сравниваться одинаково. То есть, фактически нам
[01:07:27.340 --> 01:07:32.940]  нужно объяснить, почему можно такой инвариант поддерживать. Но это не очень сложно. Вот представьте,
[01:07:32.940 --> 01:07:43.060]  что новатор выбирает какое-то следующее число x, которое там между a и t. Чтобы не писать лишнюю
[01:07:43.060 --> 01:07:49.860]  букву p, я предполагаю, что a и t плюс 1 как раз соседние. То есть, это я рассматриваю именно
[01:07:49.860 --> 01:07:56.780]  соседний интервал. Ну тогда, поскольку к этому моменту рассуждение индуктивное. Предполагаю,
[01:07:56.780 --> 01:08:03.780]  что консерватор сумел это поддерживать, условия порядкового изоморфизма, ну сколько-то раундов.
[01:08:03.780 --> 01:08:08.100]  Мы сейчас объясняем, что на следующем раунде он тоже это может поддержать. Ну а в начале никаких
[01:08:08.100 --> 01:08:13.860]  чисел нет. Понятно, что пустые последовательности порядкового изоморфизма. Ну тогда, значит,
[01:08:13.860 --> 01:08:24.060]  если это q, то тогда у нас есть строгое неравенство, и мы можем выбрать, консерватор будет выбирать
[01:08:24.060 --> 01:08:32.220]  какое-то число y, которое тоже находится в строгих неравенствах между b i и b i плюс 1. Понятно,
[01:08:32.220 --> 01:08:39.020]  что это сохраняет порядковый изоморфизм. Мы выбрали в соответственном интервале разбивания. Если a i t
[01:08:39.020 --> 01:08:45.740]  равнялась a i плюс 1, и новатор выбрал это, ну тогда b i t тоже равняется b i плюс 1, и консерватор
[01:08:45.740 --> 01:08:51.100]  выберет это же самое число. То есть от того, что новатор сделает повторение, консерватору хуже не
[01:08:51.100 --> 01:08:55.940]  будет, он тоже повторит это число. У него же есть такая возможность. Ну и ясно, что если новатор,
[01:08:55.940 --> 01:09:02.340]  наоборот, ходит в r, то консерватор может сделать ход в q. Тут мы что используем? Тут мы используем
[01:09:02.340 --> 01:09:06.580]  свойства плотности порядка. Между любыми двумя элементами, что в рациональных числах, что
[01:09:06.580 --> 01:09:11.380]  в действительных, обязательно найдется элемент, который строго между. Если элементы различны,
[01:09:11.380 --> 01:09:16.420]  а меньше b, то найдется элемент, который строго меньше. Для рациональных чисел это верно,
[01:09:16.420 --> 01:09:23.620]  а для целых, скажем, это было бы неверно. Можно легко понять, что, как в первом примере практически,
[01:09:23.620 --> 01:09:30.260]  что если мы сравним порядок q и порядок z, то там новатор выиграет. Ну более-менее он как раз
[01:09:30.260 --> 01:09:37.220]  сделает, выберет вначале целые числа там 0 и 1. Консерватор должен что-то выбрать среди
[01:09:37.220 --> 01:09:41.680]  рациональных. И после этого он среди этих рациональных возьмет в середину отрезка,
[01:09:41.680 --> 01:09:46.780]  которая строго между ними. И куда деваться консерватору? Консерватор не может выбрать
[01:09:46.780 --> 01:09:53.260]  целое число между 0 и 1. А здесь может, потому что и тот, и тот порядок плотный. Поэтому здесь
[01:09:53.260 --> 01:10:00.500]  выигрывает новатор. Ну это вот два примера попроще. Сейчас будет пример посложнее. Я надеюсь успеть
[01:10:00.500 --> 01:10:07.980]  его рассказать. У меня еще почти что 10 минут. Значит, это вот какой пример. Во-первых, по-прежнему
[01:10:07.980 --> 01:10:14.300]  натуральные числа. А второй порядок, ну вот он чуть похитрее. Надо будет сейчас объяснить вам,
[01:10:14.300 --> 01:10:21.060]  что это такое. Это n плюс n. Я не знаю, определяли ли вам такие порядки или нет раньше. Но это,
[01:10:21.140 --> 01:10:35.700]  давайте вот я здесь сотру. Сейчас определю, как мы берем сумму порядков. Что это за порядки? Мы берем
[01:10:35.700 --> 01:10:44.460]  копии этих порядков, которые не пересекаются. И считаем, что они упорядочены так, что первые
[01:10:44.460 --> 01:10:52.020]  элементы из копии p строго меньше, чем из копии q. Давайте я здесь прямо напишу. Мне все равно это
[01:10:52.020 --> 01:10:59.260]  нужно сейчас для конкретного варианта. Вот мы пишем в начале обычные натуральные числа. Копии,
[01:10:59.260 --> 01:11:03.540]  значит, ну как, у нас есть два дубля натуральных чисел. Их как-то нужно различать. Давайте я буду
[01:11:03.540 --> 01:11:09.660]  штрих ставить. Вот мы перечислили все натуральные числа, а потом есть еще число 0 штрих, которое
[01:11:09.660 --> 01:11:15.340]  больше всех старых натуральных чисел. Ну а дальше уже штрихованные числа тоже идут в том
[01:11:15.340 --> 01:11:26.060]  же самом порядке. Давайте тут знаки поставлю, как мы и хотим. Вот такое вот множество. То есть оно
[01:11:26.060 --> 01:11:32.700]  тоже счетное, но в нем две копии натуральных чисел. В начале обычные натуральные числа и вторая
[01:11:32.700 --> 01:11:38.980]  часть, которая состоит тоже из натуральных чисел, но все они больше, чем вот эти. То есть у нас
[01:11:38.980 --> 01:11:48.580]  такой вот такой порядок насчет на множестве задан. Ну и вот две такие модели. То есть один порядок,
[01:11:48.580 --> 01:11:53.700]  другой порядок. Являются ли они элементарно эквивалентными? Тут уже вопрос менее очевидный,
[01:11:53.700 --> 01:12:00.220]  потому что вроде бы на глаз видно разница между этими порядками. Вот все-таки вот этот элемент
[01:12:00.220 --> 01:12:05.420]  0 штрих, он обладает такой особенностью, что какой бы вы меньший элемент не взяли,
[01:12:05.420 --> 01:12:11.260]  отрезок между этими элементами содержит бесконечно много чисел. То есть ясно, что эти
[01:12:11.260 --> 01:12:16.900]  порядки неизоморфны. Счетное множество объекции вообще говоря есть, но порядок сохранить мы не
[01:12:16.900 --> 01:12:22.980]  можем. Потому что на натуральных числах, конечно, любой отрезок он конечный. А тут есть бесконечный
[01:12:22.980 --> 01:12:30.300]  отрезок. Но бесконечный отрезок непонятно, как задать формулы первого порядка, которые используют
[01:12:30.300 --> 01:12:39.020]  только отношения меньше. Мы можем написать любое конечное сравнение, что а1 строго меньше,
[01:12:39.020 --> 01:12:45.860]  а2 меньше, а3 меньше, а1000. А как записать, что вот конечный отрезок? Непонятно. И действительно
[01:12:45.860 --> 01:13:09.140]  выигрышная стратегия есть у консерватора. Идея очень похожа на предыдущую. Мы хотим
[01:13:09.140 --> 01:13:14.100]  поддерживать, но у нас порядок, то есть у нас предикат вообще один, и в сущности консерватор
[01:13:14.100 --> 01:13:19.500]  будет опять поддерживать вот такой порядковый изоморфизм. Но сложность теперь в том, что
[01:13:19.500 --> 01:13:23.620]  буквально поддерживать не получится. Потому что из-за того, что я сказал, в одном порядке есть
[01:13:23.620 --> 01:13:29.380]  такие бесконечные отрезки, а в другом нету. Поэтому консерватор делает хитрее. Его стратегия
[01:13:29.380 --> 01:13:37.140]  теперь уже будет очень существенно зависеть от к. И он будет делать так. Он будет определять разрывы
[01:13:37.140 --> 01:13:48.620]  уровня k. Давайте я лучше и напишу. Это означает, что расстояние между элементами порядка больше
[01:13:48.620 --> 01:13:59.180]  или равно, чем два в степени i. То есть своей стратегией консерватор будет поддерживать не
[01:13:59.180 --> 01:14:04.060]  вполне, не просто порядковый изоморфизм, а чтобы можно было продолжать эту стратегию, он будет
[01:14:04.060 --> 01:14:09.100]  поддерживать более жестко. Он будет поддерживать изоморфизм с этим дополнительным символом. Я
[01:14:09.100 --> 01:14:20.300]  вот этого буду записывать как х, ну там давайте, не знаю, два знака буду ставить. То есть что х очень
[01:14:20.300 --> 01:14:29.820]  сильно меньше у. И вот идея консерватора состоит в том, что он хочет каждый раз, когда у него есть,
[01:14:29.820 --> 01:14:36.300]  ну вот уже выбранные. То есть нужен такой вариант, что после, давайте я вариант запишу.
[01:14:36.300 --> 01:15:01.980]  После и ходов наборы порядковой изоморфны
[01:15:01.980 --> 01:15:22.460]  на уровне k-i. То есть другими словами, что если у меня скажем там a-pi-t меньше на уровне i, то есть
[01:15:22.460 --> 01:15:33.340]  далеко от b-pi-t, то b-pi-t тоже должно быть вот так вот строго меньше, ну сильнейшее на таком вот
[01:15:33.340 --> 01:15:50.060]  уровне. Только k-i, прошу прощения, и тут g тогда надо написать. То есть идея такая, что теперь,
[01:15:50.460 --> 01:15:57.460]  после k ходов консерватор выбирает, глядя на первый ход новатора. Новатор же заранее объявляет,
[01:15:57.460 --> 01:16:02.700]  сколько ходов будет сделано, и консерватор на это количество ориентируется. Но после k ходов
[01:16:02.700 --> 01:16:08.380]  здесь получатся наборы порядковой изоморфны на уровне ноль. А что значит уровень ноль? Это значит,
[01:16:08.380 --> 01:16:14.700]  что y-x больше либо равно единице, то есть y и x не совпадают. Ну тогда понятно, они различаются,
[01:16:14.700 --> 01:16:19.420]  у нас получается обычный порядковый изоморфизм. То есть чтобы добиться обычного порядкового
[01:16:19.420 --> 01:16:26.660]  изоморфизма после k ходов, консерватор должен вначале уметь различать ну вот до 2 в степени k. Вот
[01:16:26.660 --> 01:16:34.380]  числа ближе, чем 2 в степени k или дальше. А в одной модели у нас есть бесконечные разрывы, они
[01:16:34.380 --> 01:16:41.180]  конечно будут с любым k попадать. Но существенно, что среди натуральных чисел бесконечно много,
[01:16:41.180 --> 01:16:46.460]  и опять-таки для любого k мы можем найти достаточно большой разрыв. То есть если консерватор вот эту
[01:16:46.460 --> 01:16:52.740]  стратегию сможет выдерживать, то он победит. И я утверждаю, что он сможет это сделать. Почему?
[01:16:52.740 --> 01:16:59.740]  Потому что ну давайте там есть много простых случаев, когда числа равны, когда числа близки
[01:16:59.740 --> 01:17:04.500]  друг к другу. Ну то есть значит у нас условия порядкового изоморфизма еще такое, что вот если
[01:17:04.500 --> 01:17:17.660]  у нас выполняется, что я тут написал, я прошу прощения, а и b между собой не сравниваются конечно.
[01:17:17.660 --> 01:17:22.900]  Если у нас выполняется какое-то условие, давайте я уже напишу без лишних индексов, а то они меня
[01:17:22.900 --> 01:17:30.140]  сбивают с толку. Не вот разрыв уровня какого-то, а прям строго меньше, то это означает, что вот мы
[01:17:30.140 --> 01:17:38.220]  знаем, что вот эта вот разница, она просто одинакова. Вот отсюда порядковый изоморфизм в данном случае
[01:17:38.220 --> 01:17:47.180]  означает нечто более сильное. Что мы хотим, вот этот если написан не разрыв какого-то уровня,
[01:17:47.180 --> 01:17:52.420]  а прям строго меньше, это значит, что вот они просто одинаковы. И вот я хочу удовлетворять
[01:17:52.420 --> 01:17:59.260]  такому более сильному усвою. У меня осталась одна минута, но с тому идею я успею рассказать. Идея
[01:17:59.260 --> 01:18:03.580]  очень простая, потому что смотрите, вот берем два соответственных числа, но опять-таки я для
[01:18:03.580 --> 01:18:14.540]  простоты пишу без индексов. Если здесь разрыв большой, ну вот после и ходов, разрыв был уровня k-i,
[01:18:14.540 --> 01:18:22.540]  то есть вот здесь вот у нас больше чем два в степени k-i разница между этими числами, ну и
[01:18:22.540 --> 01:18:28.500]  между соответственными числами тоже разница такая же большая. Если новатор куда-то пошел,
[01:18:28.500 --> 01:18:36.980]  у нас получилось два отрезка, но хотя бы один из этих отрезков будет больше либо равен чем два
[01:18:36.980 --> 01:18:46.340]  в степени k-i-1. Когда мы бьем отрезок на две части, хотя бы одна не меньше чем половина. И поэтому
[01:18:46.340 --> 01:18:58.180]  у нас обязательно будет одна из частей разрыв уровня k-i-1, ну для определенности справа. Я уже
[01:18:58.180 --> 01:19:05.860]  должен заканчивать. Ну а тогда слева либо тоже разрыв по-прежнему вот уровня k-i-1, либо он уже
[01:19:05.860 --> 01:19:10.820]  меньше, и тогда мы просто выберем соответствующее число вот точно, чтобы выполнялась вот это
[01:19:10.820 --> 01:19:16.620]  дополнительное условие. Но это вот самые сложные случаи. И ясно, что если разрыв бесконечный был,
[01:19:16.620 --> 01:19:22.420]  но вот во второй модели, ну если консерватор заранее позаботился, что в первой модели был
[01:19:22.420 --> 01:19:28.260]  достаточно большой разрыв, он все равно сможет его удовлетворить. То есть наше же вот это вот
[01:19:28.260 --> 01:19:35.860]  условие, оно бесконечность и очень большую конечность не различает. Поэтому нам все равно.
[01:19:35.860 --> 01:19:41.380]  Но нужно позаботиться о том, чтобы изначально разрыв был достаточно большой, чтобы у нас было
[01:19:41.380 --> 01:19:49.460]  место сделать много ходов туда. Ну вот примерно так. Все, я должен заканчивать. Спасибо за внимание,
[01:19:49.460 --> 01:19:50.620]  ну вроде бы успел.
