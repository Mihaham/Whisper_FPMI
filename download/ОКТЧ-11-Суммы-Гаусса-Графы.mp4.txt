[00:00.000 --> 00:09.520]  Так, всё, давайте начинать. Добрый день. Что у нас там
[00:09.520 --> 00:12.640]  было? Гауссовская сумма, да? Ну давайте я ещё раз
[00:12.640 --> 00:16.080]  напишу. А, кстати, я не отчертил слепую зону,
[00:16.080 --> 00:19.480]  но она не то, чтобы очень важна. Народу мало. Я думаю,
[00:19.480 --> 00:24.360]  что все сидят так, как нужно, чтоб всё видеть. Так, сумма
[00:24.360 --> 00:38.320]  Гауса. Значит, ещё раз. У нас есть число Ку, есть число
[00:38.320 --> 00:45.520]  А. Эти два числа взаимно простые, но Ку при этом не
[00:45.520 --> 00:48.040]  обязательно простой. То есть это какое-то просто
[00:48.040 --> 00:51.560]  число, может быть, чётное, нечётное. Любое натуральное
[00:51.560 --> 00:56.320]  число. А, тоже любое натуральное число, которое с ним взаимно
[00:56.320 --> 01:01.760]  просто. Нас интересует такая вот сумма. Сейчас, а почему
[01:01.760 --> 01:08.000]  она от Х? Она просто С. По Х сейчас будет суммирование.
[01:08.000 --> 01:18.600]  Да, печатка. Так. Ну, если я надавлю, то, наверное,
[01:18.600 --> 01:24.760]  будет хорошо видно. Да, всё равно, такой вот сумме
[01:24.760 --> 01:38.000]  по Х от единицы до Ку не в степени 2П, а Х квадрат
[01:38.000 --> 01:41.480]  поделить на Ку. Ну, в прошлый раз я вроде пытался это
[01:41.480 --> 01:44.820]  максимально замотивировать. У нас был критерий Вейля
[01:44.820 --> 01:48.240]  равномерной распределённости последовательности. Ну
[01:48.240 --> 01:50.920]  и, соответственно, в этом критерии возникали подобные
[01:50.920 --> 01:54.800]  суммы с линейным членом, так сказать, с линейным
[01:54.800 --> 01:58.760]  выражением в показателе экспоненты. Ну, а естественным
[01:58.760 --> 02:03.560]  обобщением, конечно, служат какой-то многочлен, не обязательно
[02:03.560 --> 02:07.200]  первой степени. И вот то, что я утверждаю и продолжаю
[02:07.200 --> 02:12.320]  утверждать, это значит, что для квадратичного многочлена
[02:12.320 --> 02:16.280]  посчитать такую штуку ещё можно, а уже для многочлена
[02:16.280 --> 02:19.680]  какой-либо большей степени, ну, к сожалению, это, в общем,
[02:19.680 --> 02:22.120]  задача нерешаемая, хотя очень важна, и люди этим
[02:22.120 --> 02:25.720]  прямо занимаются. Эта целая большая наука называется
[02:25.720 --> 02:29.400]  теория тригонометрических сумм. Такой вот раздел теории
[02:29.400 --> 02:32.960]  чисел. Но вот суммы Гауса посчитаны, мы посчитаем
[02:32.960 --> 02:36.680]  только модуль, как уже было заявлено в прошлый раз,
[02:36.680 --> 02:40.240]  но если хотите найти точное значение, можете взять,
[02:40.240 --> 02:44.600]  например, книжку Коробова, «Трик суммы», и там это всё
[02:44.720 --> 02:51.720]  написано. Вот для интересующихся напишу книжку. Николай Михайлович
[02:53.360 --> 02:59.560]  Корбов такой был специалист. Называется тригонометрические
[02:59.560 --> 03:06.560]  суммы. Вдруг кому-то интересно разобраться глубже, там
[03:06.720 --> 03:11.240]  много всего, и про произвольные многочлены тоже. Так, ну,
[03:11.360 --> 03:16.520]  я вроде писал даже утверждение теоремы. Я его, правда, благополучно
[03:16.520 --> 03:21.160]  опять забыл. Поэтому давайте сделаем так всё-таки. Вдруг
[03:21.160 --> 03:24.760]  я ошибся в этом утверждении? Давайте посчитаем модуль
[03:24.760 --> 03:28.760]  этой суммы вместе, а потом у нас появится формулировка.
[03:28.760 --> 03:31.440]  Ну или, если хотите, можете мне напомнить, как я её
[03:31.440 --> 03:34.440]  формулировал в прошлый раз, но я совершенно не уверен,
[03:34.440 --> 03:38.360]  что я нигде не ошибся. Там два случая – кучотная, куничотная,
[03:38.360 --> 03:41.360]  что вы сейчас увидите, почему. Ну и в чётном случае
[03:41.360 --> 03:44.440]  там надо ещё разбирать, какой остаток отделения
[03:44.440 --> 03:48.800]  на 4. Разберёмся сейчас. В общем, давайте я пока многоточие
[03:48.800 --> 03:53.920]  поставлю, хотим посчитать модуль суммы. Давайте напишем
[03:53.920 --> 04:00.800]  модуль S. Ну, не просто модуль S, а удобно модуль S возвести
[04:00.800 --> 04:04.480]  в квадрат. Это же комплексное число. Соответственно, модуль
[04:04.480 --> 04:07.960]  комплексного числа – это просто корень из суммы
[04:07.960 --> 04:14.960]  квадратов, там его вот этих вот составляющих. Но можно
[04:14.960 --> 04:20.460]  написать вот так. Это S с чертой умножить на S, поэтому
[04:20.460 --> 04:24.900]  удобно считать квадрат модуля. Так, все знают, что квадрат
[04:24.900 --> 04:27.800]  модуля комплексного числа – это произведение сопряжённого
[04:27.800 --> 04:33.300]  на само исходное число. Ну просто в прошлый раз меня
[04:33.300 --> 04:39.140]  немножко кокнуло в тот момент, когда оказалось, что якобы
[04:39.140 --> 04:42.340]  E в степени 2P всегда лежит на окружности, поэтому равно
[04:42.340 --> 04:45.580]  единице. Вомните, мы это дело обсуждали, я там целую
[04:45.580 --> 04:48.220]  окружность нарисовал, но разобрались, поэтому я
[04:48.220 --> 04:53.180]  уж на всякий случай спрашиваю, вдруг что не так. Ну давайте
[04:53.180 --> 04:58.500]  как-нибудь вот так напишем по Y от единицы до Q. Это для
[04:58.580 --> 05:09.580]  S с чертой я пишу сумму. Значит, E в степени минус 2P, АY квадрат
[05:09.580 --> 05:14.740]  поделить над Q. Я написал S с чертой. Сопряжение у
[05:14.740 --> 05:18.180]  экспонента E в степени 2P – это E в степени минус 2P.
[05:18.180 --> 05:25.140]  Тоже понятно, да? Косинус плюс синус, косинус минус
[05:25.140 --> 05:29.220]  плюс, ну как вот, сопряжение. Так, и дальше это надо умножить
[05:29.220 --> 05:34.020]  на сумму по X от единицы до Q. Прощаемся к исходному
[05:34.020 --> 05:37.540]  обозначению, я вот так по разному переменную назвал,
[05:37.540 --> 05:42.020]  чтобы удобно было. Так, здесь будет E в степени минус,
[05:42.020 --> 05:51.060]  ой, нет, плюс, конечно, 2P, АY квадрат на Q. Вот сейчас
[05:51.060 --> 05:56.740]  я сделаю некий ход, который тоже, может быть, потребует
[05:56.740 --> 06:00.260]  рисования окружности для того, чтобы все было понятно.
[06:00.260 --> 06:04.460]  Знаете, вот я уже в прошлый раз комментировал, что я
[06:04.460 --> 06:07.660]  очень быстро иду по курсу, а может, не у вас комментировал,
[06:07.660 --> 06:10.340]  не помню, у вас, да, что я быстро иду по курсу, потому
[06:10.340 --> 06:13.780]  что здесь сидят люди, которые всему поддакивают, вроде
[06:13.780 --> 06:16.220]  все понятно, а там сидят люди, ну кто их знает, кто-то
[06:16.220 --> 06:19.940]  на X2 слушает, а кто-то ничего не понимает. Мне, конечно,
[06:20.260 --> 06:24.420]  нормально, все, все, все понимают, хорошо. Ну, оттуда они не
[06:24.420 --> 06:29.260]  ответят, спрашивают, не спрашивают, они ж не ответят. Вот они
[06:29.260 --> 06:38.140]  ответят потом, в июне. Да все. В общем, переход нужно
[06:38.140 --> 06:41.540]  сделать такой, нужно увязать вот эту сумму вот с этой,
[06:41.540 --> 06:44.900]  надо сюда, давай тоже Y, сейчас мы сделаем такое хитрое
[06:44.900 --> 06:50.060]  преобразование, у нас будет по-прежнему сумма по Y от
[06:50.060 --> 07:00.060]  единицы до Q не в степени минус 2 pi АY квадрат на Q,
[07:00.060 --> 07:04.740]  а вот тут давайте я скобку даже нарисую, сумма по X от
[07:04.740 --> 07:12.300]  единицы до Q не в степени 2 pi А, и вот тут я напишу
[07:12.300 --> 07:19.340]  X плюс Y в квадрате поделить на Q. Я вот сюда вместо X в
[07:19.340 --> 07:24.180]  квадрате напишу X плюс Y в квадрате. Я утверждаю, что
[07:24.180 --> 07:27.620]  от этого ничего не поменять. Вот в этом суммировании
[07:27.620 --> 07:31.660]  ничего не поменяется. Дальше я потом переставлю порядки
[07:31.660 --> 07:34.260]  суммирования, у меня Y квадрат сократится, но это мы чуть
[07:34.260 --> 07:38.380]  позже сделаем. Сейчас пока вот нужно осознать, почему
[07:38.380 --> 07:42.580]  ничего не происходит. Но вот я бы, конечно, пытался
[07:42.580 --> 07:45.700]  надавить на понимание сразу, чем какие-то подробности
[07:45.700 --> 07:49.500]  выписывать, но смотрите, вот как устроена вот эта
[07:49.500 --> 07:53.980]  вот штука, когда на X пробегает от единицы до Q. Вот эти вот
[07:53.980 --> 07:57.140]  выражения е в степень 2 pi АY квадрат поделить на
[07:57.140 --> 08:05.060]  Q, они как стрелка часов пробегают по кругу. Ну
[08:05.060 --> 08:09.340]  смотрите, при X равном Q вы снова получаете единицу,
[08:09.340 --> 08:12.900]  как и при X равном нулю. То есть это как бы полный
[08:12.900 --> 08:16.380]  период, полный круг мы пробегаем этими комплексными
[08:16.380 --> 08:20.100]  экспонентами, мы пробегаем как стрелка часов полный
[08:20.100 --> 08:27.100]  круг. Понятно говорю, нет? Вот если я X смещу на любое
[08:27.100 --> 08:30.820]  число, неважно какое, от единицы до Q, то как пробегала
[08:30.820 --> 08:33.420]  эта стрелка полный круг, так и будет пробегать, просто
[08:33.500 --> 08:38.420]  со смещением стартовая позиция будет другая. Но круг пробежится
[08:38.420 --> 08:42.620]  тот же самый. Поэтому какая была вот здесь сумма, такая
[08:42.620 --> 08:51.620]  тут и останется. Я не знаю, нормально так? Мне кажется
[08:51.620 --> 08:55.380]  нормально. Вот можно, конечно, подробно сейчас выписывать
[08:55.380 --> 08:58.540]  всю эту сумму, но это как-то вот, вроде должно быть понятно.
[08:58.540 --> 09:03.780]  Вот. Ну потом еще на X2, послушайте, все совсем хорошо
[09:03.780 --> 09:08.660]  будет. Давайте переставим порядки суммирования. Внешне
[09:08.660 --> 09:15.420]  сумму сделаю по X от единицы до Q. Так, что у меня зависит
[09:15.420 --> 09:20.140]  от X? Что у меня зависит от X? Ну кажется только вот
[09:20.140 --> 09:25.900]  это зависит от X, но оно еще и от Y зависит. Надо было
[09:25.940 --> 09:28.940]  наверное сначала скобки раскрыть. Давайте я сначала
[09:28.940 --> 09:32.780]  все-таки скобки раскрою, вот эти вот скобки, а потом
[09:32.780 --> 09:35.780]  переставлю порядки суммирования, потому что иначе будет все-таки
[09:35.780 --> 09:46.340]  трудно воспринимать. Сумма по Y от единицы до Q. Так, знаете
[09:46.340 --> 09:52.260]  вот так, сумма по X единицы до Q. Здесь будет E в степени
[09:52.260 --> 10:07.140]  minus 2 pi a y2 на Q плюс 2 pi, ну и тут ax2 плюс 2 axy
[10:07.140 --> 10:16.420]  плюс y2. Так, ay2 конечно поделить на Q. Так, вот такая вот
[10:16.420 --> 10:19.220]  зверская экспонента, но сейчас сократится, как я
[10:19.220 --> 10:24.940]  обещал, у2. Это понятно, что вот это вот сокращается
[10:24.940 --> 10:30.420]  вот с этим вот. Правильно? Ну это вроде понятно совсем.
[10:30.420 --> 10:33.140]  Так, чего у нас остается? Вот теперь удобно переставлять
[10:33.140 --> 10:36.100]  порядки суммирования, потому что понятно, что от X зависит
[10:36.100 --> 10:48.060]  от Y. Сумма по X от единицы до Q. Тут будет E в степени
[10:48.060 --> 10:55.500]  2 pi ax2 на Q. То есть я выписываю только то, что зависит от
[10:55.500 --> 11:01.620]  X и не зависит от Y, после чего уже произвожу суммирование
[11:01.620 --> 11:08.860]  по Y. От единицы до Q. А суммируются вот такие вот выражения
[11:08.860 --> 11:22.340]  2 pi и тут будет 2 axy на Q. Ну вроде видно, как переставил
[11:22.340 --> 11:27.100]  порядки. Тут ничего не должно вызывать трудностей, кажется.
[11:27.100 --> 11:32.220]  Ну смотрите. Так, ну давайте думать, как считать такую
[11:32.220 --> 11:39.540]  сумму. Эта сумма-то линейная. Но смотрите, сумма линейная
[11:39.540 --> 11:44.420]  это либо геометрическая прогрессия, которую мы
[11:44.420 --> 11:51.300]  в прошлый раз учились суммировать. Слушайте, но это геометрическая
[11:51.300 --> 11:56.940]  прогрессия, суммирующаяся по полному периоду. Трудно
[11:56.940 --> 11:59.380]  так воспринимать. Нужно писать прям сумму в явном
[11:59.860 --> 12:05.300]  Я, смотрите, что хочу. Давайте я скажу, что я утверждаю.
[12:05.300 --> 12:09.860]  Я утверждаю, что вот эта вот сумма, она равняется,
[12:09.860 --> 12:14.140]  можно явно писать прямо, когда-то нулю, а когда-то
[12:14.140 --> 12:18.340]  она равняется Q. Но вот когда она равняется Q, это совсем
[12:18.340 --> 12:24.780]  очевидно. Значит, она равняется Q, если каждая экспонента
[12:24.820 --> 12:31.220]  равняется единице, а экспонента равняется единице, если 2АХY
[12:31.220 --> 12:39.460]  делится на Q. То есть ответ вот здесь получается Q, если Q
[12:39.460 --> 12:49.900]  является делителем выражения 2АХY. И ноль иначе. Потому
[12:49.900 --> 12:52.500]  что это суммирование по полному периоду. То есть вы
[12:52.500 --> 12:57.100]  суммируете вот эту геометрическую прогрессию, у вас с одной
[12:57.100 --> 13:00.700]  стороны экспонента берется в точке Q, а с другой стороны
[13:00.700 --> 13:10.420]  она берется в точке 1. Вы получаете ноль. Нужно геометрическую
[13:10.420 --> 13:12.340]  прогрессию суммировать или понятно, почему ноль
[13:12.340 --> 13:26.420]  получается? Что? Что? 2АХ на что должно делиться? А, да, да, да, да, да, да. Конечно, это
[13:26.420 --> 13:31.820]  правильно. Да, это я описался. Конечно, Y я нарисовал лишне. Извините, спасибо. Да, да,
[13:31.820 --> 13:40.540]  видите, как хорошо. Что? Ну, понятно, что если 2АХ делится на Q, то получается Q.
[13:40.540 --> 13:46.940]  Если 2АХ делится на Q, то вот это вот число при любом Y является целым.
[13:46.940 --> 13:56.780]  E в степени 2P это единица. Правильно? Потому что это cos2P, sin2P это ноль, cos2P это...
[13:56.780 --> 14:02.300]  Ну, понятно, в общем, это единица. E в степени 2P это факт, это единица. E в степени P это минус
[14:02.300 --> 14:08.460]  единица, а E в степени 2P это единица. Вот это надо помнить. Поэтому если вы единицу возводите в
[14:08.460 --> 14:13.060]  целую степень, у вас получается по-прежнему единица. И вот вы складываете Q штук единиц,
[14:13.060 --> 14:23.660]  получили Q. Это если Q является делителем 2А. А если Q не является делителем 2А, если Q не
[14:23.660 --> 14:30.180]  является делителем 2А, тогда это фактически сумма геометрической прогрессии. Ну, давайте
[14:30.180 --> 14:36.340]  посчитаем сумму геометрической прогрессии, раз это вызывает вопрос. Значит, еще раз. Сумма по
[14:36.340 --> 14:46.180]  Y от единицы до Q не в степени 2P. Как-то надо переобозначить, наверное, для краткости просто
[14:46.180 --> 14:58.140]  кто-то такое сделать или не переобозначать. Ну ладно, давайте напишем честно 2Ах. Что здесь
[14:58.140 --> 15:07.660]  является? Ну давайте первый член выпишем. Значит, первый член будет E в степени 2P и 2Ах на Q.
[15:07.660 --> 15:15.340]  Это первый член при Y равном единице. И дальше мы суммируем геометрическую прогрессию. Значит,
[15:15.340 --> 15:23.700]  что является ее знаменателем? Что у нас получается? Надо подставить Q сюда, да? Так, товарищи,
[15:23.700 --> 15:41.340]  правильно? Надо подставить Q. То есть у нас будет, да, кто-то мне решил позвонить. Так, 2АхQ
[15:41.340 --> 15:53.620]  на Q. Прям честно напишу. Так, что надо вычесть? Единицу, как обычно, так? А в знаменателе что
[15:53.620 --> 15:59.260]  надо сделать? Надо взять из знаменателя вычесть единицу. В знаменателе я имею в виду геометрической
[15:59.260 --> 16:12.820]  прогрессии. Какой тут знаменатель геометрической прогрессии? А? Что? Тоже, что и первый член,
[16:12.820 --> 16:27.220]  правильно, да, 2Ах на Q минус 1. Ну прекрасно, смотрите, 2Ах на Q не делится. 2Ах на Q не делится
[16:27.220 --> 16:33.820]  сейчас в нашей ситуации. Поэтому вот эта штука не равна единице, хотя, повторяю, модуль ее равен
[16:33.820 --> 16:41.820]  единице. Она лежит на окружности, модуль этого вектора, длина его равна единице, но само число не один,
[16:41.820 --> 16:48.940]  потому что 2Ах на Q не делится. Значит, в знаменателе стоит нечто, не равное нулю, а в числителе вот это Q
[16:48.940 --> 16:57.060]  и вот это Q сокращается, и у нас получается ноль, потому что е в степени 2П и 2Ах это единица. Вот
[16:57.060 --> 17:03.420]  я про это говорю, что полный период пробежали, поэтому тут и тут получается одно и то же. Все,
[17:03.420 --> 17:09.980]  это ноль. Вот я обосновал, почему тут получается ноль. Когда геометрическая прогрессия ноль,
[17:09.980 --> 17:16.340]  а когда прогрессии нет, просто сумма единицы получается Q. Вот, ну давайте, собственно,
[17:16.340 --> 17:27.700]  думать. Вот сейчас тут равенство напишем. Чего у нас получается? Я вот так напишу. Если Q нечетно,
[17:27.700 --> 17:33.540]  прямо как я и заявлял, что там отчетности и нечетности зависит. Если Q нечетно,
[17:33.540 --> 17:46.940]  тогда 2К не играет никакой роли, А и Q взаимно просты по условию. А и Q взаимно просты. То есть,
[17:46.940 --> 17:54.180]  вот это 2А и Q взаимно просты по-прежней. То есть, для того, чтобы Q делила вот это произведение,
[17:54.180 --> 18:03.180]  нужно, чтобы Q делила х. Ну, Q является делителем х только в одном единственном случае, когда х
[18:03.180 --> 18:17.100]  сравняется Q. То есть, у нас получается, что ответ вот такой, е в степени 2АQ2 на Q умножить на Q.
[18:17.100 --> 18:27.340]  Q является делителем 2х только если х делится на Q. Единственным х, который делится на Q,
[18:27.340 --> 18:33.220]  является число Q. Подставляем сюда число Q, а здесь получаем Q согласно тому, что вот тут
[18:33.220 --> 18:40.620]  написано. В остальных случаях получаем нули. Нули суммируются в ноль. Ну, вот это вот. Это есть,
[18:40.620 --> 18:46.060]  конечно, и имеется. То есть, мы получаем, что квадрат модуля нашей суммы, действительно,
[18:46.060 --> 18:53.980]  равен Q, если Q нечетно. Ну, а сам модуль, естественно, равен корню из Q. Так,
[18:54.860 --> 19:08.340]  я могу начать выкидывать. С равняется корень из Q, если Q нечетно. Это мы уже выяснили. Теперь
[19:08.340 --> 19:25.460]  давайте пусть Q чётно. Тогда что у нас получается, если Q чётно? Тогда 2АХ делится на Q в двух
[19:25.460 --> 19:40.220]  случаях. Если X равняется Q, и X равняется Q пополам. По-моему, очевидно. Q чётно? Q можно
[19:40.220 --> 19:47.500]  разделить пополам. Ну, дальше делить бессмысленно. Значит, тогда у нас получается вот так. Давайте E в
[19:47.500 --> 20:03.060]  степени 2ПИА, пусть Q квадрат, поделить на Q, умножить. На что же умножить? На Q, да?
[20:03.060 --> 20:17.980]  Или не на Q? Так, если X равняется Q, да, то мы, естественно, умножаем на Q. Так, плюс. Пусть X
[20:17.980 --> 20:28.980]  теперь равняется Q пополам. У нас получается E в степени 2ПИА, а Q квадрат на 4Q. Ну, и здесь
[20:28.980 --> 20:40.580]  тоже будет Q. Так, все поняли, что произошло, да? Мы взяли два тех самых X, при которых внутренняя
[20:40.580 --> 20:48.540]  сумма оказывается равной Q. При X равном Q получаем внешний со множества такой, при X равном Q пополам
[20:48.540 --> 20:56.820]  внешний со множества такой. Так, чего у нас здесь получается? Здесь получается E в степени 2ПИА,
[20:56.820 --> 21:14.460]  давайте перепишу. E в степени 2ПИА, Q. Это еще? Ать. Это равно Ать. Так, что мы получаем тут? Здесь
[21:14.460 --> 21:30.060]  мы получаем E в степени 2ПИА, Q пополам. И вот тут вот как раз влияет какой остаток отделения на 4 у числа Q.
[21:30.060 --> 21:38.460]  То есть опять у нас получается, давайте я тут напишу, что вот если Q имеет какой-то вид 4К,
[21:38.460 --> 21:44.140]  например. Давайте, пусть Q имеет вид 4К, то есть делится не только на двойку, но еще и на четверку.
[21:44.140 --> 22:01.660]  Тогда вот это E в степени 2ПИА, Q пополам. Это E в степени 2ПИА. Q равно 4К. Так, что-то я потерял.
[22:01.660 --> 22:09.540]  Еще К. Все время какую-нибудь буковку я потеряю и лишнюю напишу. Вот если Q равняется 4К пополам,
[22:09.540 --> 22:19.300]  делим, получаем 2К и 2ПИА. Вот оно сюда перекочевало. Это, конечно, единица. А если Q равняется 4К
[22:19.300 --> 22:40.060]  плюс 2, то мы получаем, что E в степени 2ПИА, Q пополам. Это будет E в степени 2ПИА на 2К плюс 1.
[22:40.060 --> 22:56.260]  То есть мы получаем минус единицу в нечетной степени. Понятно, почему в нечетной? Потому что А и Q
[22:56.260 --> 23:07.740]  взаимно просты. Значит, А это нечетное число, ну а это, очевидно, нечетное число. То есть это минус единица,
[23:07.740 --> 23:18.820]  и того вот прям вот сюда выписываем ответ. Ноль, как я и говорил в прошлый раз, если Q имеет вид
[23:18.820 --> 23:34.700]  4К плюс 2, и корень из 2К, если Q равняется 4К. Все. По-моему, получилось. Минус единица,
[23:34.700 --> 23:40.380]  просто вот тут происходит компенсация. С единицей сокращается, получается ноль. А если тут единица,
[23:40.380 --> 23:51.780]  ну тогда они складываются и получается два. Такой вот замечательный результат. Ну просто вот хотелось
[23:51.780 --> 23:59.820]  в этом месте с этим познакомиться. На самом деле мы дошли до конца той части курса, которая посвящена
[23:59.820 --> 24:07.260]  вот именно сугубо комбинаторике теории чисел. То есть, начиная с какого-то момента, я в этом
[24:07.260 --> 24:12.300]  месте стал читать кусок из дискретного анализа, причем такой достаточно поначалу стандартный,
[24:12.300 --> 24:17.940]  который рассказывает про то, что такое граф. Ну понятно, что вы знаете, что такое граф. Какие-то
[24:17.940 --> 24:23.580]  факты из теории графов базовые я успеваю доказать в этом тиместре. А дальше уже начинается мощный
[24:23.580 --> 24:29.740]  дискретный анализ, в котором там всякие крутые штуки доказываются. Поэтому сейчас мы как бы
[24:29.740 --> 24:35.860]  сверзнемся с небес на землю. У нас тут, видите, какая продвинутая техника и все такое. Я вам
[24:35.860 --> 24:41.660]  напомню, что такое граф. Ну дальше докажу все-таки чего-нибудь относительно продвинутое, если не
[24:41.660 --> 24:49.540]  прямо сейчас, так в следующий раз и после следующей тоже. Курс пока не закончился. Но это вот такой
[24:49.540 --> 24:56.180]  кусочек базовой программы по графам сюда попал. Когда-то я в этом месте читал алгоритм проверки
[24:56.180 --> 25:05.500]  на простоту невероятностной, а то, что называется, детерминированной. Ну великое достижение теории
[25:05.500 --> 25:13.780]  чисел, которое было сделано еще в начале двухтысячных годов тремя авторами, Агорвалом, Каялом и Сапсеной.
[25:13.780 --> 25:20.300]  Вот такая я с алгоритмом знаменитой. Но я понял, что большинство слушателей все-таки в конце первого
[25:20.300 --> 25:25.700]  курса его не тянут. Поэтому я вытащил начало программы дискретного анализа, вот эта вот графа
[25:25.700 --> 25:32.700]  там базовая, сюда, а Агорвала Каяла Сапсену читаю в конце второго курса. То есть это теперь кульминация
[25:32.700 --> 25:40.140]  всей дискретной математики в моем исполнении. Вот ОКТЧ год, потом дискретный анализ год и в самом
[25:40.140 --> 25:45.900]  конце я все-таки рассказываю вот эту вершину всех знаний, которые человек получает, когда хорошо
[25:45.900 --> 25:53.540]  владеет и комбинаторикой, и теорией чисел, и алгеброй. Не тянут люди в конце первого года,
[25:53.540 --> 25:59.260]  ровно потому, что еще не очень хорошо знают алгебру. А там начинаются какие-то алгебраические объекты,
[25:59.260 --> 26:04.820]  какие-то хитрые группы, которые надо сравнивать, порядок их и так далее, в чем народ кокается.
[26:04.820 --> 26:12.180]  Поэтому я сейчас подготовлю доску и буду рассказывать простые вещи поначалу, совсем простые.
[26:12.180 --> 26:21.300]  Но вы не теряйтесь, потому что все-таки определение это нужно согласовать, они по-разному немножко
[26:21.300 --> 26:28.460]  воспринимаются в разных курсах. Если мы не четко договоримся о том, что такое граф, как мы его
[26:28.460 --> 26:31.980]  понимаем, то дальше никакую сложную теорему мы не докажем.
[26:58.460 --> 27:26.700]  Так, ну смотрите, я буду исходить из того, что вы знаете, что такое граф, в принципе. То есть,
[27:26.700 --> 27:33.100]  ну конечно, там и на алгоритмах они встречались, и по жизни вы должны знать, что это такое. Но мне
[27:33.100 --> 27:38.940]  нужны разные определения типов графов, поэтому все-таки тут вот я буду употреблять какие-то
[27:38.940 --> 27:46.860]  термины. Если вдруг что-то из них кажется непонятным, лучше переспросить. Я буду рассматривать
[27:46.860 --> 28:09.940]  отдельно простые графы. По-русски еще принято говорить обыкновенный. Такая вот забавная история,
[28:09.940 --> 28:16.260]  когда какая-то терминология сначала перекочевывает в английский язык, а потом возвращается назад.
[28:16.260 --> 28:21.900]  И вот эти обыкновенные графы по-английски принято называть simple graphs. Соответственно,
[28:21.900 --> 28:26.940]  когда вся литература переводится на английский язык, и люди начинают массово читать по-английски,
[28:26.940 --> 28:33.420]  они уже по-русски употребляют термин «простой граф» вместо обыкновенного. Но вообще вот в
[28:33.420 --> 28:38.940]  литературе русскоязычной раньше было общепринято говорить им на слово «обыкновен». Но сейчас уже все
[28:38.940 --> 28:44.940]  говорят «простой». Простой граф — это тот, у которого нет ни петель, ни кратных ребер, ни ориентации.
[28:44.940 --> 28:56.500]  Это понятно, что значит? У нас есть вот такая вот стандартная нотация. В — это множество вершин,
[28:56.500 --> 29:01.980]  Е — это множество ребер. Ну и вот в случае, когда мы говорим о простом графе, можно так сказать,
[29:01.980 --> 29:13.020]  что пара ХХ не принадлежит Е, то есть отсутствует петли. Мы считаем, что пара ХY и пара YX суть одной
[29:13.100 --> 29:24.180]  тоже. То есть это неупорядоченные, неориентированные ребра, нет ориентации. Ну и Е — это под множество в два
[29:24.180 --> 29:29.940]  в степени В, то есть у нас нет кратных ребер. Речь идет о том, что каждое ребро, если встречается,
[29:29.940 --> 29:39.700]  то не более одного раза. Если я так пишу, то корректно задает мне именно простой граф каким-то
[29:39.700 --> 29:51.100]  количеством вершин. Е — это под множество два в степени В, потому что два в степени В — это множество
[29:51.100 --> 30:00.620]  всех под множество множества В, не обязательно двухэлементных. А Е — это некая совокупность этих
[30:00.620 --> 30:06.180]  под множества, ну в данном случае, конечно, двухэлементов. Если они будут не двухэлементными,
[30:06.180 --> 30:10.700]  такая штука называется гиперграфом, но это мы будем обсуждать уже в курсе дискретного анализа.
[30:10.700 --> 30:19.500]  Вот пока у нас есть только графы двумя вершинами в каждом ребре. Так, ну смотрите, если мы разрешаем
[30:19.500 --> 30:31.300]  ориентацию, если разрешить ориентацию, нужно разрешить по теории графов, который написал огромное
[30:31.300 --> 30:36.500]  количество работ по этой науке и в частности написал книжку «Теория графов», которая, в общем,
[30:36.500 --> 30:45.100]  в 60-е годы была таким прям вот, ну законодателем мод что ли. Вот если мы разрешаем петли, то говорим
[30:45.100 --> 30:55.060]  про псевдографы, то есть приставочка псевда означает возможность наличия петель, то есть парсов
[30:55.060 --> 31:07.620]  впадающих вершин в нашем графе. Значит, если мы разрешаем кратные ребра, то говорим про мультиграф,
[31:07.620 --> 31:16.860]  я произнес тут слово гиперграф. Вот гиперграф — это не мультиграф, не надо путать. Мульти — это
[31:16.860 --> 31:22.820]  когда некоторые ребра встречаются по несколько раз, но ребра при этом двухвершинные, обычные
[31:22.820 --> 31:29.220]  графовые ребра. Гиперграф — это вот в следующем семестре я расскажу, но гиперграф — это когда
[31:29.220 --> 31:36.660]  ребра не обязательно из двух вершин, а кратности там тоже нет вообще, говорят. Вот, ну и вот эти три
[31:36.660 --> 31:42.260]  приставки — ор, псевд и мульти — можно комбинировать в любом порядке. То есть если мы разрешаем не что-то
[31:42.260 --> 31:48.580]  одно, а сразу все три, то у нас получится псевд, мульти, ор, граф. Ну или там в каком порядке хотите,
[31:48.580 --> 31:56.380]  в таком и говорите, тут я не вижу никакой унификации. Можно, конечно, сказать как-то иначе. Ну просто вот,
[31:56.380 --> 32:02.700]  чтобы была общая терминология. Там какой-нибудь граф интернета, который я очень люблю, сам изучал,
[32:02.700 --> 32:08.860]  много чего мы про него доказывали. Это вот как раз псевд, мульти, ор, граф. Вершины сайта,
[32:08.860 --> 32:15.140]  ребра ссылки. Понятно, что между двумя сайтами может быть много кратных ссылок, идущих в одном
[32:15.140 --> 32:20.540]  направлении может быть много и в другом тоже. Петли, когда одна страничка внутри сайта цитирует
[32:20.540 --> 32:26.660]  другую. Конечно, могут быть очень монстрозные конструкции. Но в большинстве случаев, когда мы
[32:26.660 --> 32:34.020]  с вами будем что-то обсуждать, мы будем говорить просто слово граф, подразумевая, что это простой
[32:34.020 --> 32:40.100]  граф. То есть вот если я говорю, давайте рассмотрим граф там с множеством каких-то вершин и не ставлю
[32:40.100 --> 32:46.580]  никакую больше к нему приставку, то это обычный простой граф. И в основном мы будем изучать их
[32:46.580 --> 32:52.460]  свойства, потому что все остальное это уже легко накладывается на то, что изучено для простых графов.
[32:52.460 --> 32:58.300]  Там есть всякая специфика, для ор графов есть продвинутая наука, но мы, как правило, в эти
[32:58.300 --> 33:04.180]  дебри закапываться не будем. Хотя что-то может быть обсудимо для них отдельно. Вот граф – это
[33:04.180 --> 33:14.820]  простой граф. Иначе нужна уже какая-то приставка. Ну, давайте я начну с каких-то простых вещей,
[33:14.820 --> 33:21.380]  которые просто сформулирую, которые надо знать, но я уверен, что вы их и так знаете. Но если вы
[33:21.380 --> 33:26.100]  мне скажете, что вы не способны их доказать самостоятельно и потребуете с меня доказательства,
[33:26.100 --> 33:32.580]  я нетресно докажу. Просто какие-то базовые факты, но кажется, что скорее упражнения для людей уровня
[33:32.580 --> 33:45.660]  нашего замечательного ФПМИ, нашей замечательной ФПМИ. Вот. Ну, чего лучше начать? Давайте, наверное,
[33:45.660 --> 33:58.740]  начнем с деревьев. Важный класс графов составляют деревья. Но, опять же, если говорить в плане
[33:58.740 --> 34:03.260]  терминологии, то понятно, что такое дерево, я думаю, все присутствующие, конечно, с ними сталкивались
[34:03.260 --> 34:16.500]  неоднократно. Это то, что называется связные графы без циклов. Но, тем не менее, вот тут нельзя
[34:16.500 --> 34:22.540]  проглатывать этот кусок. Я произнесу аккуратное определение, что такое цикл, что такое цепь или путь
[34:22.540 --> 34:29.140]  в нашем контексте, чтобы тоже не было разночтений при доказательствах, потому что можно по-разному эти
[34:29.140 --> 34:38.140]  вещи, вообще говоря, определять. Значит, давайте скажем, что маршрут в графе, просто я напомню
[34:38.140 --> 34:43.540]  терминологию. Деревья, конечно, связные графы без циклов, да, но вот что такое связные, что значит
[34:43.540 --> 34:53.060]  без циклов. Сейчас аккуратно скажу. Маршрут в графе, это такая вот чередующаяся последовательность
[34:53.060 --> 35:08.380]  V1, E1, V2, E2 и так далее, V, скажем, N, E, N, VN плюс A1. Понятно, что имеется в виду, VIT это вершины,
[35:08.380 --> 35:17.660]  EIT это ребра, и, конечно, предполагается, что каждое ребро EIT представляет собой пару VIT VI
[35:17.660 --> 35:24.460]  плюс 1. То есть вот написано ребро, это вот его концы. Написано ребро, тут тоже его концы, написано
[35:24.460 --> 35:30.300]  ребро, тут тоже его концы. Ну, то есть делается ровно то, что вы себе и представляете. Мы стартуем
[35:30.300 --> 35:36.580]  из какой-то вершины, проходим по ребру, концом которого она служит, приходим во вторую вершину
[35:36.580 --> 35:44.340]  конец этого ребра и дальше двигаемся. Но просто, чтобы вам было четко понятно, вот у вас вершины
[35:44.340 --> 35:51.940]  какие-то V1, V2, вот это вот туда-сюда, туда-сюда, туда-сюда. Это тоже маршрут, согласно этому
[35:51.940 --> 36:00.500]  определению. Никто не говорит, что вот в этой цепочке, в этой последовательности VEIT и разный,
[36:00.500 --> 36:07.020]  и никто тем более не говорит, что все VEIT и разный. Можно ходить туда-сюда, или какое-то время ходить
[36:07.020 --> 36:12.340]  туда-сюда, а потом двигаться дальше. Перепрыгивать нельзя, поэтому вот мы говорим, что концы ребра
[36:12.340 --> 36:18.460]  это те вершины, которые в этой последовательности его обрамляют. Маршрут – это вот то, что мы можем
[36:18.460 --> 36:27.900]  сделать, не отрывая руки, если рисовать картинку. Так, прекрасно, маршрут в графе определили. Давайте
[36:27.900 --> 36:42.300]  скажем, что маршрут замкнутый. Если V1 равняется VN плюс 1, там как угодно ходили туда-сюда,
[36:42.300 --> 36:47.380]  где-то потом переходили, вернулись и так далее. Но важно, что вот стартовая вершина и последняя
[36:47.380 --> 36:55.300]  совпадают. Тогда маршрут замкнутый. Дайте я все чуть-чуть договорю, какой-то связанный кусок.
[36:55.300 --> 37:12.060]  Маршрут замкнутый, если вершины совпадают. Если в замкнутом маршруте все ребра разные,
[37:12.060 --> 37:28.820]  вот эти вот E1, E2, EN – все разные, то он называется циклом. А если все вершины разные,
[37:28.820 --> 37:37.460]  ну тогда ребра автоматом разные, конечно. А если еще и все вершины разные, ну кроме первой и
[37:37.460 --> 37:43.620]  последней, он замкнутый. Но если все остальные вершины разные, больше никакие две не повторяются,
[37:43.620 --> 38:02.660]  то он называется простым циклом. Ну то есть обычный цикл, он может быть хитро как-то устроен. Как-то
[38:03.020 --> 38:11.140]  вернулся в какую-то вершину, дальше как-то хитро пошел, еще как-то пошел. В общем, какая-то хитрая
[38:11.140 --> 38:16.860]  штуковина может быть очень сложная, накрученная сама на себя. И это все называется циклом. Но
[38:16.860 --> 38:23.900]  простой цикл – это для такой конструкции, для которой типичный портрет – просто многоугольник.
[38:23.900 --> 38:29.940]  Так, ну я думаю, что все понятно. Смотрите,
[38:29.940 --> 38:37.020]  последнее, чтобы уже связанный кусок завершить. Если маршрут не является замкнутым, то все то
[38:37.020 --> 38:45.940]  же самое, что здесь написано, называется уже не циклом, а путем или цепью. Это синонимы – путь
[38:45.940 --> 38:56.260]  и цепь. Соответственно, бывает цепь какая-нибудь вот такая дурацкая. Это тоже цепь. Она началась
[38:56.260 --> 39:01.260]  здесь, пошла там как-то и вернулась в какую-то вершину. У нее все ребра разные, но это вот цепь,
[39:01.260 --> 39:06.700]  несмотря на то, что она где-то тут зацепилась, внутри нее цикл появился. А простая цепь – это,
[39:06.700 --> 39:13.380]  ну вот просто такая штука. Если ее вот так перевернуть, то можно называть такую штуку
[39:13.380 --> 39:24.460]  бамбуковым. Бамбуковое дерево. Простая цепь. Все, пять минут перерыв, дальше продолжим. Ну ладно,
[39:24.460 --> 39:32.020]  все, я формализовал, что такое маршрут цикл-цепь. Что такое дерево теперь точно понятно. Давайте
[39:32.020 --> 39:37.100]  я сформулирую теорему, которую не планирую доказывать, потому что я думаю, что каждый ее
[39:37.100 --> 39:43.060]  расценивает как простое упражнение, но повторяю, если нужно, что-то докажу. Теорема звучит так,
[39:43.060 --> 40:04.300]  g, нет, давайте так, для графа g следующие четыре утверждения эквивалентны. Это определение дерева
[40:04.300 --> 40:10.420]  сейчас в четырех вариантах будет, но это важно, потому что таким образом мы понимаем структуру
[40:10.420 --> 40:18.100]  дерева максимально детально. Во-первых, g действительно дерево, то есть g вязаный и не
[40:18.100 --> 40:31.980]  содержит циклов. Базовое определение. Во-вторых, для любых двух вершин этого графа существует и
[40:31.980 --> 40:47.500]  притом единственная цепь, которая соединяет v и w. Каждые две вершины соединены единственной
[40:47.500 --> 40:55.020]  цепью. Ну понятно, что эта цепь будет простой. Она единственная, то она, конечно, проста. Так,
[40:55.020 --> 41:06.740]  третье g связан, ну, кстати, связанность я не определил, но это понятно. Графа между любыми
[41:06.740 --> 41:15.940]  двумя вершинам хоть какой-то маршрут есть. Значит, g связан и, ну, давайте так скажем,
[41:15.940 --> 41:26.980]  мощность e равняется мощность v-1. Количество ребер на единицу меньше, чем количество вершин.
[41:26.980 --> 41:37.460]  Любого дерева, конечно, это так. И четвертое g ацикличен, то есть не содержит циклов и все
[41:37.460 --> 41:46.980]  то же самое. То есть, сказать, что граф связан и у него n-1 ребро на n вершинах, то то же самое,
[41:46.980 --> 41:54.300]  что сказать, что он не содержит циклов и у него n-1 ребро на n вершинах. Ну, я думаю, что для вас
[41:54.300 --> 42:00.620]  совершенно все не новости, конечно, но вопрос в том, чтобы вы смогли равносильность по парну
[42:00.620 --> 42:05.300]  этих утверждений доказывать, я надеюсь, вы понимаете, что я их специально выписал так,
[42:05.300 --> 42:11.060]  чтобы мне, например, в случае чего было удобнее по циклу доказывать равносильность. То есть,
[42:11.060 --> 42:18.220]  я не буду все шесть пар проверять, я из один выведу два, из два выведу три, двенадцать пар туда
[42:18.220 --> 42:25.860]  обратно, из три выведу четыре, из четыре выведу один. По циклу выведу, получим по парную эквивалентность
[42:25.860 --> 42:38.900]  этих утверждений. Ну как вам? Знакомы? Я думаю, да. Так, что я еще не сказал, ну вот связанность я все-таки
[42:38.900 --> 42:44.740]  определил скользь. Понятно, что если граф связанным не является, то он распадается на компоненты.
[42:44.740 --> 42:52.060]  Слово компонент, выражение компонент связанности знаете, да? Если вдруг не знаете, вот я его
[42:52.060 --> 42:59.940]  произношу. Компоненты связанности, ну думаю, что знаете. Компоненты связанности. Можно сказать,
[42:59.940 --> 43:04.700]  что это классы эквивалентных вершин, если считать, что две вершины эквивалентны,
[43:04.700 --> 43:10.380]  коль скоро между ними есть какая-то цель. Отношение эквивалентности и, соответственно,
[43:10.380 --> 43:16.660]  компоненты связанности это вот такие вот классы эквивалентных. Мы с вами можем говорить на таком
[43:16.660 --> 43:27.780]  языке. Так, ну давайте еще слово степень вершины напомню, но это уж точно все, я думаю, знают. Значит,
[43:27.780 --> 43:35.420]  есть вот такое вот обозначение от слова degree, степень вершины. Но это просто количество ребер,
[43:35.420 --> 43:43.820]  концом которых эта вершина служит. Если перейти к орграфу, то там отдельно рассматривают входящую
[43:43.820 --> 43:52.540]  степень и исходящую степень. Степень там тоже рассматривают, это просто сумма входящей и исходящей.
[43:52.540 --> 44:02.300]  Это вот когда мы говорим про ориентированный граф. А петли всегда дают вклад 2-ка степень вершины.
[44:02.300 --> 44:09.020]  То есть, если мы имеем дело с псевдографом, и там в какой-то вершине петля, то ребро-то одно,
[44:09.020 --> 44:17.100]  а степень сразу увеличивается на двойку. Ну просто оно как бы и исходящее, и входящее вместе с тем.
[44:17.100 --> 44:28.220]  Такое соглашение. Ну и, конечно, вы, я не сомневаюсь, понимаете, что если взять сумму степеней по всем
[44:28.220 --> 44:34.620]  вершинам какого-то графа, то мы получим удвоенное количество его ребер. Но это полезное замечание,
[44:35.100 --> 44:38.580]  которое надо как-то держать в голове, когда мы что-то теоретически доказываем.
[44:38.580 --> 44:51.660]  Так, ну давайте я напомню еще один важный факт.
[44:51.660 --> 45:02.300]  Я тоже уверен, все знают, но он уже будет шашком в сторону чего-то чуть более продвинутого.
[45:02.300 --> 45:13.780]  А, нет, рано еще напоминать факт. Понял, чего я хочу сказать. Давайте еще задержимся на деревьях.
[45:13.780 --> 45:20.300]  Нет, пока задержимся на деревьях. Чуть более продвинутым фактом даже о деревьях является вопрос
[45:20.300 --> 45:26.860]  и ответ на него о том, сколько всего можно построить разных деревьев на N-вершинах.
[45:26.860 --> 45:35.940]  Давайте я произведу опросу небольшой аудитории, которая присутствует очная, не называя формулу,
[45:35.940 --> 45:42.780]  не произнося формулу, чтобы не опережать события. Поднимите, пожалуйста, просто руки те,
[45:42.780 --> 45:47.580]  кто знает формулу для числа деревьев на N-вершинах.
[45:47.580 --> 45:58.540]  Ну, даже в этой аудитории далеко не все. Меньшая, значимо меньшая часть. Ну, потерпите, что-то я вам
[45:58.540 --> 46:03.140]  новое точно расскажу скоро, но, видимо, не сегодня уже. Ну, в следующий раз будет
[46:03.140 --> 46:22.420]  нечто новое точно совершенно. Так, значит, давайте обозначим тест индекс МН, число деревьев на N-вершинах.
[46:22.420 --> 46:31.900]  Но тут нужно оговориться, в каком смысле я имею в виду число. Я имею в виду, что два графа различные,
[46:31.900 --> 46:38.980]  если у них различное множество ребер. То есть, это занумерованный граф, у нас вершины занумерованы,
[46:38.980 --> 46:50.580]  у нас есть числа, скажем, один, два и так далее N, и вот это вот вершины нашего будущего дерева.
[46:50.580 --> 46:56.540]  Все, они занумерованы. И нас интересует, каково количество деревьев, если вершины именно имеют
[46:56.540 --> 47:07.340]  такие вот номера. То есть, например, вот такое вот дерево и вот такое вот дерево, казалось бы, одинаковые,
[47:07.340 --> 47:15.340]  но мы их считаем разными, если у них разные вершины стоят в центре вот этого вот колесика.
[47:15.340 --> 47:24.020]  Ну, дальше тут стоят какие-то один, два, четыре, тут неважно в каком порядке один, два, три,
[47:24.100 --> 47:30.740]  но вот это разные графы, потому что у одного есть, скажем, какое ребро, один, четыре,
[47:30.740 --> 47:37.860]  а у другого такого ребра нет. Это разные графы. Но я не думаю, что в этой аудитории я должен
[47:37.860 --> 47:42.900]  кого-то убеждать в том, что они разные. Вы наверняка слышали выражение изоморфные графы,
[47:42.900 --> 47:53.140]  они, безусловно, изоморфны. Точно слышали, кстати? Ну, то есть, видно, можно установить взаимно
[47:53.140 --> 47:57.540]  однозначное соответствие биекцию между вершинами, при которой ребра переходят в ребра,
[47:57.540 --> 48:03.140]  неребра переходят в неребра. Конечно, они изоморфны, это прямо по картинке видно,
[48:03.140 --> 48:10.180]  но они разные, потому что вот сами ребра в них разные. Если это какой-то граф химических
[48:10.180 --> 48:15.180]  соединений, например, или каких-нибудь дорог между городами, то, естественно, это разные графы,
[48:15.180 --> 48:21.940]  по сути. У одного в центре углерода, у другого в центре водорода. Это разные графы. Так вот,
[48:21.940 --> 48:27.460]  теорема. А, мы сейчас ее угадаем. Вот те, кто не знает формулу. Почему я просил не называть
[48:27.460 --> 48:32.500]  формулу? Потому что я хочу, чтобы вы ее угадали. Те, кто эту формулу еще не знает,
[48:32.500 --> 48:45.220]  давайте мы сейчас ее вместе угадаем. Померяем IQ. Ну, хорошо, t1, это понятно, это 1. И, в общем,
[48:45.220 --> 48:49.060]  давайте считать, что это какая-то выделенная ситуация. Ну, сколько деревьев на одной вершине?
[48:49.060 --> 48:58.140]  Одно. Семечка. Ну, одна вершинка. Семечка такая. Зародыш дерева. Сколько деревьев на двух вершинах?
[48:58.140 --> 49:04.780]  Ну, тоже одно. Просто ребро. На двух вершинах одно, единственное, ребро можно построить,
[49:04.780 --> 49:14.260]  если зафиксированы эти вершины. Неважно, в каком порядке их нумеровать. А t3, ну, как бы чуть
[49:14.260 --> 49:23.020]  интереснее, t3, это структурно, с точностью доизоморфизма, это, конечно, всегда бамбук. На трех
[49:23.020 --> 49:35.820]  вершинах бывают только цепи. Сколько цепей? Разных. На трех вершин. Ну, три. Две? Три. Так,
[49:35.820 --> 49:41.100]  три, конечно. Ну, важно, что стоит в центре, а по краям уже неважно. В центре единица, двойка или
[49:41.100 --> 49:49.580]  тройка. Так, давайте посчитаем t4. Ну, если кто-то надеялся увидеть число фибоначчи, то он уже
[49:49.580 --> 49:59.180]  видит, что ошибся. Потому что после 1, 1 обычно идет 2, а не 3. Пошло 3. Знаете, t4, это вот как раз
[49:59.180 --> 50:05.700]  частный случай дерева на четырех вершинах. Таких четыре штуки. Вот этих вот звездочек,
[50:05.700 --> 50:12.300]  что ли, как их назвать, таких трилистников. Таких четыре штуки. Ну, и бывают еще бамбуки для
[50:12.300 --> 50:19.380]  t4. Структурно, больше никаких классов изоморфных деревьев нету. Вот. Сколько бамбуков
[50:19.380 --> 50:33.100]  на четырех вершинах? Ну, слушайте, ну, 24 пополам. Четыре факториал, и неважно в какую сторону читать.
[50:33.500 --> 50:40.700]  Двенадцать. Того шестнадцать. Ну, в принципе, информации не очень много, но если люди не знали,
[50:40.700 --> 50:46.820]  формулу сейчас угадают, ну, значит очень хорошо. Вот вы на это особо не смотрите, хотя оно тоже
[50:46.820 --> 50:55.020]  подойдет под формулу 1, 3, 16. Надо продолжить последовательно, что будет t5. Трудно догадаться.
[50:55.020 --> 51:07.020]  Если не знать, то догадаться трудно. Никто не может из незнавших догадаться, но это трудно. Да.
[51:07.020 --> 51:18.860]  Вот это вот надо воспринимать так. Это 1 в нулевой, это 3 в первый, а это 4 в квадрате. Ну, я хочу
[51:18.860 --> 51:28.460]  сказать, что t5 это 125. Да? n в степени n-2. Да, да, вот теорема, которую я хотел написать,
[51:28.460 --> 51:36.140]  сейчас напишу. n в степени n-2. Это классический результат, который называется формула Келли.
[51:36.140 --> 51:47.500]  Ну, потому что Келли, видимо, один из первых, кто эту формулу установил. Я небольшой историк науки,
[51:47.660 --> 51:53.820]  я, честно, не берусь утверждать, что формулу Келли придумал именно Келли. Я точно знаю,
[51:53.820 --> 51:59.860]  что эту формулу передоказывали порядка сотни раз. Ну, потому что она действительно очень важна
[51:59.860 --> 52:05.500]  для самых разных наук, а интернета не было, и люди публиковались, конечно, где-то, но друг о друге
[52:05.500 --> 52:11.940]  не знали. И вот если Келли, например, установил эту формулу в каком-то, кажется, 1857 году,
[52:11.940 --> 52:18.620]  если я не путаю, то передоказательства появлялись вплоть до 30-х годов 20 века,
[52:18.620 --> 52:23.940]  ну а дальше люди все-таки поняли, что есть такая формула и передоказывать стали исключительно ради
[52:23.940 --> 52:31.600]  искусства. Я не помню, но есть прям целая литература на тему этих сотен доказательств того,
[52:31.600 --> 52:38.020]  как устроена эта формула Келли. Сам Келли мотивировался, кстати, именно химии, то есть он
[52:38.020 --> 52:44.140]  интересовался подсчетом числа парафиновых деревьев. Там всякие формулы, которые представляют
[52:44.140 --> 52:50.300]  собой такие вот, как рыбьи-скелеты, что-то такое классы деревьев с определенными степенями вершин.
[52:50.300 --> 52:57.100]  Ну, в частности, посчитал, сколько всего есть деревьев на n вершинах. Ну а в разных других науках
[52:57.100 --> 53:04.620]  возникали другие соображения. Значит, доказательства я все-таки здесь приведу, но в виде такой
[53:04.620 --> 53:10.020]  относительно короткой схемы, в которой надо будет немножко додумать самостоятельно. Если вы будете
[53:10.020 --> 53:16.180]  чувствовать, что не додумывается, во что я не особо верю, обычно додумывается, то точно разжуют на
[53:16.180 --> 53:24.180]  семинаре. То есть это все будет обсуждаться. Конкретно здесь я приможу доказательства, основанные на идее
[53:24.180 --> 53:41.700]  приуфера. Приуфер предложил кодировать деревья. Это называется коды приуфера. То есть каждому
[53:41.700 --> 53:47.020]  дереву на n вершинах он предложил сопоставить некоторую последовательность чисел. Дайте я на
[53:47.020 --> 53:52.660]  примере нарисую, как это делается, и будет понятно, как это делать в общем случае, иначе это будет трудно
[53:52.820 --> 54:02.460]  воспринимать. Вот берем какое-нибудь дерево. Вы меня можете спросить, почему дерево рисуется именно так,
[54:02.460 --> 54:08.380]  как я его рисую. Я вам отвечу, а совершенно не обязательно его так нарисовать. Можно рисовать как
[54:08.380 --> 54:14.300]  угодно. Имейте в виду просто эту теорему, что структура дерева, она вот примерно такая,
[54:14.300 --> 54:23.420]  как я сейчас нарисовал. Вот какое-нибудь дерево. Вот давайте вот такое небольшое дерево. Как-нибудь
[54:23.420 --> 54:33.100]  занумируем его вершины совершенно в хаотичном порядке, неважно. 4, 5, 6, 7, 8. От того, как мы их
[54:33.100 --> 54:38.140]  занумируем, как раз и будет зависеть, какое дерево мы смотрим. Нам же важна не только структура,
[54:38.140 --> 54:45.180]  нам важны сами ребра. Какие у них концы. Оно занумированное. Вот давайте этому дереву сопоставим
[54:45.180 --> 54:52.820]  код. Объясняю как. Значит, вот если вы глядите на эту теорему и на вот это замечательное простое
[54:52.820 --> 55:04.060]  утверждение, то вы с легкостью можете доказать, я в это верю свято, что у любого дерева на больше
[55:04.060 --> 55:12.340]  чем одной вершине, ну при n равном единице все очевидно. Вот пустян больше чем один. Это уже не
[55:12.340 --> 55:19.180]  семечко, там хотя бы один расточек есть. У любого дерева на больше чем одной вершине есть, как говорят,
[55:19.180 --> 55:29.100]  листья. Ну то есть вершины степени 1. Очевидно. Только, пожалуйста, не ссылайтесь вот на эту картинку.
[55:29.100 --> 55:36.460]  Сумма степеней вершин удвоенное число ребр, если бы у каждой вершины была степень не меньше
[55:36.460 --> 55:43.220]  двойки, то эта сумма была бы не меньше чем 2. Получилось бы, что ребр не меньше чем n, а их n-1.
[55:43.220 --> 55:51.980]  Поэтому висячие вершины листья есть всегда. Давайте возьмем лист, он же висячие вершина,
[55:51.980 --> 56:01.500]  с минимальным номером. Вот здесь он вот. Так, друзья, я, наверное, не очень разогнался. Нормально
[56:01.500 --> 56:09.540]  успеваете. Возьмем лист с минимальным номером и в качестве первого элемента строящегося кода
[56:09.540 --> 56:16.580]  возьмем не его, а второй конец соответствующего висячего ребра, но одно, поэтому второй конец
[56:16.580 --> 56:23.180]  выбирается однозначно. Пишем 4. Потом берем большой секатор и отстригаем эту веточку.
[56:23.180 --> 56:36.580]  Так, остается, очевидно, дерево. Глядите на это утверждение. Если мы отрезали висячую вершину,
[56:36.580 --> 56:44.740]  ясно, что на выходе остается снова дерево. Ну, конечно, если n там больше двойки. Хорошо. В
[56:44.740 --> 56:51.500]  общем случае делаем так же. Какая теперь вершина висячая с наименьшим номером? Нет,
[56:51.500 --> 57:00.460]  3 по-моему, да? Значит, снова выписываем 4 и отстригаем. В какой-то момент произойдет
[57:00.460 --> 57:06.020]  переключение. Значит, смотрите, вот теперь действительно 6. 6 имеет второй конец 2.
[57:06.020 --> 57:27.020]  Так, теперь действительно, теперь кто? Теперь 7. 7, 5. 5, да? Давайте 5, 4. Так,
[57:27.020 --> 57:35.700]  теперь у нас 4 с минимальным номером, висячая вершина, но вырисуем 2. Так,
[57:35.700 --> 57:40.100]  все, у нас осталось одно ребро, больше ничего не делаем. Все, осталось одно ребро, с ним ничего
[57:40.100 --> 57:53.460]  делать не надо. Вот это вот, это код нашего дерева. Код нашего дерева. 1, 2, 3, 4, 5, 6. Было 8 вершин,
[57:53.460 --> 58:02.780]  стало 6 чисел в коде. Ну, я думаю, вы понимаете, что было бы n вершин, было бы n-2 числа. Было бы
[58:02.780 --> 58:10.580]  n-2 числа. Мы научились каждому дереву сопоставлять последовательность из n-2 чисел, если дерево
[58:10.580 --> 58:16.860]  на n вершинах. Каждому дереву на n вершинах мы сопоставляем некоторую последовательность из
[58:16.860 --> 58:29.780]  n-2 чисел. Ну, всего возможных последовательности из n-2 чисел, конечно, n в степени n-2. Надо
[58:29.940 --> 58:35.180]  просто показать, что есть биекция между множеством таких последовательностей и множеством деревьев.
[58:35.180 --> 58:43.620]  Это докажет теорему Кэрри. Ну, первое, что я не буду объяснять, но вы можете додумать самостоятельно
[58:43.620 --> 58:52.060]  или с участием ваших семинаристов, это то, что, конечно, есть инъекция. Но вам нужно осознать,
[58:52.260 --> 59:01.460]  почему, если два разных дерева, то последовательности будут разными. Двум различным деревьям соответствуют
[59:01.460 --> 59:07.540]  две разных последовательности. Это вот я не буду объяснять подробно. Подумайте над этим или
[59:07.540 --> 59:13.420]  обсудите с семинаристами. Но, в общем, это надо понимать, конечно. Инъекция имеет место. По
[59:13.420 --> 59:20.940]  поводу сюръективности, что нужно сделать? Нужно доказать, что каждой последовательности соответствует
[59:20.940 --> 59:28.860]  какое-то дерево. Ну, я тут сделаю два шага. Во-первых, я по последовательности восстановлю дерево,
[59:28.860 --> 59:36.900]  опишу процесс, как восстанавливать дерево. Декодирование, так скажем. По дереву мы построили
[59:36.900 --> 59:41.460]  последовательность, а сейчас обратно по последовательности соберем дерево. Вот у нас
[59:41.460 --> 59:57.460]  есть последовательность 4-4-2-5-4-2. Вот это самое. Давайте по дней напишем 1-2-3-4-5-6-7-8,
[59:57.460 --> 01:00:06.260]  то есть все возможные номера вершин нашего графа. Не кокнул скорость, успеваете?
[01:00:06.260 --> 01:00:20.220]  Держите меня в темпе, пожалуйста. Значит, что очевидно? Очевидно, что поскольку здесь
[01:00:20.220 --> 01:00:27.500]  чисел меньше, чем тут, то в верхней строчке отсутствуют какие-то числа из нижней. Давайте
[01:00:27.500 --> 01:00:32.380]  выберем число с минимальным номером, которое в нижней строчке есть, а в верхней отсутствует.
[01:00:32.380 --> 01:00:45.260]  Число с минимальным номером. 1, да? Правильно. Так, выбираем 1, а здесь берем 4 и формируем
[01:00:45.260 --> 01:00:53.140]  ребро 1-4. Ну оно же 4-1, потому что у нас граф не ориентирован. Формируем ребро 1-4. В кобочках
[01:00:53.140 --> 01:00:58.660]  так вот глядим сюда и замечаем, что, елки-палки, это и есть то самое ребро, которое мы отстригали
[01:00:58.660 --> 01:01:06.180]  первым. Ладно, это повезло. Наверх. Ну давайте вот это удалим, вот это удалим. Все, мы ребро
[01:01:06.180 --> 01:01:14.820]  1-4 сформировали. Ново смотрим на нижнюю строчку и снова находим в ней число с минимальной величиной,
[01:01:14.820 --> 01:01:24.540]  которое отсутствует в строчке сверху. Какое теперь число самое маленькое отсутствует наверху? Три,
[01:01:24.540 --> 01:01:31.620]  правильно. Два присутствует, да? Да, эти три, а здесь возьмем просто следующее внутри последовательности,
[01:01:31.620 --> 01:01:41.100]  вот это четыре. Сформируем ребро 3-4. Правда ли, что мы его отстригали вторым? Вроде правда.
[01:01:41.100 --> 01:01:49.980]  Что-то как-то уже напоминает закономерность. Первый раз, может, повезло, но второй-то раз не может
[01:01:49.980 --> 01:01:59.940]  так повезти. Повезло, да? Снова повезло. Ну и так дальше действуем. Значит, двойка по-прежнему
[01:01:59.940 --> 01:02:10.380]  присутствует. Так, что там? Четверка присутствует, пятерка есть, а шестерки нет. Пишем 2-6 и вычеркиваем
[01:02:10.380 --> 01:02:17.940]  6 и 2. Ну и пытаемся вспомнить, елки-палки, ну вот мы и отрезали как раз 6, то есть уже третье
[01:02:17.940 --> 01:02:22.980]  совпадение. Нет, ну я так, конечно, весело иронизирую. Понятно, что это закономерность,
[01:02:22.980 --> 01:02:31.340]  что это так всегда и будет. Ну давайте до конца доведем. Так, тут чего? 4 и 5 пока есть,
[01:02:31.340 --> 01:02:36.460]  два тоже есть, семерка отсутствует. Ну семерку-то мы и отрезали там, конечно.
[01:02:36.460 --> 01:02:49.860]  Получится 5-7. Вот, теперь пятерки нет. Пятерка тут есть, а тут пятерки нет. Пишем туда, запитает 4-5.
[01:02:49.860 --> 01:03:01.860]  Ну вроде так и было, да, отстригли это, потом отстригли это. 4-5. Так, чего у нас тут 4? Тут 5.
[01:03:01.860 --> 01:03:08.380]  Два есть, четыре теперь нету. Ну отлично, да, вот как раз четверку мы отстригали, там последний.
[01:03:08.380 --> 01:03:17.300]  Получится 2-4, 2-4. И осталось 2-8, не вырезанное в нижней последовательности. Это как раз то
[01:03:17.300 --> 01:03:25.420]  самое ребро, с которым мы ничего не делаем. Но это как бы следующее упражнение, которое вам нужно
[01:03:25.420 --> 01:03:30.460]  для себя осознать. То, действительно, если у вас какая-то последовательность получилась при
[01:03:30.460 --> 01:03:37.220]  кодировании, описанном вот здесь, последовательность, то декодирование, которое описано тут, всегда
[01:03:37.220 --> 01:03:46.140]  восстановит исходное дерево. Ну я не буду подробно доказывать, а вам это надо осознать.
[01:03:46.140 --> 01:03:55.180]  Но это всегда разбирают, если кто-то не понимает, разберут, конечно. Вот, и последнее. Смотрите,
[01:03:55.180 --> 01:04:02.700]  но это же не доказала сюръекцию, правда? Потому что пока мы только увидели красивую историю, что взяли
[01:04:02.700 --> 01:04:08.700]  дерево, закодировали, взяли вот эту последовательность, зная, что она соответствует вот этому дереву, что она из
[01:04:08.700 --> 01:04:16.140]  него получена, и ее вот так вот раскодировали обратно в это самое дерево. Ну мало ли, а может
[01:04:16.140 --> 01:04:22.140]  быть есть какая-то вообще случайная рандомная последовательность, которая не из дерева получена,
[01:04:22.140 --> 01:04:27.580]  вы ее будете декодировать с помощью вот этой процедуры, а дерево не выйдет? Может же такое быть?
[01:04:27.580 --> 01:04:36.580]  Теоретически, да. Поэтому третье, что вам предстоит продумать для себя, что если вы запускаете этот
[01:04:36.580 --> 01:04:43.580]  процесс декодирования на любой совершенно последовательности длины n-2 из n чисел, на
[01:04:43.580 --> 01:04:53.180]  любой совершенно, то вот этот набор ребер, который получится, действительно образует дерево.
[01:04:53.180 --> 01:05:04.220]  Тогда получится сюръекция. Смотрите, что для этого нужно? Понятно, что ребер-то получается n-1 по
[01:05:04.220 --> 01:05:17.500]  построению. Вот это построение всегда дает n-1 ребро. Согласны? Ну очевидно. Поэтому, глядя на эту теорему,
[01:05:17.500 --> 01:05:22.460]  вы понимаете, что достаточно доказать, что итоговый граф будет просто связан или просто
[01:05:22.460 --> 01:05:28.820]  ацикличан. Это одно и то же. Мне почему-то кажется, что чуть проще доказывать отсутствие циклов и
[01:05:28.820 --> 01:05:35.340]  делать это надо просто индукцией Паем. Это максимальный, так сказать, набор подсказок,
[01:05:35.340 --> 01:05:42.420]  которые я в этом месте обычно даю. То есть, есть кодирование, есть декодирование. Надо доказать
[01:05:42.420 --> 01:05:49.100]  инъективность, что разным деревьям соответствуют разные коды. Надо понять, почему декодирование
[01:05:49.100 --> 01:05:53.700]  приводит к тому же самому дереву, что это не только вот такое чудо на примере, но это всегда так. И
[01:05:53.700 --> 01:05:59.260]  надо понять, например, по индукции, почему циклов в такой штуке не возникнет, если вы берете
[01:05:59.260 --> 01:06:05.140]  совершенно произвольную последовательность. А то, что ребер столько, сколько надо, это просто по
[01:06:05.140 --> 01:06:13.940]  построению. Вот такая вот схема доказательства теоремы Келли. Слушайте, а я могу еще что-то
[01:06:13.940 --> 01:06:27.100]  рассказать? Что, я разогнался, что ли? Нормально-то там все успели? Бессловесное животное.
[01:06:27.100 --> 01:06:43.860]  Но даже не знаю. Может, успеем? Нет, не успеем. Не успеем. Продолжением этой истории, знаете,
[01:06:43.860 --> 01:06:48.780]  что является? Ну, дайте я просто анонсирую, рассказать нормально, не успею. Значит, дерево,
[01:06:48.780 --> 01:06:54.980]  как вы, наверное, понимаете, это самый тощий связанный граф. Тощий по числу ребер. То есть,
[01:06:54.980 --> 01:07:00.820]  если вы возьмете на n-вершинах n-2 ребра, то это никогда не будет связанным графом, но это видно
[01:07:00.820 --> 01:07:08.180]  в общем и из теории. Это самый тощий среди всех связанных графов на n-вершинах. Для очень многих
[01:07:08.180 --> 01:07:13.900]  приложений важно подсчитывать, конечно, не только количество деревьев, но и количество графов более
[01:07:13.900 --> 01:07:24.540]  толстых. То есть, люди интересуются таким вопросом. Вот пусть c от n и k, это количество связанных
[01:07:24.540 --> 01:07:42.740]  графов. Количество связанных графов на n-вершинах с к ребрами. С к ребрами. Это важно, например,
[01:07:42.740 --> 01:07:47.660]  для теории случайных графов, которые позволяют в большинстве случаев какие-то задачи решать,
[01:07:47.660 --> 01:07:53.940]  в том числе алгоритмические. То есть, эта вещь такая очень применительная. Ну вот, что мы понимаем,
[01:07:53.940 --> 01:08:06.460]  что если k не превосходит n-2, то c от n и k равняется нулю. И сейчас мы доказали, что если k равно n-1,
[01:08:06.460 --> 01:08:17.500]  то есть получается дерево, то c от n и k равняется n в степени n-2. Вопрос, который хотелось бы
[01:08:17.500 --> 01:08:24.300]  обсудить, но за пять минут все-таки мы не обсудим точно, совершенно. Это вопрос о том,
[01:08:24.300 --> 01:08:38.060]  чему равняется c от n, n плюс a1. Сейчас, почему n плюс a1? Просто n. Извините, я куда-то улетел.
[01:08:38.060 --> 01:08:45.220]  Да, от n, n, конечно. То есть, это следующее после дерева по толщине, так сказать, конструкция.
[01:08:45.220 --> 01:08:54.780]  Как бы можно было в целом охарактеризовать графы, у которых на n-вершинах n ребр? Можно сказать так,
[01:08:54.780 --> 01:09:00.980]  это графы, у которых ровно один цикл. Понимаете? То есть, это дерево, к которому добавили дополнительное
[01:09:00.980 --> 01:09:09.460]  ребро. Замыкающая некий простой, конечно, цикл. Оно вот так еще обозначается, потому что u это
[01:09:09.460 --> 01:09:16.700]  первая буква слова унициклический граф. Граф называется унициклическим, если в нем содержится
[01:09:16.700 --> 01:09:29.780]  ровно один, естественно, простой цикл. Унициклический. Одноцикловый. Графы, вот их
[01:09:29.780 --> 01:09:36.340]  столько. Сколько их? С обсуждения этого мы начнем, видимо, тогда следующую лекцию,
[01:09:36.340 --> 01:09:43.820]  потому что прямо сейчас, ну, за 4 минуты это не сделать. Все, на сегодня.
