[00:00.000 --> 00:16.000]  Вот давайте так еще раз. Итак, список всех паттернов, их больше и гораздо больше.
[00:16.000 --> 00:20.000]  Кстати, я на самом деле встречал несколько различных паттернов.
[00:20.000 --> 00:24.000]  И очень многие не согласны, например, с тем, что я вот так делаю.
[00:24.000 --> 00:30.000]  Вот эти подходы я выделяю в качестве паттернов.
[00:30.000 --> 00:34.000]  Очередь или функциональное разделение как паттерн.
[00:34.000 --> 00:40.000]  То есть имейте в виду, что это все достаточно условно, здесь нету прям правил.
[00:40.000 --> 00:44.000]  А кто-то считает паттерном объектно-ориентированное программирование?
[00:44.000 --> 00:47.000]  Вот объектно-ориентированное программирование один паттерн,
[00:47.000 --> 00:49.000]  да Main Dreaming Design другой паттерн.
[00:50.000 --> 00:57.000]  Будете потом встретить с этим с работой, в работе не бейтесь в кровь.
[00:57.000 --> 01:01.000]  Нет вообще принятого правильного ответа.
[01:01.000 --> 01:04.000]  Но суть это не меняется.
[01:04.000 --> 01:09.000]  Это некий подход, это некий кирпичик, из которого может складываться архитектура.
[01:09.000 --> 01:15.000]  Некий прием, который вы можете применить до решения той или иной задачи.
[01:15.000 --> 01:20.000]  Даша, пласток мы все прошли, мы с вами попытались собраться в некий алгоритм.
[01:20.000 --> 01:29.000]  Первый шаг алгоритма это описать бизнес-лиг.
[01:29.000 --> 01:33.000]  То есть описать все цифры, все как система будет развиваться,
[01:33.000 --> 01:37.000]  все, что с ней происходит, все, что пользователь может в ней делать.
[01:37.000 --> 01:41.000]  Какие функции выполняешь сейчас, какие функции будут выполнять потом,
[01:41.000 --> 01:44.000]  через год или там тоже нужно читать.
[01:44.000 --> 01:46.000]  Опять все данные.
[01:46.000 --> 01:53.000]  Причем данные описываются нас вами, помните, в трех размерах, в трех осях.
[01:53.000 --> 02:00.000]  Мы узнаем средние, мы узнаем максимальные значения данных.
[02:00.000 --> 02:02.000]  А третье я не помню.
[02:02.000 --> 02:06.000]  По-моему сейчас и потом, опять же, время, третье, третье время.
[02:06.000 --> 02:11.000]  То есть какие объекты есть, какие уклони размера, что с ними можно сделать,
[02:11.000 --> 02:16.000]  сколько их может быть, если это пользователи, сколько их может быть,
[02:16.000 --> 02:20.000]  если это друзья у пользователей, сколько может быть друзей у пользователей и так далее.
[02:20.000 --> 02:25.000]  Причем как средние значения, так и максимальные допустимые.
[02:25.000 --> 02:31.000]  Самое плохое слово, которое можно сказать, что нет никаких ограничений.
[02:31.000 --> 02:36.000]  Вот это прям всегда жди подвоха, в правде нет никаких ограничений.
[02:36.000 --> 02:39.000]  Не заметьте, ограничений везде есть.
[02:39.000 --> 02:45.000]  Живой журнал была такая соцсетка «нельзя больше пяти тысяч друзей»,
[02:45.000 --> 02:53.000]  «бойфрэйнд ленту нельзя откручивать больше, чем месяца в шесть прошлое» и так далее.
[02:53.000 --> 02:57.000]  То есть везде есть какие-то ограничения, они неспроста.
[02:57.000 --> 02:59.000]  И нефункциональные требования.
[02:59.000 --> 03:04.000]  То есть как быстро должна работать система, как быстро отвечать,
[03:04.000 --> 03:08.000]  может ли она ломаться и так далее.
[03:08.000 --> 03:11.000]  Дальше, описали все. Шаг второй.
[03:11.000 --> 03:15.000]  Считайте, просадитесь и считайте, сколько данных, сколько процессоров,
[03:15.000 --> 03:18.000]  сколько каналов, сколько еще чего, сколько памяти,
[03:18.000 --> 03:21.000]  что вообще, сколько записей, сколько чтения.
[03:21.000 --> 03:25.000]  То есть пытайтесь нащупать на критический путь,
[03:25.000 --> 03:28.000]  то есть некую проблемную точку, она нам потом потребуется.
[03:28.000 --> 03:31.000]  То есть что может сломаться? Где может это закончиться?
[03:31.000 --> 03:36.560]  что может... если это youtube, то, очевидно, нам дисков нужно дохренище, если это
[03:36.560 --> 03:41.320]  тестовый индукциондекс, то дохренища тестовый индукциондекс, да, размера дисков.
[03:41.320 --> 03:48.840]  есть, например, это новостной сайт, да, по большому счету канал, что еще, да, то есть,
[03:48.840 --> 03:55.400]  вроде как, вычисления особо нет, баздано маленькое, диск не нужен, зато нужно очень
[03:55.400 --> 04:08.040]  много это отдавать, а если это vpn, то что? во что упрямься, если это vpn? сеть, наверное. раз, а еще?
[04:08.040 --> 04:20.480]  до спроса упрямься тоже, будем перкодировать, включить vpn на телефоне, у вас батарейка разъедит
[04:20.480 --> 04:30.200]  пять раз быстрее, почему? неспроста. вот, короче, ищите какой-то такой самый критический путь. дальше,
[04:30.200 --> 04:36.520]  это мы с вами, вот, как бы, второй, третий, четвертый, мы с вами исследуем систему будущую,
[04:36.520 --> 04:42.080]  чтобы понять, за что зацепиться нам при проектировании. второе, это пытаемся понять,
[04:42.080 --> 04:48.240]  что может допустим и деградацию. мы спрашиваем просто у project manager, слушай, а насколько можно
[04:48.880 --> 04:55.440]  вот здесь ужать, а вот здесь не вовремя сделать, а вот здесь? например, такой деградация может быть
[04:55.440 --> 05:03.280]  разная. например, новостной ресурс в моменты перегрузки может выдавать новости с пяти минутной
[05:03.280 --> 05:16.000]  задержкой или не может, а friendlent может пускать не по порядку новости, а не новости о посты. или не
[05:16.000 --> 05:24.440]  может, опять же. вот, везде такие будут какие-то небольшие, все вот эти вот отклонения от некого
[05:26.920 --> 05:33.880]  допустимое, допустимое отклонение всех нужно собрать. еще один пункт, который мы допустим,
[05:34.720 --> 05:45.920]  и еще один пункт, пытаемся построить схему движения данных. просто как данные у нас в
[05:45.920 --> 05:52.080]  системе живут, как они двигаются, как они в нее попадают, как они преобразуются, как хранятся,
[05:52.080 --> 06:02.160]  как отдаются пользователю и так далее. некое workflow именно для данных. в большинстве случаев, скажем
[06:02.160 --> 06:09.800]  так, данные, именно вокруг данных вы будете представить, строительство и архитектур. вот,
[06:09.800 --> 06:20.360]  то есть, и дальше мы пытаемся все это собрать. то есть, нам с вами нужно выбрать вот ту особенность
[06:20.360 --> 06:26.280]  некой нашей программной системы, на которую мы могли бы опереть. либо это вот какая-то критическая
[06:26.280 --> 06:32.840]  точка во что мы приемся, либо это какие-то свойства данных, либо это какие-то пункты,
[06:32.840 --> 06:40.280]  были градации и так далее. если помните, мы с вами в прошлый раз в работе, когда проектировали
[06:40.280 --> 06:47.800]  спортивный транспорт, мы с вами оперлись на то, что данные для всех одинаковы. вот это прекрасно
[06:47.800 --> 06:54.120]  примерно что можно опереть. на этом оперлись и на то, что на путь движения данных, что данные
[06:54.120 --> 06:59.840]  входят из одного источника, по большому счету, контролируемого нами, а выходят по множеству.
[06:59.840 --> 07:04.760]  для всех одинаковые. вот мы взяли эти две особенности и собрали из них архитектуру.
[07:04.760 --> 07:15.840]  дальше мы все это делаем, то есть как бы проектируем нашу архитектуру. и шестой шаг,
[07:15.840 --> 07:21.000]  который мы в прошлый раз с вами не рассмотрели, мы пробуем его сломать. мы смотрим на нее и думаем,
[07:21.000 --> 07:28.680]  а что будет, если этот узел будет справа. то есть у нас есть национальное требование по
[07:28.680 --> 07:45.360]  неубиваемости, по отказу в стойчивости, то мы решаем вот это. тренируемся. тренироваться будем так.
[07:45.360 --> 08:03.080]  можете, пожалуйста, пятый шаг. у нас сейчас с вами будет три задачи. у нас 6 команд,
[08:03.080 --> 08:19.080]  да, ничего не изменилось. 7. команда без логики. ну пусть будет команда без логики.
[08:19.080 --> 08:34.440]  у них и название, конечно. нам достаточно сейчас команд без логики.
[08:49.280 --> 08:59.320]  сейчас дальнейшие действия. у нас следующий. у нас будет три задания.
[09:01.560 --> 09:05.240]  начнем работать над ними сегодня. закончим в следующий раз срочно.
[09:05.240 --> 09:16.640]  первое. профили на сайте знакомств. второе задание. проектировать френд-ленту. третье задание.
[09:16.640 --> 09:29.240]  проектировать хэштег. ленту хэштега в твиттере. все непростые. профили на сайте знакомств.
[09:29.240 --> 09:38.440]  самое-самое-самое-самое лайтовое, конечно. но вот френд-лента и хэштеги сложные.
[09:38.440 --> 09:47.160]  мы начнем сегодня. сейчас я вам вкратце расскажу про каждый проект.
[09:47.160 --> 09:59.040]  затем вы разобьетесь на сессионные залы. именно по командам. и поработаете в сессионных залах.
[09:59.040 --> 10:05.280]  что значит поработаете в сессионных залах? внутри сессионного зала вы сделаете следующее.
[10:05.280 --> 10:13.320]  первое. выберите себе проект. выберите себе архитектуру, которую будете проектировать.
[10:13.320 --> 10:20.120]  второе. начнете составлять, сообщите мне, какой архитектур вы выбрали.
[10:20.120 --> 10:29.800]  третье. начнете составлять список вопросов. я прожиг менеджер всех трех проектов. вы должны
[10:29.800 --> 10:39.400]  выяснить у меня, чего я хочу. вы готовитесь. составляете список вопросов. потом через 15-20 минут
[10:39.400 --> 10:52.480]  я к вам прихожу. вы мне задаете. я вам на них отвечаю. после этого можете остаться еще поработать.
[10:53.480 --> 11:05.360]  но наша цель в следующий раз, в следующую среду, мы с вами защищаемся очно. и вы защищаетесь друг
[11:05.360 --> 11:15.360]  перед другом. вы просто выходите, стоите перед доской и начинаете как команда рисовать свою
[11:15.360 --> 11:21.600]  архитектуру. и все остальные будут задавать вам вопросы. а что произойдет, если так? а подумали
[11:21.600 --> 11:27.040]  ли вы об этом? а что если пользователь поведет себя вот так? а что если у него будет миллиард
[11:27.040 --> 11:36.600]  друзей? и так далее. и вы должны, ваша архитектура должна выдержать этого самого атаку. вот такая
[11:36.600 --> 11:47.760]  вот история. в результате мы с вами сформируем за эти две недели прямо три готовые архитектуры.
[11:47.760 --> 12:00.640]  естественно, это значительно обличит вам прохождение экзамена. успешные прохождения
[12:00.640 --> 12:09.280]  вот этого самого. вот этих самых двух недель. и так, погнали. вопросы по схеме работы есть?
[12:15.280 --> 12:20.480]  нет. а залы сессионные, они где появятся? или вы нас просто раскидаете сейчас как-то?
[12:20.480 --> 12:27.480]  нет, я не раскидаю. они появятся прямо здесь. я не знаю, как они появятся. я нашу кнопку и вы их увидите.
[12:27.480 --> 12:38.200]  я включил свободный переход по всем залам. вы просто зайдете и сами зайдете в зал
[12:38.200 --> 12:47.520]  своей команды. залы названные по названию команды. так, еще вопросы по процессу.
[12:47.520 --> 12:57.520]  вопросов нет. погнали. итак, профиль на сайте знакомств. очень просто. сайт знакомств,
[12:57.520 --> 13:05.880]  badoo или tinder, что угодно. то есть любой. пользователь заполняет амкету. амкета большая,
[13:05.880 --> 13:11.760]  там могут быть картинки, фотки, еще что-то на приличного размера. получается логинт
[13:11.760 --> 13:18.800]  порой для доступа к своему личному кабинету. ну и пользователи могут смотреть профили друг
[13:18.800 --> 13:23.880]  друга. вот базовая задача такая. она очень простая, поэтому я буду задавать в процессе
[13:23.880 --> 13:31.320]  различного рода дополнительные сложные вопросы. то есть вам потребуется наворачивать различного
[13:31.320 --> 13:39.320]  рода сервисы вокруг этой системы профилей. например, поиск по параметрам. например,
[13:39.320 --> 13:48.920]  список заходящих на вашу амкету, просматривающих вашу амкету в последнюю неделю. то есть какие-то
[13:48.920 --> 13:53.320]  дополнительные сервисы будут. сейчас их проектировать не надо, но нужно учитывать, что они будут.
[13:53.320 --> 14:01.240]  дальше пользователи. пользователи 200 миллионов. амкета занимает 10 килобайт.
[14:01.240 --> 14:12.640]  амкет, соответственно, всего получается по объему 3200 байта. китов 5 миллиардов
[14:12.640 --> 14:21.800]  в день. 5 миллиардов просмотров чужих амкет в день. это довольно много. значит, что я уже готов вам
[14:21.800 --> 14:28.400]  сообщить по поводу еще по поводу деградации. деградация недопустима. ни в коем случае, ни по
[14:28.400 --> 14:40.720]  каких условиях. данные пользователя потерять нельзя. это так называемые персданные. это
[14:40.720 --> 14:46.160]  называемые персональные данные. это очень важно. это очень критично. пользователь на эту тему очень
[14:46.160 --> 14:58.720]  переживает и так далее. это европа. дикие штрафы за неправильную работу с персональными данными.
[14:58.720 --> 15:11.000]  это первая часть. дальше. первый проект. второй проект. вопросы будете задавать потом,
[15:11.000 --> 15:23.960]  когда сформулируете их со своей командой. фрейдбук. у него есть фрейдбук. здесь мы делаем только
[15:23.960 --> 15:33.320]  фрейд ленту. только этот сервис. больше ничего. друзья, профили, фотки, все находятся за пределами
[15:33.320 --> 15:40.160]  нашего сервиса, который нам нужен. пользователь подписывается на других пользователей. заносит их
[15:40.160 --> 15:48.040]  в друзья. подписывает. и пользователь может посмотреть список постов друзей примерно
[15:48.040 --> 15:59.720]  в хронологическом порядке. это не критично, но порядок примерно хронологический. я как пользователь
[15:59.720 --> 16:07.080]  могу посмотреть список постов. пользователей очень много. пользователей 2 миллиарда. каждый пост в среднем.
[16:07.080 --> 16:12.780]  Я сейчас презентацию кину прямо в чате к нам, чтобы вы просто цифру отбрали.
[16:12.780 --> 16:20.580]  Можешь не записывать. Каждый пост в среднем занимает 300 байт, но может быть до 10 килобайт.
[16:20.580 --> 16:26.580]  Мы пока реализуем первую версию. Фосты только текстовые, все очень просто.
[16:26.580 --> 16:32.580]  Цифры, посещаемости такие. 10% пользователей заходят ежедневно.
[16:32.580 --> 16:36.580]  В среднем в течение дня они заходят три ежды.
[16:36.580 --> 16:42.580]  И в среднем в течение дня каждый пользователь пишет один пост из зашедших.
[16:42.580 --> 16:47.580]  Примерно прикидывайте, сколько чего, какой поток объем данных будет,
[16:47.580 --> 16:51.080]  как быстрая светобаза будет запросить и так далее.
[16:51.080 --> 16:56.580]  Дальше. Пользователь просматривает в среднем 20 верхних пасов.
[16:56.580 --> 16:58.580]  Но у него по большому счету нет никаких ограничений.
[16:58.580 --> 17:03.580]  Сколько процессора его компьютера-браузера хватит, он может вертеть и вертеть с них.
[17:03.580 --> 17:08.580]  FriendLent подгружается при прокручивании экрана.
[17:08.580 --> 17:13.580]  И у одного пользователя в среднем 300 друзей, но может быть сколько угодно.
[17:13.580 --> 17:17.580]  Он может быть подписан на любое количество других пользователей.
[17:17.580 --> 17:22.580]  Если я на кого-то подписываюсь, то посты этого пользователя появляются у меня во FriendLent.
[17:22.580 --> 17:27.580]  Но и деградация частичная запустима.
[17:27.580 --> 17:32.580]  Посты терять нельзя. Порядок не обязан быть строго хронологическим.
[17:32.580 --> 17:39.580]  И пока мы с вами не рассматриваем и не обрабатываем ситуацию, что нам делать,
[17:39.580 --> 17:44.580]  когда пользователь удалился из друзей или удалил кого-то из друзей.
[17:44.580 --> 17:48.580]  Потому что в обычном мире FriendLent перестраивается.
[17:48.580 --> 17:53.580]  Нужно удалить этого пользователя.
[17:53.580 --> 17:58.580]  Вот мы пока на эту тему не паримся.
[17:58.580 --> 18:02.580]  Итак, это FriendLent.
[18:02.580 --> 18:06.580]  Пложная задача. Следующий кусочек Twitter.
[18:06.580 --> 18:09.580]  Не менее сложная задача.
[18:09.580 --> 18:13.580]  Конкретно ленту хэштега.
[18:13.580 --> 18:15.580]  Ленту хэштега.
[18:15.580 --> 18:18.580]  Итак, у нас есть точно так же пользователи.
[18:18.580 --> 18:21.580]  У нас есть пользователи, пишут посты.
[18:21.580 --> 18:23.580]  В каждом посте могут быть хэштеги.
[18:23.580 --> 18:26.580]  Это все как бы вне нашей системы.
[18:26.580 --> 18:33.580]  Но мы реализуем только ленту постов внутри этого хэштега.
[18:33.580 --> 18:36.580]  Друзья, профили все за пределами сервиса.
[18:36.580 --> 18:43.580]  Значит, пользователь может посмотреть ленту постов по этому конкретному хэштегу.
[18:43.580 --> 18:50.580]  Пользователь смотрит этот список постов в хэштеге примерно в хронологическом порядке.
[18:50.580 --> 18:53.580]  Пользователей миллиард.
[18:53.580 --> 18:55.580]  Каждый пост в среднем 100 байс.
[18:55.580 --> 18:57.580]  Максимальная длина 140 байс.
[18:57.580 --> 19:00.580]  Посты только текстовые.
[19:00.580 --> 19:02.580]  В посте может быть...
[19:02.580 --> 19:04.580]  Сколько влезет хэштегов?
[19:04.580 --> 19:05.580]  До 10.
[19:05.580 --> 19:09.580]  Среднее количество хэштегов в каждом посте 2.
[19:09.580 --> 19:11.580]  Среднее 1.
[19:11.580 --> 19:14.580]  10% пользователей заходят ежедневно.
[19:14.580 --> 19:17.580]  В среднем каждый смотрит одну ленту хэштега в день.
[19:17.580 --> 19:21.580]  И в среднем пользователи пишут 7 постов в день.
[19:21.580 --> 19:26.580]  Пользователь просмотрит в среднем 20 верхних постов в ленте хэштега.
[19:26.580 --> 19:28.580]  Но у него опять же нет никаких ограничений.
[19:28.580 --> 19:32.580]  При прокручивании экрана это все будет появляться.
[19:32.580 --> 19:35.580]  Так, вот эти три проекта.
[19:38.580 --> 19:40.580]  Теперь...
[19:41.580 --> 19:43.580]  Я запускаю...
[19:45.580 --> 19:48.580]  Поддеградация еще должна быть же.
[19:50.580 --> 19:51.580]  Ой.
[19:51.580 --> 19:53.580]  Сейчас.
[19:53.580 --> 19:55.580]  Сейчас запущу.
[19:55.580 --> 19:57.580]  Деградация действительно должна быть.
[19:57.580 --> 19:59.580]  Слушай, ну там то же самое.
[19:59.580 --> 20:01.580]  Деградация недопустима.
[20:05.580 --> 20:08.580]  Ничего не может ломаться.
[20:08.580 --> 20:10.580]  Ничего нельзя терять.
[20:10.580 --> 20:13.580]  Примерный хронологический порядок.
[20:13.580 --> 20:15.580]  Ничего нельзя терять.
[20:15.580 --> 20:18.580]  Примерный хронологический порядок.
[20:23.580 --> 20:24.580]  Делать пластынь нельзя.
[20:24.580 --> 20:27.580]  Порядок не обязывает строго хронологически.
[20:27.580 --> 20:31.580]  Если пластынь отредактировал пост, то мы на это не реагируем.
[20:31.580 --> 20:36.580]  То есть если пластынь взял и удалил хэштег из поста,
[20:36.580 --> 20:40.580]  мы пока ничего не делаем на эту тему.
[20:40.580 --> 20:42.580]  Мы не переживаем.
[20:44.580 --> 20:46.580]  Так.
[20:46.580 --> 20:47.580]  Значит, все.
[20:47.580 --> 20:49.580]  У вас по-прежнему семеро.
[20:49.580 --> 20:51.580]  Больше не надо.
[20:51.580 --> 20:54.580]  Запускаю с пустенной залы.
[20:58.580 --> 20:59.580]  Так.
[20:59.580 --> 21:02.580]  Сколько мы ожидаем популярных хэштегов?
[21:02.580 --> 21:10.580]  То есть типа, например, тех, на которых приходится 90% запросов на показ?
[21:13.580 --> 21:15.580]  Запросы на показы.
[21:15.580 --> 21:16.580]  Значит, смотри.
[21:16.580 --> 21:22.580]  Есть два пункта этой популярности.
[21:22.580 --> 21:26.580]  Первая популярность – это на показы.
[21:26.580 --> 21:27.580]  Цитрат.
[21:27.580 --> 21:29.580]  Первая группа цитратов не спросила.
[21:29.580 --> 21:32.580]  То есть есть хэштеги, которые часто запрашиваются на чтение.
[21:32.580 --> 21:35.580]  Чаще, чем другие.
[21:35.580 --> 21:40.580]  И есть хэштеги, которые часто обновляются.
[21:40.580 --> 21:42.580]  Чаще, чем другие.
[21:42.580 --> 21:46.580]  Мы подумали, что это одни и те же будут примерно.
[21:46.580 --> 21:48.580]  Ну и мы тоже это подумали.
[21:48.580 --> 21:50.580]  Ну, в принципе, да, можно так сказать.
[21:50.580 --> 21:51.580]  Согласен.
[21:51.580 --> 21:54.580]  Скорее всего, будут одни и те же.
[21:54.580 --> 21:59.580]  Распределение крайне неравномерно ге.
[21:59.580 --> 22:01.580]  И крайне изменчивое.
[22:01.580 --> 22:03.580]  То есть все, как у первой группы.
[22:03.580 --> 22:09.580]  То есть есть такие хэштеги, которые прямо очень-очень популярны в течение дня
[22:09.580 --> 22:11.580]  или в течение промежутка какого-то времени.
[22:11.580 --> 22:14.580]  Потом они уходят, теряют популярность.
[22:14.580 --> 22:16.580]  Появляются другие и так далее.
[22:16.580 --> 22:18.580]  То есть есть какие-то лидеры.
[22:18.580 --> 22:25.580]  И есть огромный хвост влачащих жалкое существование хэштегов.
[22:25.580 --> 22:26.580]  Так.
[22:26.580 --> 22:29.580]  Давай дальше.
[22:29.580 --> 22:31.580]  А можно ли делать поиск?
[22:31.580 --> 22:34.580]  Я прослушал, а вот эти вот горячие с ними-то.
[22:34.580 --> 22:37.580]  Там же очень большой поток создания новых постов.
[22:37.580 --> 22:40.580]  То есть нам нужно, когда новый пост горячий попадает,
[22:40.580 --> 22:41.580]  тоже его отображать?
[22:41.580 --> 22:44.580]  Или все же мы хотим, чтобы там была какая-то консистентность постов.
[22:44.580 --> 22:46.580]  Скажем, чтобы они не слишком часто обновлялись.
[22:46.580 --> 22:50.580]  Потому что кажется, когда слишком много желаний написать по хэштегу,
[22:50.580 --> 22:54.580]  там просто в помойку это все превратится дело.
[22:54.580 --> 22:58.580]  Мы это никак не ограничиваем.
[22:58.580 --> 23:02.580]  То есть как бы вот именно технологически никак не ограничиваем.
[23:02.580 --> 23:04.580]  Интерфейсно, да.
[23:04.580 --> 23:06.580]  Если ты, кстати...
[23:06.580 --> 23:10.580]  Как Twitter решила эту проблему?
[23:10.580 --> 23:13.580]  Не замечали?
[23:13.580 --> 23:15.580]  Ну, очень просто.
[23:15.580 --> 23:19.580]  Он просто добавляет наверх...
[23:19.580 --> 23:22.580]  Вот ты листаешь свою ленту.
[23:22.580 --> 23:28.580]  То есть он добавляет сверху значок о том, что чувак что-то появилось.
[23:28.580 --> 23:31.580]  Нажми на вот этот значок, нажми на иконочку.
[23:31.580 --> 23:33.580]  Я теперь загружу страницу.
[23:33.580 --> 23:35.580]  То есть интерфейсно это, конечно, решается.
[23:35.580 --> 23:40.580]  Потому что невозможно будет читать ленту хэштега
[23:40.580 --> 23:46.580]  при постоянных добавлениях новых сообщений.
[23:46.580 --> 23:50.580]  Но технологически никак не ограничиваем.
[23:50.580 --> 23:53.580]  Даже если туда пишут миллион сообщений в минуту,
[23:53.580 --> 23:59.580]  мы должны готовы записать миллион сообщений в минуту.
[23:59.580 --> 24:04.580]  Давай дальше.
[24:04.580 --> 24:09.580]  А может ли быть поиск по несколько хэштегов?
[24:09.580 --> 24:14.580]  Нет. Не может.
[24:14.580 --> 24:19.580]  Ну и как, наверное, какие-нибудь другие фильтрации, например, по автору?
[24:19.580 --> 24:23.580]  Нет. Нет. Нет. Нет. Нет.
[24:23.580 --> 24:32.580]  Вроде всё, ребят, поправьтесь.
[24:32.580 --> 24:37.580]  Можно вот от меня такого вопроса дать?
[24:37.580 --> 24:42.580]  Ну то есть наша цель для хэштегов – это просто сделать список айдисников,
[24:42.580 --> 24:47.580]  которыми потом отдадим внешнему сервису, который эти посты отрендерит
[24:47.580 --> 24:50.580]  и отдаст HTML, который мы отдаем клиентам.
[24:50.580 --> 24:52.580]  Да.
[24:52.580 --> 24:54.580]  Хорошо.
[24:54.580 --> 24:56.580]  Да.
[25:01.580 --> 25:04.580]  Ладно, хорошо. Отключаемся от хэштегов.
[25:04.580 --> 25:07.580]  Кто следующий?
[25:07.580 --> 25:14.580]  Есть здесь группа, готовые задавать вопросы?
[25:14.580 --> 25:16.580]  Можно ещё по хэштегам позадавать?
[25:16.580 --> 25:18.580]  Если есть, давай.
[25:19.580 --> 25:24.580]  Там у команды возникли вопросы, а какая максимальная длина самого хэштега?
[25:24.580 --> 25:27.580]  Вот утверждается, что в Twitter можно сделать хоть 139 символов,
[25:27.580 --> 25:29.580]  но хотим ли мы взять меньше?
[25:29.580 --> 25:31.580]  Максимальная средняя длина?
[25:31.580 --> 25:35.580]  Мы уже решили, что это 50.
[25:35.580 --> 25:37.580]  50 символов, ага.
[25:37.580 --> 25:39.580]  Это максимумы были в среднем?
[25:39.580 --> 25:41.580]  Это максимумы.
[25:41.580 --> 25:43.580]  А в среднем?
[25:43.580 --> 25:46.580]  Длина, не знаю, 12.
[25:46.580 --> 25:50.580]  Дальше, там вот ещё с точки зрения хранения,
[25:50.580 --> 25:53.580]  а сколько постов могут содержать один тот же хэштег?
[25:53.580 --> 25:56.580]  То есть вопрос пересекаемости по хэштегам?
[25:56.580 --> 25:59.580]  Нет никаких ограничений.
[25:59.580 --> 26:04.580]  В среднем тоже ничего нет?
[26:04.580 --> 26:07.580]  В среднем цифры есть презентации,
[26:07.580 --> 26:12.580]  то есть на каждый пост в среднем два хэштега у нас.
[26:12.580 --> 26:15.580]  Нет, наоборот, на каждый хэштег сколько постов?
[26:16.580 --> 26:19.580]  Ребят, ну...
[26:19.580 --> 26:21.580]  Какое-то число постоянно растёт.
[26:21.580 --> 26:23.580]  Что за вопрос?
[26:23.580 --> 26:25.580]  Да, это на каждый хэштег,
[26:25.580 --> 26:28.580]  ну, может быть, сколько в день.
[26:28.580 --> 26:30.580]  Я не знаю.
[26:30.580 --> 26:33.580]  Распределение не равномерное.
[26:33.580 --> 26:35.580]  Есть очень популярные посты,
[26:35.580 --> 26:39.580]  есть хэштеги, есть редко используемые.
[26:39.580 --> 26:44.580]  Вот. В популярных это обычно, естественно, какая-нибудь, не знаю,
[26:44.580 --> 26:46.580]  какой-нибудь гауссовый
[26:46.580 --> 26:49.580]  или какое-нибудь любое распределение возьмите.
[26:49.580 --> 26:54.580]  Не...
[26:54.580 --> 26:56.580]  Нет никаких ограничений для популярных хэштегов.
[26:56.580 --> 26:58.580]  Они могут быть очень большими.
[26:58.580 --> 27:00.580]  Распределение – это уже какое-то сильное ограничение.
[27:00.580 --> 27:02.580]  Нормально.
[27:02.580 --> 27:06.580]  А сколько люди готовы ждать на прокрутке и при первой загрузке?
[27:06.580 --> 27:09.580]  Вот мы зашли посмотреть на какого-то хэштега.
[27:09.580 --> 27:12.580]  Сколько можно подождать, пока появятся посты?
[27:12.580 --> 27:17.580]  Ну, слушай, блин, полсекунды.
[27:17.580 --> 27:19.580]  Ну, то есть как бы нельзя ждать.
[27:19.580 --> 27:22.580]  То есть любая задержка – это какая-то проблема.
[27:22.580 --> 27:26.580]  Ну, и сколько можно ждать перед тем, как пост появится в ленте, если мы его добавили?
[27:26.580 --> 27:29.580]  Там, кажется, Сергей уже задал такой вопрос.
[27:29.580 --> 27:34.580]  Вот здесь я понимаю, что могут быть какие-то задержки.
[27:34.580 --> 27:39.580]  То есть опять же нужно стремиться к тому, чтобы все происходило, не знаю, сразу.
[27:39.580 --> 27:45.580]  Но я пойму, если пост будет до ленты катиться некоторое время.
[27:45.580 --> 27:47.580]  Несколько минут.
[27:47.580 --> 27:50.580]  Несколько минут.
[27:50.580 --> 27:56.580]  Так, и есть ли какие-то посты, которые у нас уже есть до того, как мы начали дизайнерскую архитектуру?
[27:56.580 --> 27:59.580]  Или считается, что все посты будут добавляться по мере работы?
[27:59.580 --> 28:04.580]  То есть какое-то legacy в этом смысле?
[28:04.580 --> 28:07.580]  Слушай, ну подожди.
[28:07.580 --> 28:09.580]  Так.
[28:34.580 --> 28:36.580]  Так.
[28:38.580 --> 28:41.580]  Слушай, я отвлекся, но помню вопрос.
[28:41.580 --> 28:44.580]  Вот мы начали проектировать систему с хэштегами.
[28:44.580 --> 28:46.580]  У нас уже были до этого какие-то посты, которые как-то хранились?
[28:46.580 --> 28:48.580]  Или все посты будут новыми?
[28:48.580 --> 28:52.580]  Просто если посты были, то их нужно как-то переложить, и на это нужно потратить какое-то время.
[28:52.580 --> 28:54.580]  И вместе с этим другой вопрос.
[28:54.580 --> 28:59.580]  Кусок, который отвечает за прием новой информации и ее хранение – это наша сфера дизайна?
[28:59.580 --> 29:03.580]  Или кто-нибудь другой предстоит нам хранилище, с которым нужно работать?
[29:03.580 --> 29:05.580]  То есть какие тут ограничения?
[29:05.580 --> 29:07.580]  Ну давай так.
[29:07.580 --> 29:11.580]  Кто-нибудь другой предстоит нам хранилище, с которым нам нужно работать.
[29:11.580 --> 29:14.580]  Ну давай так.
[29:14.580 --> 29:19.580]  Давай мы не надо тратить времени на какие миграции.
[29:19.580 --> 29:24.580]  То есть у тебя как бы уже постов допустим, допустим, до сих пор нет.
[29:24.580 --> 29:27.580]  Вот ты запускаешь систему, и все, сразу побежало.
[29:27.580 --> 29:30.580]  Но она не растет у тебя при этом постепенно.
[29:30.580 --> 29:40.580]  У тебя сразу миллиард пользователей, у тебя сразу огромное количество постов в день и все тому подобное.
[29:40.580 --> 29:52.580]  То есть вдруг говорят, ты на существующем работающем сервисе запускаешь новую функцию.
[29:52.580 --> 29:58.580]  Давай, Даша.
[29:58.580 --> 30:02.580]  Ну у нас по вопросам все, спасибо.
[30:02.580 --> 30:12.580]  Окей. Кто еще? Какие еще группы готовы? Спрашивайте.
[30:12.580 --> 30:14.580]  Есть кто-нибудь еще?
[30:14.580 --> 30:18.580]  Да, давайте. В общем, ну тут частично уже про...
[30:18.580 --> 30:22.580]  Я про Фродлента увидел, тут частично про Twitter это обсуждалось.
[30:22.580 --> 30:29.580]  У вас задержка на прогрузку 20 постов и догрузка дальнейшие 500 миллисекунд, видимо, да?
[30:29.580 --> 30:31.580]  Ну у вас то же самое, да.
[30:31.580 --> 30:35.580]  Ну вообще 500 миллисекунд это дохрена, конечно.
[30:35.580 --> 30:40.580]  Это значит, что у вас довольно медленный сервис. Не должно быть такого.
[30:40.580 --> 30:45.580]  100 допустим, нормально.
[30:45.580 --> 30:47.580]  Ну да.
[30:48.580 --> 30:57.580]  Ребят, смотрите, если вы никогда по большому счету не сможете...
[30:57.580 --> 31:03.580]  Вы же знаете, что такое персентили?
[31:03.580 --> 31:05.580]  Да.
[31:05.580 --> 31:11.580]  Ну вот. Вы никогда не сможете перейти к ситуации, когда вы гарантируете, что ваша страничка дает...
[31:12.580 --> 31:16.580]  Ну допустим, да.
[31:16.580 --> 31:25.580]  Так, хорошо. Сколько у нас пользователь постов учитает за один свой закон?
[31:25.580 --> 31:33.580]  Вот он скролит, скролит ленту, он подгрузил 20, он продолжает скролить. Сколько он за такую сессию обычно прочитает?
[31:33.580 --> 31:39.580]  Ну вот там ты делаешь-то немного. В среднем он читает 20 постов.
[31:39.580 --> 31:49.580]  В ленте хештега, в ленте for friendly и for friendly тоже, но потом может догружать дальше сколько угодно.
[31:49.580 --> 31:54.580]  Ну да, ну то есть, догрузка данных до среднего пользы вообще никогда не происходит.
[31:54.580 --> 32:00.580]  Мы первично 20 постов выбили, дальше он ничего не догружает.
[32:00.580 --> 32:04.580]  Если вы первично даете именно 20, то да.
[32:04.580 --> 32:18.580]  Хорошо. Дальше, если у нас, допустим, пост, не знаю, трехдневной давности, мы можем все посты трехдневной давности по случайному порядку внутри одного дня выдавать?
[32:18.580 --> 32:19.580]  Нет.
[32:19.580 --> 32:20.580]  Или все будет более точно?
[32:20.580 --> 32:28.580]  Нет, это очень важно. Кстати, друзья, для хештегов тоже, если хештеги здесь остались, порядок никогда не меняется.
[32:29.580 --> 32:35.580]  Вот он один раз сформировался, и я, как пользователь, я ожидаю, что именно так все и будет.
[32:35.580 --> 32:41.580]  А, типа порядок не строго хронологический, но неизменный?
[32:41.580 --> 32:47.580]  Да. Да, именно так.
[32:47.580 --> 32:54.580]  Дальше, так сколько за раз, у нас нагрузка как распределена по времени?
[32:54.580 --> 33:06.580]  У нас глобальная сеть, поэтому она примерно одинаковая, или там, не знаю, большая часть полиции все еще живет в США, поэтому там какие-то их дневные часы, вечерние часы там нагрузка в два-три раза выше, допустим?
[33:06.580 --> 33:09.580]  Глобальная сеть, у нас все примерно одинаково.
[33:09.580 --> 33:13.580]  Так, хорошо. Ну вроде все. Спасибо.
[33:17.580 --> 33:27.580]  Еще френдлента. Какие вопросы по френдленте?
[33:27.580 --> 33:37.580]  Здрасте. Подскажите, вот мы же не можем редактировать посты и удалять посты по френдленте пока что, да?
[33:37.580 --> 33:43.580]  Нет, не можем.
[33:44.580 --> 33:54.580]  А можем показывать только часть поста, а потом там принажать и подгружать его целиком?
[33:54.580 --> 34:08.580]  Можем. Ну, можем, да, может и так сделать.
[34:09.580 --> 34:17.580]  Ну и распределение тоже неравномерное, то есть есть очень популярные посты, есть очень популярные визеры, да?
[34:17.580 --> 34:19.580]  Да.
[34:23.580 --> 34:26.580]  Все верно. Еще?
[34:26.580 --> 34:35.580]  А вопрос про порядок постов в френдленте. Что значит, что он должен быть неизменным и не обязательно хронологическим?
[34:35.580 --> 34:46.580]  Вот, то и значит. Неизменным это означает, что в моей френдленте я ожидаю, я увидел, что после поста Вася идет пост Пети.
[34:46.580 --> 35:03.580]  И вот я ожидаю, что теперь так оно и будет. При этом я не всегда смотрю, что пост Вася, который идет у меня в френдленте выше, он на самом деле на пять минут раньше поста Пети.
[35:03.580 --> 35:12.580]  Если я на следующий день опять зайду во френдленту и долездаю до этих вчерашних постов, то они в том же порядке будут.
[35:12.580 --> 35:15.580]  Да, да, именно так.
[35:15.580 --> 35:21.580]  То есть разброс там пять минут, то есть можно на пять минут как бы их перемешивать?
[35:21.580 --> 35:35.580]  Нет, их можно перемешивать, но как бы нет четкого времени. Вы не сможете, я просто понимаю, что вы не сможете реализовать четкое ограничение по времени.
[35:35.580 --> 35:48.580]  Скажу вам пять минут, все. Пять минут, если появляется у тебя четкое ограничение по времени, то у тебя, считай, появляется жесткий хронологический порядок, потому что архитектура меняется полностью.
[35:48.580 --> 35:59.580]  Поэтому я говорю, что жесткого ограничения нет, нет такого времени, в течение которого вы должны обязательно в порядке положить этот пост во френдленту.
[35:59.580 --> 36:12.580]  Нет, может быть пять минут, может быть минута, может быть час и так далее, но вы должны примерно это время контролировать, то есть примерно его считать, мониторить.
[36:13.580 --> 36:19.580]  То есть я к вам буду приходить и спрашивать, в среднем какое отклонение от допустимого вы будете говорить?
[36:19.580 --> 36:31.580]  Ну, в среднем такое, распределение вот такого, это персентиль, пять минут такое.
[36:31.580 --> 36:47.580]  Так, еще вопрос. Все? Все френдленты знают, как она будет работать? Окей.
[36:47.580 --> 37:07.580]  Чего-чего? Давайте я про профили спрошу тогда. Давай. Анкета, наверное, может меняться. Вот как быстро нужно. Я поменял анкету.
[37:07.580 --> 37:14.580]  Через какое время при просмотре моей анкеты другие пользователи видят изменения?
[37:14.580 --> 37:16.580]  Сразу.
[37:16.580 --> 37:25.580]  Окей. Как пользователи находят чужие анкеты? Вот как я нахожу анкеты других людей? Меня просто ссылку кидает в личку?
[37:25.580 --> 37:29.580]  Да, тебе это не волнует. У тебя появляется ссылка, ты должен ее показать.
[37:30.580 --> 37:40.580]  Хорошо. Нужно ли я надумать по настройке приватности? Ну, то есть кто-то запрашивает мою анкету.
[37:40.580 --> 37:51.580]  Я могу настроить, чтобы какие-то категории пользователей видели мою анкету? Какие-то не видели. Ну, могли и не могли посмотреть. Или не нужно в этом думать?
[37:51.580 --> 38:05.580]  Ну, давай. Давай нужно. Я могу конкретным пользователям запретить просмотр своей анкеты.
[38:06.580 --> 38:15.580]  Окей. У нас насколько равномерно распределили анкету обещаемости? Есть какая-то статистика?
[38:15.580 --> 38:22.580]  Ну, то есть у нас есть анкеты, которые больше и которые меньше открывают, да? Насколько больше разбросов?
[38:22.580 --> 38:32.580]  То же самое, что и везде с потенциальной распределением. Есть некоторые анкеты, которые анкеты, я не знаю, модомные.
[38:32.580 --> 38:44.580]  Ее смотрят все просто по глазей. Хорошо. Есть ли свечка какая-то между кластеризацией пользователей по каким-то признакам и анкетами, которые они открывают?
[38:44.580 --> 38:59.580]  Ну, например, география или что-то подобное? География? Ну, ты знаешь, ну обычно она есть, но она не строгая, то есть нет никаких гарантий.
[38:59.580 --> 39:05.580]  Гарантий, конечно, нет. Но статистически это география, да? Да, статистически география, конечно.
[39:05.580 --> 39:13.580]  Какие у нас примерно данные в анкете? Куча текстовых полей, куча текстов по большому счету.
[39:13.580 --> 39:31.580]  Ну, там, понятно, много персданных и... Ладно, ладно, хорошо. Не надо выполнять мне сейчас какой-то сплошной четвертый МЗ. Нет, не надо, на этом не парься.
[39:31.580 --> 39:33.580]  Ну, это понятно.
[39:37.580 --> 39:45.580]  Так, что за личный кабинет? Доступ в личный кабинет по логину паролю. Что за личный кабинет, нужно ли нам знать, что это такое?
[39:45.580 --> 39:51.580]  Нет, ну это просто способ редактирования анкеты. Хорошо. Это личный кабинет, это есть анкета мая.
[39:51.580 --> 39:59.580]  Хорошо. Планируется ли какая-то функциональность через полугода, через год дополнительная, кроме просмотра анкеты?
[40:01.580 --> 40:07.580]  Да, вот так как у вас по умолчанию самый простой проект, давайте мы его немножечко усложним.
[40:07.580 --> 40:21.580]  Я хочу фильтр. То есть как бы я хочу искать пользователей по некоторому фильту. Не по строке.
[40:21.580 --> 40:27.580]  Ну вот все вот эти вот параметры, там куча параметров. Допустим, там их 20.
[40:27.580 --> 40:45.580]  И по этим 20 параметрам, как лучших, там я не знаю, фактических, нехороших проектах, я могу выбрать цвет глаз, рост, вес, там не знаю, объемы, талии и прочее, прочее, прочее.
[40:45.580 --> 40:50.580]  И вот это все числовые параметры, то есть у вас 20 числовых параметров.
[40:50.580 --> 40:52.580]  Но не полнотекстовые поиски.
[40:52.580 --> 40:57.580]  Не полнотекстовые поиски. То есть эти 20 числовых параметров я могу выбрать.
[40:57.580 --> 41:02.580]  Я могу задать какие-то там диапазоны и добавить еще.
[41:02.580 --> 41:10.580]  Как бы у вас по большому счету будет подсказочка, как бы 2 сервиса у вас. Ну давайте.
[41:10.580 --> 41:16.580]  Какого числа анкета, какую динамику мы ждем? Там через год, через полгода. По числу пользователей.
[41:16.580 --> 41:22.580]  Они растут. Там у нас сейчас 200 миллионов. Ну давай добавляется 20 миллионов.
[41:22.580 --> 41:24.580]  Ну хорошо.
[41:24.580 --> 41:38.580]  Вот у нас примерно, сейчас я вспомню сколько у нас было пользователей в сутки.
[41:38.580 --> 41:44.580]  5 миллиардов просмотров анкет в сутки. Вот они равномерно по суткам распределены?
[41:44.580 --> 41:46.580]  Или есть какие-то...
[41:46.580 --> 41:51.580]  Да, у нас большой, ну как бы каждый кластер же определенный, где равномерно.
[41:51.580 --> 41:56.580]  Московские кластеры или там московские пользователи смотрят московских...
[41:56.580 --> 42:03.580]  Московские мальчики смотрят московских девчонок в московское время, да.
[42:03.580 --> 42:07.580]  В московским вечером.
[42:07.580 --> 42:12.580]  Но в целом по системе у нас все примерно равномерно.
[42:12.580 --> 42:14.580]  Хорошо.
[42:14.580 --> 42:16.580]  Так.
[42:16.580 --> 42:24.580]  10 килобайт анкету. Ну у нас числовые поля, поэтому это ровно 10 килобайт на каждую. Хорошо.
[42:24.580 --> 42:29.580]  Ну примерно, да. Там немного пряшено. Ну да, да.
[42:29.580 --> 42:32.580]  Да, логин пароль тоже мы не проверяем.
[42:32.580 --> 42:34.580]  Это все за нас делали, нам просто головки дадут?
[42:34.580 --> 42:36.580]  Да, да, да.
[42:36.580 --> 42:39.580]  Так, вроде все.
[42:39.580 --> 42:42.580]  Да, вроде все, спасибо.
[42:42.580 --> 42:46.580]  Так, еще вопросы у кого-нибудь остались?
[42:46.580 --> 42:47.580]  Поехали.
[42:47.580 --> 42:49.580]  Так, ну начнем с самого банального.
[42:49.580 --> 42:55.580]  Какой стандартный пайплайн нахождения пользователя во френд-ленте?
[42:55.580 --> 42:58.580]  У нас френд-лент, да, если что проект.
[42:58.580 --> 42:59.580]  Угу.
[42:59.580 --> 43:03.580]  Поясни свой вопрос, что ты имеешь в виду под стандартным пайплайном?
[43:03.580 --> 43:09.580]  Ну вот человек заходит во френд-ленту, что он делает?
[43:09.580 --> 43:15.580]  Он листает посты, тыкает на них и читает, правильно?
[43:18.580 --> 43:22.580]  Нет, тебе нужно сделать следующее.
[43:22.580 --> 43:24.580]  Тебе нужно вернуть список постов.
[43:24.580 --> 43:29.580]  Вот я зашел на френд-ленту, и у меня список постов.
[43:29.580 --> 43:32.580]  Вот это тебе нужно сделать.
[43:32.580 --> 43:38.580]  Если он там куда-то переходит, заходит внутрь профиля, еще что-то, это делать уже не надо.
[43:38.580 --> 43:45.580]  То есть, ну, по факту это просто лента, в которую он читает, что там не постит другие?
[43:45.580 --> 43:48.580]  Да, да, да.
[43:48.580 --> 43:50.580]  Хорошо, а тогда такой вопрос.
[43:50.580 --> 43:55.580]  Комментарии там оставлять, это не наша сфера уже?
[43:55.580 --> 43:58.580]  Не ваша, не ваша, не ваша.
[43:58.580 --> 44:03.580]  Лайки, все это, шаринг, это все не выйдет.
[44:03.580 --> 44:06.580]  Тогда такой вопрос.
[44:06.580 --> 44:14.580]  Сейчас, ну, то есть он заходит, получается, в френд-ленту, и вот он может просто написать пост, запостить его, видимо, да?
[44:14.580 --> 44:18.580]  И чужие посты прочитать как-то?
[44:18.580 --> 44:21.580]  Нет, он постит пост не во френд-ленту.
[44:21.580 --> 44:26.580]  Он постит пост к себе, на страничку.
[44:26.580 --> 44:33.580]  Потому что при этом она раскладывается во все френд-ленты всех друзей, которые на него подписаны.
[44:33.580 --> 44:37.580]  Вот так скажешь.
[44:37.580 --> 44:50.580]  То есть я пишу пост, и во всех френд-лентах, не моих друзей, а людей, у которых я в друзьях, появляется этот пост.
[44:50.580 --> 44:53.580]  Вот так.
[44:53.580 --> 44:55.580]  И все, больше ни у кого не появляется, правильно?
[44:55.580 --> 45:05.580]  Если, например, есть какой-нибудь Марк Цукерберг, и он там основатель вот этой вот, всей штуки, это не значит, что его пост будет появляться абсолютно у всех.
[45:05.580 --> 45:09.580]  Только у тех, у кого он есть в студии.
[45:09.580 --> 45:17.580]  Да, кто подписан, у кого, да, кто сказал, что Марк Цукерберг его друг, да?
[45:17.580 --> 45:23.580]  Хорошо, такой вопрос. Получается, уже есть функциональность того, что, ну, короче,
[45:23.580 --> 45:28.580]  пользователь может себе на страницу записывать пост, мы должны просто раскладывать его по френд-лентам, по сути.
[45:28.580 --> 45:30.580]  Ну, по друзьям.
[45:30.580 --> 45:31.580]  Да.
[45:31.580 --> 45:32.580]  Еще раз.
[45:32.580 --> 45:33.580]  Да.
[45:33.580 --> 45:36.580]  Хорошо. Такой вопрос. Вот насчет популярных пользователей.
[45:36.580 --> 45:41.580]  Насколько, ладно, это...
[45:41.580 --> 45:46.580]  Ну, окей, да, популярные пользователи, у нас, видимо, бесконечное количество друзей, может быть, все такое.
[45:46.580 --> 45:55.580]  Какое количество таких пользователей мы ожидаем, у которых там больше, например, 10 тысяч друзей?
[45:55.580 --> 45:58.580]  Все то же самое, эксп потенциальное распределение.
[45:58.580 --> 46:07.580]  Здесь очень популярные пользователи, их немного, есть огромных ложек.
[46:07.580 --> 46:13.580]  Хорошо, тогда по пиковым нагрузкам вопрос.
[46:13.580 --> 46:20.580]  Вот вопрос номер один. Вот есть, например, цифра в десять процентов людей в день.
[46:20.580 --> 46:26.580]  В пиковый час от вот этих десяти процентов сколько можно ожидать?
[46:26.580 --> 46:28.580]  У нас международная сеть.
[46:28.580 --> 46:33.580]  Вделенная на 24.
[46:33.580 --> 46:39.580]  Вделенная на 20, не великий, понятно дело, когда солнце надо...
[46:39.580 --> 46:42.580]  То есть, равномерно все у нас, правильно?
[46:42.580 --> 46:46.580]  Да, в целом равномерно, да, по времени равномерно.
[46:46.580 --> 46:52.580]  Хорошо, а вот в среднем человек постит по одному посту в день.
[46:52.580 --> 46:57.580]  А бывает такое, что в каких-то ситуациях люди начинают в среднем постить больше?
[46:57.580 --> 47:06.580]  Конечно, конечно, это же мы же американские компании или российские компании.
[47:06.580 --> 47:12.580]  Мы делаем эту штуку как некое информационное в том числе оружие.
[47:12.580 --> 47:17.580]  Естественно, могут быть ситуации, когда кто-то начинает писать очень много или очень активно,
[47:17.580 --> 47:22.580]  или что-то вообще, даже если не рассматривать конспирологические теории,
[47:22.580 --> 47:30.580]  просто бывает извержение вулкана в Азии какой-нибудь, не знаю, где-нибудь в Индонезии или Цунами,
[47:30.580 --> 47:32.580]  и понеслась огромное количество постов.
[47:32.580 --> 47:35.580]  То есть, могут быть стресски любые, вы должны быть готовы ко всему.
[47:35.580 --> 47:41.580]  Хорошо, а во сколько раз примерно больше мы рассчитываем, они будут писать?
[47:41.580 --> 47:43.580]  Может быть, десятикратные стресски.
[47:46.580 --> 47:50.580]  А бывают пользователи, которые пишут, имеют одно сообщение в минуту,
[47:50.580 --> 47:52.580]  и мы их никак не ограничим.
[47:54.580 --> 47:55.580]  А, хорошо.
[47:57.580 --> 47:58.580]  Никак не ограничим.
[47:58.580 --> 47:59.580]  Но их очень мало, естественно.
[47:59.580 --> 48:04.580]  Окей, ну а в смысле, если там злоумышленники решили так сделать?
[48:04.580 --> 48:05.580]  Это от нас.
[48:05.580 --> 48:07.580]  Злоумышленники решили так сделать?
[48:08.580 --> 48:09.580]  Да.
[48:10.580 --> 48:11.580]  Это не ваша задача.
[48:13.580 --> 48:14.580]  Хорошо.
[48:14.580 --> 48:17.580]  Перед вашим сервисом стоит что-то умное, что ловит злоумышленников.
[48:19.580 --> 48:23.580]  А во сколько раз число читаемости может возрастать?
[48:26.580 --> 48:27.580]  Тоже в десять.
[48:27.580 --> 48:35.580]  Бывает пользователи, я не знаю, вот Трамп выгоняют из Белого дома,
[48:35.580 --> 48:37.580]  и вот в этот момент все читают, что он скажет.
[48:37.580 --> 48:42.580]  Или Илон Маск решил что-нибудь очередное купить, и все побежали читать Илона Маска.
[48:44.580 --> 48:45.580]  Ага, хорошо.
[48:45.580 --> 48:47.580]  Не, подождите, а когда нам разница?
[48:47.580 --> 48:51.580]  Это профили будут читать свою френд-ленту?
[48:51.580 --> 48:55.580]  Все равно, бывают такие ситуации, да, тоже десятикратные.
[48:55.580 --> 49:01.580]  Что-то происходит, и я начинаю читать свою френд-ленту, смотреть, как народ реагирует, что происходит.
[49:05.580 --> 49:06.580]  Хорошо.
[49:06.580 --> 49:12.580]  А бывают ситуации, в которых размер поста сильно увеличивается в среднем?
[49:13.580 --> 49:19.580]  То есть у нас раньше, например, могла быть ситуация, что много постов, но размер у них все же средний.
[49:19.580 --> 49:23.580]  А бывают ситуации, когда размер поста увеличивается сильно в среднем?
[49:23.580 --> 49:27.580]  Например, там не 300 байт становится, а 3000 байт?
[49:27.580 --> 49:29.580]  Нет, такого не бывает.
[49:29.580 --> 49:34.580]  То есть распределение по размеру поста, но стабильное?
[49:34.580 --> 49:36.580]  Да, да.
[49:36.580 --> 49:37.580]  Хорошо.
[49:37.580 --> 49:43.580]  А можно тогда делать деградацию, например, по размеру поста?
[49:46.580 --> 49:47.580]  Да.
[49:49.580 --> 49:50.580]  Нельзя.
[49:51.580 --> 49:55.580]  Такой вопрос еще насчет функциональных требований.
[49:55.580 --> 50:03.580]  Вот есть ли у нас разные круги внутри друзей по постам, типа близкие друзья или родственники?
[50:04.580 --> 50:06.580]  Разделение какое-то такое?
[50:06.580 --> 50:07.580]  Неа.
[50:08.580 --> 50:10.580]  Есть ли хэштеги?
[50:12.580 --> 50:13.580]  Неа.
[50:14.580 --> 50:16.580]  Поиск постов есть в ленте?
[50:20.580 --> 50:21.580]  Неа.
[50:25.580 --> 50:28.580]  А как мы планируем, чтобы расширялся функционал?
[50:28.580 --> 50:31.580]  Он будет как-то расширяться дальше?
[50:33.580 --> 50:36.580]  Нашего куточка пока не вижу.
[50:37.580 --> 50:44.580]  А вот там, сейчас, секундочку, в том, что вы писали, это у нас было?
[50:44.580 --> 50:46.580]  Да, да, сейчас.
[50:47.580 --> 50:49.580]  Подожди, это не функциональное требование.
[50:49.580 --> 50:50.580]  Ладно, окей.
[50:50.580 --> 50:57.580]  Была информация про то, что удаление друзей не влияет на френд-ленту.
[50:58.580 --> 51:00.580]  И в скобочках пока.
[51:00.580 --> 51:01.580]  Что это значит?
[51:02.580 --> 51:04.580]  Ну, не влияет.
[51:04.580 --> 51:06.580]  Не проектируйте это.
[51:06.580 --> 51:14.580]  Потом вместе в следующий раз подумаем, как бы мы могли, какой бы навесочек мы сделали сверху, если все-таки влияло.
[51:14.580 --> 51:15.580]  Пока не влияет.
[51:15.580 --> 51:24.580]  А вот это означает, что после того, как мы отписались от человека, от него все равно будут прилетать новости?
[51:24.580 --> 51:27.580]  Или это значит, что просто старые новости не удаляются?
[51:27.580 --> 51:29.580]  Старые новости не удаляем.
[51:30.580 --> 51:31.580]  Но новых нет.
[51:32.580 --> 51:33.580]  Ну да, да.
[51:36.580 --> 51:37.580]  Хорошо.
[51:37.580 --> 51:43.580]  Ладно, если по функциональным требованиям в будущем у нас нет никакого расширения, по данным проще?
[51:43.580 --> 51:44.580]  Да.
[51:44.580 --> 51:49.580]  А так у нас на данный момент данные это только текст, правильно?
[51:51.580 --> 51:55.580]  В какой-то момент у нас будут изменяться данные?
[51:56.580 --> 51:57.580]  Нет, пока не делаем этого.
[51:58.580 --> 51:59.580]  Пока не делаем.
[52:00.580 --> 52:04.580]  Хорошо, размеры данных соответственно тоже у нас не меняются никак, правильно?
[52:04.580 --> 52:05.580]  Да.
[52:08.580 --> 52:10.580]  Как растет количество пользователей?
[52:14.580 --> 52:15.580]  Тихонечко.
[52:15.580 --> 52:16.580]  Я не знаю.
[52:16.580 --> 52:17.580]  100 миллионов.
[52:19.580 --> 52:21.580]  То есть взрывов нету никаких?
[52:21.580 --> 52:23.580]  Нет, взрывов нету.
[52:24.580 --> 52:26.580]  Но уже слишком большие.
[52:27.580 --> 52:31.580]  Ладно, а у данных есть какая-то связь друг с другом?
[52:33.580 --> 52:38.580]  Ну, то есть посты людей могут ссылаться как-то друг на друга?
[52:39.580 --> 52:41.580]  Нет, не по этим.
[52:45.580 --> 52:47.580]  Ладно, окей.
[52:47.580 --> 52:49.580]  Подумай еще, что насчет данных можно.
[52:50.580 --> 52:57.580]  Вот насчет нефункциональных требований, сколько мы хотим, чтобы грузилось FriendLent?
[53:00.580 --> 53:02.580]  Ребят, ну быстро.
[53:02.580 --> 53:04.580]  Пол секунды максимум.
[53:05.580 --> 53:09.580]  99 в течение 100 миллисекунд.
[53:09.580 --> 53:10.580]  Окей, понял.
[53:10.580 --> 53:12.580]  Даже если мы очень далеко зашли.
[53:14.580 --> 53:18.580]  Окей, через сколько у нас чужие посты появляются в ленте?
[53:19.580 --> 53:22.580]  Чем быстрее, тем лучше, жесткого ограничения нет.
[53:22.580 --> 53:24.580]  Чем быстрее, тем лучше.
[53:24.580 --> 53:26.580]  Проверить невозможно, понимаешь?
[53:29.580 --> 53:30.580]  Хорошо.
[53:32.580 --> 53:36.580]  Как быстро лента перестраивается, если, например, другу добавили?
[53:37.580 --> 53:41.580]  Как быстро лента перестраивается, если, например, другу добавили?
[53:45.580 --> 53:48.580]  Старые его посты не появляются в ленте.
[53:48.580 --> 53:50.580]  Появляются только новые.
[53:50.580 --> 53:52.580]  Угу, окей.
[53:56.580 --> 53:58.580]  Ну ладно, как часто можно постить, мы спросили.
[54:00.580 --> 54:02.580]  Насколько нехронологический порядок может быть?
[54:02.580 --> 54:05.580]  Можно иногда его более плохим делать?
[54:06.580 --> 54:07.580]  Угу.
[54:10.580 --> 54:11.580]  Ну, можно.
[54:12.580 --> 54:14.580]  Окей, а что значит нехронологический просто порядок?
[54:14.580 --> 54:16.580]  Совсем или чуть-чуть?
[54:17.580 --> 54:18.580]  Чуть-чуть.
[54:19.580 --> 54:20.580]  Чуть-чуть.
[54:20.580 --> 54:24.580]  А чуть-чуть это в пределах дня или в пределах недели?
[54:24.580 --> 54:25.580]  Или часа?
[54:25.580 --> 54:29.580]  Это в пределах часа максимум.
[54:29.580 --> 54:31.580]  Ну опять же, жесткого ограничения нет.
[54:31.580 --> 54:35.580]  Но если у вас будет много постов, которые перепутаны больше, чем на час,
[54:35.580 --> 54:37.580]  то я как Проджек справлюсь.
[54:38.580 --> 54:42.580]  Приду к вам и попрошу переделать архитектуру на более быстрый.
[54:43.580 --> 54:45.580]  То есть вы должны мониторить скорее.
[54:45.580 --> 54:47.580]  Эта цифра должна быть под контролем.
[54:47.580 --> 54:53.580]  Вы должны примерно представлять, насколько могут быть такие задержки.
[54:54.580 --> 54:55.580]  Угу.
[54:57.580 --> 54:58.580]  Хорошо.
[54:58.580 --> 54:59.580]  Окей, ладно.
[54:59.580 --> 55:03.580]  А вот нефункциональные такие требования, типа скорости, там загрузки и всего такого,
[55:03.580 --> 55:05.580]  они у нас будут меняться в будущем?
[55:07.580 --> 55:08.580]  Нет, не планируем.
[55:13.580 --> 55:14.580]  Окей.
[55:20.580 --> 55:22.580]  В принципе, вы все спросили, по-моему.
[55:23.580 --> 55:24.580]  Я клипировал.
[55:24.580 --> 55:25.580]  Ну ладно.
[55:27.580 --> 55:29.580]  Но если есть вопросы еще, то спрашивайте.
[55:29.580 --> 55:30.580]  Окей.
[55:30.580 --> 55:33.580]  А мы вам потом еще можем их дать, Инос?
[55:33.580 --> 55:35.580]  Или как это происходит?
[55:35.580 --> 55:36.580]  Можете в чатике.
[55:37.580 --> 55:38.580]  Хорошо.
[55:38.580 --> 55:39.580]  Спасибо.
[55:40.580 --> 55:41.580]  Ладно, да.
[55:41.580 --> 55:43.580]  Да, еще вопросы есть.
[55:43.580 --> 55:45.580]  Открываю все залы.
[55:45.580 --> 55:46.580]  Возвращаю всех.
[55:47.580 --> 55:49.580]  Ну, я не знаю, что делать.
[55:49.580 --> 55:51.580]  Открываю все залы.
[55:51.580 --> 55:53.580]  Возвращаю всех.
[55:54.580 --> 55:55.580]  Вопросы есть?
[55:55.580 --> 55:57.580]  Вопросы-вопросы остались?
[56:05.580 --> 56:07.580]  Ребята, давайте.
[56:07.580 --> 56:08.580]  Ну, все.
[56:08.580 --> 56:10.580]  Если нет, тогда всем пока.
[56:11.580 --> 56:12.580]  Расходимся.
[56:14.580 --> 56:18.580]  Встречаемся через неделю у ВДК еще в 11 часов.
