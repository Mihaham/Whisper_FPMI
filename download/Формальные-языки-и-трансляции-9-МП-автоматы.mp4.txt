[00:00.000 --> 00:13.000]  Всем доброго дня. Мы с вами сдали колокию. Подавляющее большинство из нас сдало колокию. Немного.
[00:13.000 --> 00:21.200]  Вот. И сегодня мы с вами продолжаем наш курс. И так внезапно сложилось, что после колокию мы
[00:21.200 --> 00:27.320]  начинаем сразу проходить новую тему. Вот. Эта тема автоматы с магазинной памятью. Они же
[00:27.320 --> 00:32.960]  сокращаются как МП-автоматы. Сегодняшняя наша цель будет состоять в том, чтобы рассмотреть эту
[00:32.960 --> 00:40.640]  конструкцию и понять, чему они эквалентны. Как вы думаете, чему они эквалентны? КС-громатикам, да.
[00:40.640 --> 00:48.640]  Значит, а давайте вспомним, что вообще было до колоквиума. Да, алгоритмы Мерли. Собственно,
[00:48.640 --> 00:54.800]  мы говорили очень сильно про КС-громатики, поговорили про алгоритмы распознавания КС-громатик.
[00:54.800 --> 01:01.440]  Мы разобрали с вами два алгоритма. Кока, Янгер и Косами. И алгоритм Мерли. Вот. И сегодня, значит,
[01:01.440 --> 01:07.120]  наша цель разобрать, существует ли какой-то аналог подобный автоматам. На самом деле такой аналог
[01:07.120 --> 01:12.640]  существует. И это МП-автоматы. Если мы будем говорить неформально, давайте я сначала веду
[01:12.640 --> 01:21.120]  неформальное определение, то что такое МП-автомат? Это автомат, у которого есть стэк в ходе исполнения.
[01:21.120 --> 01:27.880]  Наша цель будет очистить стэк и принять какое-то слово. А теперь давайте чуть более формально
[01:27.880 --> 01:37.000]  определим. Значит, сегодняшнее определение, с которым мы будем работать. МП-автомат.
[01:37.000 --> 01:48.320]  Значит, это следующая конструкция. Это шестерка. У нас все больше элементов
[01:48.320 --> 01:54.160]  в кортеже появляется. Уже практически столько же, сколько в машине тюринга. Да вроде столько же.
[01:54.160 --> 02:13.240]  Так, значит... А, я забыл. Гамма. Вот. Шесть элементов. Ку, сигма, гамма, дельта, ку, ноль, эф.
[02:13.240 --> 02:21.120]  Значит, давайте определим. Первое. Это множество состояний. Напомню, что все множества конечные.
[02:21.120 --> 02:38.760]  Нет, не будет. У нас бесконечные языки. Значит, сигма-алфавит. И у нас появляется дополнительный
[02:38.760 --> 02:56.480]  алфавит. Это гамма. Стэковый алфавит. Все эти множества конечные. Вот. Если мы говорим про формальное
[02:56.480 --> 03:09.080]  определение, то сигма и гамма не пересекаются. Будьте здоровы. А дельта, смотрите, это будет
[03:09.080 --> 03:18.880]  под множество ку на сигма со звездой на гамма со звездой, декартового перемножив на ку на гамма со звездой.
[03:18.880 --> 03:27.880]  То есть, смотрите, мы каким-то образом с вами будем оперировать со стэковым алфавитом на входе,
[03:27.880 --> 03:35.560]  да, и на выходе тоже каким-то образом будем оперировать с тэковым алфавитом. Так, ку-ноль
[03:35.560 --> 03:57.040]  это стартовое состояние, f под множество ку это завершающее состояние. Вот такое определение. Напомню, все
[03:57.040 --> 04:13.600]  множества являются конечными. А, да. Декартового произведения, конечно же. Да, который заменяет
[04:13.600 --> 04:22.000]  оператор декартового произведения. Вот. В автомате появился стэк. Это, да, важно зафиксировать. И давайте
[04:22.000 --> 04:30.040]  поймем, как рисуется в этом переходе автомати. Значит, изначально по факту будем считать, что стэк
[04:30.040 --> 04:35.840]  пустой. Ну, потому что нечего делать. А дальше мы делаем следующее. Смотрите, важно понять абстракцию.
[04:35.840 --> 04:47.840]  Если у нас есть переход из q1 в альфа в какой-то q2b, смотрите внимательно, это означает, что вот у
[04:47.840 --> 04:55.840]  нас есть по ходу как исполнение какой-то стэк. И здесь написан строка альфа. Что мы имеем право
[04:55.840 --> 05:03.240]  сделать? Мы имеем право пройти по этому переходу только в том случае, если на вершине стэка написано
[05:03.240 --> 05:16.040]  альфа. Мы снимаем плату за то, что мы проходим по этому переходу и кладем все строки, строку бета
[05:16.040 --> 05:26.160]  на стэк. Значит, во-первых, смотрите, при этом здесь у нас последовательность терминалов и не
[05:26.160 --> 05:33.320]  терминалов. То есть, если у нас альфа равняется абс, то мы считаем, что сначала мы со стэка снимаем
[05:33.320 --> 05:43.600]  c, потом b, потом a. Ой, извините, оговорочка по фрейду. Просто вот гамма это стэковая альфа,
[05:43.600 --> 05:52.720]  элементы стэкового альфа это они будут каким-то смыслом напоминать не терминалы. Да. То есть,
[05:52.720 --> 05:58.400]  несмотря на то, что мы пишем строку альфа равно абс, мы снимать будем их всегда в обратном порядке.
[05:58.400 --> 06:05.760]  Ну, это просто чтобы нотация строковая была понятна.
[06:05.760 --> 06:11.120]  Вершина, да.
[06:11.120 --> 06:16.640]  Да, мы можем снимать последовательность символа со стэка.
[06:16.640 --> 06:38.880]  Нет, как раз если у нас есть переход из q1 в w по abc, то это значит, что мы берем по факту
[06:38.880 --> 06:44.480]  стэк как нашу строку и снимаем с нее суффикс.
[06:44.480 --> 06:49.920]  Да, да, да. Ну, а по факту будет происходить следующее. Мы будем снимать c, потом b, потом a.
[06:49.920 --> 07:00.480]  Да, да, да. Что бы по факту произошло. Снимаем со стэка a, кладем на стэк бета.
[07:01.440 --> 07:07.840]  Вот. Это вот такой абстрактный смысл. Важно заканчивать будем с пустым стэком.
[07:07.840 --> 07:15.200]  Да, этого можно не требовать. И это, на самом деле, одно из упражнений, которое можно доказать.
[07:15.200 --> 07:21.520]  Опять же флэшбеки к последней задаче с колоквиума тут возникают.
[07:21.520 --> 07:27.360]  Ну, типа что можно не требовать очистки стэка в определении mp автомата.
[07:27.360 --> 07:30.400]  Вот. Но мы пока это не будем рассматривать.
[07:30.400 --> 07:32.400]  Итак.
[07:32.400 --> 07:36.400]  Не, не, не. Ну, похожая задача. По духу я имеется.
[07:36.400 --> 07:39.440]  Вот смотрите, примером p автомата. Как они рисуются?
[07:39.440 --> 07:47.600]  Значит, мы говорим следующее, что вот это вот все в терминах автомата будет перерисовываться таким образом.
[07:47.600 --> 07:55.920]  Что из q1 q2 мы берем, считываем слово w на входе, со стэка снимаем альфа, на стэк кладем бета.
[07:56.240 --> 07:58.240]  Это такое обозначение у нас будет.
[08:02.240 --> 08:05.040]  Вот. Смотрите. Вот такой вот замечательный mp автомат.
[08:07.040 --> 08:09.040]  Какой у него стэк алфавит, как вы думаете?
[08:13.040 --> 08:16.000]  А большое, либо любое над множество а большого.
[08:17.520 --> 08:21.520]  Вот. При этом в этом автомате распознаются слова baa и abba.
[08:21.520 --> 08:27.120]  Давайте поймем, как распознается слово baa.
[08:29.120 --> 08:31.120]  Да, смотрите. Мы идем по b.
[08:31.120 --> 08:35.120]  У нас на стэке появляется две буквы a.
[08:35.120 --> 08:39.120]  И потом мы снимаем по каждой букве a со стэка.
[08:39.120 --> 08:43.120]  Получаем baa. Стэк пустой, пришли в завершающее состояние.
[08:43.120 --> 08:45.120]  Ой, извините. abba.
[08:45.120 --> 08:47.120]  Abba.
[08:51.120 --> 08:53.120]  A. Перешли сюда.
[08:57.120 --> 08:59.120]  Да, смотрите. Мы из q0 переходим в q1.
[08:59.120 --> 09:01.120]  У нас здесь уже стэк пустой.
[09:01.120 --> 09:03.120]  То есть ab, пустой стэк.
[09:03.120 --> 09:05.120]  Дальше мы идем вниз по b, кладем букву a.
[09:07.120 --> 09:09.120]  Потом мы снова снимаем.
[09:11.120 --> 09:13.120]  Это примеры слов.
[09:13.120 --> 09:15.120]  Зачем нам нужны примеры слов?
[09:15.120 --> 09:17.120]  Для того, чтобы определить отношение воводимости.
[09:19.120 --> 09:21.120]  Да, пом... А?
[09:25.120 --> 09:27.120]  Ну да.
[09:27.120 --> 09:31.120]  Собственно, знакомимся еще с одним термином, который нам сегодня понадобится.
[09:31.120 --> 09:33.120]  Это определение конфигурации.
[09:43.120 --> 09:45.120]  Это тройка.
[09:47.120 --> 09:49.120]  q, u, gamma.
[09:51.120 --> 09:53.120]  Где у нас q принадлежит q.
[09:55.120 --> 09:57.120]  q принадлежит сигма со звездой.
[09:59.120 --> 10:01.120]  Gamma принадлежит gamma со звездой.
[10:03.120 --> 10:05.120]  И дальше определение 3.
[10:05.120 --> 10:07.120]  Самое важное.
[10:07.120 --> 10:11.120]  У нас у нас у нас у нас у нас у нас у нас у нас у нас у нас у нас у нас.
[10:11.120 --> 10:13.120]  Дальше определение 3.
[10:13.120 --> 10:15.120]  Самое важное.
[10:15.120 --> 10:17.120]  Которое у нас есть.
[10:17.120 --> 10:19.120]  Нам нужно определить наш любимый штопор.
[10:23.120 --> 10:25.120]  Так, давайте поможем мне.
[10:29.120 --> 10:31.120]  Ну, наименьшее рефлексивное-транзитивное отношение.
[10:31.120 --> 10:33.120]  Не-не.
[10:33.120 --> 10:35.120]  Рефлексивность означает следующее.
[10:35.120 --> 10:41.120]  Что q, u, gamma всегда выводят вот эта рефлексивность.
[10:45.120 --> 10:49.120]  Просто мы обычно будем писать, что это будет происходить за ноль шагов.
[10:49.120 --> 10:51.120]  Ну, как обычно.
[10:51.120 --> 10:53.120]  Мы это делали.
[10:53.120 --> 10:55.120]  Да, да, да.
[10:55.120 --> 10:57.120]  Ну, мы так же для автоматов определяли все.
[10:57.120 --> 10:59.120]  Да.
[10:59.120 --> 11:01.120]  Да, именно так.
[11:07.120 --> 11:09.120]  Да.
[11:09.120 --> 11:11.120]  Да.
[11:11.120 --> 11:13.120]  Да.
[11:13.120 --> 11:15.120]  Да.
[11:17.120 --> 11:19.120]  Да.
[11:19.120 --> 11:21.120]  Да.
[11:21.120 --> 11:23.120]  Да.
[11:25.120 --> 11:27.120]  А?
[11:29.120 --> 11:31.120]  Не у, а гамма.
[11:33.120 --> 11:35.120]  Это греческая буква.
[11:37.120 --> 11:39.120]  Видимо, просто гамма.
[11:39.120 --> 11:41.120]  Да, это символ гамма.
[11:41.120 --> 11:45.120]  Так, давайте попробуем написать это все дело.
[11:45.120 --> 11:47.120]  Имея вот этот смысл.
[11:47.120 --> 11:49.120]  Значит, допустим, у нас есть переход q1.
[11:51.120 --> 11:53.120]  Дубль в альфа.
[11:59.120 --> 12:01.120]  А эти скобки буду рисовать.
[12:01.120 --> 12:05.120]  Давайте подумаем, что мы можем сделать с вами.
[12:05.120 --> 12:09.120]  Мы можем сказать с вами, что, пожалуйста, для любого слова...
[12:09.120 --> 12:11.120]  Так.
[12:11.120 --> 12:13.120]  Для любого слова u...
[12:13.120 --> 12:15.120]  А, да, кстати, это неформальный смысл.
[12:15.120 --> 12:17.120]  Сейчас давайте я его расскажу.
[12:17.120 --> 12:19.120]  То есть идея следующая.
[12:19.120 --> 12:21.120]  Идея следующая.
[12:21.120 --> 12:23.120]  Что вот у нас есть такой переход.
[12:23.120 --> 12:25.120]  Давайте вот так напишем.
[12:25.120 --> 12:27.120]  Чтобы совпадание с презентацией было.
[12:29.120 --> 12:33.120]  Для любого слова v и сигма со звездой.
[12:33.120 --> 12:37.120]  И для любой буквы, которая называется это,
[12:39.120 --> 12:41.120]  выполнено следующее.
[12:41.120 --> 12:43.120]  Что из q1...
[12:45.120 --> 12:47.120]  Так, смотрите.
[12:47.120 --> 12:49.120]  q2...
[12:51.120 --> 12:53.120]  это a.
[12:53.120 --> 12:55.120]  Можно вывести q2...
[12:55.120 --> 12:57.120]  v...
[12:57.120 --> 12:59.120]  это b.
[12:59.120 --> 13:01.120]  То есть конфигурация, на самом деле, что такое?
[13:01.120 --> 13:05.120]  Это у нас то, что остается прочитать с входа.
[13:05.120 --> 13:07.120]  То, что у нас на входе.
[13:07.120 --> 13:09.120]  Это состояние стека.
[13:09.120 --> 13:11.120]  Соответственно, что у нас происходит?
[13:11.120 --> 13:13.120]  Для любого перехода.
[13:13.120 --> 13:15.120]  Получается, мы считываем букву u со стека.
[13:15.120 --> 13:17.120]  Просто из входа считываем букву u.
[13:17.120 --> 13:19.120]  Снимаем со стека альфу.
[13:21.120 --> 13:23.120]  Кладем на стек бету.
[13:25.120 --> 13:27.120]  Логичное определение?
[13:37.120 --> 13:39.120]  В смысле?
[13:39.120 --> 13:41.120]  2.
[13:41.120 --> 13:43.120]  У альфы в q2 бета.
[13:43.120 --> 13:45.120]  Да.
[13:45.120 --> 13:47.120]  Но вообще переход у нас из q1.
[13:47.120 --> 13:49.120]  Из q1 в q2.
[13:49.120 --> 13:51.120]  Просто это дополнительная опция.
[13:51.120 --> 13:53.120]  Да.
[13:53.120 --> 13:57.120]  Просто мы говорим, что при переходе с q1 в q2,
[13:57.120 --> 13:59.120]  мы считаем с входа u,
[13:59.120 --> 14:01.120]  снимаем со стека альфы,
[14:01.120 --> 14:03.120]  кладем на стек бета.
[14:03.120 --> 14:07.120]  То есть u, u, альфа и бета вы можете писать как угодно.
[14:07.120 --> 14:11.120]  Главное, что переход из нового состояния в другое происходит.
[14:13.120 --> 14:15.120]  Так, ну хорошо.
[14:15.120 --> 14:17.120]  Давайте опять же,
[14:17.120 --> 14:19.120]  если это определение понятно,
[14:19.120 --> 14:21.120]  пройдемся вот по вот этой штуке.
[14:21.120 --> 14:23.120]  А, еще одна вещь.
[14:23.120 --> 14:25.120]  Нам нужно определить принадлежное слово языку.
[14:27.120 --> 14:31.120]  Мы говорим, что язык, задаваемый mp-автоматом,
[14:31.120 --> 14:33.120]  это множество всех слов.
[14:33.120 --> 14:35.120]  Такое, что из q0
[14:35.120 --> 14:37.120]  на входе,
[14:37.120 --> 14:39.120]  прочитав слово epsilon,
[14:39.120 --> 14:41.120]  мы на выходе получаем
[14:43.120 --> 14:45.120]  q epsilon,
[14:45.120 --> 14:47.120]  для некоторого q из f.
[14:49.120 --> 14:51.120]  То есть мы можем пройти
[14:51.120 --> 14:53.120]  от стартовой вершины до завершающей,
[14:53.120 --> 14:55.120]  прочитав все слово целиком,
[14:55.120 --> 14:57.120]  и на стеке у нас останется пустота.
[14:57.120 --> 14:59.120]  Понятен ли этот слайд?
[15:05.120 --> 15:07.120]  Нет, это конфигурация.
[15:07.120 --> 15:09.120]  То есть вот это у нас остодоин наш.
[15:11.120 --> 15:13.120]  Когда мы прочитаем слово,
[15:13.120 --> 15:15.120]  у нас длина остодоина уменьшается.
[15:17.120 --> 15:19.120]  Неформально в конфигурации?
[15:19.120 --> 15:21.120]  Нет.
[15:21.120 --> 15:23.120]  А что это значит?
[15:23.120 --> 15:25.120]  Неформально в конфигурации
[15:25.120 --> 15:27.120]  это помежуточное население
[15:27.120 --> 15:29.120]  по чтению слова.
[15:29.120 --> 15:31.120]  Да.
[15:31.120 --> 15:33.120]  Стояние всей системы.
[15:35.120 --> 15:37.120]  Мы тут по обратным ребрам идем.
[15:37.120 --> 15:39.120]  Не-не-не, мы идем по прямым ребрам.
[15:39.120 --> 15:41.120]  Мы просто говорим,
[15:41.120 --> 15:43.120]  что не то, что мы накапливаем слово,
[15:43.120 --> 15:45.120]  а мы его считываем.
[15:45.120 --> 15:47.120]  То есть у нас считывается какой-то префикс,
[15:47.120 --> 15:49.120]  и мы его обрубаем.
[15:49.120 --> 15:51.120]  Наша цель дойти до того момента,
[15:51.120 --> 15:53.120]  когда мы прочитали все слово.
[15:53.120 --> 15:55.120]  То есть что нам осталось прочитать пустое слово.
[16:01.120 --> 16:03.120]  Можно сказать, что мы в процессе чтения
[16:03.120 --> 16:05.120]  после каждого шага
[16:05.120 --> 16:07.120]  фотографируем все состояние системы,
[16:07.120 --> 16:09.120]  потом штопором
[16:09.120 --> 16:11.120]  соединяем D2,
[16:11.120 --> 16:13.120]  если после первого
[16:13.120 --> 16:15.120]  через какой-то шагов
[16:15.120 --> 16:17.120]  возникает второе,
[16:17.120 --> 16:19.120]  именно так.
[16:25.120 --> 16:27.120]  Гениально.
[16:27.120 --> 16:29.120]  Все-таки сегодня 31 октября,
[16:29.120 --> 16:31.120]  поэтому можно.
[16:31.120 --> 16:33.120]  Так, давайте пример.
[16:33.120 --> 16:35.120]  Еще один раз, посмотрим,
[16:35.120 --> 16:37.120]  как это формально выводится.
[16:37.120 --> 16:39.120]  Вот как
[16:39.120 --> 16:41.120]  выводит слово A, B, AA.
[16:41.120 --> 16:43.120]  То есть у нас, короче, разница в том,
[16:43.120 --> 16:45.120]  что в автоматах мы накапливали слово?
[16:45.120 --> 16:47.120]  Да, в автоматах то же самое было.
[16:47.120 --> 16:49.120]  Да.
[16:49.120 --> 16:51.120]  А в автоматах мы слово накапливали?
[16:51.120 --> 16:53.120]  Это если
[16:53.120 --> 16:55.120]  давать ваше определение,
[16:55.120 --> 16:57.120]  которое давали мы,
[16:57.120 --> 16:59.120]  наоборот снимали его.
[16:59.120 --> 17:01.120]  Да.
[17:01.120 --> 17:03.120]  Да, какая разница глобально
[17:03.120 --> 17:05.120]  накапливать или снимать?
[17:05.120 --> 17:07.120]  Никак.
[17:07.120 --> 17:09.120]  Ну, да.
[17:09.120 --> 17:11.120]  Просто оказывается.
[17:11.120 --> 17:13.120]  Вот, смотрите, выводим мы слово A, B, AA.
[17:13.120 --> 17:15.120]  Состоит в том,
[17:15.120 --> 17:17.120]  что мы берем, значит, снимаем
[17:17.120 --> 17:19.120]  A со стека, переходим,
[17:19.120 --> 17:21.120]  точнее, делаем переход
[17:21.120 --> 17:23.120]  из Q0 в Q1 по A,
[17:23.120 --> 17:25.120]  двигаемся сюда,
[17:25.120 --> 17:27.120]  на стек кладем A.
[17:27.120 --> 17:29.120]  Вот оно наше состояние, мы находимся в Q1,
[17:29.120 --> 17:31.120]  нам осталось прочитать слово B, A
[17:31.120 --> 17:33.120]  и буквы A на стеке.
[17:33.120 --> 17:35.120]  Потом можно сделать следующее,
[17:35.120 --> 17:37.120]  можно перейти в состояние Q2,
[17:37.120 --> 17:39.120]  сняв букву A,
[17:39.120 --> 17:41.120]  точнее,
[17:41.120 --> 17:43.120]  еще один раз положив букву A
[17:43.120 --> 17:45.120]  на стек, и дальше
[17:45.120 --> 17:47.120]  два раза букву A снять со стека.
[17:49.120 --> 17:51.120]  Получаем, что слово A, B, AA лежит
[17:51.120 --> 17:53.120]  в языке, сдаваемом нашему АП-автомату.
[17:55.120 --> 17:57.120]  Так, с этим определением OK?
[17:57.120 --> 17:59.120]  Вот это пример
[17:59.120 --> 18:01.120]  выводимости.
[18:01.120 --> 18:03.120]  Хорошо, давайте доказывать
[18:03.120 --> 18:05.120]  первое упрощение,
[18:05.120 --> 18:07.120]  но вот есть
[18:07.120 --> 18:09.120]  такой пример языка,
[18:09.120 --> 18:11.120]  на семинаре вы рассмотрите, почему он является
[18:11.120 --> 18:13.120]  АП-автоматом,
[18:13.120 --> 18:15.120]  почему он задается АП-автоматом.
[18:15.120 --> 18:17.120]  На самом деле, здесь такая же самая идея,
[18:17.120 --> 18:19.120]  как у КС грамматик, только хитрее.
[18:19.120 --> 18:21.120]  Вы можете...
[18:21.120 --> 18:23.120]  Правда, если КС свободная,
[18:23.120 --> 18:25.120]  то КС свободная,
[18:25.120 --> 18:27.120]  то КС свободная.
[18:27.120 --> 18:29.120]  Ну вот, да,
[18:29.120 --> 18:31.120]  КС свободная.
[18:31.120 --> 18:33.120]  Это мы не просто две грошей дыма.
[18:33.120 --> 18:35.120]  Даже в одну?
[18:35.120 --> 18:37.120]  А, да.
[18:37.120 --> 18:39.120]  Вы не поверите, что количество N вы можете
[18:39.120 --> 18:41.120]  кодировать длиной стека?
[18:41.120 --> 18:43.120]  Это очевидно, да,
[18:43.120 --> 18:45.120]  даже в одну.
[18:45.120 --> 18:47.120]  Смотрите, вы можете сказать, что N
[18:47.120 --> 18:49.120]  это длина стека.
[18:51.120 --> 18:53.120]  Да.
[18:53.120 --> 18:55.120]  И вы по факту...
[18:55.120 --> 18:57.120]  Да, здесь можно две вершины.
[18:57.120 --> 18:59.120]  Нет, в одну вершину?
[18:59.120 --> 19:01.120]  А, ну можно, да.
[19:01.120 --> 19:03.120]  Ну, то есть, смотрите,
[19:03.120 --> 19:05.120]  по факту
[19:05.120 --> 19:07.120]  мы можем сказать, что количество букв A
[19:07.120 --> 19:09.120]  на стеке, это количество N.
[19:13.120 --> 19:15.120]  А, да.
[19:15.120 --> 19:17.120]  Это вариант другой будет.
[19:17.120 --> 19:19.120]  Это будет PSP, кажется,
[19:19.120 --> 19:21.120]  если его брать.
[19:21.120 --> 19:23.120]  Если соединить это все в одну вершину,
[19:23.120 --> 19:25.120]  это будет PSP.
[19:25.120 --> 19:27.120]  Правильной скобочной последовательности.
[19:31.120 --> 19:33.120]  Нет.
[19:35.120 --> 19:37.120]  Да.
[19:37.120 --> 19:39.120]  Да, а вот чтобы получить количество
[19:39.120 --> 19:41.120]  букв A равняется количеству букв B,
[19:41.120 --> 19:43.120]  тут нужно эмулировать вот такую вещь.
[19:43.120 --> 19:45.120]  У вас есть по факту стек,
[19:45.120 --> 19:47.120]  это что? Это ось неотрицательных
[19:47.120 --> 19:49.120]  целых чисел.
[19:49.120 --> 19:51.120]  Чтобы проэмулировать ось отрицательных
[19:51.120 --> 19:53.120]  чисел, вам нужно еще одну букву
[19:53.120 --> 19:55.120]  завести.
[19:55.120 --> 19:57.120]  И вы говорите, что если у нас
[19:57.120 --> 19:59.120]  N букв на стеке, то баланс плюс N,
[19:59.120 --> 20:01.120]  а если N букв B на стеке, то
[20:01.120 --> 20:03.120]  баланс минус N.
[20:03.120 --> 20:05.120]  Вот, и дальше строится...
[20:07.120 --> 20:09.120]  Ну да.
[20:09.120 --> 20:11.120]  Ну можно и зачеряться вплоть до того,
[20:11.120 --> 20:13.120]  что если количество будет условно
[20:13.120 --> 20:15.120]  четное, то это положительное
[20:15.120 --> 20:17.120]  или нечетное... Ну можно, можно.
[20:17.120 --> 20:19.120]  Зачем упарываться?
[20:19.120 --> 20:21.120]  В общем, тут
[20:21.120 --> 20:23.120]  четыре перехода будут.
[20:23.120 --> 20:25.120]  Я думаю, что это детали на семинарах
[20:25.120 --> 20:27.120]  вы посмотрите.
[20:27.120 --> 20:29.120]  Давайте доказывать
[20:29.120 --> 20:31.120]  что-нибудь более конструктивное.
[20:31.120 --> 20:33.120]  И первый факт,
[20:33.120 --> 20:35.120]  который мы с вами будем доказывать,
[20:35.120 --> 20:37.120]  он на самом деле очень простой.
[20:39.120 --> 20:41.120]  Утверждение один.
[20:41.120 --> 20:43.120]  Для любого mp-автомата
[20:49.120 --> 20:51.120]  можно сказать, что для любого
[20:51.120 --> 20:53.120]  q1
[20:53.120 --> 20:55.120]  u
[20:55.120 --> 20:57.120]  α
[20:57.120 --> 20:59.120]  q2β
[20:59.120 --> 21:01.120]  можно получить
[21:01.120 --> 21:03.120]  следующее свойство.
[21:03.120 --> 21:05.120]  Что длина u сверху
[21:05.120 --> 21:07.120]  ограничена единичкой.
[21:07.120 --> 21:09.120]  И смотрите, сумма длин альфа плюс бета
[21:09.120 --> 21:11.120]  ограничена единицей.
[21:15.120 --> 21:17.120]  Давайте подумаем,
[21:17.120 --> 21:19.120]  как это можно сделать.
[21:23.120 --> 21:25.120]  Да.
[21:27.120 --> 21:29.120]  Могу написать вот так.
[21:29.120 --> 21:31.120]  Какой есть идея доказательства?
[21:35.120 --> 21:37.120]  Да.
[21:37.120 --> 21:39.120]  Пихнем еще вершинок.
[21:39.120 --> 21:41.120]  Давайте картинку нарисую.
[21:41.120 --> 21:43.120]  Все очень просто.
[21:43.120 --> 21:45.120]  Предполагаю, что у нас есть такой переход.
[21:47.120 --> 21:49.120]  Сделаем так.
[21:51.120 --> 21:53.120]  Обратите внимание, что
[21:53.120 --> 21:55.120]  буквы аиты
[21:55.120 --> 21:57.120]  переворачиваются.
[21:57.120 --> 21:59.120]  Это про то, что я говорил.
[21:59.120 --> 22:01.120]  Что в составе снимается верхняя вершина.
[22:05.120 --> 22:07.120]  Еще раз.
[22:07.120 --> 22:09.120]  У нас есть...
[22:09.120 --> 22:11.120]  А?
[22:11.120 --> 22:13.120]  Ага.
[22:27.120 --> 22:29.120]  У нас был такой переход.
[22:29.120 --> 22:31.120]  Мы из него делаем...
[22:31.120 --> 22:33.120]  Там, где пропущено,
[22:33.120 --> 22:35.120]  мы говорим, что просто
[22:35.120 --> 22:37.120]  ε.
[22:47.120 --> 22:49.120]  Буква алфавита.
[22:51.120 --> 22:53.120]  Это стековые эти элементы.
[22:53.120 --> 22:55.120]  А.
[22:55.120 --> 22:57.120]  Да, кладем.
[22:59.120 --> 23:01.120]  Да, да, да.
[23:05.120 --> 23:07.120]  Все.
[23:11.120 --> 23:13.120]  Есть такое...
[23:15.120 --> 23:17.120]  Есть такие штуки. Пистолет называются.
[23:17.120 --> 23:19.120]  Там, по факту, магазин
[23:19.120 --> 23:21.120]  это кабура.
[23:21.120 --> 23:23.120]  Да, конечно.
[23:25.120 --> 23:27.120]  Магазин.
[23:27.120 --> 23:29.120]  Вот это вот...
[23:29.120 --> 23:31.120]  То, что вставляется в любое оружие,
[23:31.120 --> 23:33.120]  это стек.
[23:33.120 --> 23:35.120]  То есть там
[23:35.120 --> 23:37.120]  пули вытаскиваются
[23:37.120 --> 23:39.120]  в определенном порядке.
[23:39.120 --> 23:41.120]  А?
[23:41.120 --> 23:43.120]  Ну, да.
[23:43.120 --> 23:45.120]  Так, контент 18+.
[23:45.120 --> 23:47.120]  Это...
[23:49.120 --> 23:51.120]  А?
[23:51.120 --> 23:53.120]  Не забудьте
[23:53.120 --> 23:55.120]  плашку поставить, пожалуйста.
[23:57.120 --> 23:59.120]  А?
[24:01.120 --> 24:03.120]  Ну, да.
[24:03.120 --> 24:05.120]  Ладно.
[24:15.120 --> 24:17.120]  Да.
[24:17.120 --> 24:19.120]  Так, ладно. Шутки шутками.
[24:19.120 --> 24:21.120]  Понятно доказательство, да, этого факта?
[24:23.120 --> 24:25.120]  Так.
[24:25.120 --> 24:27.120]  Усиление.
[24:29.120 --> 24:31.120]  Да?
[24:33.120 --> 24:35.120]  Нет-нет-нет.
[24:35.120 --> 24:37.120]  Говорю, в остальных местах ε и ε возникают.
[24:45.120 --> 24:47.120]  Так, следующее утверждение.
[24:51.120 --> 24:53.120]  Я его сокращу так.
[25:01.120 --> 25:03.120]  Вот так я его сокращу.
[25:05.120 --> 25:07.120]  Если расшифровывать,
[25:07.120 --> 25:09.120]  говорится, что существует mp-автомат
[25:09.120 --> 25:11.120]  вот с такими требованиями
[25:11.120 --> 25:13.120]  для любого mp-автомата.
[25:15.120 --> 25:17.120]  Да, смотрите, там было не больше, чем один
[25:17.120 --> 25:19.120]  в сумме, а здесь ровно один.
[25:27.120 --> 25:29.120]  У не более одного остается.
[25:35.120 --> 25:37.120]  Да.
[25:37.120 --> 25:39.120]  Есть мысли, как доказать?
[25:39.120 --> 25:41.120]  Во.
[25:43.120 --> 25:45.120]  Давайте рассмотрим вот такой переход.
[25:49.120 --> 25:51.120]  Да.
[25:57.120 --> 25:59.120]  Да.
[25:59.120 --> 26:01.120]  Цель такая, чтобы на каждом переходе
[26:01.120 --> 26:03.120]  мы с вами либо снимали букву, либо клали букву на стэк.
[26:03.120 --> 26:05.120]  Зачем эта стандартизация нужна?
[26:05.120 --> 26:07.120]  Эта нужна для того, чтобы мы с вами
[26:07.120 --> 26:09.120]  корректно доказали,
[26:09.120 --> 26:11.120]  что для любого mp-автомата
[26:11.120 --> 26:13.120]  существует кс язык.
[26:13.120 --> 26:15.120]  Что для любого mp-автомата
[26:15.120 --> 26:17.120]  можно построить любую кс-громатику.
[26:19.120 --> 26:21.120]  Так, понятно.
[26:23.120 --> 26:25.120]  Да, и мы не знаем,
[26:25.120 --> 26:27.120]  как это сделать.
[26:27.120 --> 26:29.120]  Так.
[26:29.120 --> 26:31.120]  Да, и мы сейчас это прям начнем доказывать.
[26:31.120 --> 26:33.120]  И более того, мы с вами заложим основу
[26:33.120 --> 26:35.120]  одного из алгоримфных парсинга,
[26:35.120 --> 26:37.120]  который является эффективным.
[26:37.120 --> 26:39.120]  Этим доказательством.
[26:39.120 --> 26:41.120]  Так.
[26:41.120 --> 26:43.120]  Где?
[26:47.120 --> 26:49.120]  B, M.
[26:49.120 --> 26:51.120]  Нет.
[26:53.120 --> 26:55.120]  А, да.
[26:55.120 --> 26:57.120]  Да, это конъюнкция.
[26:57.120 --> 26:59.120]  Да, это конъюнкция.
[27:11.120 --> 27:13.120]  Вообще имеет, кажется.
[27:13.120 --> 27:15.120]  Да.
[27:15.120 --> 27:17.120]  Да.
[27:17.120 --> 27:19.120]  Так.
[27:19.120 --> 27:21.120]  Значит, смотрите, за оставшееся время
[27:21.120 --> 27:23.120]  мы попробуем с вами доказать
[27:23.120 --> 27:25.120]  следующее утверждение,
[27:25.120 --> 27:27.120]  что кс-громатика и mp-автомата
[27:27.120 --> 27:29.120]  эквалентны между собой.
[27:29.120 --> 27:31.120]  Да.
[27:31.120 --> 27:33.120]  Ну, сюрприз, сюрприз.
[27:33.120 --> 27:35.120]  Собственно, цель
[27:35.120 --> 27:37.120]  кс-громатики
[27:37.120 --> 27:39.120]  и мп-автомата
[27:39.120 --> 27:41.120]  эквалентны между собой.
[27:41.120 --> 27:43.120]  Собственно, цель
[27:43.120 --> 27:45.120]  давайте сформулирую это утверждение,
[27:47.120 --> 27:49.120]  которое будет называться
[27:49.120 --> 27:51.120]  mp-теоремой.
[27:55.120 --> 27:57.120]  На любом
[27:57.120 --> 27:59.120]  кс-громатике
[28:05.120 --> 28:07.120]  G существует
[28:07.120 --> 28:09.120]  mp-автомат.
[28:11.120 --> 28:13.120]  m
[28:17.120 --> 28:19.120]  l от m.
[28:21.120 --> 28:23.120]  Это первый факт, который мы сегодня
[28:23.120 --> 28:25.120]  с вами будем доказывать.
[28:25.120 --> 28:27.120]  Идея,
[28:27.120 --> 28:29.120]  смотрите, какая интересная.
[28:29.120 --> 28:31.120]  Представим себе,
[28:31.120 --> 28:33.120]  что у нас есть с вами
[28:33.120 --> 28:35.120]  как раз громатика какая-нибудь.
[28:35.120 --> 28:37.120]  Ну,
[28:39.120 --> 28:41.120]  давайте мы сейчас
[28:41.120 --> 28:43.120]  PSP рассмотрим
[28:43.120 --> 28:45.120]  и рассмотрим утверждение
[28:45.120 --> 28:47.120]  утверждения вида
[28:47.120 --> 28:49.120]  ABB.
[28:49.120 --> 28:51.120]  Напоминаю, что у нас
[28:53.120 --> 28:55.120]  PSP задается вот такой
[28:55.120 --> 28:57.120]  громатикой.
[28:57.120 --> 28:59.120]  И давайте я еще
[28:59.120 --> 29:01.120]  дополнительно закину
[29:01.120 --> 29:03.120]  правила из h'
[29:03.120 --> 29:05.120]  PSP.
[29:05.120 --> 29:07.120]  Мы с вами говорили, что так можно делать.
[29:07.120 --> 29:09.120]  Теперь смотрите,
[29:09.120 --> 29:11.120]  как идет разбор слова.
[29:11.120 --> 29:13.120]  А давайте мы сделаем следующую вещь.
[29:13.120 --> 29:15.120]  Давайте построим
[29:15.120 --> 29:17.120]  наш вывод.
[29:17.120 --> 29:19.120]  Для этого напишем наше слово
[29:23.120 --> 29:25.120]  и начнем его разбирать.
[29:25.120 --> 29:27.120]  Давайте мы
[29:27.120 --> 29:29.120]  с вами сейчас
[29:29.120 --> 29:31.120]  будем на стеке
[29:31.120 --> 29:33.120]  установить правила,
[29:33.120 --> 29:35.120]  которые мы сейчас
[29:35.120 --> 29:37.120]  по факту,
[29:37.120 --> 29:39.120]  так сказать, крону нашего дерева
[29:39.120 --> 29:41.120]  вывода на текущий момент.
[29:43.120 --> 29:45.120]  Крону дерева.
[29:51.120 --> 29:53.120]  Можно.
[29:53.120 --> 29:55.120]  Просто здесь это еще будет иметь некоторый
[29:55.120 --> 29:57.120]  терапевтический смысл.
[29:57.120 --> 29:59.120]  Нет.
[29:59.120 --> 30:01.120]  Смотрите,
[30:01.120 --> 30:03.120]  суть будет в следующем,
[30:03.120 --> 30:05.120]  что мы будем строить дерево снизу вверх.
[30:07.120 --> 30:09.120]  Это называются восходящие парсеры.
[30:09.120 --> 30:11.120]  Суть в чем?
[30:11.120 --> 30:13.120]  Давайте я буду писать слово здесь.
[30:13.120 --> 30:15.120]  Эпсилон.
[30:15.120 --> 30:17.120]  Из него будет выводиться правило s.
[30:17.120 --> 30:19.120]  На стеке будет появляться s.
[30:19.120 --> 30:21.120]  Дальше, когда мы считаем слово,
[30:21.120 --> 30:23.120]  у нас ABB.
[30:27.120 --> 30:29.120]  Я напишу специально
[30:29.120 --> 30:31.120]  большие пропуски, чтобы было видно,
[30:31.120 --> 30:33.120]  что происходит.
[30:33.120 --> 30:35.120]  Когда у нас встречается буква,
[30:35.120 --> 30:37.120]  мы ее кладем на стек.
[30:37.120 --> 30:39.120]  Дальше у нас встречается правило
[30:39.120 --> 30:41.120]  Эпсилон. Мы наверх кладем s.
[30:41.120 --> 30:43.120]  То есть нам нужно
[30:43.120 --> 30:45.120]  сделать какой-то вывод.
[30:45.120 --> 30:47.120]  Дальше, смотрите,
[30:47.120 --> 30:49.120]  кладем на стек A
[30:49.120 --> 30:51.120]  s, Эпсилон.
[30:51.120 --> 30:53.120]  Я буду строить выводы.
[30:53.120 --> 30:55.120]  А дальше, смотрите,
[30:55.120 --> 30:57.120]  кладем на стек B
[30:59.120 --> 31:01.120]  и чудеса.
[31:01.120 --> 31:03.120]  Смотрите, что у нас находится на стеке.
[31:03.120 --> 31:05.120]  У нас на стеке
[31:05.120 --> 31:07.120]  с вами находится
[31:07.120 --> 31:09.120]  SASB.
[31:11.120 --> 31:13.120]  А что такое SASB?
[31:13.120 --> 31:15.120]  S.
[31:15.120 --> 31:17.120]  Это правая часть правила.
[31:17.120 --> 31:19.120]  Поэтому мы разрешим с вами выполнять следующее свойство.
[31:19.120 --> 31:21.120]  Что если у нас
[31:21.120 --> 31:23.120]  на стеке находится правая часть правила,
[31:23.120 --> 31:25.120]  то мы ее можем заменить на левую часть правила.
[31:27.120 --> 31:29.120]  И в итоге
[31:29.120 --> 31:31.120]  теперь у нас на стеке будет храниться SAS.
[31:33.120 --> 31:35.120]  Дальше кладем
[31:35.120 --> 31:37.120]  букву B
[31:37.120 --> 31:39.120]  на стек
[31:39.120 --> 31:41.120]  и
[31:41.120 --> 31:43.120]  соединяем это все еще
[31:43.120 --> 31:45.120]  в один символ.
[31:45.120 --> 31:47.120]  S. Дальше на стеке
[31:47.120 --> 31:49.120]  у нас остается только S.
[31:49.120 --> 31:51.120]  И мы сейчас можем сказать, что у нас
[31:51.120 --> 31:53.120]  и слово разобрано целиком.
[32:01.120 --> 32:03.120]  Это хороший вопрос.
[32:03.120 --> 32:05.120]  Вот это как раз сейчас
[32:05.120 --> 32:07.120]  самая главная загадка дыры, так сказать.
[32:09.120 --> 32:11.120]  И по факту мы несколько лекций
[32:11.120 --> 32:13.120]  потратим на то, чтобы эту загадку дыры разгадать.
[32:13.120 --> 32:15.120]  Сейчас, а S?
[32:15.120 --> 32:17.120]  Это если у вас есть переход?
[32:17.120 --> 32:19.120]  Да.
[32:19.120 --> 32:21.120]  А в смысле? Ну да. Смотрите.
[32:21.120 --> 32:23.120]  То есть мы можем пустое слово
[32:23.120 --> 32:25.120]  по факту свернуть по правилу
[32:25.120 --> 32:27.120]  S в эпсилон.
[32:27.120 --> 32:29.120]  То есть нам здесь позволяет
[32:29.120 --> 32:31.120]  в любой момент времени на стеке положить S.
[32:35.120 --> 32:37.120]  Да. Чего?
[32:37.120 --> 32:39.120]  В бане мы можем между
[32:39.120 --> 32:41.120]  любым звенобудством вставить S в эпсилон.
[32:41.120 --> 32:43.120]  Но это нам разрешает.
[32:43.120 --> 32:45.120]  То есть мы из эпсилона как бы можем подняться вверх по S.
[32:49.120 --> 32:51.120]  Возможно.
[32:55.120 --> 32:57.120]  Да, да, да, конечно.
[32:57.120 --> 32:59.120]  Смотрите, операция...
[32:59.120 --> 33:01.120]  Давайте я немножко скажу более детально,
[33:01.120 --> 33:03.120]  что операция, когда мы кладем
[33:03.120 --> 33:05.120]  букву на стек,
[33:05.120 --> 33:07.120]  называется shift.
[33:07.120 --> 33:09.120]  А когда мы сворачиваемся
[33:09.120 --> 33:11.120]  по правилу,
[33:11.120 --> 33:13.120]  называется reduce.
[33:15.120 --> 33:17.120]  Не, не, не. Вот видите, у нас было
[33:17.120 --> 33:19.120]  следующее, что у нас был символ
[33:19.120 --> 33:21.120]  афавита A, мы его положили на стек.
[33:23.120 --> 33:25.120]  Просто читаем букву.
[33:27.120 --> 33:29.120]  Да, да, да.
[33:31.120 --> 33:33.120]  Не, не, мы последний. Мы как бы слово читаем
[33:33.120 --> 33:35.120]  слева направо.
[33:35.120 --> 33:37.120]  Да.
[33:37.120 --> 33:39.120]  То есть мы можем либо свернуть правую часть
[33:39.120 --> 33:41.120]  правила, которые у нас есть на стеке,
[33:41.120 --> 33:43.120]  либо мы можем с вами прочитать
[33:43.120 --> 33:45.120]  букву и положить эту букву на стек.
[33:49.120 --> 33:51.120]  Reduce. Мы с вами
[33:51.120 --> 33:53.120]  сворачиваемся по правилу S в эпсилон.
[33:53.120 --> 33:55.120]  То есть когда у нас
[33:55.120 --> 33:57.120]  правая часть правила заменяется
[33:57.120 --> 33:59.120]  на левую часть правила, это...
[33:59.120 --> 34:01.120]  Да, по другому правилу.
[34:01.120 --> 34:03.120]  Вот эти правила
[34:03.120 --> 34:05.120]  тоже могут быть для однозначности?
[34:05.120 --> 34:07.120]  Конечно же, конечно, конечно же.
[34:07.120 --> 34:09.120]  Тут столько неоднозначности.
[34:09.120 --> 34:11.120]  То есть это тоже проблема?
[34:11.120 --> 34:13.120]  Да, да, да.
[34:13.120 --> 34:15.120]  Утверждение, утверждение
[34:15.120 --> 34:17.120]  для неоднозначной грамматики это будет
[34:17.120 --> 34:19.120]  это будет плохо.
[34:21.120 --> 34:23.120]  Вот.
[34:25.120 --> 34:27.120]  Нет, там даже полиномы не
[34:27.120 --> 34:29.120]  получаются.
[34:31.120 --> 34:33.120]  Так.
[34:37.120 --> 34:39.120]  Так.
[34:39.120 --> 34:41.120]  Давайте теперь формально нарисуем автомат.
[34:45.120 --> 34:47.120]  Да, будет.
[34:47.120 --> 34:49.120]  Надеюсь успеем.
[34:51.120 --> 34:53.120]  Так, смотрите.
[34:53.120 --> 34:55.120]  Теперь как выглядит этот автомат.
[34:55.120 --> 34:57.120]  Собственно, если у нас с вами есть
[34:57.120 --> 34:59.120]  правило
[35:01.120 --> 35:03.120]  буква
[35:03.120 --> 35:05.120]  то есть если мы
[35:05.120 --> 35:07.120]  берем букву, то мы ее можем положить на стэк.
[35:07.120 --> 35:09.120]  А если у нас
[35:09.120 --> 35:11.120]  есть правило
[35:11.120 --> 35:13.120]  то мы можем со стэка снять правую часть
[35:13.120 --> 35:15.120]  правила и положить левую.
[35:17.120 --> 35:19.120]  И последнее, это нам нужно
[35:19.120 --> 35:21.120]  снять стартовый символ.
[35:21.120 --> 35:23.120]  Да.
[35:27.120 --> 35:29.120]  Гениальный автомат.
[35:33.120 --> 35:35.120]  Да, да, да, да.
[35:39.120 --> 35:41.120]  Да, да, да.
[35:41.120 --> 35:43.120]  Да.
[35:43.120 --> 35:45.120]  То есть идея такая, что правую часть правила
[35:45.120 --> 35:47.120]  заменяем на левую, при этом ничего не считаем
[35:47.120 --> 35:49.120]  со входа. Левая часть правила
[35:49.120 --> 35:51.120]  ничего не считаем со входа.
[35:51.120 --> 35:53.120]  Либо мы идем следующим образом, что
[35:53.120 --> 35:55.120]  читаем букву со входа, снимаем епсилон
[35:55.120 --> 35:57.120]  кладем ту же самую букву на стэк.
[35:57.120 --> 35:59.120]  Вопрос, где здесь подвох?
[36:05.120 --> 36:07.120]  Нет, почему не забыли?
[36:09.120 --> 36:11.120]  Оно здесь.
[36:11.120 --> 36:13.120]  Мы просто, смотрите, мы что делаем.
[36:13.120 --> 36:15.120]  Если подставить s в епсилон,
[36:15.120 --> 36:17.120]  то альфа это епсилон, кладем s.
[36:17.120 --> 36:19.120]  То есть мы в любой момент просто на стэк s можем
[36:19.120 --> 36:21.120]  положить.
[36:21.120 --> 36:23.120]  Так.
[36:23.120 --> 36:25.120]  А ну давайте пролистаем
[36:25.120 --> 36:27.120]  к определению.
[36:29.120 --> 36:31.120]  Да, как
[36:31.120 --> 36:33.120]  на стэк сложить символ алфавита?
[36:37.120 --> 36:39.120]  Да,
[36:39.120 --> 36:41.120]  он говорит, что множество стэков
[36:41.120 --> 36:43.120]  алфавита, множество символов
[36:43.120 --> 36:45.120]  алфавита не пересекаются.
[36:47.120 --> 36:49.120]  Да, отклонируем символ
[36:49.120 --> 36:51.120]  алфавита такие же,
[36:51.120 --> 36:53.120]  как в стэковом алфавите.
[36:53.120 --> 36:55.120]  То есть делаем отдельную копию символов.
[37:01.120 --> 37:03.120]  Ну, нет.
[37:03.120 --> 37:05.120]  Типа, смотрите,
[37:05.120 --> 37:07.120]  когда вы кладете образ
[37:07.120 --> 37:09.120]  наговоря, смотрите,
[37:09.120 --> 37:11.120]  здесь мы говорим а штрих везде.
[37:11.120 --> 37:13.120]  То есть везде над символом будем добавлять
[37:13.120 --> 37:15.120]  штрихи.
[37:17.120 --> 37:19.120]  Да, да, да, да, да.
[37:19.120 --> 37:21.120]  Да, да, да.
[37:21.120 --> 37:23.120]  А штрих, б штрих, ну и так далее.
[37:31.120 --> 37:33.120]  Что?
[37:37.120 --> 37:39.120]  Это сделано
[37:39.120 --> 37:41.120]  чисто для того, чтобы это все было
[37:41.120 --> 37:43.120]  максимально похоже на кс-грамматике,
[37:43.120 --> 37:45.120]  что мы вводим новый алфавит и он никаким образом
[37:45.120 --> 37:47.120]  не пересекается вот с текущим.
[37:47.120 --> 37:49.120]  Для амп-автоматов нет
[37:49.120 --> 37:51.120]  критической разницы, для кс-грамматик
[37:51.120 --> 37:53.120]  понятно, что это разница очень большая.
[37:53.120 --> 37:55.120]  Да?
[38:01.120 --> 38:03.120]  Нет, смотрите,
[38:03.120 --> 38:05.120]  это если вы пытаетесь раскрыть
[38:05.120 --> 38:07.120]  правила грамматики, а здесь идет в обратном
[38:07.120 --> 38:09.120]  смысле, что мы дерево вывода собираем
[38:09.120 --> 38:11.120]  снизу вверх.
[38:11.120 --> 38:13.120]  То есть еще раз, смотрите, суть в чем,
[38:13.120 --> 38:15.120]  когда мы собрали правую часть правила,
[38:15.120 --> 38:17.120]  мы снимаем ее со стека
[38:17.120 --> 38:19.120]  и кладем на стек левую часть правила.
[38:21.120 --> 38:23.120]  Да.
[38:23.120 --> 38:25.120]  Мы хотим в итоге прочитать
[38:25.120 --> 38:27.120]  слово и получить с.
[38:35.120 --> 38:37.120]  Но зато приводит нас к алгоритму
[38:37.120 --> 38:39.120]  к определенному.
[38:43.120 --> 38:45.120]  Раскрывать, да?
[38:49.120 --> 38:51.120]  Есть такое, можете в качестве упражнения
[38:51.120 --> 38:53.120]  попытаться сделать то же самое,
[38:53.120 --> 38:55.120]  раскрыв левую часть правила
[38:55.120 --> 38:57.120]  на правую. Так тоже можно.
[39:01.120 --> 39:03.120]  Да, ну не, ну а здесь просто
[39:03.120 --> 39:05.120]  это такая затравка перед будущими алгоритмами,
[39:05.120 --> 39:07.120]  которые мы будем рассматривать.
[39:07.120 --> 39:09.120]  Мы будем модернизировать...
[39:09.120 --> 39:11.120]  Да, на самом деле мы будем с вами модернизировать
[39:11.120 --> 39:13.120]  алгоритм, который будет потом за линию работать
[39:13.120 --> 39:15.120]  для длины слова.
[39:15.120 --> 39:17.120]  Вот, при помощи вот этой штуки.
[39:19.120 --> 39:21.120]  Так, давайте докажем все-таки его.
[39:23.120 --> 39:25.120]  Да, для некоторых грамматик мы за линию
[39:25.120 --> 39:27.120]  для длины слова научимся разбирать
[39:27.120 --> 39:29.120]  для некоторых грамматик.
[39:29.120 --> 39:31.120]  Ну, для большого числа.
[39:31.120 --> 39:33.120]  Да?
[39:35.120 --> 39:37.120]  Нет, нет, нет, нет. Конкретно, что
[39:37.120 --> 39:39.120]  мы снимаем правую часть, кладем в левую часть правила.
[39:39.120 --> 39:41.120]  Вот картинка.
[39:45.120 --> 39:47.120]  Снизу вверх, по выводу идем.
[39:59.120 --> 40:01.120]  Что считываем со...
[40:03.120 --> 40:05.120]  Нет, смотрите,
[40:05.120 --> 40:07.120]  первое, это что мы снимаем со входа,
[40:07.120 --> 40:09.120]  второе, это что мы снимаем со стека,
[40:09.120 --> 40:11.120]  третье, что кладем на стек.
[40:19.120 --> 40:21.120]  Нормально стало?
[40:27.120 --> 40:29.120]  Это два действия.
[40:29.120 --> 40:31.120]  Первое действие, это перенос,
[40:31.120 --> 40:33.120]  то есть мы берем и переносим букву
[40:33.120 --> 40:35.120]  на стек, считывая ее.
[40:35.120 --> 40:37.120]  А второе свертка, мы берем правую часть правила
[40:37.120 --> 40:39.120]  и сворачиваем ее в левую часть правила.
[40:43.120 --> 40:45.120]  Вот, и при помощи такой штуки
[40:45.120 --> 40:47.120]  за экспоненты вы сможете разобрать
[40:47.120 --> 40:49.120]  принадлежные слова грамматики.
[40:53.120 --> 40:55.120]  Да.
[40:55.120 --> 40:57.120]  Теперь надо доказать, что этот автомат работает.
[41:01.120 --> 41:03.120]  Да.
[41:05.120 --> 41:07.120]  Да.
[41:09.120 --> 41:11.120]  А если мы из mp-автомата научим строить
[41:11.120 --> 41:13.120]  кс-грамматику, то из кс-грамматики мы потом сможем...
[41:13.120 --> 41:15.120]  Да.
[41:19.120 --> 41:21.120]  Да.
[41:21.120 --> 41:23.120]  Итак,
[41:23.120 --> 41:25.120]  давайте, вот они правила, формально
[41:25.120 --> 41:27.120]  выписаны, и давайте
[41:27.120 --> 41:29.120]  нам нужно доказывать следующее.
[41:29.120 --> 41:31.120]  Первое, что из
[41:31.120 --> 41:33.120]  a вводится слово w,
[41:33.120 --> 41:35.120]  тогда и только тогда,
[41:35.120 --> 41:37.120]  когда
[41:39.120 --> 41:41.120]  мы можем вывести
[41:47.120 --> 41:49.120]  ну, то есть, по факту, вот эту часть
[41:49.120 --> 41:51.120]  перегнать вот сюда.
[41:51.120 --> 41:53.120]  И второй факт следующий,
[41:53.120 --> 41:55.120]  что для буквы это тоже самое
[41:55.120 --> 41:57.120]  выполнено.
[42:03.120 --> 42:05.120]  Ну,
[42:05.120 --> 42:07.120]  ну, второй факт кажется очевидным.
[42:11.120 --> 42:13.120]  Ну, из букв вывелось слово.
[42:13.120 --> 42:15.120]  Это значит, что буква равняется этому слову.
[42:15.120 --> 42:17.120]  Да, это
[42:17.120 --> 42:19.120]  кажется сверхочевидный факт,
[42:19.120 --> 42:21.120]  поскольку у нас есть
[42:21.120 --> 42:23.120]  такой переход.
[42:23.120 --> 42:25.120]  Давайте сотру все-таки букв, чтобы...
[42:33.120 --> 42:35.120]  Где? Вот тут?
[42:39.120 --> 42:41.120]  А, в грамматике.
[42:49.120 --> 42:51.120]  Потому что мы хотим вращаться
[42:51.120 --> 42:53.120]  именно в этом состоянии.
[42:55.120 --> 42:57.120]  То есть, мы хотим вращаться
[42:57.120 --> 42:59.120]  в этом состоянии и в какой-то момент
[42:59.120 --> 43:01.120]  получить s.
[43:01.120 --> 43:03.120]  Вот, утверждение, которое мы будем
[43:03.120 --> 43:05.120]  доказывать, что это можно делать вот таким
[43:05.120 --> 43:07.120]  образом.
[43:07.120 --> 43:09.120]  Так.
[43:09.120 --> 43:11.120]  Что, начнем доказывать этот факт?
[43:13.120 --> 43:15.120]  Ну, тут две индукции.
[43:17.120 --> 43:19.120]  Давайте сделаем так.
[43:19.120 --> 43:21.120]  Хотим обе индукции или
[43:21.120 --> 43:23.120]  интересную индукцию?
[43:23.120 --> 43:25.120]  Интересную. Значит, интересная индукция
[43:25.120 --> 43:27.120]  будет справа налево.
[43:31.120 --> 43:33.120]  Индукция слева направо, индукция
[43:33.120 --> 43:35.120]  по длине вывода.
[43:35.120 --> 43:37.120]  База есть, переход проверяется.
[43:43.120 --> 43:45.120]  Нет.
[43:45.120 --> 43:47.120]  Хорошо.
[43:47.120 --> 43:49.120]  Если останется время, проведем этот индукционный
[43:49.120 --> 43:51.120]  переход. На самом деле,
[43:51.120 --> 43:53.120]  здесь просто берется
[43:53.120 --> 43:55.120]  последний переход, и он раскрывается.
[43:57.120 --> 43:59.120]  В Slow Mo это
[43:59.120 --> 44:01.120]  таким вот образом делается.
[44:03.120 --> 44:05.120]  То есть, просто аккуратненько выводится.
[44:05.120 --> 44:07.120]  Так, теперь в обратную сторону.
[44:07.120 --> 44:09.120]  Значит, индукция по длине вывода
[44:09.120 --> 44:11.120]  в mp-автомате.
[44:21.120 --> 44:23.120]  Количество шагов,
[44:23.120 --> 44:25.120]  в котором из вот
[44:25.120 --> 44:27.120]  этой конфигурации мы можем получить
[44:27.120 --> 44:29.120]  вот такую конфигурацию.
[44:31.120 --> 44:33.120]  У нас, напоминая, что выводимость
[44:33.120 --> 44:35.120]  это наименьшее рефлексивное, транзитивное
[44:35.120 --> 44:37.120]  состояние. Оно порождается
[44:37.120 --> 44:39.120]  переходами в нашем автомате.
[44:41.120 --> 44:43.120]  Поэтому количество шагов,
[44:43.120 --> 44:45.120]  за которых достигается
[44:47.120 --> 44:49.120]  из одного конфигурации к другому,
[44:49.120 --> 44:51.120]  можно вычислить, построив
[44:51.120 --> 44:53.120]  транзитивное замыкание
[44:53.120 --> 44:55.120]  над этими всеми состояниями.
[44:57.120 --> 44:59.120]  База.
[44:59.120 --> 45:01.120]  База очень простая.
[45:03.120 --> 45:05.120]  Мы можем с вами
[45:07.120 --> 45:09.120]  q0 w epsilon
[45:11.120 --> 45:13.120]  за ноль шагов
[45:13.120 --> 45:15.120]  вывести q0
[45:15.120 --> 45:17.120]  epsilon alpha.
[45:23.120 --> 45:25.120]  Что из выводимости в автомате
[45:25.120 --> 45:27.120]  будет следовать выводимость грамматики?
[45:29.120 --> 45:31.120]  Давайте тут посмотрим внимательно
[45:31.120 --> 45:33.120]  на эти два варианта.
[45:33.120 --> 45:35.120]  Здесь есть два возможных кейса.
[45:43.120 --> 45:45.120]  Даже за один шаг.
[45:45.120 --> 45:47.120]  Но если за ноль шагов смотреть,
[45:47.120 --> 45:49.120]  то кажется...
[45:51.120 --> 45:53.120]  Да, это неинтересно.
[45:55.120 --> 45:57.120]  Да, все-таки мы хотим, чтобы
[45:57.120 --> 45:59.120]  у нас в левой части правила
[45:59.120 --> 46:01.120]  стояло хоть что-то, поэтому
[46:01.120 --> 46:03.120]  напишу неинтересно.
[46:07.120 --> 46:09.120]  Так, давайте за один шаг посмотрим,
[46:09.120 --> 46:11.120]  что у нас происходит.
[46:13.120 --> 46:15.120]  Итак,
[46:19.120 --> 46:21.120]  за один шаг
[46:21.120 --> 46:23.120]  за один шаг
[46:27.120 --> 46:29.120]  здесь есть варианты.
[46:29.120 --> 46:31.120]  Собственно, как этот один шаг был
[46:31.120 --> 46:33.120]  достигнут?
[46:33.120 --> 46:35.120]  Вариант один.
[46:37.120 --> 46:39.120]  У нас с вами
[46:39.120 --> 46:41.120]  было следующее, что
[46:41.120 --> 46:43.120]  из A epsilon
[46:47.120 --> 46:49.120]  из этого будет следовать, что
[46:49.120 --> 46:51.120]  A
[46:53.120 --> 46:55.120]  равняется альфа
[46:55.120 --> 46:57.120]  и вводит наше слово W,
[46:57.120 --> 46:59.120]  которое равняется A.
[46:59.120 --> 47:01.120]  То есть мы сделали переход по правилу shift.
[47:01.120 --> 47:03.120]  Второй вариант
[47:03.120 --> 47:05.120]  это переход по правилу reduce.
[47:11.120 --> 47:13.120]  Успользуемся вот этим правилом.
[47:13.120 --> 47:15.120]  Значит, тогда
[47:15.120 --> 47:17.120]  у нас получается, что
[47:17.120 --> 47:19.120]  W это epsilon
[47:21.120 --> 47:23.120]  и здесь у нас epsilon,
[47:23.120 --> 47:25.120]  правая часть правила.
[47:27.120 --> 47:29.120]  И мы получаем с вами
[47:29.120 --> 47:31.120]  некоторое q0
[47:31.120 --> 47:33.120]  epsilon A.
[47:33.120 --> 47:35.120]  Но из этого следует,
[47:35.120 --> 47:37.120]  что у нас есть правило A
[47:37.120 --> 47:39.120]  epsilon.
[47:39.120 --> 47:41.120]  Да,
[47:45.120 --> 47:47.120]  да,
[47:51.120 --> 47:53.120]  мы пришли по букве,
[47:53.120 --> 47:55.120]  да, то есть мы сняли букву,
[47:55.120 --> 47:57.120]  положили букву, поэтому из этой буквы
[47:57.120 --> 47:59.120]  эта буква же и выводится.
[48:03.120 --> 48:05.120]  А второй переход говорит, что
[48:05.120 --> 48:07.120]  на самом деле у нас существует правило A
[48:07.120 --> 48:09.120]  epsilon
[48:11.120 --> 48:13.120]  в нашей грамматике.
[48:17.120 --> 48:19.120]  Где? Здесь?
[48:19.120 --> 48:21.120]  А потому что у нас один шаг есть,
[48:21.120 --> 48:23.120]  только получить не терминал сейчас.
[48:25.120 --> 48:27.120]  То есть да, да,
[48:27.120 --> 48:29.120]  то есть
[48:29.120 --> 48:31.120]  да, мы просто не успеваем, потому что у нас
[48:31.120 --> 48:33.120]  просто один шаг.
[48:33.120 --> 48:35.120]  Вот, ну и из этого следует, что
[48:35.120 --> 48:37.120]  да,
[48:37.120 --> 48:39.120]  вот epsilon, который в нашем случае
[48:39.120 --> 48:41.120]  получается равным пустым словам.
[48:45.120 --> 48:47.120]  Базы доказали.
[48:49.120 --> 48:51.120]  Переход.
[48:51.120 --> 48:53.120]  А вот переход это
[48:53.120 --> 48:55.120]  самая интересная вещь, которая есть здесь.
[49:01.120 --> 49:03.120]  Давайте попробуем проверить
[49:03.120 --> 49:05.120]  интуицию и скажите, пожалуйста,
[49:05.120 --> 49:07.120]  какой шаг нам
[49:07.120 --> 49:09.120]  нужно будет с вами сейчас проверить.
[49:09.120 --> 49:11.120]  Первый или последний?
[49:11.120 --> 49:13.120]  Пока я стираю из доски и ищу
[49:13.120 --> 49:15.120]  тряпку.
[49:23.120 --> 49:25.120]  Хочется последний.
[49:29.120 --> 49:31.120]  Смотрите.
[49:33.120 --> 49:35.120]  Давайте посмотрим, каким образом
[49:35.120 --> 49:37.120]  был получен вот этот шаг.
[49:41.120 --> 49:43.120]  Ну, мы можем с вами сказать,
[49:45.120 --> 49:47.120]  что этот шаг был получен вот таким вот образом.
[49:47.120 --> 49:49.120]  У нас здесь на входе
[49:49.120 --> 49:51.120]  было epsilon,
[49:51.120 --> 49:53.120]  а здесь была последовательность символов
[49:53.120 --> 49:55.120]  α1, αn.
[49:57.120 --> 49:59.120]  Вот.
[49:59.120 --> 50:01.120]  Вопрос.
[50:01.120 --> 50:03.120]  Пока я там готовлю
[50:03.120 --> 50:05.120]  себе другую доску, скажите,
[50:05.120 --> 50:07.120]  пожалуйста,
[50:07.120 --> 50:09.120]  что дальше делать?
[50:11.120 --> 50:13.120]  Есть ли у вас какие-то мысли
[50:13.120 --> 50:15.120]  по этому поводу?
[50:15.120 --> 50:17.120]  Тут важно
[50:17.120 --> 50:19.120]  ваше внимание,
[50:19.120 --> 50:21.120]  что у вас есть
[50:21.120 --> 50:23.120]  какие-то мысли по этому поводу.
[50:23.120 --> 50:25.120]  Если у вас есть
[50:25.120 --> 50:27.120]  какие-то мысли по этому поводу,
[50:27.120 --> 50:29.120]  тут важно
[50:29.120 --> 50:31.120]  задетектировать один момент,
[50:31.120 --> 50:33.120]  который нам будет сильно помогать.
[50:39.120 --> 50:41.120]  Давайте возьмем
[50:41.120 --> 50:43.120]  первый момент,
[50:43.120 --> 50:45.120]  когда появился символ
[50:45.120 --> 50:47.120]  α1.
[50:51.120 --> 50:53.120]  У нас символы с вами появляются
[50:53.120 --> 50:55.120]  на стеке.
[50:55.120 --> 50:57.120]  Значит, в какой-то момент
[50:57.120 --> 50:59.120]  на стеке появился α1.
[51:01.120 --> 51:03.120]  И больше там ничего не было.
[51:15.120 --> 51:17.120]  Не-не-не. Именно в первый раз,
[51:17.120 --> 51:19.120]  когда он совсем появился.
[51:25.120 --> 51:27.120]  Смотрите, согласен.
[51:27.120 --> 51:29.120]  Первый момент,
[51:29.120 --> 51:31.120]  в котором дальше после этого
[51:31.120 --> 51:33.120]  α1 не происходило
[51:33.120 --> 51:35.120]  изменений.
[51:37.120 --> 51:39.120]  Да.
[51:39.120 --> 51:41.120]  Именно так.
[51:41.120 --> 51:43.120]  То есть,
[51:43.120 --> 51:45.120]  α1 появился на стеке
[51:45.120 --> 51:47.120]  и зафиксировался
[51:47.120 --> 51:49.120]  до того момента,
[51:49.120 --> 51:51.120]  пока мы не сделали переход
[51:51.120 --> 51:53.120]  по вот этому правилу.
[51:53.120 --> 51:55.120]  Тогда смотрите,
[51:55.120 --> 51:57.120]  первое появление,
[51:57.120 --> 51:59.120]  берем его,
[51:59.120 --> 52:01.120]  и дальше делаем следующее.
[52:01.120 --> 52:03.120]  А давайте посмотрим,
[52:03.120 --> 52:05.120]  что ему предшествовало.
[52:07.120 --> 52:09.120]  Логично?
[52:13.120 --> 52:15.120]  То есть, здесь у нас получилось так,
[52:15.120 --> 52:17.120]  что Q0, ε, α1
[52:17.120 --> 52:19.120]  у нас появилось на стеке.
[52:19.120 --> 52:21.120]  Здесь мы говорим следующее.
[52:21.120 --> 52:23.120]  За один шаг
[52:23.120 --> 52:25.120]  у нас с вами
[52:25.120 --> 52:27.120]  на самом деле здесь уже было
[52:27.120 --> 52:29.120]  какое-то слово W1.
[52:35.120 --> 52:37.120]  Которое потом трансформировалось
[52:37.120 --> 52:39.120]  во все остальные правила.
[52:45.120 --> 52:47.120]  Вот. И за один раз
[52:47.120 --> 52:49.120]  давайте посмотрим на вот этот момент.
[52:59.120 --> 53:01.120]  Хорошо.
[53:01.120 --> 53:03.120]  Давайте уточнение сделаю
[53:03.120 --> 53:05.120]  некоторое.
[53:05.120 --> 53:07.120]  Смотрите,
[53:07.120 --> 53:09.120]  тогда мы можем сказать,
[53:09.120 --> 53:11.120]  что
[53:11.120 --> 53:13.120]  Q0,
[53:13.120 --> 53:15.120]  ε,
[53:15.120 --> 53:17.120]  мы можем сказать,
[53:17.120 --> 53:19.120]  что у нас появляется
[53:19.120 --> 53:21.120]  вот такой вывод.
[53:21.120 --> 53:23.120]  Я подчеркну, что здесь вот вывод,
[53:23.120 --> 53:25.120]  именно стрелочка α1,
[53:25.120 --> 53:27.120]  и тут был какой-то еще другой вывод до этого.
[53:29.120 --> 53:31.120]  Теперь смотрите,
[53:31.120 --> 53:33.120]  пользуемся тем,
[53:33.120 --> 53:35.120]  что из эстадеина
[53:35.120 --> 53:37.120]  у нас ничего не считывается.
[53:37.120 --> 53:39.120]  То есть, на эстадеин мы больше ничего
[53:39.120 --> 53:41.120]  положить не можем.
[53:41.120 --> 53:43.120]  Ну, в плане, то что
[53:43.120 --> 53:45.120]  если отсюда какая-то буква пропала
[53:45.120 --> 53:47.120]  из этой конфигурации, больше мы ее не вернем.
[53:51.120 --> 53:53.120]  А я имею в виду в то,
[53:53.120 --> 53:55.120]  что вот это вот правило можно оставить.
[53:55.120 --> 53:57.120]  Смотрите, я хочу сказать,
[53:57.120 --> 53:59.120]  что мы можем с вами представить следующие
[53:59.120 --> 54:01.120]  вот это слово следующим образом.
[54:01.120 --> 54:03.120]  Что
[54:03.120 --> 54:05.120]  вот это вот все
[54:05.120 --> 54:07.120]  равняется некоторому
[54:07.120 --> 54:09.120]  u1 на v1.
[54:13.120 --> 54:15.120]  И из этого хочется сделать вывод,
[54:15.120 --> 54:17.120]  что из q0
[54:17.120 --> 54:19.120]  значит
[54:19.120 --> 54:21.120]  u1
[54:21.120 --> 54:23.120]  ε мы можем с вами
[54:23.120 --> 54:25.120]  вывести q0
[54:25.120 --> 54:27.120]  εα1.
[54:27.120 --> 54:29.120]  Вот что
[54:29.120 --> 54:31.120]  я имею в виду.
[54:31.120 --> 54:33.120]  То есть, существует
[54:33.120 --> 54:35.120]  наше разложение
[54:35.120 --> 54:37.120]  вот таким вот образом.
[54:39.120 --> 54:41.120]  Но тогда смотрите, что у нас получается.
[54:41.120 --> 54:43.120]  Из этого делается вывод,
[54:43.120 --> 54:45.120]  что из α1 выводится у1.
[54:49.120 --> 54:51.120]  Вот это предположение нубца, которое мы с вами искали.
[54:55.120 --> 54:57.120]  Дальше мы делаем следующее.
[54:57.120 --> 54:59.120]  Повторяем аналогичные действия
[55:05.120 --> 55:07.120]  для α2,
[55:07.120 --> 55:09.120]  α3,
[55:09.120 --> 55:11.120]  α
[55:11.120 --> 55:13.120]  сколько там у нас было?
[55:13.120 --> 55:15.120]  n
[55:19.120 --> 55:21.120]  Получаем,
[55:21.120 --> 55:23.120]  αит выводится уит,
[55:23.120 --> 55:25.120]  и тогда
[55:25.120 --> 55:27.120]  из а у нас за один шаг
[55:29.120 --> 55:31.120]  αн
[55:31.120 --> 55:33.120]  ун
[55:33.120 --> 55:35.120]  а это как раз наш
[55:35.120 --> 55:37.120]  слово w будет.
[55:39.120 --> 55:41.120]  Так, я надеюсь, что я не слишком руками
[55:41.120 --> 55:43.120]  помахал тут.
[55:45.120 --> 55:47.120]  То есть, главная идея
[55:47.120 --> 55:49.120]  фиксируем в первый момент, когда у нас появится
[55:49.120 --> 55:51.120]  символ на стеке.
[55:53.120 --> 55:55.120]  И дальше
[55:55.120 --> 55:57.120]  из того, что у нас конфигурация
[55:57.120 --> 55:59.120]  строится по транзитивному замыканию,
[55:59.120 --> 56:01.120]  мы можем с вами взять
[56:01.120 --> 56:03.120]  и убрать произвольный префикс из длины слова.
[56:05.120 --> 56:07.120]  Который есть и там, и там.
[56:09.120 --> 56:11.120]  Так, давайте вопросы.
[56:33.120 --> 56:35.120]  А у нас и так, да.
[56:35.120 --> 56:37.120]  Если последний переход shift,
[56:37.120 --> 56:39.120]  это вот совсем база индукции,
[56:39.120 --> 56:41.120]  которую мы проверили вот здесь.
[57:03.120 --> 57:05.120]  Так, теперь давайте доведем
[57:05.120 --> 57:07.120]  доказательства.
[57:09.120 --> 57:11.120]  Смотрите, w принадлежит языку
[57:11.120 --> 57:13.120]  задаваемой грамматики g.
[57:13.120 --> 57:15.120]  Тогда и только тогда, когда из s выводится w.
[57:17.120 --> 57:19.120]  Логично?
[57:19.120 --> 57:21.120]  Теперь.
[57:21.120 --> 57:23.120]  Это означает, что это эквалюта тому, что
[57:23.120 --> 57:25.120]  из q0 w епсилон
[57:25.120 --> 57:27.120]  выводит q0
[57:27.120 --> 57:29.120]  епсилон s.
[57:29.120 --> 57:31.120]  Вот как раз по факту, которую мы с вами доказали.
[57:31.120 --> 57:33.120]  А теперь за один шаг
[57:33.120 --> 57:35.120]  мы можем снять этот s
[57:37.120 --> 57:39.120]  и получить
[57:39.120 --> 57:41.120]  что
[57:43.120 --> 57:45.120]  mp автомат.
[57:49.120 --> 57:51.120]  Все, они факт доказали.
[57:53.120 --> 57:55.120]  Ладно, это была простая часть доказательства.
[57:57.120 --> 57:59.120]  Да.
[57:59.120 --> 58:01.120]  В обратную сторону.
[58:05.120 --> 58:07.120]  Так.
[58:07.120 --> 58:09.120]  Идея понятна?
[58:11.120 --> 58:13.120]  Хорошо.
[58:13.120 --> 58:15.120]  Теперь давайте мы
[58:15.120 --> 58:17.120]  сделаем следующую вещь.
[58:17.120 --> 58:19.120]  Докажем
[58:19.120 --> 58:21.120]  факт в обратную сторону.
[58:23.120 --> 58:25.120]  Мы не доказали, как
[58:25.120 --> 58:27.120]  pmp автомат устроит ks грамматику.
[58:29.120 --> 58:31.120]  Мы доказали, что
[58:31.120 --> 58:33.120]  любое ковыдное ковыдное ковыдное автоматом
[58:33.120 --> 58:35.120]  будет...
[58:35.120 --> 58:37.120]  Да.
[58:37.120 --> 58:39.120]  Смотрите, мы доказали, что
[58:39.120 --> 58:41.120]  по любой ковыдской грамматике у нас
[58:41.120 --> 58:43.120]  можно построить mp автомат.
[58:43.120 --> 58:45.120]  Да.
[58:45.120 --> 58:47.120]  А теперь надо в обратную
[58:47.120 --> 58:49.120]  сторону это все доказать.
[58:59.120 --> 59:01.120]  Нет.
[59:01.120 --> 59:03.120]  Не очевидно.
[59:03.120 --> 59:05.120]  Это, кстати, основная идея, которую, возможно,
[59:05.120 --> 59:07.120]  вам на семинарах уже рассказывали.
[59:07.120 --> 59:09.120]  Вот.
[59:09.120 --> 59:11.120]  Но я подчекну ее еще раз.
[59:11.120 --> 59:13.120]  Идея. Смотрите.
[59:13.120 --> 59:15.120]  Давайте возьмем как раз автомат,
[59:15.120 --> 59:17.120]  у которого мы можем либо снимать
[59:17.120 --> 59:19.120]  букву со стека обязательно,
[59:19.120 --> 59:21.120]  либо класть букву на стек.
[59:23.120 --> 59:25.120]  То есть рассмотрим mp автомат
[59:25.120 --> 59:27.120]  где перехода
[59:33.120 --> 59:35.120]  имеет следующий вид.
[59:41.120 --> 59:43.120]  Сейчас будет взрыв башки.
[59:45.120 --> 59:47.120]  Так. Давайте рассмотрим
[59:47.120 --> 59:49.120]  момент,
[59:49.120 --> 59:51.120]  в котором у нас появляется
[59:51.120 --> 59:53.120]  взрыв башки.
[59:53.120 --> 59:55.120]  В котором у нас появляется
[59:55.120 --> 59:57.120]  буква на стеке. То есть у нас с вами есть
[59:57.120 --> 59:59.120]  путь от стартовой вершины до завершающей,
[59:59.120 --> 01:00:01.120]  в котором у нас
[01:00:01.120 --> 01:00:03.120]  распознается некоторое слово w.
[01:00:03.120 --> 01:00:05.120]  И при этом у нас есть
[01:00:05.120 --> 01:00:07.120]  и появление буквы a на
[01:00:07.120 --> 01:00:09.120]  стеке и в какой-то
[01:00:09.120 --> 01:00:11.120]  момент эта буква a на стеке должна была
[01:00:11.120 --> 01:00:13.120]  сняться.
[01:00:15.120 --> 01:00:17.120]  То есть давайте рассмотрим
[01:00:17.120 --> 01:00:19.120]  произвольный путь и стартовые
[01:00:19.120 --> 01:00:21.120]  вершины в завершающей вершину.
[01:00:21.120 --> 01:00:23.120]  Давайте рассмотрим, как
[01:00:23.120 --> 01:00:25.120]  себя будет ввести стек в себя.
[01:00:25.120 --> 01:00:27.120]  Значит, смотрите, если у нас
[01:00:27.120 --> 01:00:29.120]  в какой-то момент добавился символ на
[01:00:29.120 --> 01:00:31.120]  стек,
[01:00:31.120 --> 01:00:33.120]  это значит, что в какой-то момент этот символ
[01:00:33.120 --> 01:00:35.120]  со стека
[01:00:35.120 --> 01:00:37.120]  снимется.
[01:00:37.120 --> 01:00:39.120]  Да. И давайте
[01:00:39.120 --> 01:00:41.120]  как раз построим эту картиночку
[01:00:41.120 --> 01:00:43.120]  более детально.
[01:00:43.120 --> 01:00:45.120]  Тарам.
[01:00:47.120 --> 01:00:49.120]  Возможно, что на семинарах уже кто-то видел
[01:00:49.120 --> 01:00:51.120]  такую картинку.
[01:00:53.120 --> 01:00:55.120]  Рисовали картинку такую?
[01:00:57.120 --> 01:00:59.120]  Это когда...
[01:01:01.120 --> 01:01:03.120]  Да, да, да.
[01:01:03.120 --> 01:01:05.120]  Это ровно та же самая картинка,
[01:01:05.120 --> 01:01:07.120]  только мы ее построим в зависимости
[01:01:07.120 --> 01:01:09.120]  длины стека от
[01:01:09.120 --> 01:01:11.120]  времени переходов.
[01:01:15.120 --> 01:01:17.120]  Смотрите, предположим, что у нас
[01:01:17.120 --> 01:01:19.120]  в какой-то момент появилась буква А на стеке.
[01:01:21.120 --> 01:01:23.120]  Дальше у нас
[01:01:23.120 --> 01:01:25.120]  в какой-то момент буква А со стека была
[01:01:25.120 --> 01:01:27.120]  снята.
[01:01:29.120 --> 01:01:31.120]  Дальше смотрите, в какой-то момент
[01:01:31.120 --> 01:01:33.120]  у нас здесь стек
[01:01:33.120 --> 01:01:35.120]  не менялся. Ну, суммарно
[01:01:35.120 --> 01:01:37.120]  стек не поменялся.
[01:01:37.120 --> 01:01:39.120]  Согласны?
[01:01:39.120 --> 01:01:41.120]  И давайте посмотрим
[01:01:41.120 --> 01:01:43.120]  последний момент вот здесь, когда у нас
[01:01:43.120 --> 01:01:45.120]  стек не менялся.
[01:01:47.120 --> 01:01:49.120]  Это значит, что у нас был какой-то переход,
[01:01:49.120 --> 01:01:51.120]  который снял еще одну букву со стека.
[01:01:55.120 --> 01:01:57.120]  А теперь давайте затрекаем эти
[01:01:57.120 --> 01:01:59.120]  состояния. Идея найти
[01:01:59.120 --> 01:02:01.120]  пары состояний таким образом,
[01:02:01.120 --> 01:02:03.120]  чтобы они... Переход
[01:02:03.120 --> 01:02:05.120]  от этого состояния другого
[01:02:05.120 --> 01:02:07.120]  не менялся стек.
[01:02:09.120 --> 01:02:11.120]  Обозначим эту вершинку
[01:02:11.120 --> 01:02:13.120]  куитом.
[01:02:13.120 --> 01:02:15.120]  Это куэстый, это
[01:02:15.120 --> 01:02:17.120]  кутетый, это куэртый,
[01:02:17.120 --> 01:02:19.120]  а это кужитая.
[01:02:33.120 --> 01:02:35.120]  Нет, не потеряли.
[01:02:39.120 --> 01:02:41.120]  Сейчас я буду рисовать эту картинку,
[01:02:41.120 --> 01:02:43.120]  потому что она мне понадобится.
[01:02:45.120 --> 01:02:47.120]  Куит...
[01:02:53.120 --> 01:02:55.120]  Вы не против, если я 1, q2, q3, q4, q5 обозначу?
[01:03:15.120 --> 01:03:17.120]  Так, хорошо.
[01:03:17.120 --> 01:03:19.120]  Так.
[01:03:19.120 --> 01:03:21.120]  И давайте мы с вами сейчас сделаем
[01:03:21.120 --> 01:03:23.120]  следующий... Построим следующую
[01:03:23.120 --> 01:03:25.120]  кэс грамматику.
[01:03:27.120 --> 01:03:29.120]  Множество
[01:03:29.120 --> 01:03:31.120]  терминалов это будет декартовое
[01:03:31.120 --> 01:03:33.120]  произведение состояния в нашем МП
[01:03:33.120 --> 01:03:35.120]  автомате.
[01:03:37.120 --> 01:03:39.120]  А алфавит будет
[01:03:39.120 --> 01:03:41.120]  такой же.
[01:03:41.120 --> 01:03:43.120]  Правило сейчас определим, а
[01:03:43.120 --> 01:03:45.120]  стартовая вершина, это у нас будет
[01:03:45.120 --> 01:03:47.120]  q0, qf.
[01:03:55.120 --> 01:03:57.120]  Стартовая вершина и
[01:03:57.120 --> 01:03:59.120]  пара стартового состояния и
[01:03:59.120 --> 01:04:01.120]  завершающего состояния. Здесь нужно сказать,
[01:04:01.120 --> 01:04:03.120]  что в МП автомате можно гарантировать следующее,
[01:04:03.120 --> 01:04:05.120]  что в нем будет ровно одно завершающее состояние.
[01:04:09.120 --> 01:04:11.120]  Идея ровно такая же.
[01:04:11.120 --> 01:04:13.120]  Сводим все в сток.
[01:04:15.120 --> 01:04:17.120]  Теперь перехода.
[01:04:17.120 --> 01:04:19.120]  Не сломайтесь, пожалуйста.
[01:04:31.120 --> 01:04:33.120]  Это просто баг.
[01:04:33.120 --> 01:04:35.120]  Так.
[01:04:39.120 --> 01:04:41.120]  Итак, значит, смотрите.
[01:04:41.120 --> 01:04:43.120]  Давайте предположим, что
[01:04:43.120 --> 01:04:45.120]  мы сюда положили слово u.
[01:04:57.120 --> 01:04:59.120]  Итак, смотрите, переходы
[01:04:59.120 --> 01:05:01.120]  какие будут.
[01:05:01.120 --> 01:05:03.120]  Ох, блин.
[01:05:05.120 --> 01:05:07.120]  Мы говорим следующее.
[01:05:07.120 --> 01:05:09.120]  Что q1, q5
[01:05:11.120 --> 01:05:13.120]  будет выводить
[01:05:13.120 --> 01:05:15.120]  u
[01:05:15.120 --> 01:05:17.120]  q2, q3
[01:05:17.120 --> 01:05:19.120]  v
[01:05:21.120 --> 01:05:23.120]  q4, q5
[01:05:31.120 --> 01:05:33.120]  Мы добавляем такой правил грамматики.
[01:05:43.120 --> 01:05:45.120]  Да, пара декартового
[01:05:45.120 --> 01:05:47.120]  произведения состояния в
[01:05:47.120 --> 01:05:49.120]  МП автомате.
[01:05:51.120 --> 01:05:53.120]  Да, это те символы,
[01:05:53.120 --> 01:05:55.120]  которые считались, когда мы
[01:05:55.120 --> 01:05:57.120]  положили символ a на стэк.
[01:05:57.120 --> 01:05:59.120]  А это те символы, которые считались,
[01:05:59.120 --> 01:06:01.120]  когда мы эту a с стэка сняли.
[01:06:09.120 --> 01:06:11.120]  Взрыв башки, да?
[01:06:13.120 --> 01:06:15.120]  Нет, для всех.
[01:06:15.120 --> 01:06:17.120]  То есть мы просто перебираем
[01:06:17.120 --> 01:06:19.120]  все пятерки состояний.
[01:06:23.120 --> 01:06:25.120]  Да, для всех пятерок состояний,
[01:06:25.120 --> 01:06:27.120]  у которых возникает
[01:06:27.120 --> 01:06:29.120]  следующее, что у нас есть
[01:06:29.120 --> 01:06:31.120]  правило вида q1
[01:06:33.120 --> 01:06:35.120]  u epsilon
[01:06:37.120 --> 01:06:39.120]  a
[01:06:41.120 --> 01:06:43.120]  и правило
[01:06:49.120 --> 01:06:51.120]  вводим вот такое правило.
[01:06:51.120 --> 01:06:53.120]  Это в.
[01:06:59.120 --> 01:07:01.120]  Ну, давайте поменяем символ.
[01:07:11.120 --> 01:07:13.120]  Вот, добавим все такие правила.
[01:07:15.120 --> 01:07:17.120]  И дополнительные правила
[01:07:17.120 --> 01:07:19.120]  у нас есть.
[01:07:21.120 --> 01:07:23.120]  И еще к ним добавим правила.
[01:07:37.120 --> 01:07:39.120]  И добавим все возможные правила
[01:07:39.120 --> 01:07:41.120]  такого, что из любой пары
[01:07:41.120 --> 01:07:43.120]  одинаковых символов мы можем породить пустое слово.
[01:07:47.120 --> 01:07:49.120]  Мощно, да?
[01:07:49.120 --> 01:07:51.120]  Так.
[01:07:53.120 --> 01:07:55.120]  Что?
[01:07:57.120 --> 01:07:59.120]  Где, где, где, что?
[01:08:05.120 --> 01:08:07.120]  Овальчики?
[01:08:07.120 --> 01:08:09.120]  А вот овальчики мы здесь пропустим.
[01:08:09.120 --> 01:08:11.120]  Вот они, овальчики.
[01:08:11.120 --> 01:08:13.120]  То есть это пара состояний,
[01:08:13.120 --> 01:08:15.120]  которая будет говорить, что из нее будет
[01:08:15.120 --> 01:08:17.120]  проводиться произвольное слово.
[01:08:19.120 --> 01:08:21.120]  Да, просто стэк меняться не будет.
[01:08:27.120 --> 01:08:29.120]  Вы готовы дальше?
[01:08:31.120 --> 01:08:33.120]  А, да, я еще
[01:08:33.120 --> 01:08:35.120]  забыл, что
[01:08:39.120 --> 01:08:41.120]  А, ну да,
[01:08:41.120 --> 01:08:43.120]  то есть смотрите, мы можем сказать, что либо
[01:08:43.120 --> 01:08:45.120]  старт у нас вот такой, и тогда
[01:08:45.120 --> 01:08:47.120]  у нас требуется одно завершающее состояние.
[01:08:47.120 --> 01:08:49.120]  Либо мы из старта делаем
[01:08:49.120 --> 01:08:51.120]  переходы в пару.
[01:08:53.120 --> 01:08:55.120]  Да, если у нас одно завершающее,
[01:08:55.120 --> 01:08:57.120]  то можно оставить вот так, как у нас
[01:08:57.120 --> 01:08:59.120]  на доске.
[01:09:01.120 --> 01:09:03.120]  Да.
[01:09:03.120 --> 01:09:05.120]  То есть еще раз, либо мы делаем одно завершающее,
[01:09:05.120 --> 01:09:07.120]  либо мы
[01:09:07.120 --> 01:09:09.120]  говорим следующее, что
[01:09:09.120 --> 01:09:11.120]  давайте из стартового проведем
[01:09:11.120 --> 01:09:13.120]  переходы во все пары.
[01:09:13.120 --> 01:09:15.120]  Стартовое завершающее.
[01:09:15.120 --> 01:09:17.120]  Давайте так оставим.
[01:09:23.120 --> 01:09:25.120]  Подчеркну.
[01:09:27.120 --> 01:09:29.120]  Теперь главное, лемма.
[01:09:31.120 --> 01:09:33.120]  Которая на самом деле нам
[01:09:33.120 --> 01:09:35.120]  поможет очень сильно.
[01:09:37.120 --> 01:09:39.120]  Лемма.
[01:09:41.120 --> 01:09:43.120]  Вы даже ее сможете сформулировать самостоятельно.
[01:09:45.120 --> 01:09:47.120]  Не-не-не, не настолько.
[01:10:05.120 --> 01:10:07.120]  Смотрите.
[01:10:15.120 --> 01:10:17.120]  Тогда это только так, да?
[01:10:27.120 --> 01:10:29.120]  Да.
[01:10:39.120 --> 01:10:41.120]  Ну да.
[01:10:41.120 --> 01:10:43.120]  Это нормально.
[01:10:45.120 --> 01:10:47.120]  Да, у нас в картинке это не учитывается
[01:10:47.120 --> 01:10:49.120]  в правилах грамматики.
[01:10:49.120 --> 01:10:51.120]  Ну да.
[01:10:51.120 --> 01:10:53.120]  Это не нам да.
[01:10:53.120 --> 01:10:55.120]  У нас, смотрите, просто если
[01:10:55.120 --> 01:10:57.120]  это завершающее состояние, то это просто
[01:10:57.120 --> 01:10:59.120]  ку-ноль-ку-эв сразу.
[01:11:01.120 --> 01:11:03.120]  Ну и все, у нас получается ку-ноль-ку-эв
[01:11:03.120 --> 01:11:05.120]  вот это вот байдо.
[01:11:07.120 --> 01:11:09.120]  Ну то есть нам не нужно будет
[01:11:09.120 --> 01:11:11.120]  минус-б делать. То есть минус-б
[01:11:11.120 --> 01:11:13.120]  это просто мы фиксируем последний момент, когда
[01:11:13.120 --> 01:11:15.120]  уровень стека является точно таким же.
[01:11:15.120 --> 01:11:17.120]  Здесь это чисто визуально для картинки
[01:11:17.120 --> 01:11:19.120]  показано, что дальше у нас
[01:11:19.120 --> 01:11:21.120]  уровень стека меняется.
[01:11:27.120 --> 01:11:29.120]  Ну и с ку-ноль-ку-эв мы смотрим первый символ,
[01:11:29.120 --> 01:11:31.120]  в котором мы будем
[01:11:31.120 --> 01:11:33.120]  делать подъем по А,
[01:11:33.120 --> 01:11:35.120]  дальше смотрим последний момент, в котором
[01:11:35.120 --> 01:11:37.120]  мы снимаем эту буква, и дальше просто ползем
[01:11:37.120 --> 01:11:39.120]  до конца.
[01:11:39.120 --> 01:11:41.120]  Да?
[01:11:41.120 --> 01:11:43.120]  Все, смотрите, вот это лемма,
[01:11:43.120 --> 01:11:45.120]  которую мы будем с вами доказывать.
[01:11:47.120 --> 01:11:49.120]  Собственно, опять же,
[01:11:49.120 --> 01:11:51.120]  слева на право тут индукционный переход.
[01:11:53.120 --> 01:11:55.120]  А?
[01:11:55.120 --> 01:11:57.120]  Ну давайте быстро докажем это.
[01:12:01.120 --> 01:12:03.120]  База.
[01:12:03.120 --> 01:12:05.120]  База.
[01:12:09.120 --> 01:12:11.120]  За один шаг выводит слово
[01:12:11.120 --> 01:12:13.120]  W. Какое слово W тогда?
[01:12:13.120 --> 01:12:15.120]  Ура, получили!
[01:12:17.120 --> 01:12:19.120]  Переход.
[01:12:27.120 --> 01:12:29.120]  На, на, на.
[01:12:29.120 --> 01:12:31.120]  На, на, на.
[01:12:31.120 --> 01:12:33.120]  На, на, на.
[01:12:33.120 --> 01:12:35.120]  На, на.
[01:12:35.120 --> 01:12:37.120]  На, на, на.
[01:12:39.120 --> 01:12:41.120]  На, на, на.
[01:12:41.120 --> 01:12:53.880]  А как мы с правил грамматики можем вывести еще что-то?
[01:12:53.880 --> 01:12:54.880]  Переход.
[01:12:54.880 --> 01:12:59.800]  Ну, собственно, последний переход, который у нас
[01:12:59.800 --> 01:13:02.400]  произошел, это вот по такому правилу.
[01:13:02.400 --> 01:13:18.800]  У, Т, З, В.
[01:13:18.800 --> 01:13:23.040]  Ну, тогда смотрите, как у нас строится цепочка вывода.
[01:13:24.040 --> 01:13:34.040]  Из Q1 у Т, З, В мы кладем, с вами у нас было вот такое правило.
[01:13:34.040 --> 01:13:39.040]  В Q2 у Т, З, В на стэк кладется буква А.
[01:13:39.040 --> 01:13:44.040]  По предположению индукции у нас стэк не меняется.
[01:13:44.040 --> 01:13:48.040]  Из Q2 в Q3.
[01:13:48.040 --> 01:13:56.040]  Тогда мы говорим, что из Q3 у нас остается А.
[01:13:56.040 --> 01:14:06.040]  Дальше за один шаг, который у нас является правилом, вот таким вот, мы снимаем букву А со стэка.
[01:14:06.040 --> 01:14:12.040]  И еще за один шаг.
[01:14:12.040 --> 01:14:16.040]  Ой, наоборот, букву А со стэка сняли, получили эпсилон.
[01:14:16.040 --> 01:14:19.040]  И из Q4 к Q5 у нас стэк не меняется.
[01:14:23.040 --> 01:14:25.040]  Q5, эпсилон, эпсилон.
[01:14:27.040 --> 01:14:29.040]  Это переход в одну сторону.
[01:14:34.040 --> 01:14:36.040]  Переход в другую сторону.
[01:14:47.040 --> 01:14:52.040]  Честные и внимательные слушатели могут сказать, что это может не доказывать.
[01:14:56.040 --> 01:14:58.040]  Почему?
[01:14:58.040 --> 01:15:23.040]  Вы смотрите, предположим, что у нас Q1 в эпсилон выводит Q2 эпсилон на эпсилон.
[01:15:29.040 --> 01:15:32.040]  Опять же, индукция по длине правил вывода.
[01:15:40.040 --> 01:15:42.040]  База.
[01:15:48.040 --> 01:15:51.040]  За ноль шагов мы выводим пару Q2 эпсилон на эпсилон.
[01:15:59.040 --> 01:16:03.040]  Ну а тогда смотрите, что мы выводим из пары Q1-Q2.
[01:16:15.040 --> 01:16:18.040]  Мы выводим слово эпсилон, равное нашему слову W.
[01:16:19.040 --> 01:16:21.040]  Вот это правило грамматики.
[01:16:21.040 --> 01:16:23.040]  Переход.
[01:16:41.040 --> 01:16:43.040]  Тут я замолчал.
[01:16:44.040 --> 01:16:46.040]  Какой переход?
[01:16:52.040 --> 01:16:54.040]  Это переход.
[01:16:59.040 --> 01:17:02.040]  Картинка. Еще раз поясняем картинку.
[01:17:03.040 --> 01:17:17.040]  Смотрите, у нас с вами из Q1 W эпсилон идет переход в состояние Q2 эпсилон-эпсилон.
[01:17:17.040 --> 01:17:29.040]  Поскольку у нас все переходы имеют вид, когда мы кладем букву со стека или снимаем букву со стека, то какой первый переход у нас будет с вами здесь?
[01:17:48.040 --> 01:18:04.040]  Тогда у нас, смотрите, Q1 W эпсилон, это будет за один шаг мы перейдем в какое-то состояние Q3, в котором наше слово будет уже разбито каким-то образом другим.
[01:18:06.040 --> 01:18:11.040]  W3, назовем эту всю штуку, а здесь будет символ A.
[01:18:13.040 --> 01:18:15.040]  Логично?
[01:18:15.040 --> 01:18:30.040]  Дальше за какое-то количество шагов мы перейдем с вами в состояние Q4, в котором уже будет слово W4, и эта буква до сих пор будет висеть.
[01:18:31.040 --> 01:18:34.040]  То есть это последний момент, когда мы увидели букву A на стеке.
[01:18:35.040 --> 01:18:40.040]  Потом мы за один переход снимаем эту букву A со стека.
[01:18:46.040 --> 01:18:53.040]  И потом за какое-то еще количество переходов мы получаем Q2 эпсилон-эпсилон.
[01:19:00.040 --> 01:19:06.040]  Ну смотрите, да, из Q3 по Q4 мы переходим по предположению, из Q5 в Q2 мы переходим по предположению.
[01:19:07.040 --> 01:19:18.040]  Единственное, тут надо сказать следующее, что W тогда это будет у нас с вами некоторое U3 W3.
[01:19:21.040 --> 01:19:31.040]  Значит, это будет U3 U4 W4, это будет U3 U4 U5 W5.
[01:19:36.040 --> 01:19:53.040]  По предположению индукции у нас с вами получается, что из W3 W4, Q3 Q4 у нас выводит слово U4,
[01:19:53.040 --> 01:20:03.040]  и из Q5 в Q2 мы выводим слово W5.
[01:20:08.040 --> 01:20:10.040]  Стек не меняется.
[01:20:14.040 --> 01:20:16.040]  А теперь смотрите, какое у нас правило грамматика-то есть.
[01:20:17.040 --> 01:20:27.040]  Мы кладем букву A на стек, мы можем с вами за один шаг перейти.
[01:20:28.040 --> 01:20:34.040]  Смотрите, кладем U3, поскольку букву A на стек кладем.
[01:20:35.040 --> 01:20:42.040]  Дальше мы переходим в переход Q3 Q4.
[01:20:48.040 --> 01:20:54.040]  Дальше мы снимаем то, что мы сняли со стека букву, мы делаем переход по U5,
[01:20:57.040 --> 01:20:59.040]  и делаем переход Q5 Q2.
[01:21:00.040 --> 01:21:04.040]  Это переобозначение терминов, которые здесь.
[01:21:06.040 --> 01:21:10.040]  То есть у нас появляется такое правило, потому что мы строили грамматику таким образом.
[01:21:10.040 --> 01:21:29.040]  Теперь смотрите, отсюда мы выводим U4, а отсюда мы выводим W5.
[01:21:40.040 --> 01:21:42.040]  Сошлось.
[01:21:47.040 --> 01:21:49.040]  И осталось последнее.
[01:21:50.040 --> 01:21:52.040]  Если мы говорим с вами,
[01:21:59.040 --> 01:22:04.040]  В пролежит языку, задаваемым грамматикой, тогда и только тогда,
[01:22:05.040 --> 01:22:09.040]  когда есть пара Q0 QF, мы выводим слово W.
[01:22:09.040 --> 01:22:19.040]  А это эквалент тому, что из Q0 W епсилон мы выводим QF епсилон епсилон.
[01:22:20.040 --> 01:22:25.040]  А это эквалент тому, что слово принадлежит нашему МП-автомату.
[01:22:25.040 --> 01:22:30.040]  То есть две важных идеи, которые у нас сегодня произошло.
[01:22:31.040 --> 01:22:34.040]  Первое, что можно сделать? Если мы положили какую-то букву на стэк,
[01:22:35.040 --> 01:22:37.040]  то можно посмотреть первый момент, когда мы ее убрали.
[01:22:38.040 --> 01:22:39.040]  Раз.
[01:22:40.040 --> 01:22:43.040]  А вторых, что если у нас какой-то не терминал появился в правилах,
[01:22:44.040 --> 01:22:54.040]  если какой-то символ появился на терминале, мы выводим Q0 QQ
[01:22:55.040 --> 01:23:07.040]  он появился на стеке. Давайте посмотрим первый момент, когда он появился на стеке.
[01:23:07.040 --> 01:23:13.040]  Это две основных идеи, при помощи которых доказываются эти факты.
[01:23:13.040 --> 01:23:19.040]  То есть я не прошу формально запоминать доказательства, а запомнить вот эти два факта.
[01:23:19.040 --> 01:23:27.040]  Это две идеи, которые были важны здесь.
[01:23:27.040 --> 01:23:33.040]  Так, давайте вопроса. Это на самом деле то, что я планировал как раз сегодня рассказать.
[01:23:33.040 --> 01:23:39.040]  Тут есть более формальное доказательство.
[01:23:39.040 --> 01:23:49.040]  Это то же самое. А я уже ее скинул вчера вечером. Мы тоже.
[01:23:49.040 --> 01:23:55.040]  В каком моменте мы закончим доказательство?
[01:23:55.040 --> 01:24:03.040]  А, вот той? Вот.
[01:24:03.040 --> 01:24:13.040]  Да, именно так.
[01:24:13.040 --> 01:24:19.040]  Это я невнимательно подчеркнул. То есть вот эта лемма, которую мы с вами доказали.
[01:24:19.040 --> 01:24:23.040]  Что из кодинку 2 вводится в W тогда и только тогда, когда это работает.
[01:24:23.040 --> 01:24:27.040]  Здесь мы закончили доказательство этой леммы.
[01:24:27.040 --> 01:24:35.040]  И дальше здесь мы уже доказали теорему в одну строчку.
[01:24:35.040 --> 01:24:39.040]  Так, а теперь фишка состоит в следующем.
[01:24:39.040 --> 01:24:49.040]  Тут есть примеры. И тут видите, какой страшный МП-автомат выходит.
[01:24:49.040 --> 01:24:59.040]  Вот, смотрите, мы сегодня показали, что МП-автоматы и КС-громатики являются эквалютными конструкциями.
[01:24:59.040 --> 01:25:07.040]  Более того, следствие которое мы выяснили, что любого МП-автомата можно построить МП-автомат с двумя состояниями.
[01:25:07.040 --> 01:25:15.040]  Вот, и самое важное еще, что можно сказать, что мы с вами построили алгоритм перенос свертка.
[01:25:15.040 --> 01:25:21.040]  С которым мы с вами еще будем разбираться, когда мы будем рассматривать LR-парсер.
[01:25:21.040 --> 01:25:23.040]  Давайте анонс на следующую серию.
[01:25:23.040 --> 01:25:31.040]  Следующая серия будет следующая. Мы с вами построим еще одну нормальную форму для грамматик.
[01:25:31.040 --> 01:25:33.040]  Вот, и некоторые отсылки были с ней.
[01:25:33.040 --> 01:25:39.040]  Дальше мы разберем задачу еще одну из колоквиума, благодаря этому.
[01:25:39.040 --> 01:25:45.040]  Вот, докажем, что КС-пересечь с регулярным языком, это КС-язык.
[01:25:45.040 --> 01:25:48.040]  Но сделаем это достаточно элегантно.
[01:25:48.040 --> 01:25:52.040]  Вот, и построим МП-автомат, в котором не будет эпсилум переходов.
[01:25:52.040 --> 01:26:03.040]  Нет, там будет чисто однобуквенные по букве, пока мы этого не гарантировали.
[01:26:03.040 --> 01:26:06.040]  Пока у нас все переходы не более чем однобуквенные.
[01:26:16.040 --> 01:26:20.040]  Все, спасибо, вопросы? Слушаю.
