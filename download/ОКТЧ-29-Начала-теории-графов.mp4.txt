[00:00.000 --> 00:16.800]  Так, ну нас по понятным причинам мало, но я в каком-то смысле
[00:16.800 --> 00:23.840]  решил к этому подготовиться, даже не знаю как это правильно
[00:23.840 --> 00:24.840]  сказать.
[00:25.040 --> 00:30.760]  В общем, смотрите, я в прошлом году проделал такой эксперимент,
[00:30.760 --> 00:33.200]  ну в каком-то смысле жестокий, наверное.
[00:33.200 --> 00:36.280]  Я заканчивал курс основ комбинаторики теории чисел
[00:36.280 --> 00:39.640]  рассказом про алгоритм проверки числа на простоту.
[00:39.640 --> 00:44.720]  В общем, как бы это вам сказать, ну в принципе ничего
[00:44.720 --> 00:47.800]  в этом такого убийственно сложного нет, но вообще
[00:47.800 --> 00:50.320]  говоря, там такая алгебра, которую вы до сих пор еще
[00:50.320 --> 00:51.320]  не знаете.
[00:52.280 --> 00:55.240]  И как-то, ну вот показал, что часть людей понимает,
[00:55.240 --> 00:56.800]  а часть, ну в общем, не особо.
[00:56.800 --> 01:00.440]  Ну вот тот сам огорвал, каялся, так-то.
[01:02.920 --> 01:08.680]  Вот, поэтому я пока решил поменять свои планы, у меня
[01:08.680 --> 01:12.760]  аж два курса, ОКТЧ и дискретный анализ, в который вы плавно
[01:12.760 --> 01:16.320]  перетечете совсем скоро, если сдадите ОКТЧ.
[01:16.320 --> 01:19.600]  Да сдадите, товарищи, ну как вы можете его не сдать,
[01:19.600 --> 01:23.280]  это же сплошной катарсис, но как можно не сдать ОКТЧ?
[01:23.280 --> 01:25.840]  И весь экзамен будет сплошной катарсис.
[01:25.840 --> 01:28.640]  Не, я почти не издеваюсь, почти.
[01:28.640 --> 01:32.160]  Я думаю, что все будет очень хорошо.
[01:32.160 --> 01:35.600]  Вот, курс дискретного анализа тоже полон катарсисов,
[01:35.600 --> 01:38.680]  там очень много интересных важных фактов, читается
[01:38.680 --> 01:39.680]  тоже целый год.
[01:39.680 --> 01:43.960]  И я как-то в этом году подумал, решил не возобновлять
[01:43.960 --> 01:47.520]  тот эксперимент, который был в прошлом году, а возможно
[01:47.520 --> 01:50.640]  перенести его на конец следующего года, а может
[01:50.640 --> 01:52.880]  быть и вообще похереть, это мы посмотрим ближе к
[01:52.880 --> 01:53.880]  делу.
[01:53.880 --> 01:56.840]  С другой стороны, кажется, что эта вещь такая красивая,
[01:56.840 --> 02:00.360]  интересная в том ключе, что она как бы вбирает в себя
[02:00.360 --> 02:04.520]  очень много знаний, и вот, как я уже сказал, определенную
[02:04.520 --> 02:08.040]  алгебру, которая там нужна, глубокую достаточно, люди
[02:08.040 --> 02:11.400]  в конце первого курса еще не знают, поэтому у меня
[02:11.400 --> 02:15.920]  появилась такая, ну знаете, немножко наивная задумка,
[02:15.920 --> 02:20.920]  я проявлю наивность, состоящая в том, чтобы мотивировать
[02:20.920 --> 02:25.240]  людей больше внимания, уделять в следующем году курсам
[02:25.240 --> 02:27.520]  теории групп и теории колец и полей.
[02:27.520 --> 02:31.560]  Ну, потому что это на самом деле очень важные вещи,
[02:31.560 --> 02:33.880]  люди слушают, ой, какие-то абстракции, а нафига это
[02:33.880 --> 02:34.880]  нужно?
[02:34.880 --> 02:38.080]  А вот не нафига, это нужно для того, чтобы воспринимать
[02:38.080 --> 02:41.440]  достаточно продвинутые алгоритмические идеи.
[02:41.440 --> 02:43.640]  Вот как люди додумались до того, чтобы проверять
[02:43.640 --> 02:47.880]  числа на простоту невероятностным, а детерминированным методом,
[02:47.880 --> 02:49.760]  или как люди додумались до того, чтобы придумать
[02:49.760 --> 02:55.360]  алгоритм проверки изоморфизма графов, чтобы это не значило,
[02:55.360 --> 02:57.320]  который работает, если не за полином, то за что-то
[02:57.320 --> 02:59.120]  очень похожее на полином.
[02:59.120 --> 03:01.560]  Я загадками, наверное, исчисляюсь, да?
[03:01.560 --> 03:05.000]  Я, в принципе, понятно ведь, да, вот я хочу как-то на
[03:05.000 --> 03:07.560]  будущее вас замотивировать на то, чтобы алгебру вы
[03:07.560 --> 03:09.040]  тоже хорошо учили.
[03:09.040 --> 03:12.080]  На самом деле алгебра это очень глубокая вещь, и
[03:12.160 --> 03:15.120]  крутые математики, которые придумывают серьезные алгоритмы,
[03:15.120 --> 03:17.120]  без алгебры ничего бы не придумали.
[03:17.120 --> 03:19.760]  Придумать может и придумали бы, но не обосновали бы,
[03:19.760 --> 03:20.760]  что это работает.
[03:20.760 --> 03:24.200]  Ну а если не обосновано, то может и не работает.
[03:24.200 --> 03:25.200]  Как-то так.
[03:25.200 --> 03:26.200]  Вот.
[03:26.200 --> 03:28.440]  Поэтому я решил сдвинуть часть дискретного анализа
[03:28.440 --> 03:31.080]  сюда, она начинается, конечно, с графов.
[03:31.080 --> 03:33.920]  И сейчас ничего сложного не будет, сейчас будут какие-то
[03:33.920 --> 03:37.080]  опять простые, понятные объекты, вы граф-то знаете
[03:37.080 --> 03:39.600]  уже, конечно, из алгоритмов, правда?
[03:39.600 --> 03:42.120]  Но я, тем не менее, некоторую систематизацию сейчас этого
[03:42.120 --> 03:46.200]  дела дам, какие-то начальные сведения достаточно простые
[03:46.200 --> 03:49.120]  и полезные расскажу, ну а в следующем году мы уже
[03:49.120 --> 03:51.520]  перейдем к действительно продвинутым методам дискретного
[03:51.520 --> 03:54.400]  анализа, которыми будет наполнен весь курс.
[03:54.400 --> 03:57.520]  Вот такая вводная к сегодняшней лекции, к тем лекциям, которые
[03:57.520 --> 03:58.520]  остались в этом курсе.
[03:58.520 --> 04:01.240]  То есть мы сейчас немножко расслабимся с вами, я вот
[04:01.240 --> 04:02.240]  это хочу сказать.
[04:02.240 --> 04:06.960]  У нас все шло так понарастающе, и я думаю, что уже три
[04:06.960 --> 04:09.840]  к суммы, которые мы занимались в прошлый раз, три к суммы,
[04:09.840 --> 04:10.840]  понятно, да?
[04:10.840 --> 04:11.840]  Три галометрические суммы.
[04:11.840 --> 04:12.840]  Суммы Гаусса.
[04:12.840 --> 04:15.840]  Это было так, на грани.
[04:15.840 --> 04:20.400]  Вот, я, наверное, дальше перегибать эту палку не буду, а наоборот
[04:20.400 --> 04:23.760]  спрыгну во что-то такое изначально просто.
[04:23.760 --> 04:27.520]  Поэтому я расскажу про графы и какие-то важные первоначальные
[04:27.520 --> 04:31.480]  данные о них, которые вам точно не будут во вред.
[04:31.480 --> 04:33.840]  Может быть кто-то что-то знает, кто-то что-то не знает,
[04:33.840 --> 04:37.520]  но это тоже вещь, которую надо рассказывать, может
[04:37.520 --> 04:38.520]  быть даже раньше.
[04:38.520 --> 04:41.840]  Может быть я в следующем году даже раньше эти графы
[04:41.840 --> 04:42.840]  расскажу.
[04:42.840 --> 04:47.840]  Так, ну давайте я начну с каких-то просто определений,
[04:47.840 --> 04:50.440]  чтобы нам находиться на одном базе с вами.
[04:50.440 --> 04:51.600]  Графы-то разные бывают.
[04:51.600 --> 05:00.200]  Обычно обозначают вот так, и тут, наверное, все присутствующие
[05:00.200 --> 05:03.840]  знают, но если я вдруг, как бы сказать, преувеличиваю
[05:03.840 --> 05:06.160]  ваши познания априорные, то вы обязательно меня
[05:06.160 --> 05:08.800]  останавливаете, что вот это называется вершинами
[05:08.800 --> 05:11.920]  графа, это называется рёбрами графа.
[05:11.920 --> 05:14.760]  Но весь вопрос в том, какой у нас граф.
[05:14.760 --> 05:17.480]  Вот бывают обыкновенные графы, они же простые.
[05:17.480 --> 05:31.840]  И мы обычно с ними и работаем в рамках этого курса, потому
[05:31.840 --> 05:36.120]  что они такие наиболее показательные, часто используемые.
[05:36.120 --> 05:38.640]  Они подчиняются следующим ограничениям.
[05:39.640 --> 05:49.760]  нет петель, то есть пара x, x не принадлежит множеству
[05:49.760 --> 06:04.000]  ребер, нет ориентации, то есть x, y равняется y, x.
[06:04.000 --> 06:08.200]  Каждое ребро, это просто два сочетания в наших комбинаторных
[06:08.200 --> 06:11.720]  терминах, это просто два сочетания вершин.
[06:11.720 --> 06:20.920]  И третье, нет кратных ребер.
[06:20.920 --> 06:23.160]  Для новопришедших сообщаю, что я слегка перестроил
[06:23.160 --> 06:24.160]  программу.
[06:24.160 --> 06:25.160]  Сегодня у нас граф.
[06:25.160 --> 06:29.240]  Вот, нет кратных ребер, ну как это сказать, то есть
[06:29.240 --> 06:38.360]  e это подмножество в множестве c из v по 2, если можно так выразиться.
[06:38.360 --> 06:41.800]  У нас такого обозначения не было, но смысл его понятен.
[06:41.800 --> 06:46.200]  c из множества по 2, это мы берем два сочетания вершин.
[06:46.200 --> 06:51.600]  Каждое ребро, это два сочетания вершин, а e является подмножеством,
[06:51.600 --> 06:54.280]  а не мультиподмножеством, поэтому это то же самое, что
[06:54.280 --> 06:55.280]  нет кратных ребер.
[06:55.280 --> 06:59.360]  Так, друзья, я уверен, что на каких-то алгоритмах
[06:59.360 --> 07:02.240]  у вас графы были и в школе, и сейчас, конечно, в рамках
[07:02.240 --> 07:05.680]  курсов, но я совершенно не уверен, что именно такая
[07:05.680 --> 07:08.360]  степень формализации там присутствовала, поэтому
[07:08.360 --> 07:11.760]  давайте все к этому аккуратно отнесемся, как я обычно
[07:11.760 --> 07:13.360]  делал в начале второго курса.
[07:13.360 --> 07:18.400]  Понятно то, что здесь написано.
[07:18.400 --> 07:22.840]  Такие графы называются по-русски обыкновенными, такова традиция,
[07:23.480 --> 07:26.000]  но в последние годы стали калькировать с английского,
[07:26.000 --> 07:29.240]  как это часто бывает, в английском языке simple graph.
[07:29.240 --> 07:33.000]  Ну, simple какой, обыкновенный что ли, простой, ясно делал.
[07:33.000 --> 07:35.560]  Поэтому сейчас по-русски стали тоже говорить простые
[07:35.560 --> 07:38.040]  графы, уже как-то забыла, что когда-то был другой
[07:38.040 --> 07:40.520]  термин, но все-таки он был.
[07:40.520 --> 07:42.880]  Знаете, это как машинное обучение.
[07:42.880 --> 07:44.880]  Я говорил про это, нет?
[07:44.880 --> 07:47.080]  Нет, не говорил?
[07:47.080 --> 07:51.400]  Ну, был термин обучение машин, и он никуда не делся.
[07:51.400 --> 07:54.720]  Он на самом деле грамотнее, гораздо, что мы машину обучаем
[07:54.720 --> 07:57.840]  каким-то образом, ну, определенным навыком.
[07:57.840 --> 08:02.160]  Вот в русском языке с момента там еще бородатой кибернетики
[08:02.160 --> 08:04.880]  шестидесятых годов говорили об учении машин.
[08:04.880 --> 08:08.200]  Говорили, говорили, говорили, пока это не перевели на английский.
[08:08.200 --> 08:10.720]  Ну, по-английски обучение машин представляет просто
[08:10.720 --> 08:12.120]  слово получается machine learning.
[08:12.120 --> 08:15.520]  Это не машинное обучение, это обучение машин.
[08:15.520 --> 08:20.520]  Но обратно на русский язык перевели как машинное обучение,
[08:20.520 --> 08:23.320]  и сейчас я знаю, студенты говорят, вот, там на какой-то
[08:23.320 --> 08:26.760]  кафедре употребляют непонятный термин обучения машин, когда
[08:26.760 --> 08:29.960]  все говорят машинное обучение – плохая кафедра.
[08:29.960 --> 08:30.960]  Но это чепуха.
[08:30.960 --> 08:34.600]  Так вот бывает, представляете, как интересно.
[08:34.600 --> 08:37.480]  Конечно, обучение машин, но так вот сложилось, что
[08:37.480 --> 08:39.120]  все говорят машинное обучение.
[08:39.120 --> 08:41.000]  Так же и с простыми или обыкновенными графами.
[08:41.000 --> 08:42.000]  Вот.
[08:42.000 --> 08:46.120]  Если, так, ну, то, что граф рисуется в виде картинки,
[08:46.120 --> 08:49.280]  это стыдно объяснять, наверное, в нашей публике, и картинки
[08:49.280 --> 08:52.520]  бывают разными, поэтому то, что вот это вот представляет
[08:52.520 --> 08:55.200]  собой петлю на картинке, это понятно.
[08:55.200 --> 08:58.680]  Ориентацию тоже, я надеюсь, понятно всем, что обычно
[08:58.680 --> 09:02.320]  изображают стрелочкой, если она все-таки появляется.
[09:02.320 --> 09:06.200]  То есть, если мы говорим о размещениях вместо сочетаний.
[09:06.200 --> 09:09.280]  Ну и кратные ребра – это что-то вот такое.
[09:09.280 --> 09:13.720]  Знаете, задача про Кёнигсбергские мосты.
[09:13.720 --> 09:16.560]  Поднимите, пожалуйста, руки, кто знает, что это такое.
[09:16.560 --> 09:17.560]  Вот, прекрасно.
[09:18.040 --> 09:19.040]  Вот.
[09:19.040 --> 09:20.440]  Но я на самом деле про него напомню, потому что обходы
[09:20.440 --> 09:23.200]  графов мы успеем в этом семестре пройти, там это важная
[09:23.200 --> 09:25.240]  тема, интересная и нужная.
[09:25.240 --> 09:33.680]  Так, значит, если устранить пункт 1, то добавляется приставка
[09:33.680 --> 09:40.440]  псевдограф, вот так вот, псевдограф, то есть псевдограф
[09:40.440 --> 09:44.600]  – это тот, у которого разрешены петли, псевдограф – тот, у которого
[09:44.600 --> 09:46.080]  разрешены петли.
[09:46.080 --> 09:51.600]  Если убирается пункт 2, то мы говорим про ориентированные
[09:51.600 --> 09:57.960]  графы или кратко ор-графы, по-английски дай-граф.
[09:57.960 --> 10:02.000]  Это, соответственно, будет тоже такая вот приставочка.
[10:02.000 --> 10:06.840]  И если убрать третий пункт, то добавляется приставка мульти.
[10:11.560 --> 10:14.560]  Мне подарили очередную забавную, правда, не наклейку,
[10:14.560 --> 10:18.720]  а магнит, на котором изображен я с каким-то кабачком цукини,
[10:18.720 --> 10:27.560]  в роли, знаете, этого Якубовича, и там написано «гиппеграф»,
[10:27.560 --> 10:30.360]  и одна буковка пропущена, ну, там надо угадать последнюю
[10:30.360 --> 10:31.360]  букву.
[10:31.360 --> 10:35.120]  Вот, есть понятие «гипперграф», я очень люблю этот объект
[10:35.120 --> 10:37.440]  и я про него обязательно буду рассказывать в следующем
[10:37.440 --> 10:38.440]  году.
[10:38.440 --> 10:41.040]  Мультиграф, с ним, пожалуйста, не путайте, мульти означает
[10:41.040 --> 10:45.000]  кратность ребер, а не то, что означает «гипперграф»,
[10:45.000 --> 10:49.120]  там кабачок – это ребро, там ребра состоят из нескольких
[10:49.120 --> 10:51.880]  вершин, но про это я буду говорить в следующем году.
[10:51.880 --> 10:54.200]  Сейчас мы говорим про все-таки обычные графы, у которых
[10:54.200 --> 10:57.440]  две вершины в каждом ребре, и они вот делятся на такие
[10:57.440 --> 10:58.720]  подклассы.
[10:58.720 --> 11:01.560]  Понятное дело, что комбинировать все вот эти приставки вы
[11:01.560 --> 11:04.560]  можете в любом порядке, то есть вы можете говорить
[11:04.560 --> 11:09.240]  про псевдомультиор-графы, и такие в природе встречаются,
[11:09.240 --> 11:11.480]  но мой любимый граф интернета является таковым.
[11:11.480 --> 11:15.200]  Я имею в виду, когда вершины – это сайты, а ребра – это
[11:15.200 --> 11:23.440]  гиперссылки между ними, естественно, это будет мультипфевдоорграф,
[11:23.440 --> 11:26.280]  важно с какого сайта на какой ты переходишь, кратность
[11:26.280 --> 11:28.720]  обеспечивается тем, что в рамках сайтов есть разные
[11:28.720 --> 11:32.680]  страницы, могущие давать по несколько ссылок, идущих
[11:32.680 --> 11:34.480]  в одну сторону, но ориентация очевидна.
[11:34.480 --> 11:44.600]  Так, что здесь еще базовым образом стоит сказать.
[11:44.600 --> 11:47.240]  Сразу стоит сказать, что если в качестве множества
[11:47.240 --> 11:52.560]  вершин графа рассмотреть просто наборы с первых
[11:52.560 --> 11:56.680]  натуральных чисел, то очень легко ответить, конечно,
[11:56.680 --> 11:58.920]  на вопрос, сколько всего есть графов.
[11:59.760 --> 12:03.080]  Граф, я буду говорить, опускаю слово «простой».
[12:03.080 --> 12:06.520]  Граф – это обыкновенный граф.
[12:06.520 --> 12:09.720]  Вот сколько всего есть графов на этом множестве вершин,
[12:09.720 --> 12:10.720]  наверное, очень легко сказать.
[12:10.720 --> 12:19.160]  Совершенно верно, да, Е под множество ЦСВ-подвок, ориентации
[12:19.160 --> 12:20.160]  нет, петель нет.
[12:20.160 --> 12:27.000]  Ну, то есть, получается, что если мы обозначим касс
[12:27.000 --> 12:32.200]  индекс МН то, что называется полный граф на N вершинах,
[12:32.200 --> 12:37.760]  то количество ребер в этом полном графе – это ЦСН-подвок,
[12:37.760 --> 12:41.560]  совершенно верно, да, а стало быть, количество всех
[12:41.560 --> 12:49.160]  графов, количество всех графов вот с этим множеством
[12:49.160 --> 12:53.620]  вершин и с каким-то множеством ребер – это количество под
[12:53.620 --> 12:56.560]  множество, в множестве из ЦСН-подвого элементов.
[12:57.240 --> 12:59.480]  Ну, то есть, два в степени ЦСН-подвого.
[13:05.960 --> 13:06.960]  Я надеюсь, это понятно.
[13:06.960 --> 13:10.760]  При этом мы сейчас нигде не употребляем слово «изоморфизм»
[13:10.760 --> 13:13.120]  графа, которое, впрочем, прозвучало сегодня просто
[13:13.120 --> 13:14.120]  для затрафки.
[13:14.120 --> 13:17.040]  Давайте я сразу скажу, что такое граф изоморфин,
[13:17.040 --> 13:18.960]  потому что это такое основополагающее понятие.
[13:18.960 --> 13:32.600]  Если у нас есть графы g1, v1, e1 и g2, v2, e2, то мы говорим,
[13:32.600 --> 13:48.360]  что они изоморфны, если существует биекция П из v1 в v2, ну и обратно,
[13:48.360 --> 13:53.240]  естественно, взаимнооднозначное соответствие между множествами
[13:53.240 --> 14:10.800]  вершин такое, что для любого e равного x, y… Давайте так.
[14:10.800 --> 14:23.360]  E принадлежит e1 тогда и только тогда, когда phi от x, phi от y принадлежит e2.
[14:23.360 --> 14:24.360]  Вот так.
[14:24.360 --> 14:27.240]  Ну, то есть, понятно.
[14:27.240 --> 14:30.240]  Мы так можем переномеровать вершины одного графа,
[14:30.240 --> 14:35.160]  то получились вершины другого графа, при этом ребра перешли в ребра,
[14:35.160 --> 14:36.680]  а неребра перешли в неребра.
[14:36.680 --> 14:42.400]  Ну это, я думаю, тоже всем известно на самом деле.
[14:42.400 --> 14:44.440]  Или нет?
[14:44.440 --> 14:46.960]  Известно, наверное.
[14:46.960 --> 14:50.640]  Понятно, что мощности множеств вершин тем самым точно должны
[14:50.640 --> 14:53.240]  быть одинаковыми, мощности множеств ребер тоже должны
[14:53.240 --> 14:57.120]  быть одинаковыми, распределение степеней вершин, наверное,
[14:57.120 --> 14:58.120]  должно быть одинаковым.
[14:58.120 --> 15:00.560]  Все знают, что какой степень вершины, но давайте я все-таки
[15:00.560 --> 15:05.440]  напишу для общности степень вершины.
[15:05.440 --> 15:08.800]  На самом деле, в графе это просто количество ребер,
[15:08.800 --> 15:09.800]  которые к ней примыкают.
[15:09.800 --> 15:15.040]  Количество примыкающих ребер.
[15:15.040 --> 15:26.480]  В ориентированном графе различают in-deck сходящую
[15:26.480 --> 15:30.840]  степень и out-deck сходящую степень.
[15:30.840 --> 15:36.640]  Держите меня в нормальном состоянии, если я сейчас
[15:36.640 --> 15:38.720]  очень разгонюсь, то вы меня останавливаете.
[15:38.720 --> 15:40.720]  Пока живете.
[15:40.720 --> 15:42.680]  В ориентированном графе различают вот эти такие
[15:42.680 --> 15:43.680]  величины.
[15:43.680 --> 15:46.680]  Я думаю, понятно, что это значит in-deck, это куда стрелочки
[15:46.680 --> 15:47.680]  втыкаются.
[15:47.680 --> 15:50.720]  Ну, то есть, формальное это количество для данной
[15:50.720 --> 15:55.880]  вершины х, это количество таких ребер, что они заканчиваются
[15:55.880 --> 15:59.800]  вот внутри пары х вторая, у запятая х, вот таких ребер.
[15:59.800 --> 16:03.760]  А out-deck, это х запятая у, наоборот, сколько таких.
[16:03.760 --> 16:06.480]  Если сложить in-deck и out-deck, то будет все равно дек.
[16:06.480 --> 16:12.400]  Это значит or-граф, так or, а псевдо это тоже важный
[16:12.400 --> 16:13.400]  момент.
[16:13.400 --> 16:22.520]  Там каждая петля дает плот двойка в величину степени.
[16:22.520 --> 16:28.920]  То есть, она как бы исходящая и входящая одновременно.
[16:28.920 --> 16:34.440]  Ну, с мульти там все понятно, я думаю.
[16:34.440 --> 16:39.640]  Если мы возвращаемся к обычным графам, обыкновенным
[16:39.640 --> 16:43.100]  графам, то понятно, что если просуммировать по всем
[16:43.100 --> 16:47.040]  вершинам величины их степени, то получится удвоенное
[16:47.040 --> 16:48.040]  количество ребер.
[16:48.040 --> 16:51.160]  Это, я надеюсь, тоже никаких вопросов не вызывает, но
[16:51.160 --> 16:52.160]  полезно это как-то напомнить.
[16:52.160 --> 16:58.040]  Вопрос о том, когда граф изомурфный, а когда нет, вопрос на
[16:58.080 --> 17:01.760]  самом деле один из центральных, в том числе с точки зрения
[17:01.760 --> 17:03.440]  и теория алгоритмов тоже.
[17:03.440 --> 17:05.760]  Где-нибудь когда-нибудь вот здесь в рамках каких-то
[17:05.760 --> 17:07.840]  курсов вам об этом говорили?
[17:07.840 --> 17:09.440]  Нет, пока?
[17:09.440 --> 17:13.760]  О том, что вопрос проверки графов на изоморфизм – это
[17:13.760 --> 17:16.880]  сложный, важный вопрос, который до сих пор до конца
[17:16.880 --> 17:17.880]  не решен.
[17:17.880 --> 17:18.880]  Нет, пока не говорили.
[17:18.880 --> 17:19.880]  Вот я вам говорю.
[17:19.880 --> 17:23.800]  Это вообще очень интересная задача – проверки графов
[17:23.800 --> 17:24.800]  на изоморфизм.
[17:24.800 --> 17:28.840]  Но я про это расскажу на втором курсе.
[17:28.840 --> 17:32.900]  Подробнее расскажу про алгоритмическую составляющую, про роль случайных
[17:32.900 --> 17:34.880]  графов в этой истории я обязательно расскажу.
[17:34.880 --> 17:36.600]  Это очень важно, очень интересно.
[17:36.600 --> 17:39.760]  Сейчас просто на уровне каких-то определений это надо понимать.
[17:39.760 --> 17:42.720]  То есть просто взнять и проверить два графа на
[17:42.720 --> 17:46.920]  n вершинах на изоморфизм быстро никто не умеет.
[17:46.920 --> 17:49.280]  Вот такая вот удивительная проблема теории алгоритма.
[17:49.280 --> 18:00.000]  Так, ну давайте еще какие есть основополагающие вещи.
[18:00.000 --> 18:02.160]  Это маршруты в графах.
[18:02.160 --> 18:05.240]  О них тоже хорошо договориться, можно по-разному определять.
[18:05.240 --> 18:08.720]  Ну вот я обычно определяю следующим образом.
[18:08.720 --> 18:15.560]  Маршрут в самом общем смысле этого слова, тамом общем
[18:15.560 --> 18:16.560]  смысле слова.
[18:16.760 --> 18:20.360]  Это просто последовательность чередующихся вершины и
[18:20.360 --> 18:23.120]  ребер, которая начинается с вершины и вершины заканчивается.
[18:23.120 --> 18:27.440]  Значит тут какой-нибудь e n, а тут соответственно
[18:27.440 --> 18:28.440]  v n плюс один.
[18:28.440 --> 18:32.080]  Просто формально это последовательность вершины и ребер, вершина
[18:32.080 --> 18:34.800]  и начинается, вершина и заканчивается, и они вот
[18:34.800 --> 18:35.800]  так чередуются.
[18:35.800 --> 18:37.080]  Ну как чередуются?
[18:37.080 --> 18:41.320]  Понятное дело, что здесь для любого e, e i t равняется
[18:41.320 --> 18:45.320]  v i t, v i plus 1.
[18:45.320 --> 18:48.240]  Разумеется, они не просто так чередуются.
[18:48.240 --> 18:50.840]  То есть если говорить про картинку, там какой-то
[18:50.840 --> 18:54.720]  есть граф, неважно, например такой вот четырехугольник.
[18:54.720 --> 18:59.480]  Маршрут это что хотите, то есть я здесь ни в коем
[18:59.480 --> 19:01.880]  случае, внимание товарищ, очень важный момент, не
[19:01.880 --> 19:04.760]  говорю, что эти ребра разные, и тем более я не говорю,
[19:04.760 --> 19:05.760]  что вершины разные.
[19:05.760 --> 19:08.720]  Вот вы понимаете за мыслью?
[19:08.720 --> 19:11.640]  То есть маршрут это например вот такая хрень.
[19:11.960 --> 19:15.520]  Чпок, чпок, чпок, чпок, чпок, чпок, туда-сюда хожу,
[19:15.520 --> 19:16.520]  но чем не маршрут?
[19:16.520 --> 19:20.040]  Главное, что я не перепрыгиваю, вот прыгать я не умею, я
[19:20.040 --> 19:21.040]  должен ходить по ребрам.
[19:21.040 --> 19:28.680]  Вот, значит что дальше, маршрут замкнутый в самом
[19:28.680 --> 19:31.680]  общем виде, если просто совпадает первая и последняя
[19:31.680 --> 19:36.920]  вершина, поэтому опять же это, ну, бог знает что может
[19:36.920 --> 19:37.920]  быть.
[19:37.920 --> 19:40.640]  Вот, начали отсюда, ходили-ходили, вернулись, замкнутый маршрут.
[19:41.640 --> 19:44.640]  Тоже будет считаться замкнутым.
[19:44.640 --> 20:04.040]  Если в замкнутом маршруте те ребра разные, ребра не
[20:04.040 --> 20:08.720]  вершины, а ребра, то есть вот эти Е1, Е2, ЕН все разные,
[20:08.800 --> 20:10.920]  то есть не вот такая вот фигня, туда-сюда, туда-сюда
[20:10.920 --> 20:13.840]  и потом еще куда-то пошел, снова побегал туда-сюда.
[20:13.840 --> 20:18.760]  Вот если все ребра разные, то такой маршрут называется
[20:18.760 --> 20:19.760]  циклом.
[20:19.760 --> 20:24.600]  Такой маршрут называется циклом, но при этом цикл
[20:24.600 --> 20:29.640]  может быть например вот такой, весьма и весьма замудренный.
[20:29.640 --> 20:38.080]  Как-нибудь он так ходит, такой какой-то орден получился,
[20:38.080 --> 20:39.760]  поэтому он еще куда-нибудь дальше пошел.
[20:39.760 --> 20:42.440]  В общем, это тоже цикл в этом определении.
[20:42.440 --> 20:49.040]  Это психоанализ, знаете, вот если лектор рисует на
[20:49.040 --> 20:52.320]  доске орден, значит, наверное, он его хочет получить.
[20:52.320 --> 21:02.280]  Ну, меня, конечно, да, можно отправить в крестовый поход,
[21:02.280 --> 21:04.000]  может какая-нибудь лошадь и выдержит.
[21:04.920 --> 21:10.320]  Так, понятно, да?
[21:10.320 --> 21:19.600]  Вот, а если в загнутом маршруте, а если еще и вершины разные,
[21:19.600 --> 21:21.640]  вершины все разные, то есть вот тут, видите, повторяется
[21:21.640 --> 21:29.400]  центральная вершина ордена, если еще и вершины все разные,
[21:29.400 --> 21:32.600]  то это называется простой цикл.
[21:32.600 --> 21:40.480]  То есть типичный портрет такого графа, я обычно так
[21:40.480 --> 21:43.160]  весело изъясняюсь, да, вот есть граф как абстрактный
[21:43.160 --> 21:46.560]  объект, вы, например, сидящие в этой аудитории, это вершины,
[21:46.560 --> 21:50.760]  а там какие-нибудь отношения между вами, это ребра.
[21:50.760 --> 21:53.180]  Но у графа есть портрет, его можно изобразить на
[21:53.180 --> 21:55.720]  доске в виде точечек и отрезочков.
[21:55.800 --> 21:59.560]  Так вот, у простого цикла типичный разумный портрет
[21:59.560 --> 22:00.840]  это просто многоугольник.
[22:00.840 --> 22:05.440]  Вот такая штука, это типичный простой цикл.
[22:05.440 --> 22:09.120]  Понятное дело, что его тоже можно нарисовать по-идиотски,
[22:09.120 --> 22:13.360]  как в кривом зеркале, а, слушайте, ну даже не по-идиотски,
[22:13.360 --> 22:16.320]  смотрите, можно вот так нарисовать, а, это не как
[22:16.320 --> 22:19.920]  в кривом зеркале, звездочка называется, это же тоже цикл
[22:19.920 --> 22:22.360]  на пяти вершинах, причем простой, потому что ни
[22:22.360 --> 22:24.520]  тут, ни тут, ни тут, ни тут никаких вершин нету.
[22:24.520 --> 22:29.480]  Это другой портрет того же самого графа, это отдельный
[22:29.480 --> 22:30.480]  вопрос.
[22:30.480 --> 22:33.000]  Наверное, слышали есть такое выражение планарности,
[22:33.000 --> 22:34.160]  об этом мы обязательно тоже поговорим.
[22:34.160 --> 22:46.600]  Так, если маршрут не является замкнутым, то все то же самое
[22:46.600 --> 22:51.360]  можно сказать уже не о циклах, а о путях.
[22:51.360 --> 22:57.120]  Если маршрут не является замкнутым, но в нем все ребра
[22:57.120 --> 23:02.360]  разные, то он называется путь, это не замкнутый цикл.
[23:02.360 --> 23:06.440]  То же самое, только в не замкнутом случае, тогда
[23:06.440 --> 23:09.560]  он называется путь или еще есть синоним цепь.
[23:09.560 --> 23:16.080]  Ну и соответственно здесь вместо простой цикл пишут
[23:16.080 --> 23:19.640]  простая цепь или простой путь.
[23:19.640 --> 23:22.080]  Простая цепь, простой путь.
[23:22.080 --> 23:29.200]  Так, если я слишком неформален, то есть очень быстро перескакиваю
[23:29.200 --> 23:33.360]  с мысли на мысль, вы меня притормаживаете, но я стараюсь
[23:33.360 --> 23:35.760]  не очень скучно рассказывать, потому что это в общем вещи
[23:35.760 --> 23:38.520]  такие известные, мне просто надо заложить какую-то
[23:38.520 --> 23:42.240]  базис под то, что будет происходить дальше, какие-то
[23:42.240 --> 23:43.960]  основные определения все-таки дать.
[23:44.480 --> 23:47.720]  Значит, что еще можно, прямо здесь, наверное, я напишу.
[23:47.720 --> 23:53.840]  Граф связен.
[23:53.840 --> 23:56.200]  На самом деле, в этом месте всегда какие-то возникают
[23:56.200 --> 23:57.200]  трудности у людей.
[23:57.200 --> 24:02.560]  Вот не связан, а связен, он связный, без а какого-либо
[24:02.560 --> 24:07.640]  между с дн, связанный, не связанный, его там не опутали
[24:07.640 --> 24:11.360]  какими-то веревками и связали, а он связанный в смысле,
[24:11.360 --> 24:12.360]  что есть связь.
[24:12.760 --> 24:21.800]  Он связен, если для любых двух его вершин существует
[24:21.800 --> 24:29.120]  маршрут, давайте в общем случае, соединяющий их, то
[24:29.120 --> 24:33.240]  есть с началом в X, а с концом в Y, в том смысле, соединяющий
[24:33.240 --> 24:34.240]  их.
[24:38.240 --> 24:40.960]  Но я надеюсь, вы понимаете, что если есть маршрут, то
[24:40.960 --> 24:41.960]  есть и простая цепь.
[24:42.960 --> 24:45.800]  Тогда можно так убрать лишние телодвижения, чтобы
[24:45.800 --> 24:46.800]  получилась простая цепь.
[24:46.800 --> 24:49.680]  Этого наличия маршрута гарантирует и наличие хоть
[24:49.680 --> 24:52.240]  одной простой цепи, которая их соединяет.
[24:52.240 --> 24:54.040]  Такой граф называется связным.
[24:54.040 --> 25:04.600]  Отношение поединенности простой цепью является
[25:04.600 --> 25:07.120]  отношением эквивалентности, товарищи.
[25:07.880 --> 25:13.320]  Я буду рассуждать максимально по-мусатовски в этом месте.
[25:13.320 --> 25:17.440]  Имею право, благо он здесь был почти год назад.
[25:17.440 --> 25:24.280]  Раз оно является отношением эквивалентности, значит,
[25:24.280 --> 25:27.680]  по основной теореме математики, я не знаю, употреблял он
[25:27.680 --> 25:30.640]  такое прекрасное выражение или нет, но в некотором смысле
[25:30.640 --> 25:34.120]  это основная теорема математики, не арифметики, не алгебра,
[25:34.120 --> 25:35.120]  а математики.
[25:35.120 --> 25:39.240]  По основной теореме математики вершины графа распадаются
[25:39.240 --> 25:44.040]  на классы эквивалентности, они называются компонентами
[25:44.040 --> 25:45.040]  связности.
[25:45.040 --> 25:50.240]  Если граф связан, то компонента одна, если он связан, то
[25:50.240 --> 25:53.080]  компонент сколько-то, но не больше, чем количество
[25:53.080 --> 25:55.200]  вершин в графе.
[25:55.200 --> 25:59.400]  Компоненты связанности или связанные компоненты
[25:59.400 --> 26:00.400]  по-разному говорят.
[26:00.400 --> 26:06.680]  Это просто классы эквивалентных вершин с множеством соответствующих
[26:06.680 --> 26:07.680]  ребер на них.
[26:07.680 --> 26:12.800]  Вот в этом отношении эквивалентности порождаемым соединённостью
[26:12.800 --> 26:13.800]  цепочкой.
[26:13.800 --> 26:19.120]  На пальцах понятно, это кусочки, отдельные между
[26:19.120 --> 26:21.800]  собой не связанные, на которые распадается граф.
[26:21.800 --> 26:34.960]  Конечно, отношение изоморфизма – это тоже отношение эквивалентности,
[26:34.960 --> 26:38.820]  но уже на множестве всех графов, поэтому интересным
[26:38.820 --> 26:41.520]  является, например, вопрос, а сколько существует там
[26:41.520 --> 26:44.960]  классов эквивалентности, то есть сколько есть попарно
[26:44.960 --> 26:48.160]  неизоморфных графов на N-вершинах, ясно, что их
[26:48.160 --> 26:51.040]  гораздо меньше, чем два в степени C из N по 2.
[26:51.040 --> 26:54.800]  Об этом сейчас говорить не буду, это не так очевидно,
[26:54.800 --> 26:56.560]  но просто чтобы вы понимали.
[26:56.560 --> 27:00.640]  Вопрос, конечно, такой есть.
[27:00.640 --> 27:04.120]  Мы пока что, если что-то перечисляем на графах,
[27:04.120 --> 27:07.800]  то делаем это не учитывая изоморфизма, то есть нам
[27:07.800 --> 27:11.120]  важны и различия в нумерации вершин внутри ребер.
[27:11.120 --> 27:18.560]  Так, понятно, пока я изъясняюсь, например, если вершины
[27:18.560 --> 27:26.080]  графа – это люди в аудитории, а ребра – это, ну, я не знаю,
[27:26.080 --> 27:27.720]  дружба, например, между двумя из них.
[27:27.720 --> 27:33.840]  Дружба, да, нормально.
[27:33.840 --> 27:41.640]  Вот, то, конечно, важно не только, какой формы этот
[27:41.640 --> 27:46.480]  граф, но важно еще и кто с кем дружит, наверное,
[27:46.480 --> 27:48.880]  для, по крайней мере, тонкой информации.
[27:48.880 --> 27:51.200]  Поэтому мы пока изоморфизмами пренебрежем.
[27:51.200 --> 28:06.880]  Так, мне кажется, что я вообще все уже определения
[28:06.880 --> 28:08.560]  дал, которые мне для начала нужны.
[28:08.560 --> 28:11.720]  Я старался это сделать максимально быстро.
[28:12.720 --> 28:16.760]  Так, дорогие друзья, как вы считаете, какой самый
[28:16.760 --> 28:22.600]  простой из имеющихся на свете, простой в смысле
[28:22.600 --> 28:32.080]  тощий, малореберный граф, являющийся при этом связанным?
[28:32.080 --> 28:33.760]  Одна вершина, да, прекрасный ответ.
[28:33.760 --> 28:35.560]  Нет, ну, я имею в виду, что и оно произвольное число
[28:35.560 --> 28:39.520]  вершин, да, самый тощий – это одна вершина, правильно,
[28:39.520 --> 28:41.280]  одна вершина – это тоже граф.
[28:41.600 --> 28:42.800]  Так, это неудивительно.
[28:42.800 --> 28:46.080]  Нет, ну, я имею в виду, пусть есть n вершины, вот на множестве
[28:46.080 --> 28:50.560]  из n вершин есть там 2 в степени c из n по 2 графов.
[28:50.560 --> 28:54.160]  Какие из этих 2 в степени c из n по 2 графов самые тощие,
[28:54.160 --> 28:56.160]  если мы хотим, чтобы они при этом были связанными?
[28:56.160 --> 29:01.880]  Деревья, конечно, да, вот есть простейший класс, важный
[29:01.880 --> 29:09.240]  класс графов, который называется деревья, по такому основному
[29:09.840 --> 29:14.920]  своему определению деревья это связанные ациклические
[29:14.920 --> 29:23.200]  графы, одна вершина – это тоже дерево, так, ациклические
[29:23.200 --> 29:27.320]  понятно, не содержащие циклов, одна вершина по такому
[29:27.320 --> 29:30.320]  определению – это тоже дерево, одна вершина связана, циклов
[29:30.320 --> 29:35.120]  там нет, ну и понятно, да, семечка такая, зародыш
[29:35.120 --> 29:36.120]  дерева.
[29:36.120 --> 29:39.000]  Я думаю, что все себе дерево представляют, обычно цепляют
[29:39.000 --> 29:41.880]  его за какую-то вершину и говорят, ну вот дальше
[29:41.880 --> 29:45.320]  оно пошло разрастаться, там как-то оно не обязано
[29:45.320 --> 29:49.160]  быть ни в коем случае бинарным, но я как-то вот там так рисую,
[29:49.160 --> 29:51.800]  чтобы оно бинарным и не было, и дальше вот так его
[29:51.800 --> 29:53.640]  по слоям раскладывают.
[29:53.640 --> 29:56.360]  Но на самом деле, для того, чтобы иметь право нарисовать
[29:56.360 --> 29:59.440]  такую картинку и быть уверенным, что любое дерево подчиняется
[29:59.440 --> 30:03.240]  этому изображению, можно сформулировать и доказать
[30:03.240 --> 30:07.480]  следующую простую теорему, теорему по сложности такого
[30:07.480 --> 30:09.880]  уровня, близкого к тому, с чего мы когда-то ОКТЧ
[30:09.880 --> 30:10.880]  начинали.
[30:10.880 --> 30:15.240]  Значит, теорема звучит так, можно и больше, конечно,
[30:15.240 --> 30:19.000]  написать, но я напишу 4 пункта, для связанного, нет, просто
[30:19.000 --> 30:31.760]  для графа G следующие 4 утверждения эквивалентны, сейчас будет
[30:31.760 --> 30:34.760]  просто эквивалентное определение дерева, не только то, что
[30:34.760 --> 30:38.440]  это связанный ацикличный граф, но это еще и вот граф,
[30:38.440 --> 30:40.360]  который в каком смысле можно так нарисовать.
[30:40.360 --> 30:45.880]  Значит, первое G дерево, то есть это связанный ацикличный
[30:45.880 --> 30:55.840]  граф, согласно нашему определению, второе в G любые две вершины
[30:55.840 --> 31:09.840]  соединены единственной простой цепью, простым
[31:09.840 --> 31:19.680]  путем, не просто любые две вершины соединены, а единственной
[31:19.680 --> 31:20.680]  простой цепью.
[31:21.680 --> 31:44.680]  Третье G связан, и если мощность V равняется N, то мощность
[31:44.680 --> 31:54.680]  E равняется N минус 1, и четвертое G ацикличен, и все то же
[31:54.680 --> 31:56.680]  самое, вот так.
[31:56.680 --> 32:01.680]  Так, видите, пожалуйста, руки кто из присутствующих,
[32:01.680 --> 32:06.680]  каковых, в общем, малая доля, наверное, от потока уже,
[32:06.680 --> 32:10.280]  быстро сказал, но понятно, да, кто из присутствующих
[32:10.280 --> 32:13.680]  думает, что может сходу доказать эту теорему, если немножко
[32:13.680 --> 32:14.680]  нет.
[32:14.680 --> 32:18.680]  Тогда я не буду доказывать, потому что это подавляющее
[32:18.680 --> 32:19.680]  большинство.
[32:19.680 --> 32:22.680]  Правда, это малая доля от числа всех студентов на
[32:22.680 --> 32:23.680]  потоке.
[32:23.680 --> 32:26.680]  Может быть, я, конечно, кокну эту долю оставшуюся, которая
[32:26.680 --> 32:27.680]  большая.
[32:27.680 --> 32:29.680]  Я очень не хотел бы этого, но это реально простое
[32:29.680 --> 32:30.680]  утверждение.
[32:30.680 --> 32:33.680]  Я его пока вот все эти годы не доказывал, оно формулировалось
[32:33.680 --> 32:36.680]  так же вскользь в рамках курса дискретного анализа
[32:36.680 --> 32:39.680]  и пока никого не кокнуло там, поскольку оно формулировалось
[32:39.680 --> 32:41.680]  буквально на первой лекции.
[32:41.680 --> 32:44.680]  Вместе между вами сейчас и первой лекцией на втором
[32:44.680 --> 32:46.680]  курсе разница не очень существенна.
[32:54.680 --> 32:57.680]  Да-да-да, друзья, я, наверное, не очень хочу тратить время
[32:57.680 --> 33:00.680]  на доказательство таких фактов, но как бы в первом
[33:00.680 --> 33:03.680]  семестре это было, наверное, уместно, а сейчас, после
[33:03.680 --> 33:06.680]  того, как мы с вами сумму гауса посчитали, кажется,
[33:06.680 --> 33:09.680]  что это уже немножко как-то перебор.
[33:09.680 --> 33:11.680]  Ну ладно, значит, вот есть такой замечательный факт,
[33:11.680 --> 33:14.680]  надо в принципе уметь как упражнение просто решать.
[33:14.680 --> 33:17.680]  Ничего тут сложного не утверждается.
[33:17.680 --> 33:21.680]  Вот, есть более, чуть-чуть более трудный факт, который
[33:21.680 --> 33:25.680]  я докажу, так или иначе, а именно меня интересует,
[33:25.680 --> 33:28.680]  а сколько всего деревьев есть, наверное, на вершинах.
[33:28.680 --> 33:31.680]  Ну тоже, конечно, я думаю, что в этой аудитории выжили
[33:31.680 --> 33:34.680]  люди, которые в большинстве знают, но вот это я все-таки
[33:34.680 --> 33:36.680]  буду доказывать, иначе я кокну некоторую часть
[33:36.680 --> 33:38.680]  аудитории, а может быть и не знаете.
[33:38.680 --> 33:41.680]  Значит, давайте обозначим тест индекс МН.
[33:41.680 --> 33:48.680]  Число деревьев, не расслабляйтесь, это на самом деле
[33:48.680 --> 33:50.680]  только затравка некоторой дальнейшей деятельности,
[33:50.680 --> 33:53.680]  потому что число деревьев многие знают, многие не знают.
[33:53.680 --> 33:56.680]  А то, что я дальше буду рассказывать, почти все не знают.
[33:56.680 --> 33:59.680]  Ну как обычно в нашем курсе, то есть какие-то начало
[33:59.680 --> 34:02.680]  знают наши продвинутые студенты, а дальше вот начинаются
[34:02.680 --> 34:04.680]  уже какие-то тонкости.
[34:04.680 --> 34:06.680]  Число деревьев на N вершинах.
[34:08.680 --> 34:11.680]  Не говорите мне, пожалуйста, формулу тех, кто знает,
[34:11.680 --> 34:14.680]  поднимите руки, кто думает, что знает, только не говорите.
[34:14.680 --> 34:17.680]  Ага, ну понятно, многие довольно знают, но не все.
[34:17.680 --> 34:19.680]  Уже далеко не все.
[34:20.680 --> 34:24.680]  Ну, поскольку далеко не все знают, то давайте ее угадаем.
[34:24.680 --> 34:30.680]  T1 равно 1, но одна вершина, там только одно дерево.
[34:30.680 --> 34:33.680]  T2 чему равно? На двух вершинах сколько деревьев?
[34:34.680 --> 34:36.680]  Тоже одно.
[34:36.680 --> 34:39.680]  Ну, я, конечно, понимаю, сейчас у людей возникла мысль,
[34:39.680 --> 34:41.680]  что это число фибоначчи.
[34:41.680 --> 34:43.680]  Мысль неверная, я сразу скажу.
[34:45.680 --> 34:46.680]  А?
[34:47.680 --> 34:49.680]  Ну, да, на трех.
[34:52.680 --> 34:56.680]  Да, да, да. Так, на трех вершинах, дорогие друзья, чего на трех будет?
[34:59.680 --> 35:02.680]  Одна? Нет, нет, на трех не одна.
[35:02.680 --> 35:04.680]  А вот на трех-то не одна.
[35:04.680 --> 35:08.680]  Мы же нумируем, понимаете, мы же не точно сюда изоморфизм,
[35:08.680 --> 35:10.680]  а мы нумируем, да, их все-таки три.
[35:11.680 --> 35:16.680]  Нет-нет, мы сейчас не класс изоморфизма считаем, мы именно разные в смысле нумерации.
[35:16.680 --> 35:19.680]  Их три, потому что важно, кто стоит в центре.
[35:19.680 --> 35:21.680]  Кто стоит по краям, уже неважно.
[35:24.680 --> 35:28.680]  Ну, на число фибоначчи это чуть-чуть уже не похоже.
[35:29.680 --> 35:33.680]  Но на самом деле надо вот сюда просто не смотреть, это такой выраженный случай.
[35:33.680 --> 35:36.680]  Он будет удовлетворять формуле, которую мы в итоге получим,
[35:36.680 --> 35:38.680]  но он все равно смотреть сюда не надо.
[35:39.680 --> 35:41.680]  Вот, давайте еще Т4 посчитаем,
[35:41.680 --> 35:44.680]  а Т5 я напишу ответ, потому что мне лень читать.
[35:44.680 --> 35:50.680]  Вот, для Т4, если говорить про классы изоморфизма, то их будет два.
[35:50.680 --> 35:53.680]  Один – это цепь длины 4,
[35:53.680 --> 35:57.680]  а другой – это вот такой, товарищ.
[35:59.680 --> 36:01.680]  Не знаю, звезда, если хотите.
[36:04.680 --> 36:07.680]  Сколько есть различных звезд, совершенно очевидно.
[36:07.680 --> 36:10.680]  Опять важно только то, кто находится в центре.
[36:11.680 --> 36:14.680]  А по краям, как хотите, нумеруете, от этого уже зависимости не будет.
[36:14.680 --> 36:18.680]  Поэтому их четыре, вот таких, но еще надо прибавить цепи.
[36:18.680 --> 36:20.680]  Сколько цепей, простой комбинаторный вопрос?
[36:20.680 --> 36:23.680]  Не, ну, слушайте, 24 вроде как?
[36:23.680 --> 36:27.680]  Ну, пополам, конечно, потому что если перевернуть, то будет то же самое.
[36:27.680 --> 36:30.680]  То есть плюс 12. Здесь 12.
[36:31.680 --> 36:33.680]  Ну, я надеюсь, это понятно.
[36:33.680 --> 36:35.680]  Итого 16.
[36:35.680 --> 36:40.680]  Ну, те, кто не знал формулу и при этом обладают очень высоким IQ,
[36:40.680 --> 36:43.680]  наверно, могут угадать в последовательности.
[36:44.680 --> 36:47.680]  Я, честно говоря, не знаю, что делать.
[36:48.680 --> 36:51.680]  Я, честно говоря, не уверен.
[36:51.680 --> 36:53.680]  Давайте вот с таким знанием угадаем.
[36:53.680 --> 36:55.680]  С таким знанием угадать могут все.
[36:56.680 --> 36:58.680]  А не только мегапрозорливцы.
[37:02.680 --> 37:05.680]  3 в первой, 4 в квадрате, 5 в кубе.
[37:05.680 --> 37:07.680]  То есть n в степени n-2.
[37:08.680 --> 37:12.680]  Теорема, которая называется формула Келли.
[37:13.680 --> 37:18.680]  То есть очень известного математика Келли, жившего в XIX веке.
[37:19.680 --> 37:23.680]  Я думаю, что он у вас где-нибудь, может, даже в курсе алгебры возникал.
[37:23.680 --> 37:26.680]  Нет? Не было теоремы Келли?
[37:27.680 --> 37:29.680]  Да-да, в теории группы, да.
[37:31.680 --> 37:35.680]  То утверждение о том, что tn равняется n в степени n-2.
[37:36.680 --> 37:40.680]  Ну, как я уже сказал, для n равного 1 формально это тоже годится.
[37:40.680 --> 37:42.680]  1 в минус первой степени это 1.
[37:42.680 --> 37:44.680]  Ну, так повезло просто.
[37:44.680 --> 37:46.680]  То есть это внесистемное совпадение.
[37:46.680 --> 37:49.680]  В минус первую степень что-то возводить в этом контексте странно.
[37:50.680 --> 37:53.680]  А дальше это прям вот настоящая закономерность.
[37:54.680 --> 37:58.680]  Келли, насколько я помню, если не ошибаюсь, доказал это в 1857 году.
[37:59.680 --> 38:04.680]  И самого Келли интересовали, мотивировали, скажем так, задачи химии.
[38:04.680 --> 38:10.680]  Химия его интересовала, как посчитать количество химических соединений,
[38:10.680 --> 38:14.680]  которые представляют собой что-то вроде парафиновых деревьев.
[38:15.680 --> 38:18.680]  Вы знаете химию? Я не очень.
[38:19.680 --> 38:24.680]  Но вроде они были парафиновые в его сознании, там какие-то вот такие конструкции.
[38:28.680 --> 38:30.680]  Ну да, да, это точно.
[38:30.680 --> 38:32.680]  Вот до такой степени химии я знаю.
[38:32.680 --> 38:34.680]  Уже формулы я подзабыл.
[38:34.680 --> 38:36.680]  Ну вот, неважно.
[38:36.680 --> 38:39.680]  Посчитал он все деревья и какие-то классы тоже перечислил.
[38:40.680 --> 38:48.680]  Но поскольку в 19-м веке и даже еще в начале 20-го века научная коммуникация была гораздо менее высокой,
[38:48.680 --> 38:52.680]  чем та, которая имеет место сейчас, но мы открываем интернет и все находим,
[38:53.680 --> 38:57.680]  то ввиду исключительной важности вот этого факта
[38:57.680 --> 39:00.680]  и при этом относительной затрудненности коммуникации,
[39:00.680 --> 39:02.680]  как и журналов, где что-то опубликовано и так далее,
[39:02.680 --> 39:06.680]  оно в итоге привело к тому, что эту формулу передоказали примерно сто раз.
[39:07.680 --> 39:11.680]  Независимо друг от друга, разные авторы, вот начиная с середины 19-го века
[39:11.680 --> 39:15.680]  и последние такие доказательства появлялись в середине 20-го века.
[39:15.680 --> 39:20.680]  Там были химики и физики и математики, причем разными методами они это делали.
[39:20.680 --> 39:24.680]  Ну, в общем, вот после перерыва я вам одно из доказательств приведу.
[39:24.680 --> 39:26.680]  Так, ну все, давайте я докажу.
[39:26.680 --> 39:32.680]  Ну, формулу Келли, ну тоже так я скорее это общими штрихами сделаю,
[39:32.680 --> 39:34.680]  там надо будет немножко, наверное, додумать,
[39:34.680 --> 39:39.680]  но в принципе доказательство несложное, называется это идея,
[39:39.680 --> 39:43.680]  одна из сотни коды Прюфера,
[39:45.680 --> 39:49.680]  ну то есть Прюфер это один из сотни авторов, придумывавших доказательства,
[39:49.680 --> 39:51.680]  и он придумал деревья кодировать.
[39:51.680 --> 39:56.680]  Ну, проще объяснять всегда на примере, то есть нарисовать какое-нибудь дерево и закодировать,
[39:56.680 --> 39:59.680]  так будет понятно, как делать в общем случае.
[39:59.680 --> 40:01.680]  Ну, во-первых, идея какая?
[40:01.680 --> 40:06.680]  Если мы верим в то, что должно получиться n в степени n-2,
[40:06.680 --> 40:13.680]  то, наверное, нужно попробовать установить взаимнооднозначное соответствие, биекцию,
[40:13.680 --> 40:17.680]  между множеством всех деревьев на n-вершинах
[40:17.680 --> 40:23.680]  и множеством всех размещений с повторениями из n чисел длины n-2.
[40:25.680 --> 40:29.680]  Вот это и есть код, то есть мы каждому дереву сейчас хотим однозначно сопоставить
[40:29.680 --> 40:32.680]  некоторые последствия чисел длины n-2.
[40:32.680 --> 40:37.680]  Вот давайте, у нас есть дерево скажем, какое-нибудь вот так,
[40:37.680 --> 40:44.680]  неважно, не буду слишком извращаться, а вершины расставлю на бум-лазаря.
[40:49.680 --> 40:52.680]  Вроде все занумеровал, да, 10 вершин.
[40:52.680 --> 40:55.680]  Ну, как-то расставил числа, видите, неважно.
[40:55.680 --> 41:01.680]  Пересмотрите, у каждого дерева есть 10 вершин,
[41:01.680 --> 41:04.680]  у которого n больше либо равняется 2,
[41:04.680 --> 41:08.680]  а мы с вами договорились считать, что n больше либо равно 2,
[41:08.680 --> 41:13.680]  у каждого дерева есть то, что называется висячая вершина.
[41:13.680 --> 41:17.680]  Висячая вершина – это вершина степени 1,
[41:17.680 --> 41:23.680]  но на картинке оно очевидно, тут куча висячих вершин.
[41:23.680 --> 41:27.680]  Почему у каждого дерева есть вершина степени 1?
[41:27.680 --> 41:30.680]  Тут куча висячих вершин.
[41:30.680 --> 41:34.680]  Почему у каждого дерева есть висячая вершина?
[41:34.680 --> 41:40.680]  Ну, можно, например, так рассуждать, можно послаться на ту теорию.
[41:40.680 --> 41:45.680]  Ну, там на n вершинах n-1 ребро, ясно, что какая-то вершина будет степень 1,
[41:45.680 --> 41:48.680]  просто по принципу Дерехле.
[41:48.680 --> 41:51.680]  Ну, короче, есть висячие вершины, это абсолютно очевидно.
[41:51.680 --> 41:54.680]  Давайте из этих висячих вершин выберем ту,
[41:54.680 --> 41:59.680]  которую самое маленькое значение, самый маленький номер.
[41:59.680 --> 42:04.680]  О, самый маленький, видите, как нам повезло.
[42:04.680 --> 42:09.680]  Вот выберем ее, но в код, кодирующий это дерево,
[42:09.680 --> 42:13.680]  запишем не ее, а второй конец висячего ребра.
[42:13.680 --> 42:16.680]  Пишем тройку.
[42:16.680 --> 42:20.680]  Еще раз, находим в дереве висячую вершину с наименьшим номером,
[42:20.680 --> 42:27.680]  а в код записываем второй конец соответствующего единственного ребра.
[42:27.680 --> 42:30.680]  Ой, я не туда посмотрел, да.
[42:30.680 --> 42:32.680]  Это спасибо, да.
[42:32.680 --> 42:34.680]  Ну, тут 3-6 рядышком стоят.
[42:34.680 --> 42:37.680]  6, конечно, да, 5-6.
[42:37.680 --> 42:39.680]  Я просто не доглядел.
[42:39.680 --> 42:44.680]  Потом берем большой секатор, отстригаем вот это ребро.
[42:44.680 --> 42:47.680]  Но понятное дело, что после отстригания снова получится дерево,
[42:47.680 --> 42:52.680]  потому что это же была висячая вершина и висячее ребро.
[42:52.680 --> 42:55.680]  Сыклов не появится, связанность не потеряется.
[42:55.680 --> 42:57.680]  Очевидно, что это снова дерево.
[42:57.680 --> 43:00.680]  То есть вы можете не на картинку смотреть, а мыслить абстрактно.
[43:00.680 --> 43:02.680]  Но, конечно, останется дерево.
[43:02.680 --> 43:06.680]  Снова проделываем ту же процедуру, то есть в оставшемся новом дереве
[43:06.680 --> 43:09.680]  ищем висячую вершину с наименьшим номером.
[43:09.680 --> 43:12.680]  Какая здесь?
[43:12.680 --> 43:13.680]  5, что ли?
[43:13.680 --> 43:15.680]  Вот теперь 5.
[43:15.680 --> 43:20.680]  Берем второй конец и отстригаем.
[43:20.680 --> 43:23.680]  Давайте чуть в более быстром темпе попробуем.
[43:23.680 --> 43:26.680]  Какая следующая будет?
[43:26.680 --> 43:30.680]  7,4. То есть видите, это действительно с повторением получается.
[43:30.680 --> 43:34.680]  И вообще, если кто быстро соображает, сейчас может увидеть,
[43:34.680 --> 43:38.680]  что каждое такое число в итоге встретится в коде
[43:38.680 --> 43:44.680]  на единичку меньше раз, чем величина степени соответствующей вершины.
[43:44.680 --> 43:46.680]  Так, после семерки кто у нас?
[43:46.680 --> 43:49.680]  8 остается, что ли?
[43:49.680 --> 43:52.680]  8 значит опять 6.
[43:52.680 --> 43:55.680]  Что?
[43:55.680 --> 43:58.680]  А, понял, да-да-да, правильно.
[43:58.680 --> 44:01.680]  9 отстригаем, получаем 4 здесь.
[44:01.680 --> 44:04.680]  Вот 3 раза четверка встретилась, больше она уже появляться не будет,
[44:04.680 --> 44:07.680]  потому что она сама теперь стала висячей.
[44:07.680 --> 44:12.680]  Вот, потом 3, нет, потом вот она стала висячей, поэтому 2.
[44:15.680 --> 44:20.680]  Ах ты, ех ты, елки-палки.
[44:20.680 --> 44:23.680]  Поторопились, да, слишком поторопились.
[44:23.680 --> 44:32.680]  Так, еще раз 6, потом 4, потом 4.
[44:32.680 --> 44:38.680]  Ой, ошиблись, ошиблись, ошиблись.
[44:38.680 --> 44:42.680]  Ну что делать, перерисовывать, что ли?
[44:42.680 --> 44:47.680]  Ну последние две надо поправить, но мне надо еще вот эти крестики поправить.
[44:47.680 --> 44:55.680]  Последние две-то надо поправить, да, но смотрите, я уже третий раз четверку отсек.
[44:55.680 --> 45:01.680]  А вот надо было не к этой девятке переходить после пятерки и семерки, а к шестерке.
[45:01.680 --> 45:06.680]  Видите, за счет вот этого отстригания шестерка стала самым маленьким висячем.
[45:06.680 --> 45:09.680]  Поэтому двойку тут надо писать, верно?
[45:13.680 --> 45:16.680]  А, то есть сначала до 6.
[45:16.680 --> 45:18.680]  Вот видите, я запутал тебя, говорю, перерисовывать надо.
[45:18.680 --> 45:21.680]  Я запутался, к сожалению, видите, поторопились.
[45:21.680 --> 45:23.680]  Шестерку и потом двойку.
[45:23.680 --> 45:27.680]  Так, не запутал я никого, понятно, что происходит?
[45:27.680 --> 45:30.680]  Шестерку, потом двойку.
[45:30.680 --> 45:39.680]  И вот теперь, и только теперь я отстригаю девятку и снова получаю четверку, да?
[45:39.680 --> 45:42.680]  После чего снова получаю двойку.
[45:46.680 --> 45:48.680]  И дальше остается тройка.
[45:48.680 --> 45:51.680]  Так, друзья, следите, я что-то запутался.
[45:51.680 --> 45:53.680]  Нет, нет, нет, все, все, все.
[45:53.680 --> 45:58.680]  Значит, тройка, остается одно единственное ребро, мы ничего больше не делаем.
[45:58.680 --> 46:02.680]  У нас 10 вершин, раз, два, три, четыре, пять, шесть, семь, восемь чисел.
[46:02.680 --> 46:05.680]  Н минус два числа из Н чисел.
[46:05.680 --> 46:08.680]  Н минус два размещения из Н чисел.
[46:10.680 --> 46:14.680]  Так, друзья, я правильно прописал, нигде больше ошибок нету.
[46:16.680 --> 46:19.680]  А последнее ребро мы не трогаем, все, вот оно осталось, мы его не трогаем.
[46:24.680 --> 46:29.680]  Нет, еще раз, когда осталось последнее ребро, мы больше ничего не делаем.
[46:32.680 --> 46:33.680]  Где?
[46:42.680 --> 46:46.680]  Наоборот, надо было действительно, ну, три-то я правильно написал,
[46:46.680 --> 46:49.680]  но удалить надо было не десять, три, а два, три.
[46:51.680 --> 46:53.680]  Ну, глубоко, глубоко, все-таки важно.
[46:53.680 --> 46:55.680]  Да, вот так.
[46:55.680 --> 46:57.680]  Ну, что-то я сегодня вообще...
[46:57.680 --> 46:59.680]  Понятно, да, где ошибка была еще?
[46:59.680 --> 47:01.680]  В действии секатора.
[47:01.680 --> 47:03.680]  Тут правильно, а секатор неверно.
[47:03.680 --> 47:05.680]  Ну, сейчас вроде правильно, а?
[47:06.680 --> 47:09.680]  Теперь-то я прямо на ровном месте напутал.
[47:09.680 --> 47:12.680]  Поторопился, поторопился потому, что торопились.
[47:14.680 --> 47:15.680]  Нормально?
[47:16.680 --> 47:19.680]  Процедура в общем случае тоже понятна, как устроена.
[47:19.680 --> 47:22.680]  Мы когда доходим до последнего ребра, мы с ним уже ничего не делаем.
[47:22.680 --> 47:27.680]  Мы вот так вот Н минус две вершины, которые служат концами этих висячих ребер,
[47:27.680 --> 47:29.680]  записываем последовательный код прюфера.
[47:30.680 --> 47:33.680]  Значит, первое, ну, то, что это инъекция,
[47:34.680 --> 47:36.680]  слушайте, мне кажется очевидно,
[47:36.680 --> 47:39.680]  ну, рассматривайте это как упражнение, подумайте просто, что это инъекция.
[47:39.680 --> 47:43.680]  Ну, я имею в виду, что если два разных дерева, то у них будут два разных кода.
[47:43.680 --> 47:45.680]  Вроде совершенно понятно.
[47:45.680 --> 47:48.680]  Вот, а почему это сюръекция?
[47:48.680 --> 47:52.680]  То есть, почему у каждой последовательности прообраз дерева?
[47:52.680 --> 47:56.680]  Давайте это как бы в два этапа сделаем.
[47:57.680 --> 47:59.680]  Инъекция это понятно.
[47:59.680 --> 48:01.680]  Вот почему это сюръекция?
[48:01.680 --> 48:05.680]  Давайте так, давайте нам дана какая-то последовательная чисел,
[48:05.680 --> 48:08.680]  по которую мы знаем, что она получена из дерева.
[48:08.680 --> 48:10.680]  Вот пока так.
[48:11.680 --> 48:15.680]  Так…loley, дана последовательная чисел, мы не знаем, получена она из дерева или нет.
[48:15.680 --> 48:19.680]  Ну, пускай нам дана последовательная чисел – вот она дана,
[48:19.680 --> 48:21.680]  мы знаем, что она получена из этого дерева.
[48:21.680 --> 48:26.680]  Давайте я вам опишу обратную процедуру восстановления этого дерева.
[48:27.680 --> 48:39.600]  Видите, какая прекрасная процедура, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, это мы выписываем
[48:39.600 --> 48:44.400]  все n чисел, которые формируют вершины, а под ними пишем
[48:44.400 --> 48:52.800]  вот эту последную, 6, 4, 4, 6, 2, 4, 2, 3, и дальше делаем
[48:52.800 --> 49:03.400]  так, ну понятно, что здесь 8 чисел, тут 10, поэтому каких-то чисел из верхнего ряда в нижнем ряду нет,
[49:03.400 --> 49:09.680]  тем более, если тут что-то еще совпадает, но даже если тут все разное, все равно каких-то чисел из
[49:09.680 --> 49:14.720]  верхнего ряда тут нет. Вот давайте возьмем самое маленькое число из верхнего ряда,
[49:14.720 --> 49:28.720]  которого нет в нижнем, 1, да, и образуем ребро 1,6, то есть из него и из первого числа,
[49:28.720 --> 49:36.440]  которое в нижнем ряду, ну конечно мы здесь изрядно запутались, но кажется это и было,
[49:36.440 --> 49:41.320]  первое ребро, которое мы отстригали, в этом месте мы еще вроде не путались,
[49:41.320 --> 49:48.240]  ну и дальше сейчас будет то же самое, мы берем самое маленькое число из верхнего ряда,
[49:48.240 --> 49:53.600]  которое отсутствует в нижнем, теперь это вовсе не двойка, не тройка и не четверка, а пятерка,
[49:53.600 --> 50:03.000]  пятерку соединяем с четверкой, и по-моему это и было, второе ребро, которое мы отстригали.
[50:03.000 --> 50:11.160]  Друзья, ну я не знаю, вы у нас вроде умные, можете понять, почему это не фокус, который я вот сейчас
[50:11.160 --> 50:17.720]  для вас заготовил, специально подобрав такое дерево, для которого эта процедура его же и восстановит,
[50:17.720 --> 50:23.360]  а все-таки реально вот всегда обратная процедура восстанавливающая эту штуку, ну и так далее,
[50:23.360 --> 50:30.280]  я вас уверяю, что после вычеркивания всех чисел в нижнем ряде, наверху останутся вакурат вот эти
[50:30.280 --> 50:37.080]  числа 3 и 10, поэтому все-таки было важно, где отстригать в конце, вот 3 и 10, это те числа,
[50:37.080 --> 50:42.200]  которые в конечном счете выживут наверху после того, как здесь все будет перечеркнуто.
[50:42.200 --> 50:50.320]  То есть мы восстановим прямо в точности то же самое дерево. Так вот, сюръекция
[50:50.320 --> 51:02.520]  доказывается так, применим вот эту процедуру к произвольной последовательности, уже не зная,
[51:02.520 --> 51:23.200]  получена она из дерева или нет. Применим вот эту процедуру к произвольному n-2 размещения
[51:23.200 --> 51:44.200]  повторения и убедимся индукцией по n. Ну, что значит всегда дерево будет,
[51:44.200 --> 51:51.080]  что не будет циклов, например. Это проще, мне кажется. Я не буду сейчас это проводить в подробностях,
[51:51.080 --> 51:55.040]  это вот такая схема просто рассуждения, которая приводит к итоговому доказательству,
[51:55.040 --> 52:03.720]  что не будет циклов. Ну, раз не будет циклов, то это будет дерево согласно четвертому пункту
[52:03.720 --> 52:08.360]  вот этой теоремы. При всей ее простоте она все-таки мне нужна, видите, я ее использую.
[52:08.360 --> 52:18.880]  Когда мы к n-2 размещению применяем такую процедуру, мы получаем n-1 ребра на n вершинах.
[52:18.880 --> 52:24.160]  Если мы еще и доказываем, что там циклов нет, ну все, у нас получается дерево согласно теореме.
[52:24.160 --> 52:31.120]  Победа, да. Ну, тут вот такая схема доказательств, ну продумайте ее до конца. Я как-то обычно вот
[52:31.120 --> 52:40.560]  уже в детали не лезу. Победа, да. Коды прюфера дают такое вот очень простое кодирование множества
[52:40.560 --> 52:48.280]  всех деревьев. Так, ну, это открывает большую интересную деятельность перечислительной
[52:48.280 --> 52:55.680]  теории графов, потому что следующий по толщине, так сказать, или по точности, наоборот, связанный
[52:55.680 --> 53:02.320]  граф, это какой граф, товарищи? Ну, вы не знаете, может быть, это вот... А? Ну, в каком-то смысле
[53:02.320 --> 53:09.400]  солнышко, да, называется он унициклическим. Ну, как солнышко, паук. Мне кажется, в большей
[53:09.400 --> 53:14.320]  степени это паук, потому что он же не цепи выпускает из-за того единственного цикла,
[53:14.320 --> 53:22.960]  который в нем содержится, а так и щупальца. Гиперосменок, да. То есть, ну как, помните,
[53:22.960 --> 53:28.200]  у нас был октаидр, который на самом деле никакой не октаидр. Ну, у него не восемь граней было в
[53:28.200 --> 53:35.320]  размерной стене, а два в степени Н. Также это не осменок, у которого восемь ног, а какой-то там канок.
[53:35.320 --> 53:44.960]  Ну, сейчас я напишу, я понимаю, что я совсем раскалтурился, сейчас я напишу аккуратно.
[53:44.960 --> 53:54.600]  Коноги, это всё понятно. Есть такое понятие унициклический граф,
[53:54.600 --> 54:04.840]  поборники чистоты русского языка, но время, по-моему, до сих пор использовали выражение
[54:04.840 --> 54:10.120]  одноцикловый граф. Ну, надо минимизировать количество басурманских, так сказать,
[54:10.120 --> 54:21.320]  корней в одном слове. Одноцикловый, унициклический, это значит одноцикловый. Вот, это связанный граф,
[54:21.320 --> 54:35.520]  ровно одним циклом. Ну, раз ровно одним, то, понятное дело, простым. Ну, я надеюсь, понятное дело, да, циклом.
[54:35.520 --> 54:46.120]  Если цикл только один, то он простой. Вот. Ну, по-другому, можно сказать, мы берём дерево к
[54:46.120 --> 54:53.200]  нему, просто добавляем ещё одно ребро. То есть, как вот, если формулировать аналогичную теорему,
[54:53.200 --> 55:04.000]  то равносильное утверждение, это связанный граф, у которого на N вершинах N ребер.
[55:04.000 --> 55:14.680]  Доказывается, естественно, точно так же можно расценивать таким же упражнением.
[55:14.680 --> 55:26.760]  Как же таких солнышек, пауков, как это посчитать? Это безумно интересный вопрос, конечно. Нет,
[55:26.760 --> 55:32.800]  решается довольно просто. У нас, конечно, хватит времени, чтобы это решить, но будет бяко. Сейчас
[55:32.800 --> 55:44.400]  вы увидите. Значит, если это солнышко осьминог, то он должен строиться от своего пуза. Цикл надо
[55:44.400 --> 55:52.400]  сначала выбрать, правильно? То есть, вот у нас есть N вершин. Длину цикла мы не знаем, но пусть это
[55:52.400 --> 56:02.240]  какое-то K. K – длина вот того единственного простого цикла, вокруг которого всё будет строиться.
[56:02.240 --> 56:13.720]  Сколькими способами, имея N вершин, можно зафиксировать цикл на K вершинах среди них?
[56:13.720 --> 56:20.920]  О, совершенно верно. Да, кстати, подождите, а K меняется в каких пределах? Мы же не знаем,
[56:20.920 --> 56:28.920]  чему равно K. Понятно, оно начинается от тройки. У нас обычный граф, обыкновенный граф, там нету циклов
[56:28.920 --> 56:33.840]  длины 2, потому что нет кратных ребер, и тем более нету циклов длины 1, потому что нету петель.
[56:33.840 --> 56:42.680]  Поэтому K начинается от тройки и заканчивается N. Если мы K зафиксировали, то C из N по K – это
[56:42.680 --> 56:49.080]  количество способов зафиксировать K вершин без учёта их порядка, но дальше надо зациклить их
[56:49.080 --> 56:59.200]  каким-то одним из возможных способов. K минус 1 факториал пополам, потому что можно переворачивать.
[56:59.200 --> 57:08.760]  Так, я вот здесь не гоню, понятно? Вот мы зафиксировали K чисел каким-то образом,
[57:08.760 --> 57:17.240]  например, вот такие K чисел. Есть K факториал всевозможных перестановок, но все сдвиги по циклу
[57:17.240 --> 57:22.920]  мы с вами проходили эти сдвиги по циклу, когда занимались циклическими последовательностями,
[57:22.920 --> 57:30.320]  помните? Это было просто давно, поэтому… Ой, K плюс 1, Господи, здесь 1, конечно. Вот здесь K, 1,
[57:30.320 --> 57:35.360]  а так далее, K минус 1. Мы вот все такие вещи писали. Я тогда всякие COCH писал,
[57:35.360 --> 57:45.680]  ещё чего-то, но вот я же химию люблю. Да, поэтому в K раз меньше, конечно, но ещё можно перевернуть,
[57:45.680 --> 57:53.480]  наоборот, написать K, K минус 1, и так далее, 1, и это тоже K раз переставить по циклу. Поэтому
[57:53.480 --> 58:02.720]  два K различных, 2 умножить на K различных, как называется, перестановок дают один и тот же цикл,
[58:02.720 --> 58:10.320]  поэтому здесь вот K минус 1 факториал пополам. А вот умножить надо на количество способов
[58:10.800 --> 58:19.600]  развесить древесные лапы на вершинах этого цикла. Ну, то есть, унициклический граф строится вот так,
[58:19.600 --> 58:26.560]  мы берём этот K-вершинный цикл и дальше навешиваем на него какие-то деревья,
[58:26.560 --> 58:31.880]  не обязательно бинарные, где-то дерево может вообще состоять только из зародыша, то есть,
[58:31.880 --> 58:37.520]  ничего вообще может не идти, может одно ребро идти, и так далее. Вот такая вот конструкция,
[58:37.520 --> 58:45.400]  это в общем случае унициклический граф, потому что я не очень разогнался. Нормально, да? Вот,
[58:45.400 --> 58:55.720]  поэтому здесь давайте я условно напишу F от NK пока что. Тумма пока тройки до M. Что такое F от NK?
[58:55.720 --> 59:02.560]  Ну, давайте я словами напишу здесь всё-таки. Это количество способов развесить вот по этому
[59:02.560 --> 59:20.920]  пузу ножки. Формально я бы сказал так. Я сразу вам поясню, что буква F происходит от слова forest,
[59:20.920 --> 59:28.760]  форест, английское слово forest, назначающее лес. Вот, помните, у нас было TN, но вы же понимаете,
[59:28.760 --> 59:38.040]  что T было потому, что 3 это дерево? Вот, а forest – это лес. Так вот, F от NK. А, лес – это просто,
[59:38.040 --> 59:44.320]  как называется, ациклический граф, то есть, у которого все компоненты деревья. Это официально
[59:44.320 --> 59:49.220]  его название. То есть, это смешно звучит, но это официально его название. Лесом называется,
[59:49.220 --> 59:55.280]  ну, просто ациклический граф, то есть, не обязательно связанный, но он состоит из отдельных деревьев.
[59:55.280 --> 01:00:13.040]  Вот, F от NK – это число лесов на N вершинах. Ну, вот же леса, набор этих ножек, которые мы
[01:00:13.040 --> 01:00:28.280]  привешиваем к брюху. Это лес. На N вершинах, у которого выделенный K вершин, ну, например,
[01:00:28.280 --> 01:00:40.120]  первые K по какой-то нумерации, неважно, выделенный K вершин, служат представителями
[01:00:40.120 --> 01:00:57.240]  отдельных деревьев. А, сейчас я еще добавлю, чтобы точно было правильно. Количество лесов
[01:00:57.240 --> 01:01:06.280]  на N вершинах с K деревьев. Вот так. Тогда будет совершенно понятно. Количество лесов на N
[01:01:06.280 --> 01:01:26.640]  вершинах с K деревьями, у которых выделенный K вершин служит представителями вот этих отдельных
[01:01:26.640 --> 01:01:42.840]  деревьев, в которых K штук. Но это вот ровно то, что нам нужно. Я утверждаю, что F от NK
[01:01:42.840 --> 01:02:12.120]  равняется K на N в степени N минус 1 минус K. Вот так. Вот так. Попробуйте это доказаться. Значит,
[01:02:12.120 --> 01:02:16.960]  это доказать сами – это обобщение кодирования прюфера. Это то же самое кодирование с некоторой
[01:02:16.960 --> 01:02:22.920]  дополнительной идеей. Я утверждаю, что частным случаем этой теории является формула Келли.
[01:02:22.920 --> 01:02:29.360]  Потому что если K равняется единице, то количество лесов с одним деревом – это просто количество
[01:02:29.360 --> 01:02:34.800]  деревьев. Понятно, что даже если мы выделим какую-то вершину, которая должна служить
[01:02:34.800 --> 01:02:39.440]  представителем этого дерева, но так все равно это одно дерево на всех вершинах, она будет
[01:02:39.440 --> 01:02:45.200]  служить представителем. То есть здесь вот это никак не ограничивает общность. F от N1 действительно
[01:02:45.200 --> 01:02:49.960]  совпадает с формулой Келли. Это действительно количество деревьев и получается N в степени N
[01:02:49.960 --> 01:02:55.480]  минус 2. Я утверждаю, что если вы поняли идею с кодированием прюфера, то некоторое усилие и вы
[01:02:55.480 --> 01:03:02.440]  докажете эту формулу тоже. Но у меня есть определенные опасения знаете какого характера,
[01:03:02.440 --> 01:03:08.960]  то семинаров, которые вам остались хватит для того, чтобы там это разобрать. Потому что я
[01:03:08.960 --> 01:03:15.520]  говорил с Дмитрием Геннадьевичем, но там люди еще не все дошли до триксум, а семинаров осталось 1-2.
[01:03:15.520 --> 01:03:21.040]  Поэтому триксумы все-таки менее понятны. Я предлагаю на семинарах с ними разобраться,
[01:03:21.040 --> 01:03:26.720]  а если это уж совсем не будет понятно, ну обсудим там на консультации. Это не сложно.
[01:03:26.720 --> 01:03:36.320]  Нет, ну на экзамене-то обсудим, конечно. Это я все-таки хочу, чтобы вы решили. Это правда не
[01:03:36.320 --> 01:03:40.880]  очень сложно. То есть я думаю, что вы справитесь, но если что-то мы расскажем. Мы с Дмитрием Геннадьевичем
[01:03:40.880 --> 01:03:48.560]  придем и расскажем. Вот такое вот обобщение формулы Келли. Возвращаемся к количеству
[01:03:48.560 --> 01:03:56.880]  унициклических графов. Давайте U N обозначим унициклические графы. У нас получается такая в
[01:03:56.880 --> 01:04:17.840]  итоге формула. Сумма по K от тройки до N. В степени N-1-K. Ну и вот это, как бы вам сказать,
[01:04:17.840 --> 01:04:23.040]  дорогие друзья, это затравка для того, чего мы будем немножко делать в рамках курса дискретного
[01:04:23.040 --> 01:04:28.480]  анализа. Я почему его называю еще дискретным анализом, а не дискретной математикой вообще?
[01:04:28.480 --> 01:04:34.360]  Потому что там довольно много аналитики действительно возникает. Но не такой аналитики,
[01:04:34.360 --> 01:04:40.280]  от которой я помню, и плевался немножко, что для любого Эпсула он существует N. Вот от этого я
[01:04:40.280 --> 01:04:45.080]  умираю. Мне это тяжело нормально прочитать. Надо долго готовиться, чтобы это от зубов отскакивало.
[01:04:45.080 --> 01:04:52.000]  Времени не хватает. Там идей будет очень много красивых в этом курсе. Но для того, чтобы сравнивать
[01:04:52.000 --> 01:04:57.360]  реализации этих идей, надо будет читать асимптотики тех или иных выражений. То есть анализ будет
[01:04:57.360 --> 01:05:02.200]  состоять в том, что мы будем какие-то ряды Тейлора что-то раскладывать, где-то как-то аккуратно
[01:05:02.200 --> 01:05:09.400]  что-то оценивать. Вот здесь вот конкретно вы видите пример ситуации, когда действительно
[01:05:09.400 --> 01:05:14.920]  очень неудовлетворительная формула получилась. С одной стороны, ну да, ее посчитать, конечно,
[01:05:14.920 --> 01:05:21.000]  можно. А с другой стороны, если вы хотите что-нибудь в дальнейшем, где-нибудь ее использовать именно в
[01:05:21.000 --> 01:05:26.040]  каком-то доказательстве, ну вот скажите мне, пожалуйста, у вас есть какая-нибудь интуиция того,
[01:05:26.040 --> 01:05:36.440]  как растет эта функция с ростом N? Быстро. Не, ну понятно, слушайте, понятно совершенно, что U с индексом N
[01:05:36.440 --> 01:05:44.720]  больше чем N в степени N-2. Ну конечно, потому что каждый унициклический граф получается из дерева.
[01:05:44.720 --> 01:05:55.160]  Не, ну конечно, вряд ли. Вряд ли он прям сильно быстрее, чем N в степени N-2. Понятно,
[01:05:55.160 --> 01:06:00.480]  что нет, ну слушайте, ну есть дурацкий ответ. У U с индексом N, конечно, меньше чем N в степени N-1.
[01:06:00.480 --> 01:06:10.980]  Слушайте, ну это же очевидно. А, нет, не очевидно. N в степени N виноват. Я обчитался. Не, ну имеется в
[01:06:10.980 --> 01:06:16.380]  виду, что из N вершин дерева вы можете выбрать две, которые дополнительно соединить ребром. Поэтому,
[01:06:16.380 --> 01:06:24.500]  конечно, U с индексом N меньше чем C из N-2 на N в степени N-2, а это меньше чем N в степени N. То есть,
[01:06:24.500 --> 01:06:29.900]  это никакая не функция кермана, конечно, ни в коем случае. Это явно что-то, лежащее между N в
[01:06:29.900 --> 01:06:36.500]  степени N-2 и N в степени N. Теперь глядим сюда, и становится грустно, потому что отсюда сходу
[01:06:36.500 --> 01:06:43.420]  углядеть ни вот этого, ни вот этого, по-моему, невозможно. Ну хрень какая-то, ничего не понятно.
[01:06:43.420 --> 01:06:53.140]  Не, но, друзья, вы понимаете, да, что из общих соображений ясно, что есть какие-то вот такие
[01:06:53.140 --> 01:06:58.540]  границы, но они асимптотики-то не дают. На самом деле, если повозиться вот отсюда, можно вытащить
[01:06:58.540 --> 01:07:03.860]  асимптотику, но я бы, наверное, хотел это сделать в курсе дискретного анализа. Мы просто вспомним,
[01:07:03.860 --> 01:07:09.420]  что такую штуку читали, и я прям начну с того, что вычислю ее асимптотику. Но единственное,
[01:07:09.420 --> 01:07:25.100]  что я вам сейчас заранее скажу, какая она, чтобы вы порадовались заранее. Не совсем. Ну не совсем,
[01:07:25.100 --> 01:07:38.300]  да. Так, сейчас. Сейчас я вам скажу. Это будет следствие, но мы сейчас в рамках вот этого курса
[01:07:38.300 --> 01:07:45.460]  не будем учиться анализом больше, поэтому я просто напишу. Вас должно проканать, это будет
[01:07:45.460 --> 01:07:52.940]  предвкушение будущего катарсиса. Для тех, кто, да, придет на следующий семестр, но придет,
[01:07:52.940 --> 01:08:08.020]  придет, все придут, все там будем. Так, вот это вот мне очень нравится местно. Три вторых прибавляется,
[01:08:08.020 --> 01:08:12.700]  не единичка прибавляется, а три вторых к минус двойке. Получается n в степени n минус одна вторая,
[01:08:12.700 --> 01:08:18.660]  но асимптотика все понимают, да, то есть мы отношение вот этого вот этого докажем,
[01:08:18.660 --> 01:08:24.860]  что стремится к единице. Неразность, конечно, к нулю, отношение к единице, там, остаток член
[01:08:24.860 --> 01:08:31.620]  тоже большой, но все-таки не n в степени n минус два, а какой-нибудь там n в степени n минус один,
[01:08:31.620 --> 01:08:45.180]  например. Но вот это вот красиво. Ну, больше я в этом месте доказывать, наверное, ничего не буду. Я
[01:08:45.180 --> 01:08:52.500]  только скажу, что люди занимались этой наукой долго и упорно. Унициклические графы вот с точностью
[01:08:52.500 --> 01:09:04.020]  такой асимптотики посчитали только, ну так, где-то в первой половине двадцатого века. Ну а дальше это
[01:09:04.020 --> 01:09:09.980]  обобщается, конечно. Что-то я не сообразил шпаргалку свою любимую взять, но не судьба,
[01:09:09.980 --> 01:09:16.220]  значит, не порадую вашей шпаргалкой. Но это просто так, чтобы радовать. Все, что я дальше помню,
[01:09:16.220 --> 01:09:24.260]  это следующее. Ну, во-первых, общее определение. Значит, мы берем вот такую величину, понимаемую,
[01:09:24.260 --> 01:09:30.660]  как количество связанных графов. Это важно на самом деле. Мы когда будем в следующем году изучать
[01:09:30.660 --> 01:09:38.060]  случайные графы, мы увидим, что это все очень важным образом работает. Значит, это количество связанных
[01:09:38.060 --> 01:09:59.140]  графов на n вершинах с n плюс k ребрами. Ну, то есть tn это c от n, n минус 1 и tn в степени n
[01:09:59.140 --> 01:10:09.420]  минус 2, n это c от n, n точная формула перед 2, минус следствие тоже, я еще раз перепишу, корень из
[01:10:09.420 --> 01:10:19.660]  p на 8, n в степени n минус 1. Вторая есть общая форма, достаточно общая формула с асимптотикой,
[01:10:19.660 --> 01:10:25.220]  ну а асимптотическая формула, которую доказали более-менее к девяностому году двадцатого века.
[01:10:25.420 --> 01:10:31.580]  То есть это огромный путь прошли люди, математики, которые разбирались, как вот вся эта связанная
[01:10:31.580 --> 01:10:37.700]  история устроена, история со связанными графами. Я не помню ее совершенно, потому что она ужасная,
[01:10:37.700 --> 01:10:45.820]  но грубо говоря, во-первых, друзья, вы поймите, что вот это k, это же не константа, вообще говоря,
[01:10:45.820 --> 01:10:54.140]  на n вершинах может быть вплоть до c из n подвы ребер. А c из n подвы, это ведь n умножить на n минус
[01:10:54.140 --> 01:11:02.460]  1 пополам. Понимаете, да? То есть вот это k, оно само может быть по порядку, гораздо больше,
[01:11:02.460 --> 01:11:07.020]  чем то, к чему оно прибавляется. Потому что вот здесь вот может быть вплоть до n умножить на n
[01:11:07.020 --> 01:11:12.340]  минус 1 пополам. В этом основная проблема. То есть k может быть функцией от n, которая довольно
[01:11:12.340 --> 01:11:17.940]  быстро растет. Но покуда k это константа или медленно растущая функция, я сейчас без шпаргалки
[01:11:17.940 --> 01:11:22.900]  не помню, насколько медленно она должна расти, ну что-то там меньше, чем n в степени 2 третьих или
[01:11:22.900 --> 01:11:28.900]  одна треть, я не помню. Это ведет себя асимпатически, как некоторая константа,
[01:11:28.900 --> 01:11:34.820]  зависящая от k, ну пусть k это константа, пусть это вот те случаи, которые мы рассматривали,
[01:11:34.820 --> 01:11:42.460]  как некоторая константа, зависящая от k, умножить на n в степени n, минус что-нибудь вот такое. Вот
[01:11:42.460 --> 01:11:56.580]  сейчас проверим. Если k равняется минус единице, значит минус 3, минус 2 не попал, да? Сейчас. Но мне
[01:11:56.580 --> 01:12:02.260]  надо попасть в n минус 2. Каждый раз 3 вторых прибавляется. Вот видите, вот здесь прибавилось 3
[01:12:02.260 --> 01:12:06.700]  вторых. И дальше будет снова прибавляться 3 вторых. Ну давайте просто формулу угадаем.
[01:12:06.700 --> 01:12:23.860]  Вот здесь плюс, а да, плюс, конечно, да, правильно, а здесь k минус 1, да? Давайте еще раз, значит,
[01:12:23.860 --> 01:12:29.980]  если k равно минус единице, это будет минус 3, минус 1, это минус 4, да, минус 2. Ну и дальше должно
[01:12:29.980 --> 01:12:36.580]  совпадать, конечно, если k равняется нулю, то мы получаем как раз минус 1 вторая, да, все угадали.
[01:12:36.580 --> 01:12:42.980]  Угадали. Но единственное, что я еще помню, это, да, гамма от k выписывается абсолютно явным
[01:12:42.980 --> 01:12:48.940]  образом. Через гамма функции всякие, которые там хитро еще друг на друга умножаются, в общем,
[01:12:48.940 --> 01:12:53.260]  это полный ад. Никогда я, естественно, никого не заставлял это учить, мне просто нравилось,
[01:12:53.260 --> 01:12:59.820]  ну чтобы у людей глаза на лоб полезли, но сам не помню, что ж я буду других учить заставлять.
[01:12:59.820 --> 01:13:09.580]  Вот, я еще помню вот это, c от n, n плюс 1, это не равно, это симпатически равно 5 двадцать четвертых
[01:13:09.580 --> 01:13:18.580]  n в степени n плюс 1. То есть зависимость вот этого гамма от k, она там офигенная. Видите, тут коэффициент
[01:13:18.580 --> 01:13:27.300]  единица, тут корень из P на 8, а тут 5 двадцать четвертых. Это IQ не поддается никакому. Ну,
[01:13:27.300 --> 01:13:31.860]  невозможно угадать зависимость, даже если много их таких написать, там офигенная зависимость.
[01:13:31.860 --> 01:13:38.100]  Ну, неважно. Вот такая вот интересная история, которой мы еще вернемся в следующем году,
[01:13:38.100 --> 01:13:43.740]  когда я образцово показательно за счет всех вот этих аналитических идей докажу вот такую асимптотику.
[01:13:43.740 --> 01:13:50.860]  Ее я докажу. В этом году можете не запоминать, можете запоминать, как вам нравится. Главное,
[01:13:50.860 --> 01:13:56.620]  чтобы вы понимали, что это важно. Вот, слушайте, наверное, я на этом тогда завершу, у меня три
[01:13:56.620 --> 01:14:00.820]  минуты всего осталось или четыре. Вряд ли я чего успею рассказать. В следующий раз, наверное,
[01:14:00.820 --> 01:14:08.700]  обходами займемся. Ну, там Эллеровость, Гамильтоновость и так далее. Ладно, все тогда.
