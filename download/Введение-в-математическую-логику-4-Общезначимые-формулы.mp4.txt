[00:00.000 --> 00:11.760]  Я определил уже формально формулы логики первого порядка. Ввел понятие предиката
[00:11.760 --> 00:16.240]  выразимого в модели. И дальше мы будем изучать выразимость предикатов формулами
[00:16.240 --> 00:23.280]  первого порядка. Но прежде чем это делать, полезно рассмотреть другой класс формул,
[00:23.280 --> 00:26.760]  так называемые общезначимые формулы.
[00:26.760 --> 00:53.440]  Сейчас я напишу.
[00:56.760 --> 01:21.120]  Общезначимые формулы такие формулы, которые всегда истины. Какую бы вы модель не взяли,
[01:21.120 --> 01:29.960]  в фигнатуре которой есть соответствующие символы, и какую бы оценку переменных вы не задали,
[01:29.960 --> 01:38.560]  формула будет истиной. Что это такое? Это как раз и есть формальное отражение в нашем формализме
[01:38.560 --> 01:45.000]  закона в логике. Вот утверждение истины не потому, что там что-то содержательное выполняется,
[01:45.000 --> 01:50.600]  а просто потому, что оно так устроено. Поэтому, конечно, для логики этот класс формул
[01:50.600 --> 01:57.040]  представляет большой интерес. Технически полезно такое еще замечание сделать,
[01:57.040 --> 02:02.280]  и часто определяют немножко иначе общезначимые формулы. Вот если у нас есть формула с параметрами,
[02:02.280 --> 02:14.000]  то по ней можно построить то, что называется замыкание. Это формула, которая получается
[02:14.000 --> 02:23.720]  навешиванием кванторов всеобщности по всем параметрам. То есть есть какая-то формула,
[02:23.720 --> 02:27.680]  в ней есть переменные со свободными вхождениями параметра, и если мы навесим на все такие
[02:27.680 --> 02:33.760]  переменные кванторы всеобщности, получится замкнутая формула, в которой уже нет параметров. И как мы
[02:33.760 --> 02:40.320]  знаем, замкнутая формула в каждой модели или истинно или ложно. И поэтому часто говорят так,
[02:40.320 --> 02:45.080]  что общезначимые формулы такие формулы, замыкание которых истинно в любой модели.
[02:45.080 --> 02:51.800]  Все разница в том, что во втором определении мы сразу делаем вначале синтаксическую замену
[02:51.800 --> 02:55.920]  формулы на замыкание, и дальше уже говорим только о модели без оценки переменных.
[02:55.920 --> 03:11.280]  Ну, еще важное понятие с этим связанное – равносильные формулы. Формулы равносильные.
[03:11.280 --> 03:21.080]  Это в сущности означает, что формула, которая получается из них применением
[03:21.080 --> 03:28.840]  связки эквивалентности, общезначима. Что это означает содержательно? Ну, смотрите,
[03:28.840 --> 03:37.160]  раз общезначима, значит, истинно всегда. И формулы равносильные, если они… Эта связка истинна,
[03:37.160 --> 03:42.720]  когда обе части равны. Формулы равносильные, если они принимают одинаковые логические
[03:42.720 --> 03:48.360]  значения в любой модели на любой оценке перемен. Понятно, что это тоже важная вещь,
[03:48.360 --> 03:55.960]  какие равносильные замены. Это так вот опыт работы с алгеброй подсказывает, что это удобная вещь,
[03:55.960 --> 04:01.920]  и хорошо бы понимать, какие формулы равносильные. И общезначимость каких-то формул – это тоже
[04:01.920 --> 04:09.320]  частный случай общего понятия, общезначимая формула. И, конечно, это важно с точки зрения
[04:09.720 --> 04:16.600]  каких-то логических рассуждений. Ну, давайте начнем с каких-нибудь примеров. Вот я сейчас напишу
[04:16.600 --> 04:27.560]  примеры, которые вам должны быть, скорее всего, на содержательном уровне знакомы.
[04:27.560 --> 04:42.600]  Значит, вот есть две пары общезначимых формул. Формула отрицания формулы для
[04:42.600 --> 04:50.320]  любого XA равносильна. В формуле существует X такое, что не A. Почему равносильно? Это легко
[04:50.320 --> 04:56.320]  понять просто из определения… из правил оценки формул. Потому что здесь, смотрите,
[04:56.380 --> 05:04.280]  когда вот такая формула ложна… Ну, когда отрицание ложное – значит, сама формула истинная.
[05:04.280 --> 05:11.760]  Значит, при любом X истина-, формула A. Ну а когда такая формула тогда ложна? Когда нет такого
[05:11.760 --> 05:18.800]  X, что отрицание А истинное. Ну, это тоже самое. Если нет такого X, что отрицание А истинное,
[05:18.800 --> 05:28.160]  значит а истина для любого x. Ну и в эту сторону аналогично. Тавтология, о которых мы говорили,
[05:28.160 --> 05:36.840]  это другой пример общезначимых формул. Допустим, возьмем какую-нибудь булливую формулу,
[05:36.840 --> 05:47.000]  тавтологию от n переменных. Тогда формула, в которую я вместо этих переменных подставлю любые
[05:47.000 --> 06:06.200]  формулы, любые формы. Она тоже общезначима. И это тоже очень легко понять. Ну действительно,
[06:06.200 --> 06:13.280]  значит наша формула получается устроена так. Вот в начале дерево вот этой булливой формулы с
[06:13.280 --> 06:18.600]  какими-то булливыми связками, а потом, начиная с какого-то места, идут уже формулы логики первого
[06:18.600 --> 06:23.280]  порядка. Там могут быть и булливые связки, и кванторы, они же там могут быть и функциональные
[06:23.280 --> 06:28.640]  символы. Но когда мы будем оценивать, правила оценки устроены так, что мы оцениваем снизу вверх,
[06:28.640 --> 06:35.040]  от листьев к корню. Когда мы будем оценивать формулу, мы в начале оценим вот эти вот подформулы,
[06:35.040 --> 06:43.120]  они приобретут какие-то логические значения. Но формула фитоавтология, какие бы значения
[06:43.120 --> 06:48.440]  логические эти формулы не приобрели, все равно оценка будет истинной. Поэтому частный случай
[06:48.440 --> 06:56.560]  закона в логике это вот автология. Ну а в общем случае, логика может что-то говорить о формуле
[06:56.560 --> 07:06.840]  с переменным. Вот пример. Не единственный, мы сейчас это увидим. И вот хорошо бы с этим разобраться.
[07:06.840 --> 07:12.160]  Значит сегодня мы сосредоточимся на том, чтобы будем понимать, какие формулы общезначимы,
[07:12.160 --> 07:20.200]  какие равносильны. Равносильность, конечно, я сразу скажу, это две импликации. То есть если
[07:20.200 --> 07:26.480]  А равносильно B, это значит, что из А следует B, из B следует А. Ну и давайте разбираться. Значит
[07:26.480 --> 07:34.520]  с автологиями мы разобрались, но есть переменные. Как, что можно равносильного делать с переменными?
[07:34.520 --> 07:42.360]  Ну мы привыкли, что в математических рассуждениях выбор переменной скорее диктуется чувством
[07:42.360 --> 07:48.920]  вкуса, какой-то эстетикой, уместностью, какая разница, какую мы переменную используем. Тем не менее,
[07:48.920 --> 07:56.160]  у нас сейчас уже зафиксированы определения. Поэтому в этих определениях замена свободных
[07:56.160 --> 08:02.280]  переменных почти никогда не дает равносильную формулу. Вот я приведу очень простой пример.
[08:02.280 --> 08:12.600]  Вообще самая простая формула. Унарный предикатный символ А и символ переменной. Так вот, если я возьму
[08:12.600 --> 08:17.880]  и подставлю переменную X и переменную Y, выглядит все очень похоже, какая разница, казалось бы. Но
[08:17.880 --> 08:23.440]  тем не менее, вот такая формула, давайте я даже аккуратнее напишу, не общезначена.
[08:23.440 --> 08:33.600]  Что для этого нужно сделать, чтобы доказать, что она не общезначена? Нужно предъявить какую-то
[08:33.600 --> 08:40.800]  модель и оценку переменных в этой модели, когда эта формула ложна. Это легко сделать. Вот смотрите,
[08:40.800 --> 08:53.960]  модель это множество из нуля и единицы. Предикат А, давайте сейчас от X, можно задать тогда таблицы
[08:53.960 --> 09:07.560]  значений. Ну и давайте как-нибудь, не важно даже как, лишь бы не тождественно. Пусть будет константом.
[09:07.560 --> 09:13.120]  У нас вот здесь написаны логические значения. Вот эта путаница, которая возникает из-за того,
[09:13.120 --> 09:18.160]  что все привыкли обозначать логические значения нулем и единицей. А модели тоже удобно строить,
[09:18.160 --> 09:24.320]  используя два элемента, все, нужно писать их 0 и 1. Возникает коллизия. Нужно понимать, где 0
[09:24.320 --> 09:30.640]  логическое значение, а где 0 просто какой-то элемент, число или вообще условный символ. Я
[09:30.640 --> 09:37.000]  постараюсь на это обращать внимание, но вы следите за этим. Я утверждаю, что вот такая формула в этой
[09:37.000 --> 09:45.080]  модели не всегда истинна. Ну и действительно, давайте возьмем ее оценку при значениях переменных
[09:45.080 --> 09:53.480]  X равно 0 и Y равно единиц. Когда правая часть единиц, как мы видим, а левая часть 0, значит
[09:53.480 --> 10:00.280]  эквивалентность ложна. Таким образом, менять имена свободных переменных мы не можем. Наш
[10:00.280 --> 10:05.280]  формализм, он прибивает имена свободных переменных. То есть, когда мы написали формулу, мы определили
[10:05.280 --> 10:11.080]  какой-то предикат, но на самом деле мы заодно и зафиксировали, как мы называем параметры этого
[10:11.080 --> 10:17.720]  предиката. Ну такая особенность формализма, от нее достаточно трудно избавиться и непонятно зачем. Это
[10:17.720 --> 10:30.640]  имеет и свои достоинства такое. Хорошо, но это свободные переменные. С ними вроде бы вообще все
[10:30.640 --> 10:37.800]  понятно, но как? Ну действительно, это разные вещи, к чему мы их должны отождествлять. А связанные
[10:37.800 --> 10:43.440]  переменные? Давайте вспомним, как мы оцениваем переменную с квантором. Допустим, у нас есть
[10:43.440 --> 10:49.800]  квантор по перемену Xn. Мы в формулу подставляем все возможные значения Xn, и правило оценки
[10:49.800 --> 10:56.280]  формулы, оно такое, от конкретного значения Xn не зависит. Если все Xn дают истину, то истинна,
[10:56.280 --> 11:06.040]  если хотя бы одно дает ложь, то ложь. Поэтому, казалось бы, от имени переменной под квантором,
[11:06.040 --> 11:11.400]  связанной такой переменной, не должно ничего зависеть. Это общее правило в математике,
[11:11.400 --> 11:15.480]  допустим, когда у нас есть индекс суммирования или переменная интегрирования. Ну какая разница,
[11:15.480 --> 11:19.640]  как вы назовете переменную интегрирование? Интеграл от этого не изменится. Тем не менее,
[11:19.640 --> 11:29.520]  определенную бдительность проявлять нужно. Давайте посмотрим, например, чуть более сложная формула.
[11:29.520 --> 11:37.080]  Бинарный предикатный символ, две переменные X и Y, и на одну я навесил квантор. Переменная Y
[11:37.080 --> 11:44.040]  ходит свободно, переменная X связана. Про Y мы уже разобрались, но давайте попробуем сделать замену.
[11:44.040 --> 11:57.120]  Вместо X подставим Y. Какая формула получится? Для любого Y, А, Y, Y. И беда, эти формулы тоже
[11:57.120 --> 12:12.040]  неравносильны. Ну как в этом убедиться, очень легко. Я даже ничего писать не буду. Представьте,
[12:12.040 --> 12:19.080]  что бинарный предикат равен множеству, в котором больше одного элемента. Тогда что написано внизу?
[12:19.080 --> 12:28.840]  Для любого Y, Y равен Y. Ну да, равен. А тут что написано? Для любого X, X равен Y. Это,
[12:28.840 --> 12:32.800]  во-первых, получается у нас унарный предикат, но он тождественно ложный. Для любого Y,
[12:32.800 --> 12:38.440]  если там хотя бы два элемента, он будет ложным. Конечно, неверно, что для любого X, X равен Y.
[12:38.440 --> 12:46.280]  Поэтому с заменами связанных переменных нужно проявлять тоже определенную бдительность. Я,
[12:46.280 --> 12:51.600]  наверное, сейчас вот это вот сотру, тут я занял много места под определение, но они постоянно
[12:51.600 --> 12:57.480]  воспроизводятся, поэтому я не думаю, что будет большая путаница. Тем не менее, наша интуиция
[12:57.480 --> 13:06.880]  подсказывает, что что-то должно получаться и действительно получается. Ну есть более общие,
[13:06.880 --> 13:13.240]  на самом деле, результаты, когда подстановка связанных переменных безопасна, я сформулирую их
[13:13.240 --> 13:18.960]  в простейшем случае, которого нам будет достаточно. Идея, на самом деле, такая, что вот эта проблема,
[13:18.960 --> 13:27.640]  которая здесь возникла, она единственная возможная. В чем проблема? Я подставил вместо X,
[13:27.640 --> 13:33.640]  вот на X навешен квантор, и я подставил вместо X переменную, у которой есть свободное вхождение
[13:33.640 --> 13:38.280]  в области действия этого квантора. После этого они перестали быть свободными. Вот смотрите,
[13:38.280 --> 13:46.120]  вот здесь вхождение свободное, а здесь уже связанное. То есть возникает такой конфликт связанности. Мы
[13:46.120 --> 13:53.480]  сделали формальную замену и получили формулу, в которой другие соотношения между свободными
[13:53.480 --> 13:57.760]  и связанными вхождениями переменных. Вот это вот препятствие, оно, по сути дела, единственное. Но
[13:57.760 --> 14:09.240]  чтобы упростить немножко, я сформулирую. Давайте я чуть позже сформулирую, я забежал вперед. Тут,
[14:09.240 --> 14:15.520]  на самом деле, еще должен был быть третий пример, и без него, пожалуй, уже даже сейчас я не обойдусь.
[14:15.520 --> 14:20.640]  Это очень простая вещь, это тоже называется лемма, но она очень простая. Лемма замене.
[14:20.640 --> 14:30.000]  Нам понадобится буквально через пять минут, может быть, не в доказательстве этой леммы,
[14:30.000 --> 14:41.760]  а сразу за ней. Что это означает? Пусть у нас есть равносильные формулы. И формула phi,
[14:41.760 --> 14:56.880]  точнее формула phi-штрих, получается из формулы phi заменой под формулы A, вместо под формулы A,
[14:56.880 --> 15:04.880]  я вставляю под формулу B. Вот у нас есть phi, вот тут какая-то подформула. Ну да, под формула A.
[15:04.880 --> 15:13.360]  И я получаю из этого под формулу phi-штрих, вставив просто на то же самое место, вот под формулой
[15:13.360 --> 15:21.200]  есть корень, и вот я вместо этого корня подставил прям формулу B. Я утверждаю, что эти формулы после
[15:21.200 --> 15:28.040]  такой подстановки тоже равносильны. То есть это очень естественная вещь, но лучше ее проверить.
[15:28.040 --> 15:33.200]  Я о ней даже забыл сказать, настолько она естественная, но тем не менее. Давайте поймем,
[15:33.200 --> 15:39.200]  почему это так. Ну просто из определения. Что значит, что формулы равносильны? Они должны
[15:39.200 --> 15:49.160]  принимать одинаковые значения в любой модели, на любой оценке переменных. Ну давайте возьмем
[15:49.160 --> 15:54.720]  какую-нибудь модель, какую-нибудь оценку переменных и начнем оценивать формулы phi и phi-штрих. При
[15:54.720 --> 16:04.640]  оценке phi мы в какой-то момент должны вычислять значение формулы A. Ну хорошо, а формуле phi-штрих
[16:04.640 --> 16:10.440]  мы в этот момент должны вычислять значение формулы B. Но эти значения совпадают в любой модели,
[16:10.440 --> 16:14.480]  на любой оценке переменных. Поэтому совершенно не важно, какую формулу вы оцениваете, у них
[16:14.480 --> 16:20.160]  результаты всегда одинаковые по условию. Поэтому и в формулах phi и phi-штрих результаты будут
[16:20.160 --> 16:24.480]  получаться одинаковыми, потому что вот это место, где мы сделали замену, оно никак не
[16:24.480 --> 16:35.800]  различает. Формулы ни в какой модели. Это важный момент, которым я забыл сказать. Мы его постоянно
[16:35.800 --> 16:41.480]  используем и он кажется очевидным, но лучше проговаривать, потому что вот пример с этой
[16:41.480 --> 16:46.080]  заменой показывает, что когда у нас формализм уже зафиксирован, могут возникать неожиданные
[16:46.080 --> 17:05.000]  проблемы. Теперь, значит, лемма о свежей переменной. Вот пусть у нас есть формула вида для
[17:05.000 --> 17:10.760]  любого х, я все время пишу для любого. Для кванторов существования верно то же самое,
[17:10.760 --> 17:16.040]  просто я для экономии времени не повторяю те же самые утверждения про кванторы существования,
[17:16.040 --> 17:22.360]  но видя вот эти вот формулы ясно, что квантор существования я могу просто заменить на
[17:22.360 --> 17:30.200]  равносильное выражение с квантором всеобщенности. Поэтому мы ничего не теряем. Пусть у нас есть
[17:30.200 --> 17:51.120]  такая формула и у не имеет свободных вхождений вам. Ну, это на жаргоне означает, что переменная
[17:51.120 --> 17:58.760]  свежая. Вот у нас есть формула, у там не является параметром, но такая свежая переменная. Теперь
[17:58.800 --> 18:06.080]  давайте напишем формулу, я ее как-нибудь сразу обозначу а штрих. Это формула,
[18:06.080 --> 18:29.520]  которая получается заменой свободных вхождений х на у. Ну, вы видите, я постоянно использую такое
[18:29.520 --> 18:35.480]  обозначение, оно всегда будет у меня вот тут, только я палку не поставил. Это просто указание на то,
[18:35.480 --> 18:40.000]  что я вот это меняю вот на это. Здесь я целую под формулу меняю, а здесь только переменную. Это
[18:40.000 --> 18:48.720]  частный случай. И меняем мы только свободные вхождения, остальные мы не трогаем. Тогда утверждается,
[18:48.720 --> 18:59.000]  что формула для любого ха равносильна формуле для любого у штрих. То есть вот этой вот проблемы,
[18:59.000 --> 19:03.680]  которые я здесь обозначил, ее в этом случае нет. Сделали замену, сделали,
[19:03.680 --> 19:08.920]  получили равносильную формулу. Но это уже надо доказывать, поскольку был кон пример,
[19:08.920 --> 19:14.960]  ясно, что нельзя просто обойти вопрос о том, почему это верно. И тут, в общем-то,
[19:14.960 --> 19:21.920]  мы первый раз должны более внимательно порассуждать о правилах оценки формулы,
[19:21.920 --> 19:29.240]  чтобы доказать эту лему. Что именно нам нужно сделать? Вот смотрите,
[19:29.240 --> 19:47.200]  давайте пусть у нас есть какая-то оценка переменных кси, и как-нибудь переменная х пусть
[19:47.200 --> 19:57.040]  оценивается как а при этом. А как оценивается у, неважно, если мы будем оценивать эту формулу,
[19:57.040 --> 20:03.520]  там ничего не стоит. И давайте я введу еще одну оценку переменных кси штрих, где как а оценивается
[20:03.520 --> 20:13.560]  переменная у. То есть кси и х штрих остальные одинаково. То есть для остальных переменных у
[20:13.560 --> 20:21.560]  нас оценки одинаковые. Ну а для х и у тут не существенно как у оценивается, тут не существенно
[20:21.560 --> 20:31.320]  как х оценивается. Ну пусть тоже одинаково и неважно как. То есть мы переставили местами оценки
[20:31.320 --> 20:40.080]  х и у. Давайте посмотрим, что это означает. Когда я оцениваю формулу а, х там входит свободно,
[20:40.080 --> 20:50.640]  у вообще никак не входит. Поэтому оценка формулы а на кси. А во штрих наоборот, там уже нет свободного
[20:50.640 --> 20:57.200]  вхождения х, мы их все заменили на у. И когда мы делаем оценку, представьте, что в у я подставляю
[20:57.200 --> 21:01.520]  то же самое значение, что подставлялся в х, вместо свободного вхождения. Свободное вхождение,
[21:01.520 --> 21:06.320]  напоминаю, никаким квантором сверху не прикрыто. Поэтому все правила, которые мы будем применять к
[21:06.320 --> 21:13.640]  этой оценке, они не потребуют других значений этой переменной. Если у нас есть свободная переменная,
[21:13.640 --> 21:21.440]  какая-то переменная свободная. Вот тут кванторов нет, поэтому в каком бы я месте не оценивал,
[21:21.440 --> 21:29.280]  если я уже сказал, что х это а, то вот на любом этаже моей формулы, на любом уровне нужна будет
[21:29.280 --> 21:34.120]  только эта оценка ха, потому что это вхождение свободное. Если бы оно было связанным, там правило
[21:34.120 --> 21:45.680]  другое. Ну и поэтому получается так, что оценка а штрих на кси штрих точно такая же, как а на кси,
[21:45.680 --> 21:52.120]  потому что теперь у нас все остальные переменные принимают те же самые значения, а х и у мы
[21:52.120 --> 21:58.440]  поменяли местами. То есть значение то же самое, а подставлено в а штрих у вместо ха, поэтому по
[21:58.440 --> 22:07.200]  сути дела та же самая формула. Ну хорошо, значит получается, что вот у нас есть такие пары оценок,
[22:07.200 --> 22:14.120]  соответствующие друг другу. Давайте теперь оценивать формулы с навешенным квантором. Возможные
[22:14.120 --> 22:20.640]  значения х при оценке этой формулы в точности отвечают возможным значениям у при оценке этой
[22:20.640 --> 22:27.520]  формулы, и мы знаем вот по этому рассуждению, что они совпадают. Поэтому если есть какой-то х,
[22:27.520 --> 22:32.200]  при котором формула а ложна, будет ложна левая часть, тогда будет ложна и правая часть,
[22:32.200 --> 22:37.480]  потому что есть соответствующая оценка, где, например, у принимает это значение. А если такого нет,
[22:37.480 --> 22:44.440]  ну нет такого и с правой частью. Таким образом мы получаем доказательства этой леммы. Не очень
[22:44.440 --> 22:49.400]  сложная, как видите, но требует уже вот какого-то такого более детального рассмотрения именно правил
[22:49.400 --> 22:55.800]  оценки. Это нам будет нужно нечасто. Вот сегодня у нас еще что-то такое будет, а дальше в основном мы
[22:55.800 --> 23:03.280]  будем использовать те утверждения, которые сейчас появятся уже как блоки в наших рассуждениях.
[23:03.280 --> 23:09.720]  Иногда придется, конечно, опускаться до низкого уровня, потому что не все прям сегодня будет
[23:09.720 --> 23:22.400]  рассказано, не все подробности формализма. Хорошо, что это означает? Это означает, на самом деле, вот что.
[23:22.400 --> 23:30.920]  Что мы можем, используя лему о замене, мы можем проделать следующую процедуру. Вот если у нас
[23:30.920 --> 23:37.640]  есть в формуле, ну какая-то подформула, которая получается навешиванием квантора, мы можем взять
[23:37.640 --> 23:42.760]  какую-нибудь свежую переменную. Формула это слово, оно конечной длины, там каких-то переменных точно
[23:42.760 --> 23:48.400]  нет. Вот взять какую-то переменную, которой нет, и воспользовавшись вот этой леммой о свежей
[23:48.400 --> 23:58.600]  переменной сделать замену. И у нас тогда вот эта подформула конкретная, в ней уже квантор будет
[23:58.600 --> 24:04.680]  навешан по переменной, которая точно ни в какие другие места формулы не входит. Давайте я зафиксирую
[24:04.680 --> 24:30.680]  это важное понятие, формула с разделенными переменными. Это отвечает одному из правил хорошего
[24:30.680 --> 24:35.240]  математического стиля, которому трудно удовлетворять всегда, потому что алфавиты
[24:35.240 --> 24:41.560]  конечные, а доказательства длинные. Что когда мы рассуждаем, лучше бы в одном рассуждении не
[24:41.560 --> 24:46.600]  использовать одну и ту же букву дважды, даже если это не приводит к явному противоречию. Ну типа вы
[24:46.600 --> 24:52.680]  в одном месте х обозначили что-то одно, в другом что-то другое, х очень удобная буква, очень-очень
[24:52.680 --> 24:59.640]  трудно избежать его переиспользования. Тем не менее, математики стараются так не делать,
[24:59.640 --> 25:04.040]  что если началось доказательство, что-то я обозначил х, значит если мне нужно что-то еще,
[25:04.040 --> 25:09.480]  я обозначу у и так далее. Эта вот на самом деле, возможность этого принципиально гарантируется
[25:09.480 --> 25:14.000]  как раз существованием равносильной формулы с разделенными переменами. Так что это такое?
[25:14.000 --> 25:25.640]  Давайте я зафиксирую, что это такое. Во-первых, все переменные в кванторах различны.
[25:25.640 --> 25:47.560]  Во-вторых, каждая такая переменная
[25:55.640 --> 26:16.240]  входит только в область действия квантора. Этого квантора. Смотрите, тут я написал,
[26:16.240 --> 26:21.320]  такая это значит, что это переменная, которая входит в квантор. И вот входит она не просто так,
[26:21.320 --> 26:26.200]  а входит только в область действия этого квантора. Другими словами, все эти переменные
[26:26.200 --> 26:33.040]  отличаются от переменных, которые имеют свободное вхождение. Ну и не входят в области действия других
[26:33.040 --> 26:40.120]  кванторов тоже. Но это, впрочем, понятно, потому что обвхождение было свободным. Из этих двух
[26:40.120 --> 26:46.040]  условий сразу следует вот этот вот важный вид, что у нас каждая переменная в формуле, мы знаем,
[26:46.040 --> 26:50.760]  что либо это параметры, она тогда входит только свободно, то есть никаким квантором она не связана,
[26:50.760 --> 26:57.440]  либо она связана, и тогда мы знаем точно, что есть квантор, который ее накрывает,
[26:57.440 --> 27:04.560]  и переменная входит только в область действия этого квантора. Более того, значит, теорема
[27:04.560 --> 27:27.800]  состоит в том, что всякая формула эффективно равносильна. Ну, я напишу коротко. Формула с
[27:27.800 --> 27:39.400]  разделенными переменами. Что значит слово эффективно? Ну, смотрите, если у нас формула
[27:39.400 --> 27:45.160]  замкнутая, то в любой модели либо истина, либо ложна. Ну, правда, еще надо суметь подобрать. В общем,
[27:45.160 --> 27:50.320]  смысл такой, что может так случиться, что есть какая-то формула, которая равносильно нашей,
[27:50.320 --> 27:55.600]  но она по каким-то неведомым нам причинам существует. Вот здесь ситуация другая. Это
[27:55.600 --> 28:02.640]  абсолютно преобразование от формулы к равносильной формуле с разделенными переменами, оно может быть
[28:02.640 --> 28:06.760]  осуществлено алгоритмом. Эффективность у меня сюда будет пониматься именно так, что не просто
[28:06.760 --> 28:12.000]  существует объект, а его можно построить алгоритмом. То есть есть алгоритм, который берет формулу и
[28:12.000 --> 28:21.960]  строит формулу с разделенными переменами. Алгоритм уже в сущности понятен. Давайте вернемся к
[28:21.960 --> 28:27.000]  лему освежей переменной, он ее использует многократно. Смотрите, мы смотрим на формулу.
[28:27.000 --> 28:31.040]  Значит, прежде всего нам нужно применить алгоритм разбора формулы, потому что нам
[28:31.040 --> 28:35.520]  нужно дерево разбора. Ну, чтобы говорить о свободных, связанных, вхождениях, это по дереву
[28:35.520 --> 28:41.920]  разбора формулы очень легко определяется. И вот мы смотрим, есть ли переменная, у которой есть
[28:41.920 --> 28:48.760]  одновременно свободные и связанные вхождения. Если нашлась такая переменная, мы тогда применяем
[28:48.760 --> 28:53.640]  лему освежей переменной к ее связанному вхождению. Находим квантор, который ее связывает,
[28:53.640 --> 28:59.120]  и к соответствующей подформуле применяем вот эту лему. Заменяем на какую-то новую переменную,
[28:59.120 --> 29:15.320]  которой раньше не было. Что? Ну, мы берем тот квантор, который ее связывает. То есть у нас
[29:15.320 --> 29:25.440]  вот есть переменная. Может случиться так, может случиться так, что у нас на пути к корню в дереве
[29:25.440 --> 29:30.080]  разбора квантор по этой переменной встречается несколько раз. Мы доходим до первого снизу и
[29:30.080 --> 29:39.080]  заменяем вот в этой подформуле. То есть вот здесь вот уже это вхождение в этой подформуле,
[29:39.080 --> 29:45.840]  это вхождение X уже свободно, и мы применяем вот лему освежей переменной. Поэтому у нас тут
[29:45.840 --> 29:50.080]  появляется какая-то новая переменная, и этот квантор становится по новой переменной. А тот,
[29:50.080 --> 29:58.880]  что выше, пока остался. Что дальше происходит? Дальше мы смотрим еще, какие у нас еще могут быть
[29:58.880 --> 30:05.640]  конфликты. Но если я так буду делать, заметьте, что при этом количество кванторов в формуле не
[30:05.640 --> 30:10.720]  меняется. То есть если у меня был проблемный квантор, который навешан на переменную,
[30:10.720 --> 30:16.200]  имеющую свободное вхождение, то он после такой замены, конкретно это вхождение квантора,
[30:16.200 --> 30:20.560]  перестает быть проблемным. А общее количество кванторов не изменилось. Значит, рано или поздно
[30:20.560 --> 30:28.400]  мы придем к тому, что такого нет, что свободное вхождение переменных и связанные разделены. Но
[30:28.400 --> 30:39.520]  может случиться так, что переменная все-таки еще входит в область действия какого-то другого
[30:39.520 --> 30:49.720]  квантора. То есть на нее навешан квантор. Ну вот смотрите, вот такая картинка. Может
[30:49.720 --> 30:55.760]  случиться, что переменная X, конечно, связана, и вот она связана. Но на нее навешан квантор
[30:55.760 --> 31:04.240]  по какой-то еще переменной. Ну что тогда нужно сделать? Сейчас давайте поймем, можем ли мы этого
[31:04.240 --> 31:09.800]  избежать. А нет, это не противоречие. Нет, нет, подождите, это не противоречие. X входит в область
[31:09.800 --> 31:26.000]  действия квантора по X. Так что все мы уже сделали. Ну да, все мы сделали. Вот мы на самом деле
[31:26.000 --> 31:32.320]  выполнение второго условия добивались, но заодно решили проблему с первым условием. А нет, не все.
[31:32.320 --> 31:41.600]  У нас с самого начала могли быть кванторы по X, скажем. Нет, не все. Вот у нас может быть вот
[31:41.600 --> 31:46.560]  такая подформула и вот такая подформула в разных вообще частях. Вот эта процедура, которая сказала,
[31:46.560 --> 31:53.320]  ничего с таким не сделает, потому что оно было и было. Допустим, у X нет свободных вхождений. То есть
[31:53.320 --> 31:57.720]  нам нужно еще первое условие добиться. Но здесь понятно как, если у нас есть две такие подформулы,
[31:57.720 --> 32:03.720]  мы опять-таки берем свежую переменную, в одну из них заменяем. То есть опять-таки количество таких
[32:03.720 --> 32:11.360]  проблемных пар, пар подформул, которые по одной и той же переменной навешаны, оно уменьшается на
[32:11.360 --> 32:16.320]  единицу, количество пар конечно, поэтому рано или поздно мы остановимся. И остановимся мы на формуле
[32:16.320 --> 32:20.360]  с разделенными переменами, потому что первый шаг нам гарантирует выполнение того условия,
[32:20.360 --> 32:25.640]  второй шаг вот этого. Давайте, чтобы было понятнее, это важная вещь, поэтому давайте я пример прям
[32:25.640 --> 32:41.680]  разберу. Возьмем какую-нибудь форму. Ту, которую я писал, давайте к ней что-нибудь добавим.
[32:41.680 --> 32:54.280]  Пусть это будет посылка импликации, а здесь добавим, чтобы были все проблемы,
[32:54.320 --> 33:03.080]  о которых я говорил. Вот формула. Что будет делать алгоритм? Можно начинать с одного или с другого,
[33:03.080 --> 33:09.520]  давайте в том порядке, в котором я рассказал. Мы смотрим, есть ли у переменной со свободными
[33:09.520 --> 33:17.080]  вхождениями связанные вхождения. Свободное вхождение здесь одно, я думаю, все видят. Все остальные
[33:17.080 --> 33:22.600]  вхождения переменных связаны. Первое вхождение у, оно свободно. Мы смотрим, есть ли связанные
[33:22.600 --> 33:31.960]  вхождения. Есть. Значит, мы должны сделать замену, скажем, на переменную Т в этой формуле. Эта под
[33:31.960 --> 33:44.920]  формула не изменяется. Пока. Мы так по шагам действуем. Я не обсуждаю реальную эффективность
[33:44.920 --> 33:52.160]  алгоритма, что он работает быстро, но он более-менее эффективен, потому что дерево разбора построить
[33:52.160 --> 33:57.320]  легко, а те проверки, которые мы делаем, это тоже легко. Это мы проверяем, на каждом пути есть
[33:57.320 --> 34:03.720]  что-то или нет. Вот мы получили равносильную формулу. Теперь смотрим на нее. Теперь у нас уже
[34:03.720 --> 34:09.880]  переменная, имеющая свободные вхождения, связанных вхождений, не имеет. Она одна, но есть препятствие
[34:09.880 --> 34:16.040]  второго сорта. Смотрите, вот в этой подформуле, в этой подформуле использован X. В реальной жизни
[34:16.040 --> 34:21.360]  откуда получаются вот такие дубликаты? Представьте, что у вас есть формальная система, которая поддерживает
[34:21.360 --> 34:28.800]  знания по математике. У меня есть определение обратного элемента в группе, еще чего-то, и там, как
[34:28.800 --> 34:33.240]  всегда, пишется, что для любого X что-то выполняется. В одном определении для любого X, в другом
[34:33.240 --> 34:37.040]  определении для любого X. А потом вы делаете утверждение, которое комбинирует эти два
[34:37.040 --> 34:43.520]  определения. Формально вам нужно эти формулы подставить, и у вас получится в одной части формулы X
[34:43.520 --> 34:51.680]  и в другой части формулы X. Чтобы потом с такой формулой работать... В конце я докажу некоторую
[34:51.680 --> 34:56.000]  важную теорему, там это точно нужно, но очень часто бывает нужно разделять. Во всяком случае то,
[34:56.000 --> 35:02.600]  что мы можем разделить, это часто бывает существенно. Ну, что нужно сделать? Надо опять-таки выбрать
[35:02.600 --> 35:12.080]  какую-то подформулу. Давайте вот эту. А и В это вообще предикатные символы здесь. То есть это вот
[35:12.080 --> 35:17.040]  такой простой пример. Это не формулы, это предикатные символы. Потому что если бы там были какие-то
[35:17.040 --> 35:22.600]  кванторы, нам бы пришлось тогда анализировать. То есть вот это доказательство существенно использует
[35:22.600 --> 35:28.280]  структуру формулы, поэтому если есть подформула, в ней тоже нужно применять те же самые действия.
[35:28.280 --> 35:34.760]  А тут просто атомарные формулы, поэтому нет проблем. Ну, давайте там, не знаю, на Z заменим.
[35:34.760 --> 35:42.080]  Лемма о свежей переменной гарантирует, что эта замена корректна. И вот мы получили уже формулу
[35:42.080 --> 35:50.600]  с разделенными переменами. То есть видно, что это легко сделать, и руками это легко. Вообще делается
[35:50.600 --> 35:55.760]  главное проявлять внимательность. Ну и компьютерную программу, которую делать, написать очень легко.
[35:55.760 --> 36:03.760]  Это абсолютно не проблема. Значит, если нам зачем-то нужно, мы можем считать, что наша формула с
[36:03.760 --> 36:07.200]  разделенными переменами. Каждый раз, даже если нам нужно говорить о каких-то алгоритмах,
[36:07.200 --> 36:11.400]  мы можем предполагать, что у нас на вход подана формула, мы ее вначале разделим, переменные,
[36:11.400 --> 36:15.960]  получим равносильную формулу и будем работать с равносильной формулой. Что если вопросы,
[36:15.960 --> 36:21.520]  которые относятся к логике, не к структуре формулы, а к логике, ну тогда какая нам разница,
[36:21.520 --> 36:27.680]  какую мы формулу из пары равносильных используем. Они всегда оцениваются одинаково. Хорошо,
[36:27.680 --> 36:34.440]  значит, вот это первая важная вещь, которая мне понадобится. Я постараюсь, кстати, ну тут уже
[36:34.440 --> 36:44.000]  места мало, но пусть будет. Я постараюсь здесь дальше писать. Значит, опс, а что это звонок рано?
[36:44.000 --> 37:02.320]  Что? Не было звонка? А, значит, меня послышалось. Они плохо слышны, я прислушиваюсь, но начинаются
[37:02.320 --> 37:12.840]  слуховые галлюцинации. Значит, что теперь хочется обсудить? Формулы можно преобразовать,
[37:12.840 --> 37:18.240]  получать равносильные и важные типы преобразования – это перестановки кванторов и перестановки
[37:18.240 --> 37:22.520]  кванторов и связок. В сущности, в формулах больше особо ничего нет. Мы пока не обсуждаем,
[37:22.520 --> 37:27.840]  что делать с атомарными формулами. Ответ более-менее ничего нельзя делать. Что там написано, то и есть,
[37:27.840 --> 37:33.120]  потому что если вы иначе напишете, то можно проинтерпретировать по-разному. А вот кванторы
[37:33.120 --> 37:45.480]  можно переставлять. Давайте я буду продолжать. В частности, одноименные кванторы можно переставлять.
[37:45.480 --> 37:51.080]  Ну и то же самое с квантором существования. Я сейчас напишу, а потом, наверное, для скорости
[37:51.080 --> 38:01.440]  писать не буду, но доказывать уж точно буду только одну пару. И я не пишу, что это общезначимый. Вот
[38:01.440 --> 38:06.880]  смотрите, у меня тут список общезначимых формул. Я считаю, что слово «общезначимый» написано
[38:06.880 --> 38:12.280]  наверху списка. Ну почему так? Как это доказать? Более-менее ясно из правил оценки формулы,
[38:12.280 --> 38:19.640]  но тут очень удобно. Я сейчас это напишу и буду использовать сегодня постоянно. Удобно
[38:19.640 --> 38:26.760]  представлять себе модель в виде такой таблички. У нас тут А. Значит, ясно, что если там есть параметры,
[38:26.760 --> 38:30.800]  но они будут оцениваться одинаково, поэтому ни на что не влияет. Нас интересует оценка от
[38:30.800 --> 38:37.640]  переменных х и у. И тогда оценка формулы от переменных х и у при фиксированных остальных
[38:37.640 --> 38:44.440]  значениях, ее можно представить в виде такой таблицы. Вот значение х, значение у. И что тогда написано
[38:44.440 --> 38:52.280]  слева? Написано, что для любой строки и для любого столца стоит единица. Ну то есть формула истины,
[38:52.280 --> 38:57.760]  когда я обсуждаю, когда она истинна. Тогда и только тогда. Но что значит в любой строке и в любом столце
[38:57.920 --> 39:06.040]  стоит единица? Значит, что все позиции в таблице равны единице. Ну а что написано здесь? А здесь
[39:06.040 --> 39:12.000]  написано то же самое. Для любого столца и для любой строки стоит единица. Ну какая разница,
[39:12.000 --> 39:18.240]  в каком порядке мы перечисляем все элементы таблицы? Поэтому здесь достаточно очевидно.
[39:18.240 --> 39:40.200]  С разноименными кванторами ситуация более сложная. В одну сторону формула общезначимая.
[39:40.200 --> 39:49.840]  Из того, что существует х такой, что для любого у истина а, следует, что для любого у существует
[39:49.840 --> 39:56.320]  х такой, что выполнена а. Ну те, кто успевают слушать, уже, в общем-то, наверное, и услышали,
[39:56.320 --> 40:01.880]  почему это верно, потому что если так это проговорить про себя, то это ясно. Давайте сейчас
[40:01.880 --> 40:09.000]  прервемся, я буквально 30 секунд займу. Давайте на картинке посмотрим, что означает посылка. Она
[40:09.000 --> 40:17.240]  означает, что существует такая строка х, в которой стоят одни единицы. Для любого у единицы. А что
[40:17.240 --> 40:24.200]  означает правая часть? Для любого столца найдется строка, в которой стоит единица. Если есть строка
[40:24.200 --> 40:28.800]  из одних единиц, ясно, что она для любого столца будет давать нужное значение. Может быть,
[40:28.800 --> 40:33.640]  еще какие-то, но это точно будет. Вот поэтому эта формула общезначима. Хорошо, сейчас давайте
[40:33.640 --> 40:54.880]  прервемся и после перерыва продолжим. Смотрите, я перед перерывом очень быстро доказал,
[40:54.880 --> 41:03.480]  что самый высокий из карликов ниже самого низкого из великанов. На самом деле общезначимость этой
[41:03.480 --> 41:08.040]  формулы это частный случай некоторого более общего утверждения, что max-min не больше,
[41:08.040 --> 41:13.360]  чем min-max. Я не буду его доказывать, вы можете сами сформулировать и доказать. Это очень
[41:13.360 --> 41:21.040]  несложное утверждение, оно на самом деле встречается во многих местах. Но обратное неверно. И я вот
[41:21.040 --> 41:26.040]  в нашем примере сейчас объясню. Собственно мне эта картинка скорее нужна для обратного примера.
[41:26.040 --> 41:33.440]  Почему в обратную сторону неверно? Предположим, что истина, что для любого столца найдется
[41:33.560 --> 41:41.200]  строка, в которой стоит единица. Например, вот какая-нибудь простая модель опять-таки на двух
[41:41.200 --> 41:45.680]  элементах, к которым я даже не записываю значение. Вот в каждом столце есть строка,
[41:45.680 --> 41:53.280]  где стоит единица. А теперь посмотрите на то, что написано слева. Это ложно, потому что там утверждается,
[41:53.280 --> 41:57.400]  что найдется строка, где только единица стоит. Строк у нас всего две, сразу видно, что такой строки
[41:57.400 --> 42:03.720]  нет. Поэтому если нарисовать стрелку в обратную сторону, это будет неверно. И у нас этому там
[42:03.720 --> 42:08.440]  прям на первом курсе в анализе, я подозреваю, очень строго учили, что кванторы разноименные
[42:08.440 --> 42:13.360]  переставлять нельзя, будет ошибка. Но может быть даже при этом не говорили, что в одну сторону можно.
[42:13.360 --> 42:20.360]  А может и говорили, не знаю. Обычно просто стараются, чтобы люди запомнили, что нельзя,
[42:20.360 --> 42:26.640]  поэтому говорят, что нельзя, а что можно не говорят. И сейчас я хочу продолжить эту историю,
[42:26.640 --> 42:34.320]  что можно, а что нельзя. Тут полезно заметить, что квантор всеобщности напоминает конъюнкцию.
[42:34.320 --> 42:41.960]  Ну для всех x, это берем конъюнкцию по x, можно формально было бы вообще квантор всеобщности
[42:41.960 --> 42:49.520]  писать бы вот так для любого x, а. Но логики очень не любят обозначений, которые не являются словами,
[42:49.520 --> 42:55.240]  а тут вот математики используют подстрочное обозначение, поэтому логики такое не используют.
[42:55.240 --> 43:00.840]  Хотя почему бы нет. А квантор в существовании это понятное дело дизюнкция по x. То есть кванторы
[43:00.840 --> 43:05.240]  всеобщности и кванторы в существовании, они, понятно, один связан с конъюнкцией, другой с
[43:05.240 --> 43:19.240]  дизюнкцией. Поэтому в общем-то не удивительно, что вот есть такие равносильности. Ну и с квантором
[43:19.240 --> 43:22.800]  в существовании то же самое. Давайте я даже не буду переписать. Нет, с квантором в существовании
[43:22.800 --> 43:32.200]  тут надо переписать, потому что связка-то другая. Прошу прощения. Аналогично, но связка другая.
[43:32.200 --> 43:41.000]  То есть если у нас... А что это означает формуле? Вот смотрите, когда мы будем читать формулу,
[43:41.000 --> 43:49.360]  это означает, что у нас есть для любого x и под ним есть связка. А здесь наоборот, здесь связка,
[43:49.360 --> 43:57.520]  под которой мы поставили квантор. То есть фактически равносильность этих формул объясняет нам,
[43:57.520 --> 44:03.400]  что в дереве разбора вот можно такие преобразования делать. Менять местами конъюнцию квантор всеобщности,
[44:03.400 --> 44:11.880]  если они соседние. Ну почему это верно? В общем-то из правил оценки это сразу следует, потому что
[44:11.880 --> 44:18.880]  если верно истина левая часть, это значит, что при каждой оценке, при каждом значении x,
[44:18.880 --> 44:23.480]  a должно быть верно и b должно быть верно. Но если a верно, значит вот это верно, если b верно,
[44:23.480 --> 44:30.280]  то вот это верно. Ну и наоборот, если мы знаем, что a верно для любого x и b верно для любого x,
[44:30.280 --> 44:36.440]  то их конъюнция тоже для любого x истина. Тут никакой фантазии нет. И с квантором в
[44:36.440 --> 44:47.960]  сочетании тоже самое. А вот со связками, которые не соответствуют кванторам ситуация, конечно,
[44:47.960 --> 44:53.120]  хуже. Давайте сейчас убедимся, что там ничего такого нет. Это более-менее понятно, дизюнция
[44:53.120 --> 45:01.760]  конъюнции не равняется конъюнции дизюнции, но тем не менее. Давайте посмотрим. Возьмем формулу
[45:01.760 --> 45:18.000]  для любого x, a или b. И формулу для любого x, a или для любого x, b. Я утверждаю, что они
[45:18.000 --> 45:24.880]  неравносильны. Действительно, смотрите, чтобы вот эта формула была истинна, при каждом x нам
[45:24.880 --> 45:31.320]  достаточно, чтобы была истинна какая-то одна из формул, а или b. А чтобы эта формула была истинна,
[45:31.320 --> 45:36.080]  нам нужно больше. Нам нужно, чтобы какая-то формула была одновременно истинна для всех x.
[45:36.080 --> 45:50.640]  Ну давайте я сейчас напишу модель какую-нибудь несложную. Вот скажем вот так. Смотрите,
[45:50.680 --> 45:57.880]  для любого x дизюнция истина, потому что при каждом значении x у нас есть хотя бы одна единичка. Но
[45:57.880 --> 46:05.600]  для любого x, a ложна, потому что вот при этом x, a ложна, а при этом x, b ложна. Значит тут оба
[46:05.600 --> 46:18.080]  члена дизюнции ложны. Ну и если я возьму квантор существования и наоборот конъюнцию, прямо та же
[46:18.080 --> 46:34.960]  модель пройдет. Думаю да. Смотрите, в той же самой модели вот эта вот истина, правая формула,
[46:34.960 --> 46:41.120]  потому что конечно для a существует x, где она истина. И для b существует такой x. Но такого x,
[46:41.200 --> 46:47.360]  чтобы одновременно были истины и a и b не существует. Поэтому вот это вот ложно
[46:47.360 --> 46:55.760]  в этой модели, а это истина. Все, достаточно. Одного к вам примера достаточно, что будут ждать,
[46:55.760 --> 47:02.800]  что у нас нет истинности. Ну и если мы возьмем импликацию тоже, любимая логиками связка,
[47:02.800 --> 47:07.400]  там будет то же самое. Просто так переставлять нельзя. Ну в общем, по-моему на этой же модели
[47:07.400 --> 47:13.240]  можно увидеть. Давайте сейчас я чуть-чуть отстаю от графика. Давайте это я пропущу проверку. Но она
[47:13.240 --> 47:22.520]  точно такая же. Но так же как вот в этом случае, это не вся правда. Значит правда, что просто так
[47:22.520 --> 47:29.040]  безнаказанно переставлять местами дизюнцию и квантор всеобщенности, а также конъюнцию и
[47:29.040 --> 47:36.520]  квантор сочетания нельзя. Но есть очень важное исключение. Я его сейчас изложу.
[47:36.520 --> 47:47.560]  Исключение касается вот чего. Когда в одной из формул в связке нет свободных вхождений x.
[47:47.560 --> 48:00.760]  Вот пусть b не содержит свободных вхождений x.
[48:00.760 --> 48:27.920]  Та-дам. Ну а сейчас напишу разные эквивалентности. Для любого x,
[48:27.920 --> 48:36.640]  тогда общезначимы. Заметьте, что вот это условие не содержит свободных вхождений,
[48:36.640 --> 48:40.160]  оно синтоксическое. По формуле очень легко проверить, содержит оно свободных вхождений
[48:40.160 --> 48:45.200]  или нет. Поэтому эти эквивалентности, которые я пишу, их можно эффективно проверить.
[48:45.200 --> 49:01.640]  Значит, а и b, тогда равносильно для любого x, а и b, существование x. Не знаю, в каком порядке
[49:01.640 --> 49:09.480]  лучше писать, как получается. Ой, только нет, с конъюнцией-то у нас все хорошо и так. Я уже
[49:09.480 --> 49:25.040]  записал. Нет, с тезюнцией. А тут как раз конъюнция. Заметьте, что я здесь не пишу квантора всеобщности.
[49:25.040 --> 49:29.400]  В моем предыдущем примере надо было бы написать квантор всеобщности, но это некоторое общее
[49:29.400 --> 49:35.480]  наблюдение. Представьте, что у вас переменная не является, ну вот как здесь написано, не содержит
[49:35.480 --> 49:45.920]  свободных вхождений x. Я утверждаю, что тогда формула для любого x, b, равносильно b. Такое отступление в сторону
[49:45.920 --> 49:51.600]  достаточно очевидное, но поскольку тут много всяких правил возникает, полезно его обсудить. Почему так?
[49:51.600 --> 49:57.200]  Ну давайте вспомним, как мы оцениваем эту формулу. Нужно придавать x-ам все возможные значения и
[49:57.200 --> 50:03.320]  смотреть, что получается. Но раз x не имеет свободных вхождений, мы в прошлый раз доказали, что значение
[50:03.320 --> 50:09.560]  формулы b не зависит от значения x. Какое бы вы x не подставили, b будет принимать одно и то же значение.
[50:09.560 --> 50:18.200]  Если это истинно, то формула истинна, если ложна, то ложна, но это и есть значение формулы b. Поэтому я
[50:18.200 --> 50:28.920]  так сокращаю и не пишу лишнего. Так, значит это у нас конъюнция и дизюнция. Теперь с импликацией.
[50:28.920 --> 50:30.480]  Ну давайте с импликацией.
[50:58.920 --> 51:22.480]  Не знаю, кто увидел заминку, которая у меня случилась. Мы ее сейчас обсудим, это очень важная заминка.
[51:28.920 --> 51:38.240]  Теперь я возвращаюсь к той формуле, с которой начал. Я просто не с нее хотел начать. Вот смотрите,
[51:38.240 --> 51:47.720]  когда мы выносим квантор из заключения, ну вот вынесли и вынесли. А когда выносим из посылки,
[51:47.720 --> 51:54.840]  есть коварная особенность, которая на самом деле порождает реальные логические ошибки в рассуждениях.
[51:54.840 --> 52:02.160]  Не всегда, но порождает. То есть я сталкивался с такими и с личными ошибками, и с тем, у других людей.
[52:02.160 --> 52:13.640]  Оказывается, нужно квантор поменять в посылке. В заключение не нужно, а в посылке нужно.
[52:24.840 --> 52:39.080]  Вот такая удивительная вещь, что, казалось бы, B не содержит свободных хождения X, но тем не менее,
[52:39.080 --> 52:47.000]  когда мы выносим через B, как-то выносим из формулы, переставляем импликацию и квантор,
[52:47.000 --> 52:57.360]  это может привести квантор сохраниться, но уже может другой квантор случиться. Как это доказать?
[52:57.360 --> 53:12.440]  Ну это лемма. В принципе, все очень просто. То есть нужно помнить, что если у нас один из членов
[53:12.440 --> 53:18.440]  конъюнкса или дизюнкса не содержит свободных хождений X, то тогда квантор по дизюнксу или конъюнксу
[53:18.440 --> 53:23.960]  перестановочен. Неважно, какой квантор. Часть кванторов всегда перестановочена,
[53:23.960 --> 53:30.680]  которые одноименные со связкой, а часть именно когда B не содержит связок X. С импликацией
[53:30.680 --> 53:41.760]  чуть сложнее, но это мы сейчас увидим, почему так получается. Давайте докажем. Мне все равно здесь
[53:41.760 --> 53:47.920]  придется стереть. Давайте я вот перепишу. Мне нужен результат будет потом. Я его наверху оставлю.
[53:47.920 --> 54:06.600]  А вот этот сотру, чтобы можно было здесь писать доказательства. Идея очень простая. Смотрите,
[54:06.600 --> 54:17.640]  давайте зафиксируем значение всех переменных кроме X. Тогда что можно утверждать про формулу B?
[54:17.640 --> 54:21.720]  Она приобретет какое-то конкретное логическое значение, потому что от X там нет свободных
[54:21.720 --> 54:28.160]  хождений, значит от значения X ничего не зависит. И нам нужно рассмотреть реально два случая. Когда
[54:28.160 --> 54:35.320]  формула B ложна, ну и соответственно когда она истина. Давайте смотреть. Тут большая часть случаев,
[54:35.320 --> 54:42.200]  прям ничего не надо писать. Если B ложна на какой-то оценке, смотрите, тогда A или B это A.
[54:42.200 --> 54:51.120]  Дезюмпс с ложью это высказывание. А здесь B ложна, поэтому вот эта формула это для любого
[54:51.120 --> 54:58.520]  XA. Тут мы получаем для любого XA и там получаем для любого XA. Это равносильная форма. Здесь то же
[54:58.520 --> 55:05.200]  самое. Если B ложна, здесь ложь. И это всегда ложь. Если здесь B ложна, то неважно, как оценивается
[55:05.200 --> 55:11.320]  второй член конъюнции, это ложь. А с импликацией. Давайте посмотрим с импликацией. Если B ложь,
[55:11.320 --> 55:21.360]  то вот эта вот импликация истина. И эта импликация истина. Теперь здесь. Если B ложь,
[55:21.360 --> 55:30.440]  это истина и это истина. Очень хорошо. Ну и наконец здесь, допустим, B ложь. Это самый
[55:30.440 --> 55:35.680]  интересный случай, я его сейчас напишу. У нас тогда получается, что наша формула оценивается так
[55:35.680 --> 55:43.920]  же, как... Давайте я вместо нуля буду писать вот такой символ, который тоже обозначает ложь.
[55:43.920 --> 55:53.480]  Такой перпендикуляр. Ну какая-то тождественная ложная формула. Что это означает? Из A следует
[55:53.480 --> 56:05.520]  ложь, это отрицание A. А теперь вспоминаем, что у нас есть вот такая эквивалентность. То есть это
[56:05.520 --> 56:19.640]  то же самое, что отрицание квантора существования по A. Ну и что мы делаем дальше? Дальше смотрим,
[56:19.640 --> 56:29.480]  что у нас здесь, а здесь у нас то же самое. Потому что... Я открою вам секрет,
[56:29.480 --> 56:37.840]  после которого вы перестанете удивляться этой замене. Вы, наверное, знаете, что импликацию можно
[56:37.840 --> 56:44.080]  выразить через отрицание и дизьюнцию. И тогда понятно, что происходит. Вот пока мы работаем с
[56:44.080 --> 56:49.640]  заключением, там стоит B, поэтому у нас работают эти правила буквально, нам ничего не надо менять.
[56:49.640 --> 56:55.600]  А когда мы работаем с посылкой, это-то правило с дизьюнцией сработает, но у нас стоит отрицание,
[56:55.600 --> 57:03.120]  и нам нужно поменять квантор, чтобы перейти к отрицанию уже формулы с квантором. Ну вот здесь
[57:03.120 --> 57:11.160]  вот именно это и происходит. Значит, мы получили здесь отрицание XA, это я сейчас оцениваю левую
[57:11.160 --> 57:17.920]  часть. Ну а как оценивается правая часть? Тут ложь, то есть тут стоит просто сразу отрицание
[57:17.920 --> 57:25.960]  существования XA. Ну и здесь аналогично, значит, если B ложь, это отрицание A, то есть это отрицание
[57:25.960 --> 57:34.360]  того, что для любого XA, и здесь написано то же самое. Ну а если B истинно, это я разобрал в случае,
[57:34.360 --> 57:40.280]  когда B ложно. Теперь давайте рассмотрим в случае, когда B истинно. Тут все очень похоже. Это истинно,
[57:40.280 --> 57:48.080]  и это истинно, это A, и это A. Одна и та же формула, поэтому они равносильны. Здесь, если это истинно,
[57:48.080 --> 57:54.240]  это A, и это для любого XA, то есть вот тут мы подставляем истину, мы получаем под квантором A,
[57:54.240 --> 58:00.240]  а здесь у нас в посылке истинно, значит, у нас остается заключение, которое есть для любого XA.
[58:00.240 --> 58:11.680]  Здесь то же самое, а здесь, конечно, по-другому. Если B истинно, это истинно, и это истинно. Ну и
[58:11.680 --> 58:20.440]  аналогично здесь. Если B истинно, это истинно, и это истинно. Вот разбор на этом закончен. То есть мы
[58:20.440 --> 58:31.520]  перебрали разные варианты возможных значений B, их всего два, и оказалось, что формулы получаются
[58:31.520 --> 58:37.200]  равносильны в обоих случаях. Ну, значит, они равносильны всегда. То есть у нас выполняются вот такие
[58:37.200 --> 58:38.200]  равносильности.
[58:38.200 --> 59:08.080]  Давайте я вот здесь, в качестве последнего
[59:08.080 --> 59:13.760]  примера, который я сегодня общезначимых формул буду рассматривать, напишу загадочное сочетание PNF,
[59:13.760 --> 59:26.480]  сейчас его объясню. Что такое PNF? Это особый вид формул. Ну, я, наверное, прям вот здесь вот напишу.
[59:26.480 --> 59:33.640]  Тут лучше написать вот так, потому что не все PNF, конечно, общезначимые, но вот всегда есть вот такие
[59:33.640 --> 59:55.120]  общезначимости. Значит, что такое PNF? Это формула вида. Значит, смотрите, какого вида. В начале идут
[59:55.120 --> 01:00:01.040]  кванторы, а потом уже бескванторная формула. То есть на дереве разбора я вот здесь все-таки тоже
[01:00:01.040 --> 01:00:11.160]  использую. У меня получается так, что вот есть какие-то кванторы, а потом уже вот тут кванторов нет.
[01:00:11.160 --> 01:00:24.640]  Все кванторы вверху формула. И теорема. Вот это собственно теорема. Давайте я ее тут так и напишу,
[01:00:24.640 --> 01:00:26.000]  чтобы место сэкономить.
[01:00:26.000 --> 01:00:52.640]  Для любой формулы,
[01:00:52.640 --> 01:01:18.800]  существует опять-таки эффективно-равносильная. Мне удобно объединять утверждения о существовании
[01:01:18.800 --> 01:01:24.560]  равносильной формулы и существовании алгоритма, который находит эту формулу. Потому что реально нам
[01:01:24.560 --> 01:01:30.560]  важно то, что такой алгоритм есть. Чтобы не дублировать два результата, я буду говорить
[01:01:30.560 --> 01:01:37.400]  эффективно-равносильная. То есть берем какую угодно формулу, по ней можно построить равносильную
[01:01:37.400 --> 01:01:43.000]  формулу, предваренной нормальной формы. И это математики часто любят, особенно близкие к
[01:01:43.000 --> 01:01:48.160]  логике, к теории множеств. Они предпочитают любые утверждения делать именно в таком виде. В начале
[01:01:48.160 --> 01:01:56.360]  сказать все кванторы, какие есть, а потом уже условия. Могу сказать, по опыту реальных научных
[01:01:56.360 --> 01:02:00.800]  семинаров это полезно, когда очень сложные утверждения, где кванторов много, они как-то
[01:02:00.800 --> 01:02:05.680]  неочевидным образом чередуются. Если человек пытается сказать как-то более понятно по его
[01:02:05.680 --> 01:02:10.960]  мнению, то половина аудитории не понимает. Он говорит другим способом, тогда перестает понимать
[01:02:10.960 --> 01:02:17.360]  другая половина. И вот чтобы удовлетворить всех, он все равно вынужден написать ПНФ. Тогда все
[01:02:17.360 --> 01:02:25.960]  смотрят и находят в этой ПНФ то, что им близко и, так сказать, понятно. Так что это вещь полезная и
[01:02:25.960 --> 01:02:31.200]  так в математической практике. Ну и для нас она будет очень важна. Это будет некоторый базовый
[01:02:31.200 --> 01:02:38.720]  элемент, правда очень не сразу, но она нам понадобится. Почему эта теорема верна? Ну тут
[01:02:38.720 --> 01:02:46.720]  можно сообразить, вот эта вот написана лемма, можно сообразить, что происходит. ПНФ это формула,
[01:02:46.720 --> 01:02:54.360]  которая имеет вид, вот как вот здесь нарисовано. Вначале идут кванторы, а потом бескванторная формула.
[01:02:54.360 --> 01:03:04.240]  А как абриатура? А, как абриатура? Придворенная нормальная форма, прошу прощения. Значит,
[01:03:04.240 --> 01:03:10.640]  НФ, вот у вас была ДНФ, это логики очень любили одно время говорить о нормальных формах. Ну не
[01:03:10.640 --> 01:03:16.560]  только логики, тогда вообще в математике была популярно и модно строить нормальные формы для
[01:03:16.560 --> 01:03:21.520]  разных объектов, в том числе и для формул, их тоже строили. И это предваренная нормальная форма,
[01:03:21.520 --> 01:03:26.240]  предваренная в понятном смысле, что вот мы кванторы, кванторы предваряют, собственно, какие-то логические
[01:03:26.240 --> 01:03:35.080]  условия. Значит, как это доказать? Вот у нас пусть есть какая-то формула. Мы будем вот эту лему просто
[01:03:35.080 --> 01:03:41.680]  применять много раз. Значит, применение этой леммы, разумеется, конструктивно, потому что что происходит
[01:03:41.680 --> 01:03:48.400]  с деревом разбора, когда мы делаем такую замену. Ну вот я на этом, скажем, примере покажу для любого
[01:03:48.400 --> 01:03:57.720]  х, а дальше дизъюнкция чего-то там, а теперь мы пишем дизъюнкция чего-то там, и в каждом из случая
[01:03:57.720 --> 01:04:05.280]  мы пишем для любого х, но тут вот можно не писать уже для любого х. Тут вот А, а тут просто B. Это из
[01:04:05.280 --> 01:04:12.480]  того, что я объяснял, что если нет свободных хождений, то навешанный квантор можно по переменной,
[01:04:12.480 --> 01:04:16.160]  которая не является параметром, можно смело опускать, это тоже общезначимое преобразование.
[01:04:16.160 --> 01:04:25.760]  Может быть, его надо было в список нести, хорошо это я подумаю. Что думать надо внести? Ну, конечно,
[01:04:25.760 --> 01:04:28.480]  не под тем номером получается, номера условные.
[01:04:46.160 --> 01:05:00.000]  Это почти очевидно, но лучше чтобы списочек у нас был вот так вот написан и хорошо. Ну давайте
[01:05:00.000 --> 01:05:09.760]  смотреть, у нас есть какая-то формула, а есть дерево разбора. И вот предположим, что у нас эта
[01:05:09.760 --> 01:05:16.480]  формула не PNF. Вот сейчас самое, пожалуй, существенное, что нужно понять в доказательстве,
[01:05:16.480 --> 01:05:30.480]  что если формула не PNF, у нас обязательно будет пара, соседняя связка и квантор. Такая или такая.
[01:05:30.480 --> 01:05:38.000]  В общем, квантор какой угодно, связка тоже какая угодно. Ну и если отрицание, ну тогда такое тоже
[01:05:38.000 --> 01:05:46.640]  возможно. Какой-то квантор, неважно какой. Вот если формула не PNF, то вот такое есть. Почему?
[01:05:46.640 --> 01:05:54.800]  Потому что давайте смотреть контрапозицию. Если вот такого нет, мне нужно доказать, что это формула
[01:05:54.800 --> 01:06:02.120]  PNF. Это же я взял контрапозицию этого утверждения, поэтому равносильно. Ну хорошо, вот предположим,
[01:06:02.120 --> 01:06:15.840]  что мы нашли... Ну даже нет, я сейчас слишком сложен с этой контрапозиции. Предположим,
[01:06:15.840 --> 01:06:21.920]  что у нас формула начинается со связки. Это можно и к платформулам применять. Не с квантора,
[01:06:21.920 --> 01:06:31.760]  а со связки. Спускаемся. В какой-то момент, допустим, у нас на какой-то ветве есть квантор. Ну а тогда,
[01:06:31.760 --> 01:06:36.440]  что предыдущие? Я беру просто на этой ветве самое высокое вхождение квантора. Тогда вот здесь
[01:06:36.440 --> 01:06:45.520]  вот написана какая-то связка. Ну вот представьте, что вершины дерева, там они вообще-то помечены
[01:06:45.520 --> 01:06:53.240]  кванторами и связками, а я заменил связки, скажем, на красный цвет, а кванторы на черный. И вот я
[01:06:53.240 --> 01:06:58.720]  говорю, если корень покрашен красный цвет, и вообще есть хотя бы одна черная вершина, то тогда
[01:06:58.720 --> 01:07:04.440]  найдется пара соседняя в дереве черная и красная. В таком виде, наверное, утверждение очевидно. Мы
[01:07:04.440 --> 01:07:09.200]  начали с красной вершины, спускаемся в сторону черной. Мы знаем, что по дереву есть единственный
[01:07:09.200 --> 01:07:17.840]  путь. Ну и цвет должен поменяться в какой-то момент. То есть в этот момент будет соседняя пара. Вот
[01:07:17.840 --> 01:07:26.400]  одна из вот таких. Хорошо, значит, вверху уже обязательно должен быть квантор. Должен быть
[01:07:26.400 --> 01:07:32.360]  черный цвет. Ну теперь применим тоже рассуждение к подформуле. Вот у нас вверху квантор, применяем
[01:07:32.360 --> 01:07:41.640]  к подформуле. Либо, если там есть, если это связка, то значит и есть еще кванторы, то есть соседняя
[01:07:41.640 --> 01:07:48.320]  пара опять-таки где-то. Либо, если это не так, у нас в самом верху сидит квантор. И продолжаем так
[01:07:48.320 --> 01:07:53.880]  со всеми переменными, пока не видим, что вот у нас в какой-то момент окажется так, что формула
[01:07:53.880 --> 01:07:58.720]  начинается с кванторов, а ниже идут только связки. Никаких кванторов нет. Это и есть pnf,
[01:07:58.720 --> 01:08:06.920]  предваренно нормальная форма. То есть вверху дерева кванторы, а внизу связки. То есть сущности,
[01:08:06.920 --> 01:08:13.520]  вот это и есть основной момент доказательства. Мы убедились, что один из вот этих случаев,
[01:08:13.520 --> 01:08:21.240]  если формула не pnf, обязательно выполняется. Ну а дальше рассуждение такое. Мы будем, если мы
[01:08:21.240 --> 01:08:25.320]  нашли в дереве такое вхождение. Это, конечно, делается алгоритмически, потому что, понятно,
[01:08:25.320 --> 01:08:31.600]  есть дерево размеченное. Вам нужно найти, ну там, вспомним про эти цвета, нужно найти пару соседних
[01:08:31.600 --> 01:08:39.960]  красных и черных цветов. Ну нашли. Теперь смотрим. Это на самом деле вот формула, как в правой части,
[01:08:39.960 --> 01:08:46.760]  вот здесь. Вот здесь. Значит, мы можем сделать такую замену. То есть вот эту формулу мы можем
[01:08:46.760 --> 01:08:56.280]  заменить на существует x, а под ней уже импликация того же самого, что было. То есть после такой
[01:08:56.280 --> 01:09:05.200]  замены квантор всплыл, он стал выше, чем вот эта вот связка. То есть вот этот квантор, ну он еще
[01:09:05.200 --> 01:09:11.560]  и поменял имя, но это дело такое. Но существенно, что он всплыл, что он с этой связкой уже никак не
[01:09:11.560 --> 01:09:17.640]  может быть соседей. При этом, при такой замене, остальные вот такие пары соседей новых не
[01:09:17.640 --> 01:09:28.840]  появилось. Ой, извините, может, могло появиться. Тут тоже могла быть связка. Сейчас я скажу аккуратнее.
[01:09:28.840 --> 01:09:43.600]  Ну давайте считать. Мне сейчас нужно вот, я описал некоторый шаг процедуры. Она продолжается,
[01:09:43.600 --> 01:09:51.840]  пока возможно. Значит, мы уже доказали, что если она останавливается, то мы получили PNF. Ну разбором
[01:09:51.840 --> 01:09:57.480]  случаев. Теперь нужно доказать еще один факт, что если, что она всегда останавливается, что невозможно,
[01:09:57.480 --> 01:10:02.000]  чтобы она работала бесконечно. Для этого, как часто бывает в алгоритмах, мне нужен какой-то
[01:10:02.000 --> 01:10:07.600]  полуинвариант, какое-то число, которое не увеличивается, обязательно хотя бы уменьшается.
[01:10:07.600 --> 01:10:21.840]  И здесь полуинвариантом нужно не соседей считать. Вот при работе нам нужны соседи, и соседи есть
[01:10:22.800 --> 01:10:29.440]  есть. Вот смотрите, теперь какой полуинвариант я хочу считать. Я теперь хочу считать пары квантор-связка,
[01:10:29.440 --> 01:10:36.680]  но не обязательно соседние. Вот такая пара, она тоже годится. Только наоборот, связка квантор.
[01:10:36.680 --> 01:10:48.240]  Я хочу считать пары, вершина дерева разбора формулы, которая помечена связкой, и вершина ниже ее,
[01:10:48.240 --> 01:10:56.740]  которая помечена квантором. Вот такие пары хочу считать. Что существенно? Существенно то, что
[01:10:56.740 --> 01:11:02.140]  поскольку мы убедились, что если не pnf есть вот такая соседняя пара, тогда значит вот этот
[01:11:02.140 --> 01:11:09.780]  наш полуинвариант он положительный, есть хотя бы одна пара. Но при такой замене, которую я сейчас
[01:11:09.780 --> 01:11:15.360]  описал, у нас этот полуинвариант обязательно строго уменьшается. Потому что смотрите, что в
[01:11:15.360 --> 01:11:20.640]  сущности изменилось, если смотреть на все возможные пары квантора и связка. Все связки,
[01:11:20.640 --> 01:11:29.080]  которые выше, они по-прежнему выше этого квантора. Как были, так и остались. Никакая связка не
[01:11:29.080 --> 01:11:34.240]  оказывается выше, вот при таком преобразовании, никакая связка не оказывается выше этого квантора.
[01:11:34.240 --> 01:11:39.640]  Она либо должна быть на этом пути, и она была и раньше выше, либо она вне этого пути, тогда она
[01:11:39.640 --> 01:11:46.340]  и после преобразования останется не выше. Значит, у нас вот этот полуинвариант, он обязательно
[01:11:46.340 --> 01:11:53.720]  строго уменьшается. Когда мы сделали замену, вот эта пара исчезла, а новых пар не добавилось.
[01:11:53.720 --> 01:11:59.280]  Поэтому полуинвариант уменьшается, принимает положительные значения, он в какой-то момент
[01:11:59.280 --> 01:12:03.720]  должен стать равным нулю. А когда он станет равным нулю, это и есть pnf. Это значит, что у нас нет таких
[01:12:03.720 --> 01:12:09.200]  пар, и как мы убедились, значит нет и соседних, в частности, пар. А мы убедились, что если нет
[01:12:09.200 --> 01:12:17.200]  соседних пар, то это pnf. Вот такое доказательство, то есть многократное применение, многократное
[01:12:17.200 --> 01:12:23.400]  применение вот этой вот леммы. Ну и давайте, поскольку оно такое не сложное, но, может быть,
[01:12:23.400 --> 01:12:28.880]  можно запутаться, давайте посмотрим на то, как это применяется к какой-то конкретной формуле.
[01:12:28.880 --> 01:12:34.520]  Я специально эту формулу оставил, чтобы показать вот соответствующие замены.
[01:12:34.520 --> 01:12:46.040]  Ну, смотрите, это точно не pnf. Видно, да? Последняя связка, вообще импликация, вот она,
[01:12:46.040 --> 01:12:52.440]  этой формуле. И ниже есть квантор. Давайте выносить. Вот начнем, скажем, вот с того квантора
[01:12:52.680 --> 01:13:00.480]  существовали. Мы знаем, что если мы выносим квантор из, заметьте, что это формула с разделенными
[01:13:00.480 --> 01:13:05.740]  переменами. Я не сказал, по моему, в доказательстве, что мы применяем тот алгоритм, о котором я говорил,
[01:13:05.740 --> 01:13:09.460]  к формуле с разделенными переменными, с тем, чтобы на каждом шаге мы могли применить лемму.
[01:13:09.460 --> 01:13:15.260]  Но у нас уже была теорема, что любая форма эффективна, равносильна к формуле с раздел mm
[01:13:15.260 --> 01:13:19.540]  переменными. Поэтому для общей формулы мы должны вначале привести к формуле с разделенными
[01:13:19.540 --> 01:13:23.540]  переменами, но этот шаг уже сейчас сделан, эта формула с разделенными переменами, потому что
[01:13:23.540 --> 01:13:31.140]  это результат работы предыдущего алгоритма. А теперь нам нужно уже PNF. Значит, когда мы выносим
[01:13:31.140 --> 01:14:00.860]  квантор из заключения, он не меняется. Ну, теперь уже из заключения вынесли,
[01:14:00.860 --> 01:14:06.620]  а из посылки, заметьте, пока вынести невозможно. В посылке самой внешней импликации квантора нет,
[01:14:06.620 --> 01:14:14.740]  а есть еще одна импликация. Но вот из нее вынести можно. Мы применяем лему, а заменена равносильность.
[01:14:14.740 --> 01:14:36.300]  Выносим, ну давайте опять-таки Z вынесем. Вы смотрите внимательно, я могу сейчас запутаться,
[01:14:36.300 --> 01:14:42.180]  потому что запутаться очень легко в этих преобразованиях. Когда вы их выполняете,
[01:14:42.180 --> 01:14:48.860]  нужно очень внимательно следить и лучше не выполнять их. То есть при известном навыке можно
[01:14:48.860 --> 01:14:55.380]  конечно сразу написать PNF, глядя на эту формулу, но и ошибиться можно даже при навыке. Я постоянно
[01:14:55.380 --> 01:14:59.820]  на это забиваюсь. Хорошо, здесь мы выносили из заключения, поэтому квантор не поменялся. А что
[01:14:59.820 --> 01:15:06.300]  здесь случится? А здесь мы конечно можем вот этот квантор вынести, но давайте вынесем вначале вот
[01:15:06.300 --> 01:15:33.740]  этот. Он стоит в посылке и он поэтому должен поменяться. Так, ну еще не закончилась работа,
[01:15:34.100 --> 01:15:42.020]  вот эти кванторы живут под вот этой связкой. Нужно их вынести. Ну выносим, но теперь мы выносим из
[01:15:42.020 --> 01:15:48.220]  посылки импликации, значит кванторы должны поменяться. Получится, существует T для любого
[01:15:48.220 --> 01:16:12.500]  Z, для любого X. И вот наконец бескванторная формула получается. Вот это равносильная формула и вот это
[01:16:12.500 --> 01:16:19.860]  уже PNF, как вы видите. У нас идут кванторы, а потом формула, в которой кванторов нет. Бескванторная
[01:16:19.860 --> 01:16:27.380]  формула. Все преобразования равносильные и все они ссылаются на лему, ну и лему о замене под
[01:16:27.380 --> 01:16:33.460]  формулы на равносильную. То есть мы тут оба используем. И для краткости, повторяю еще раз, я начал
[01:16:33.460 --> 01:16:38.300]  уже с формулы с разделенными переменными. В общем случае, когда у вас какая-то формула, первым шагом
[01:16:38.300 --> 01:16:43.140]  нужно разделить переменные. Потому что если вы попытаетесь применить эту лему к формуле не
[01:16:43.140 --> 01:16:51.540]  с разделенными переменными, может случиться ошибка, мы видели примеры. Значит, что еще стоит сказать? Эта
[01:16:51.540 --> 01:17:00.140]  теорема дает массу странных равносильностей. Ведь смотрите, порядок, в котором мы выносим переменные,
[01:17:00.140 --> 01:17:07.940]  он, ну не сказать, что он однозначно определен. Я мог бы начать с того, что вынести, скажем,
[01:17:07.940 --> 01:17:13.740]  переменную X. Вынести из этого импликацию останет существованием, вынести из этого
[01:17:13.740 --> 01:17:23.260]  останет для любого. И первым стоял бы X. А потом бы там T или Z. То есть вот здесь вообще порядок
[01:17:23.260 --> 01:17:30.540]  можно поменять как угодно кванторов. Причем понятно, что у нас может, ну здесь-то у меня получилось так,
[01:17:30.540 --> 01:17:36.140]  что для любого X существует T переставились в правильную сторону, но они равносильны. То есть на
[01:17:36.140 --> 01:17:44.620]  самом деле вот формула для любого X существует T, для любого Z и вот тут то же самое. Они просто
[01:17:44.620 --> 01:17:52.060]  равносильны. Потому что эту формулу можно получить другим преобразованием. Наша лемма неоднозначно,
[01:17:52.380 --> 01:17:59.860]  мы ее можем применять. Если у нас есть какая-то проблемная пара, соседняя пара связка квантор,
[01:17:59.860 --> 01:18:06.540]  мы к ней применяем лему и получаем, как бы уменьшаем количество проблем. Но применяя в
[01:18:06.540 --> 01:18:12.020]  разных порядках, мы вообще говоря, вот этот кванторный префикс можем получать разный. Поэтому,
[01:18:12.020 --> 01:18:17.780]  хотя в общем случае опять-таки нельзя одноименные кванторы переставлять, но вообще говоря, когда вы
[01:18:17.780 --> 01:18:22.780]  видите две такие формулы, не факт, что они неравносильны. Могут быть неравносильны,
[01:18:22.780 --> 01:18:29.660]  потому что вот здесь для простоты у меня кванторы навешивались, ну по сути дела, в каждой формуле на
[01:18:29.660 --> 01:18:36.740]  одну переменную. Потому что AXY там Y свободно входит. Бывает так, что, у меня немножко времени осталось,
[01:18:36.740 --> 01:18:47.820]  я про это скажу. Вот представьте, что у вас где-то в посылке, не важно там C, вот вы начинаете
[01:18:47.820 --> 01:18:57.100]  приводить к PNF. Вот здесь, ну так-то ладно, кванторы одноименные можно переставить. Если кванторы
[01:18:57.100 --> 01:19:03.220]  разные, то важно все-таки вначале вынести вот этот, а потом вот этот. Вот тут существенно,
[01:19:03.220 --> 01:19:09.900]  потому что у нас нет такой равносильности, что мы эти кванторы можем переставить. Они навешаны
[01:19:09.900 --> 01:19:14.900]  на формулу, куда входят оба параметра. Вот здесь ситуация другая, тут каждый квантор навешан на
[01:19:14.900 --> 01:19:20.580]  формулу ровно с одним параметром, поэтому неважно в каком порядке мы применяем. А вот здесь важно,
[01:19:20.580 --> 01:19:32.500]  здесь будет для любого X, существует Y, я напишу просто SBC, но это не то же, но неверно, что эта
[01:19:32.500 --> 01:19:40.060]  формула равносильна формуле. Ну если переставить, то будет, тогда существует Y для любого X,
[01:19:40.060 --> 01:19:46.860]  это мы попадаем в общую ситуацию, это не всегда равносильная формула. То есть здесь есть вот такая
[01:19:46.860 --> 01:19:53.060]  тонкость, что с одной стороны при преобразованиях PNF у нас довольно много свободы, но при этом есть
[01:19:53.060 --> 01:19:59.500]  жесткость, если мы применяем вот к формуле, если у нас кванторы навешаны вот так вот на какую-то
[01:19:59.500 --> 01:20:06.140]  формулу с большим количеством параметров, нам порядок этих кванторов нужно соблюсти. С остальными
[01:20:06.140 --> 01:20:12.620]  кванторами, которые навешаны где-то в других подформулах, они могут как угодно перемежаться. Так,
[01:20:12.620 --> 01:20:17.820]  это мне уже говорят, что пора заканчивать, но я и успел, впрочем. Все, значит, на сегодня все.
